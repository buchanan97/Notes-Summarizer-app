Gettysburg College Open Educa tional R esources 5-12-2014 Digital C ircuit P rojec ts: A n O verview of D igital Circuits Thr ough I mple menting Integrated C ircuits - Second E dition Charles W . Kann Gett ysburg Co llege Follow thi s and a dditional w orks at:https://c upola.gettysburg.edu/oe r Part of the Digital C ircuits C ommon s, and the Systems Architectur e Common s Share fe edbackabout th e accessibilit y of thi s item. This ope n access boo k is brought to you b y The C upola: Scholarship a t Ge ttysburg College. It has be en accepted for inclusion b y an author ized admini strator of The C upola. For mor e infor mation, p lease contactcupola@g ettysburg.edu.Kann, C harles W., "Digital C ircuit P rojects: A n O verview of Di gital C ircuits Thr ough Implementing Integrated Circuits - S econd Edition" (2014). Gett ysburg Co llege O pen Ed ucational Resources. 1. https://c upola.gettysburg.edu/oe r/1 Digital C ircuit P rojec ts: A n O verview of D igital C ircuits Thr ough Imple menting Integrated C ircuits - S econd E dition Descriptio n Digital circuits, oft en cal led Integrated Circuits or IC s, are the c entral bui lding block s of a C entral Processing Unit ( CPU). To unde rstand ho w a c omput er works, it i s essential to unde rstand the d igital circuits w hich make up the C PU. Thi s text introduc es the mos t impor tant of the se digital circuits; a dders, de coders, multiplexe rs, D fl ip-flops, a nd simp le state machine s. What makes thi s textboo k unique i s that it puts the a bility to unde rstand the se circuits in to the h ands of anyone, from ho bbyists to stude nts study ing Comput er Science. Thi s text is de signed to teach d igital circuits usin g simp le pr ojects the r eader can imp lement. But unl ike mos t lab m anuals used in cl asses in Di gital C ircuits or C omput er Or ganization cl asses, thi s textboo k is de signed to remove the b arrier of a l aboratory infrastructur e ne eded in a fa ce-to-face environme nt at a c ollege or univ ersity. Thi s textboo k is de signed to be used by the r eader to create the c ircuits in their o wn home s. The t extboo k is free. The c ost of the k its ne eded to do the l abs is reasonable. And the pr ojects a re well doc ume nted and ca n be imp lemented by even no vices to electronic pr ojects. This text allows professors to add laboratory projects in d igital circuits t o stude nts in onl ine cl asses in Comput er Or ganization. Thi s enhances the se classes with in teresting and f un exe rcises that reinfor ce the classroom t opics. This text can also be us ed by a ho bbyist who w ants to learn mor e about d igital circuits a nd ho w comput ers work. The m aterial is presented at a le vel that some one w ith no ex perience in d igital circuits a nd e lectronic s can successfully comp lete the pr ojects, a nd g ain a n unde rstanding of the c ircuits w hich g o into m aking up a comput er. The s econd e dition of thi s include s a ch apter on Boo lean Algebra for pr ofessors who w ould l ike to include a mor e for mal background in to digital circuits. It also ch anged the ch apter de signed to give a c ontext for the CPU to reference a r elatively simp le C PU de velope d by the a uthor in L ogisim. For some one w ho is interested in d igital circuits, thi s boo k is worth do wnloading. Note: O ften it i s easier to us e a MS W ord file rather than a pd f file. If you w ould l ike the boo k as a W ord docume nt and not a pd f, please contact the a uthor a t ckann(at)gettysburg.edu, and he w ill mail it to you. The main r eason for thi s is to get some s ort of fe edback on w ho is usin g the t ext. Keywords Digital C ircuits, S ystem A rchitectur e, Comput er Or ganization, I ntegrated Circuits, C omput er Logic, C entral Processing Unit ( CPU), Processor A rchitectur e, Multiplexe r, Decoder, Arithme tic Logic U nit, Register File, Flip-Flop , Memor y, Memor y Latch, Adde r, Full Adde r, Half Adde r, State Comput er, State M achine , Mod 4 Coun ter, 7400 S eries, Di gital C ircuit L ab M anual, Ele ctronic C ircuits, Ele ctronic P rojects, Di gital C ircuit Projects, C omput er Science Onl ine, Onl ine L aboratory M anual, Laboratory M anual Disciplin es Digital C ircuits | S ystems Architectur e This boo k is available at The C upola: Scholarship a t Ge ttysburg College:https://c upola.gettysburg.edu/oe r/1 Comm ents Figures (includ ing the L ogisim c ircuits) are accessible athttp://ch uckkann.com/ For readers interested in the the fir st edition of thi s boo k ca n be found a thttp://ch uckkann.com. Please contact the a uthor a tckann@g ettysburg.eduif you a dopt thi s boo k for a c ourse - th anks! Creative Comm ons L icense This work i s licensed unde r aCreative Common s Attribution 4.0 L icense. This boo k is available at The C upola: Scholarship a t Ge ttysburg College:https://c upola.gettysburg.edu/oe r/1 DIGITAL CIRCUIT PROJECTS Understanding Digital Circuits through Implementation Second Edition ABSTRACT This text explains some of the most basic digital circuits by implementing them on a breadboard. The use of the circuits in a CPU is then illustrated. This text is intended as a laboratory manual for a class is Computer Organization, or for use by a hobbyist who just wants to learn more about computer hardware. Charles W. Kann DIGITAL CIRCUIT PROJ ECTS 1 © Charles W. Kann III 277 E. Lincoln Ave. Gettysburg, Pa All rights reserved. This book is licensed under the Creative Commons Attribution 4.0 License This book is a vailable for free download from http://cupola.gettysburg.edu/oer/1/ . Supporting materials for this text book can be found at http://chuckkann.com . 2 DIGITAL CIRCUIT PROJ ECTS Table of Contents Chapter 1 Before you start .......................................................................................................................... 13 1.1 Introduction ...................................................................................................................................... 13 1.2 Computers and magic ....................................................................................................................... 13 1.3 Reading this text ............................................................................................................................... 14 1.4 Ma terials Needed .............................................................................................................................. 14 1.4.1 Logisim ....................................................................................................................................... 14 1.4.2 Hardware ................................................................................................................................... 14 1.5 Some notes ....................................................................................................................................... 16 1.6 Conclusion ......................................................................................................................................... 17 Chapter 2 Back ground Material .................................................................................................................. 19 2.1 Introduction ...................................................................................................................................... 19 2.2 A Universal Set of Boolean Operations ............................................................................................. 19 2.3 Truth Tables ...................................................................................................................................... 20 2.4 Disjunct ive Normal Form(DNF) ......................................................................................................... 21 2.4.1 Boolean Relationships ................................................................................................................ 22 2.5 Karnaugh Maps (K -maps) .................................................................................................................. 23 2.5.1 Gray Codes ................................................................................................................................. 23 2.5.2 2 -Variable Karnaugh Maps ......................................................................................................... 24 2.5.3 3 -Variable Karnaugh Maps ......................................................................................................... 25 2.5.4 4 -Variable Karnaugh Maps ......................................................................................................... 27 2.5.5 Don’t care conditions ................................................................................................................. 30 2.6 Conclusion ......................................................................................................................................... 31 2.7 Exercises ............................................................................................................................................ 32 Chapter 3 Getting started ........................................................................................................................... 35 3.1 Introduction ...................................................................................................................................... 35 3.2 Logisim circuit to turn on a light ....................................................................................................... 35 3.3 Implementing the switch circuit to turn on a light ........................................................................... 36 3.3.1 The breadboard .......................................................................................................................... 37 3.3.2 Stripping wires ........................................................................................................................... 38 3.3.3 Powering the Circuit ................................................................................................................... 40 3.3.4 Installing the switch ................................................................................................................... 43 3.3.5 Completing the Circuit ............................................................................................................... 44 3.4 Debugging the circuit ........................................................................................................................ 45 3.5 Exercises ............................................................................................................................................ 46 DIGITAL CIRCUIT PROJ ECTS 3 Chapter 4 Gates .......................................................................................................................................... 47 4.1 Introduction ...................................................................................................................................... 47 4.2 Boolean logic and binary values ........................................................................................................ 47 4.3 Unary operations .............................................................................................................................. 47 4.4 Binary Operations ............................................................................................................................. 48 4.5 Implementing the AND gate circuit .................................................................................................. 49 4.5.1 ICs and the 7408 chip ................................................................................................................. 49 4.5.2 The datasheet ............................................................................................................................ 50 4.5.3 Creating the AND circuit ............................................................................................................ 51 4.6 Exercises ............................................................................................................................................ 52 Chapter 5 Associative Boolean operators ................................................................................................... 55 5.1 Introduction ...................................................................................................................................... 55 5.2 Modeling associative operations in Logisim ..................................................................................... 55 5.3 Implementing the circuit ................................................................................................................... 56 5.3.1 Implementing the serial AND circuit .......................................................................................... 56 5.3.2 Implementing the parallel AND circuit ...................................................................................... 58 5.4 Conclusion ......................................................................................................................................... 58 5.5 Exercises ............................................................................................................................................ 58 Chapter 6 Adders ........................................................................................................................................ 61 6.1 Introduction ...................................................................................................................................... 61 6.2 Half adder .......................................................................................................................................... 61 6.2.1 Adding binary numbers .................................................................................................................. 61 6.2.2 Half adder circuit ........................................................................................................................ 62 6.2.3 Half adder implementation ........................................................................................................ 63 6.3 Full adder .......................................................................................................................................... 64 6.3.1 Full adder circuit ........................................................................................................................ 65 6.3.2 Full adder implementation ........................................................................................................ 66 6.4 2- bit adder circuit .............................................................................................................................. 68 6.5 Conclusion ......................................................................................................................................... 69 6.6 Exercises ............................................................................................................................................ 69 Chapter 7 Decoders .................................................................................................................................... 71 7.1 Introd uction ...................................................................................................................................... 71 7.2 Decoder circuit .................................................................................................................................. 71 7.3 2- to-4 decoder implementation ....................................................................................................... 72 7.4 Implementing a decoder using a single chip ..................................................................................... 74 4 DIGITAL CIRCUIT PROJ ECTS 7.4.1 The 74139 chip ........................................................................................................................... 74 7.4.2 Implementing one 2 -to-4 decoder using the 74139 chip .......................................................... 76 7.5 Conclusion ......................................................................................................................................... 77 7.6 Exercises ............................................................................................................................................ 77 Chapter 8 Multiplexers ............................................................................................................................... 79 8.1 Introduction ...................................................................................................................................... 79 8.2 Circuit Diagram for a MUX ................................................................................................................ 81 8.3 Implementing a MUX ........................................................................................................................ 83 8.4 74153 MUX chip ................................................................................................................................ 85 8.5 74153 circuit diagram ....................................................................................................................... 85 8.6 Implementing the 74153 circuit ........................................................................................................ 86 8.7 Conclusion ......................................................................................................................................... 87 8.8 Exercises ............................................................................................................................................ 87 Chapter 9 Memory basics - flip-flops and latches ....................................................................................... 89 9.1 Introduction ...................................................................................................................................... 89 9.2 Background material ......................................................................................................................... 89 9.2.1 State ........................................................................................................................................... 89 9.2.2 Static and dynamic memory ...................................................................................................... 90 9.2.3 Square Wave .............................................................................................................................. 90 9.3 Latches .............................................................................................................................................. 90 9.3.1 D latch ........................................................................................................................................ 91 9.3.2 Circuit diagram for a D latch ...................................................................................................... 92 9.3.3 Implementing the D latch .......................................................................................................... 93 9.3.4 D latch as a single IC chip ........................................................................................................... 95 9.3.5 Implementation of a D latch using a 7475 chip ......................................................................... 96 9.3.6 Limitations of the D latch ........................................................................................................... 96 9.4 Edge triggered flip -flop ..................................................................................................................... 98 9.5 Conclusion ....................................................................................................................................... 100 9.6 Exercises .......................................................................................................................................... 100 Chapter 10 Sequential circuits .................................................................................................................. 101 10.1 Introduction .................................................................................................................................. 101 10.2 Debouncing ................................................................................................................................... 101 10.3 Implementing a state machine ..................................................................................................... 102 10.3.1 Mod 4 counter ....................................................................................................................... 102 10.3.2 Implementation of a state transition diagram ....................................................................... 103 DIGITAL CIRCUIT PROJ ECTS 5 10.3.3 Hardware implementation of next state logic ....................................................................... 104 10.3.4 Read Only Memory ................................................................................................................ 105 10.3.5 Implementation of the Mod 4 counter .................................................................................. 106 10.4 Conclusion ..................................................................................................................................... 109 10.5 Exercises ........................................................................................................................................ 109 Chapter 11 Use of these ICs in a CPU .................................................................................................... 111 11.1 An overview of the CPU. ............................................................................................................... 111 11.2 Flip Flops ....................................................................................................................................... 112 11.3 Muxes ............................................................................................................................................ 112 11.4 Adder ............................................................................................................................................. 112 11.5 Decoder ......................................................................................................................................... 113 11.6 Summary ....................................................................................................................................... 113 6 DIGITAL CIRCUIT PROJ ECTS Table of Figures Figure 3 -1: Logisim circuit to turn on light. ............................................................................................... 36 Figure 3 -2: Typical breadboard ................................................................................................................... 37 Figure 3 -3: Breadboard layout .................................................................................................................... 38 Figure 3 -4: Wire strippers ........................................................................................................................... 39 Figure 3 -5: A stripped wire ......................................................................................................................... 40 Figure 3 -6: 7805 voltage regulator .............................................................................................................. 41 Figure 3 -7: Powering the breadboard .......................................................................................................... 41 Figure 3 -8: LED ............................................................................................................................................ 42 Figure 3 -9: Toggle switch ........................................................................................................................... 43 Figure 3 -10: Completed circuit ................................................................................................................... 44 Figure 3 -11: Debugging the circuit .............................................................................................................. 45 Figure 4 -1: Buffer and inverter gates .......................................................................................................... 48 Figure 4 -2: Buffer and inverter circuit in Logisim ....................................................................................... 48 Figure 4 -3 Truth table for AND and OR ..................................................................................................... 48 Figure 4 -4: AND, OR, and XOR gates ........................................................................................................... 49 Figure 4 -5: AND, OR, and XOR gate circuit ................................................................................................. 49 Figure 4 -6: 7408 chip, circle indicates top of chip. ..................................................................................... 50 Figure 4 -7: 7408 chip, notch indicates top of chip. .................................................................................... 50 Figure 4 -8: 7408 pin configuration diagram ............................................................................................... 51 Figure 4 -9: 7408 AND gate circuit ............................................................................................................... 52 Figure 5 -1: Serial AND circuit ...................................................................................................................... 55 Figure 5 -2: Parallel AND circuit ................................................................................................................... 56 Figure 5 -3: 7408 pin configuration diagram ............................................................................................... 57 Figure 5 -4: Serial AND implementation ...................................................................................................... 57 Figure 5 -5: Parallel AND implementation ................................................................................................... 58 Figure 6 -1: ALU ......................................................................................................................................... 61 Figure 6 -2: Half adder truth table ............................................................................................................... 62 Figure 6 -3: Half adder circuit ..................................................................................................................... 62 Figure 6 -4: 7486 pin configuration diagram ............................................................................................... 63 Figure 6 -5: Half adder implementation ....................................................................................................... 64 Figure 6 -6: Addition problem showi ng a carry bit ...................................................................................... 65 Figure 6 -7: Full adder truth table ................................................................................................................ 65 Figure 6 -8: Full adder circuit ...................................................................................................................... 66 Figure 6 -9: Full adder implementation ....................................................................................................... 67 Figure 6 -10: 2 bit full adder circuit ............................................................................................................. 68 Figure 7 -1: Control lines for ALU .............................................................................................................. 71 Figure 7 -2: Decoder used to set ALU control lines .................................................................................... 71 Figure 7 -3: Decoder circuit ......................................................................................................................... 72 Figure 7 -4: 7404 pin configuration diagram ............................................................................................... 73 Figure 7 -5: Decoder circuit ......................................................................................................................... 74 Figure 7 -6: 74139 pin configuration diagram ............................................................................................. 75 Figure 7 -7: 74139 decoder circuit ............................................................................................................... 76 Figure 8 -1: Multiplexer as a memory selector ............................................................................................ 79 Figure 8 -2: Truth table for a MUX ............................................................................................................. 80 Figure 8 -3: 1-bit 4-t