Java with BlueJ Ron McFadyen Jeanette Bautista September 3, 2019 ©2019 Ron McFadyen, Jeanette Bautista Depart ment of Applied Computer Science University of Winnipeg 515 Portage Avenue Winnipeg, Manitoba, Canada R3B 2E9 je.bautista@uwinnipeg.ca r.mcfadyen@uwinnipeg.ca This work is licensed under Creative Commons Attribution NonCommercial ShareAlike 4.0 International Public License. To view a copy of this license visit http://creativecommons.org/licenses/by -nc-sa/4.0/ This work can be distributed in un modified form for non -commercial purposes. Modified versions can be made and distributed for non -commercial purposes provided they are distributed under the same license as the original. Other uses require permission of the author. The website for this boo k is www.acs.uwinnipeg.ca/rmcfadyen/CreativeCommons/ To Callu m To Linden & Bryn Contents 1. Introduction ................................ ................................ ................................ ................................ ............ 9 1.1 Java, the beginning ................................ ................................ ................................ ..................... 9 1.2 The Java Compiler and the Java Virtual Machine ................................ ........................ 10 1.3 BlueJ ................................ ................................ ................................ ................................ ............... 11 1.4 A First Program ................................ ................................ ................................ ......................... 12 1.5 Using BlueJ to Run HelloWorld ................................ ................................ ............................ 13 2 Basics ................................ ................................ ................................ ................................ ....................... 17 2.1 Literals ................................ ................................ ................................ ................................ .......... 17 2.2 Variables ................................ ................................ ................................ ................................ ....... 17 2.3 Primitive Data T ypes ................................ ................................ ................................ ............... 22 2.3.1 Numeric Dat a Types: byte , short , int, long ................................ ............................. 22 2.3.2 Integer Arithmetic ................................ ................................ ................................ .......... 22 2.3.3 Numeric Data Types: float , double ................................ ................................ ........... 26 2.3.4 Numeric Expressions ................................ ................................ ................................ ..... 29 2.3.5 boolean Data Type ................................ ................................ ................................ .......... 36 2.3.6 char Data Type ................................ ................................ ................................ .................. 41 2.4 Conditional Operator ?: ................................ ................................ ................................ ........ 44 2.5 Operator Priorities ................................ ................................ ................................ ................... 45 2.6 The String Class ................................ ................................ ................................ .......................... 48 2.7 Implied declarations using var ................................ ................................ ........................... 58 2.8 Output ................................ ................................ ................................ ................................ ............ 59 2.8.1 System.out ................................ ................................ ................................ .......................... 59 2.8.2 JOptionPane ................................ ................................ ................................ ....................... 63 2.9 Input ................................ ................................ ................................ ................................ ............... 65 2.9.1 The Scanner Class ................................ ................................ ................................ ........... 65 2.9.2 The JOptionPane Class ................................ ................................ ................................ .. 68 3 Control Structures ................................ ................................ ................................ .............................. 71 3.1 Compound Statements ................................ ................................ ................................ ........... 71 3.2 if ................................ ................................ ................................ ................................ ....................... 72 3.3 while ................................ ................................ ................................ ................................ ............... 85 3.4 for ................................ ................................ ................................ ................................ .................... 93 3.5 switch ................................ ................................ ................................ ................................ ......... 107 3.6 do ...while ................................ ................................ ................................ ................................ ... 112 4 Introduction to Methods ................................ ................................ ................................ .............. 117 4.1 Void Methods ................................ ................................ ................................ ........................... 118 4.2 Value -returning Methods ................................ ................................ ................................ ... 120 4.3 Parameters ................................ ................................ ................................ ............................... 122 4.4 Summary ................................ ................................ ................................ ................................ ... 126 5 Classes in the Java Class Libraries ................................ ................................ ............................ 131 5.1 Random ................................ ................................ ................................ ................................ ...... 131 5.2 Character ................................ ................................ ................................ ................................ ... 135 5.3 Scanner ................................ ................................ ................................ ................................ ...... 143 5.4 Math ................................ ................................ ................................ ................................ ............ 150 5.5 Integer ................................ ................................ ................................ ................................ ........ 154 6 ArrayLists ................................ ................................ ................................ ................................ ........... 159 6.1 Examples ................................ ................................ ................................ ................................ ... 161 6.2 Sieve of Eratosthenes ................................ ................................ ................................ ........... 166 6.3 Parallel Lists ................................ ................................ ................................ ............................ 169 7 Designing Java Classes ................................ ................................ ................................ ................... 173 7.1 Using Multiple Classes ................................ ................................ ................................ ......... 175 7.2 Fields ................................ ................................ ................................ ................................ ........... 176 7.3 Methods ................................ ................................ ................................ ................................ ..... 180 7.4 Constructors ................................ ................................ ................................ ............................ 185 7.5 Visibility Specifications: Public, Private ................................ ................................ ....... 189 7.6 Constructors ................................ ................................ ................................ ............................ 190 7.7 Overloading ................................ ................................ ................................ .............................. 191 7.8 Associations ................................ ................................ ................................ ............................. 192 7.9 Reusing code ................................ ................................ ................................ ............................ 196 7.10 Parameter lists and arguments ................................ ................................ ........................ 198 7.10.1 Varargs: a variable number of arguments ................................ ......................... 201 7.10.2 Code listings: Student, Subject ................................ ................................ ................ 203 Preface This book is Part I of a two -part set that introduces the Java programming language. The text assumes the student will be using the BlueJ development environment and provides some introductory BlueJ material. Our experience has been that BlueJ is easy to l earn and provides a good programming environment for the beginner programmer. The material in chapters 1 through 7 are required topics. • Chapter 1: This is a high -level introduction to Java. We discuss the HelloWorld program , and how to run HelloWorld in Bl ueJ. • Chapter 2: Basic concepts having to do with constants, variables, data types, expressions and input/output are covered. • Chapter 3: This chapter covers the major control structures a programmer uses. • Chapter 4: Methods are indispensable for organizing your code into modular components. Some programs present a solution to a complex problem. To help manage that complexity we can use methods where each method handles one small part of the overall solution.. • Chapter 5: Java provides a great deal of functio nality in its class libraries. We introduce several classes such as Random ...Random gives the programmer the ability to simulate throwing dice or tossing coins. As well, useful functionality in utility classes such as Math, Integer, and Character are cove red. • Chapter 6: Many applications require a program to work with collections of data. For example, the set of courses at a university is a collection. Java programs must be able to manage such a set and the ArrayList data structure is well -suited to the ta sk. • Chapter 7: The program code in a Java system is managed in structures where the basic component is the class . A Java class contains data and executable code. This chapter covers concepts that must be understood if one is to design and implement a Java -based system. The examples in the text, and solutions to many exercises, are available on the website for this text. 1 Introduction This book is about programming in Java. We begin with short descriptions of Java and BlueJ. We feel that BlueJ is one of the simplest development environments for the beginning programmer to use. All examples in this text have been tested using BlueJ. Sample solutions for odd-numbered exercises are available on the website for this text. Java, the beginning James Gosling is refer red to as the father of the Java programming language. He graduated with a BSc (1977) from the University of Calgary and a PhD (1983) from Carnegie Mellon University. Later, in 1994 at Sun Microsystems he created the Java language while leading a team that was purposed with developing a handheld home - entertainment controller targeted at the digital cable television industry. That project did not produce the expected outcome, but in 1995, the team announced that the Netscape Navigator Internet browser w ould incorporate Java technology, and from there its adoption for implementing systems began. James Gosling has received several awards, including:  2007 - appointed an Officer of the Order of Canada.[1]  2013 - named an Association of Computing Machinery Fe llow for ”Java, NeWS, Emacs, NetBeans, and other contributions to programming languages, tools, and environments”.[2]  2015 - awarded the IEEE John von Neumann Medal for ”the Java programming language, Java Virtual Machine, and other contributions to progra mming languages and environments”.[3] In 2010 Oracle acquired Sun Microsystems and took over the development of the language. The language has gone through a number of updates, and at the time of writing the current release is referred to as Java 12 . All programs in this text have been tested using BlueJ running with Java 11 . This text is about programming Java applications. The student may be interested in other Java technologies such as Java Card, Java TV, applets, etc.; for these we refer you to Oracle documentation (https://www.oracle.com/technetwork/java/javase/tech/index.html ). The Java Compiler and the Java Virtual Machine When someone develops a Java program they must fi rst enter the Java code in a text file. Such files have names that end with ” .java” and are known as source code files. In order to execute a Java program the program must first be translated into Java bytecode . We say source code files are human -readable but bytecode files are just 0’s and 1’s and are not human -readable. A program that performs this transation is called a compiler , and we say that the source code is compiled into bytecode. The compiler made available by Oracle is called javac. Bytecode fi les always have a name that ends with ”.class”. The bytecode is not directly executable on a computer - bytecode is not machine code, but it is close to that. Bytecode is ”executed” by a special program call the Java Virtual Machine, or JVM. Java programs are portable in the sense that you can write a program and deploy it anywhere - as long as there is a JVM for that platform. The process of developing, compiling, and running a Java program is shown below. BlueJ BlueJ is an integrated development envir onment that provides a programmer with a framework that includes an editor, a compiler, and a runtime environment. It is our experience that BlueJ is very suitable for the beginning Java programmer. BlueJ is available as a free download from http:www.bluej .org. The BlueJ website is a resource for those who want to learn more. We expect that if you are reading this text then BlueJ is already installed on available student workstations. If not please consult your technical services staff. If you need BlueJ on your own computer then please visit http://www.bluej.org and follow their download and installation instructions. Below is a picture showing HelloWorld in a BlueJ project. Note the button available to compile the source code. This program is discussed in the next section. A First Program Shown in Listing 1.1 is the traditional first program, HelloWorld, that appears in many Java texts. When executed, this program does one simple thing: it displays the message ”Hello World”. Listing 1.1 HelloWorld.jav a 1 public class HelloWorld 2 { 3 public static void main(String[] args) 4 { 5 String message = "Hello World"; 6 System.out.println(message); 7 } 8 } The purpose of the HelloWorld program is to display one line on the standard output devic e (the Terminal Window in BlueJ). When you inspect this program one thing that is immediately obvious is that there is a lot of overhead to do just one thing. Each line of the program is explained below: Line 1 gives a name to the program: HelloWorld . The program is actually a Java class and the lines making up the class are delimited by the left brace { in line 2 and the right brace } in line 8. Line 3 begins the definition of a method named main . In general, a method can take arguments and the text String[] args() is the way those are indicated for a main method - much more on this in later chapters. The lines that comprise the main method begin with the left brace { in line 4 and end with the right brace } in line 7. Line 5 is an example of a Java assignm ent statement that , when executed, causes the value Hello World to be stored in the memory locations reserved for the variable message . Line 6 is an example of how a program creates output . When this line executes the contents of message are transferred to the standard output device (BlueJ’s Terminal Window) for the user to see . Using BlueJ to Run HelloWorld Very little instruction is required to learn how to use BlueJ. This text assumes that BlueJ is demonstrated in lectures and/or a laboratory setting. More information is available at the BlueJ web site; for instance, there is a tutorial at http: //www.bluej.org/tutorial/tutorial -201.pdf . In this section we discuss typical steps one can follow to run HelloWorld in the BlueJ environment. 1. Download the sam ple programs from the text’s web pages. 2. Unzip the sample programs storing them in a folder on your computer. Open the folder and locate the file HelloWorld.java. 3. Start BlueJ and then create a new project: An empty project actually contains one it em ...a file named ReadMe.txt that will be discussed later on in the text. 4. Now, to get a copy of HelloWorld ...Click the HelloWorld.java file, hold the mouse button down, drag the file to your new BlueJ project window, and then release the mouse button: This action copies the file and now you have HelloWorld in your project. 5. Double -click the image in the project representing HelloWorld ...the BlueJ editor opens showing you the contents. You should see the 8 lines shown in Listing 1.1. You should see the e ditor open as shown below: 6. The next step is to compile the program. There are two ways to do this ...use the compile button on the editor window, or use the compile button on the project window with HelloWorld selected. If you click the compile button o n the editor window the response will be that the code compiled with no errors: 7. Finally, to run the program you must close the editor by clicking the close button . You are now back at the BlueJ project where you must right -click the HelloWorld icon and select, from the options shown, to execute the main method: 8. As a result of the above, BlueJ is ready to run the main method and prompts you for any argument values for main . Since there are none (arguments are discussed much later in the text), click the OK button: 9. The program runs and you see the output in a window (named the Terminal Window) that pops up: Exercises 1. Run the Hello World program. 2. Modify the Hello World program so it displays your name instead of “Hello World”. To do this you must u se the BlueJ editor and alter line 5. Then you must recompile the program and run the new version. 2 Basics This chapter covers material that gives you the necessary information to run basic programs that use constants and variables, perform calculations, obtain input from a user, and generate output. The topics covered are literals , variables, primitive data types, the String class, input, and output. Java is an object -oriented language and with the last three topics you will begin to get an understanding of what object -oriented means. Literals, variables, and the primitive data types are concepts you will find in most (if not all) programming languages you encounter. Literals It is common for programs to include constants; in Java these are referred to as literals. Examples include: 123, 123.45, ’a’, "Gosling", true. Most of the time a programmer codes numeric literals and boolean literals in the same way we would normally write them down (e.g. 123, 123.45, true, false). With practice you will get used to using single quotes to specify a single character (e.g. ’a’), or double quotes to specify a text string (e.g. "Gosling" ). Variables The variable is a fundamental concept in programming. In general terms we say a variable is a named location in a computer’s memory, and the value stored in that location is controlled during the execution of programs. A variable is a name associated with a piece of computer memory - a piece of memory that holds a value that a program can use and change as it executes. The Jav a programming language requires us to declare the type of data to be primitive types associated with a variable. Java makes a distinction between primitive data types and other data types defined via classes. In the Java class libraries there are many pre - defined classes, for example: String and System . The Java language contains eight primitive data types: byte , short , int, long , float , double , char and boolean : • byte , short , int, and long are used for cases where the data is to be treated as whole numbers (numbers without a fractional component). For example, 33, 498, -100 are whole numbers. These data types differ with regards to the magnitude of number they can represent. • float and double are used for cases where the data is numeric and where one expects values to have a fractional component such as: 101.5, 26.334, -55.5. When written we show them with a decimal point. Again, these two types differ with regards to size in terms of the number of significant digits and in the magnitude of the number they can represent. • char is used when there are individual characters to be handled. Examples of individual characters are ’a’, ’b’, ’q’, ’$’. Values are enclosed in single quotes. • boolean is used when the situation requires one to work with logical values of true and false . In a Java program these values are written just as we do in English: true , false . A Java programmer declares a variable in a declaration statement, and then uses the variable name later in a program to assign a value, to alter the current value , and to reference the value currently stored. Two example programs follow; in Listing 2.1 the program defines and uses a variable, and in Listing 2.2 the program alters the value stored in a variable. In Listing 2.1 note the following:  In line 10 an int variable named i is declared,  In line 11 the value 14 is assigned to i (that is, the value 14 is stored in the memory location reserved for i),  Line 12 displays th e value of i Listing 2.1: Using a variable 9 /** 10 * This Java class declares 11 * an int va riable named i, 12 * assigns the value 14 to i, 13 * and displays i. 14 */ 15 public class Variable 16 { 17 public static void main(String[] args){ 18 int i; 19 i = 14; 20 System.out.println(i); 21 } Listing 2.2 starts off like L isting 2.1 but modifies the value of i to 30 in line 13 just before it is displayed for the second time. This program changes the value associated with the variable. Listing 2.2: Changing the value stored in a variable 1 /** 2 * This Java class declares 3 * an int variable named i, 4 * assigns it a value and then 5 * changes its value. 6 */ 7 public class VariableChanged 8 { 9 public static void main(String[] args){ 10 int i; 11 i = 14; 12 System.out.println(i); 13 i = 30; 14 System.out.println(i); 15 } 16 } Naming Variables A convention used by many Java programmers is to choose names that are concise yet meaningful. A name you choose should indicate the intent of its use. In situations where the intent of use involves more than one word a common naming scheme is camel case . For instance, suppose you need a variable to keep track of net pay. In order to have a proper name a programmer could choose the name netPay for the variable. Two words are involved: net and pay. the first word is in lower case and other word is catenated to it, and only the first letter of the second word is capitalized. Camel case is a style where words are catenated together forming a variable name - the first word is all lower case, the second and subsequent words have only the first letter capitalized. Some examples of variables named according to camel case: netPay grossPay monthOfYear billingAddress dayOfWeek shippingAddress studentNumber lastName Camel case is a good convention to follow when declaring variables. However, Java will accept any variable name as long as the name starts with a letter and contains any mixture of letters, digits, and the underscore character (’ ’). Some valid variable names include: a123, net pay, gross p ay. Java variable names are case -sensitive. This means that variable names such as NetPay and netPay are different variables. Keyword s Java reser ves the use of certain names referred to as keywords. Keywords are reserved for special purposes and cannot be used as variable names. For example, int is reserved for situations where one declares a variable to be of type int; you cannot declare a variable with the name int. In the sample programs shown so far we have seen a few of these reserved words: public , class , void , static . In subsequent chapters we will see other keywords introduced such as while , do, if, else. Exercises 1. Java requires that all variables be declared. What type of message does the Java compiler report if a variable is not declared befor e it is used? Consider Listing 2.1. Change line 11 to read abc = 14; instead of i = 14; Compile the program. What is the response you get from the compiler? 2. Java does not permit reserved words to be used as variable names. Consider Listing 2.1 again . Change all references to the variable i to public , as shown here: int public; public = 14; System.out.println( public); Compile the program. What is the response you get from the compiler? 3. Java variable names are case sensitive so two variables named Message and message do not refer to the same thing. Modify line 6 in the HelloWorld to be: System.out.println( Message); What is the response you get from the Java compiler? Primitive Data Types 2.3.1 Numeric Data Types: byte , short , int, long Numeric d ata types are used for numer values where there is no fractional component - all values are whole integers. The byte , short , int, and long types differ in the amount of memory used (and therefore minimum and maximum values): data type memory minimum value maximum value byte 1 byte -128 127 short 2 bytes -32768 32767 int 4 bytes -2147483648 2147483647 long 8 bytes -9223372036854775807 9223372036854775808 Calculations can involve any of addition, subtraction, multip lication, division, and modulo. The o perations are represented by +, -, *, /, and % respectively. Some examples follow: operator example of use example’s result + 7+11 18 - 12-5 7 * 3*4 12 / 13/5 2 % 13%5 3 2.3.2 Integer Arithmetic If the operands of an arithmetic operation are both integers, the result is an integer. Consider division - there is no remainder ... 13/5 evaluates to 2 and not 2.6. Modulo gives the remainder when the first operand is d ivided by the second operand. The result of 13%5 is 3. Example: Division and Modulo The followin g example program uses division and modulo to obtain the last two digits of an integer. The output follows the listing. Listing 2.3: Obtain the last two digits of an integer 1 public class IntegerArithmetic 2 { 3 public static void main(String[] args) 4 { 5 // Use integer arithmetic 6 // Division: no remainder 7 // Modulo: yields the remainder 8 int number, digit; 9 number = 1297; 10 // Get right -most digit 11 digit = number % 10; 12 System.out.println(digit); 13 // Decrease number by a factor of 10 14 // and get next digit 15 number = number / 10; 16 digit = number % 10; 17 System.out.println(digit); 18 } 19 } Figure 2.1: Last two digits Defau lt Integer Data Type If a numeric literal has no decimal point (such as 10025 ) then the data type used is int. If a programmer wanted to use the long data type the value would have a suffix of L or l; for example, 10025L . L is recommended since the lowerc ase l appears too much like digit 1. We say int is the default integer data type. Exercises 4. We have seen some simple expressions in Java. Modify the program in Listing 2.2 to use a simple expression. Alter the statement i = 30; to the following (so th e value in i is multiplied by 3): i = i*3; This statement causes i