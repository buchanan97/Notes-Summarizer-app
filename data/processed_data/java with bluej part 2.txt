Java with BlueJ Part 2 Ron McFadyen March 27, 2016 c 2015 Ron McFadyen Department of Applied Computer Science University of Winnipeg 515 Portage Avenue Winnipeg, Manitoba, Canada R3B 2E9 r.mcfadyen@uwinnipeg.ca ron.mcfadyen@gmail.com This work is licensed under Creative Commons Attribution NonCommercial ShareAlike 4.0 International Public License. To view a copy of this license visit http://creativecommons.org/licenses/by-nc-sa/4.0/ This work can be distributed in unmodi ed form for non-commercial purposes. Modi ed versions can be made and distributed for non-commercial purposes provided they are distributed under the same license as the original. Other uses require permission of the author. The website for this book is www.acs.uwinnipeg.ca/rmcfadyen/CreativeCommons/ To Callum Contents 1 One-Dimensional Arrays 9 1.1 Initializing arrays . . . . . . . . . . . . . . . . . . . . . . . . . 11 1.2 Storage of arrays and copying arrays . . . . . . . . . . . . . . 12 1.3 The enhanced for . . . . . . . . . . . . . . . . . . . . . . . . . 14 1.4 Passing string values into main() . . . . . . . . . . . . . . . . 16 1.5 Parallel arrays . . . . . . . . . . . . . . . . . . . . . . . . . . 18 1.6 Partially lled arrays . . . . . . . . . . . . . . . . . . . . . . . 20 1.7 Array utilities in Java class libraries . . . . . . . . . . . . . . 23 2 Arrays of Arrays 27 2.1 Two-dimensional arrays in Java . . . . . . . . . . . . . . . . . 28 2.2 Ragged Arrays . . . . . . . . . . . . . . . . . . . . . . . . . . 32 2.3 Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34 2.4 Higher Dimensions . . . . . . . . . . . . . . . . . . . . . . . . 40 2.5 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41 3 Validation and Text Manipulation 43 3.1 Testing and the assert statement . . . . . . . . . . . . . . . . 43 3.2 Validating parameters . . . . . . . . . . . . . . . . . . . . . . 47 3.3 Manipulating Text . . . . . . . . . . . . . . . . . . . . . . . . 51 3.3.1 split and toCharArray . . . . . . . . . . . . . . . . . . 51 3.3.2 StringBuilder . . . . . . . . . . . . . . . . . . . . . . . 55 3.4 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 61 4 Enumeration Classes (Enums) 63 4.1 The basic Enum . . . . . . . . . . . . . . . . . . . . . . . . . 65 4.2 values() method . . . . . . . . . . . . . . . . . . . . . . . . . 66 4.3 Comparing enum values . . . . . . . . . . . . . . . . . . . . . 67 4.4 valueOf(. . . ) method . . . . . . . . . . . . . . . . . . . . . . . 68 6 CONTENTS 4.5 Enum constants are objects . . . . . . . . . . . . . . . . . . . 69 4.6 Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72 4.7 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74 5 Hierarchies 77 5.1 IS-A . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 78 5.2 The Practitioner Hierarchy . . . . . . . . . . . . . . . . . . . 80 5.2.1 Creating and using objects of the hierarchy . . . . . . 86 5.3 Overriding methods . . . . . . . . . . . . . . . . . . . . . . . 89 5.3.1 Calling an overridden superclass method . . . . . . . . 91 5.4 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92 5.5 Abstract Classes and Methods . . . . . . . . . . . . . . . . . 93 5.6 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97 5.7 Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98 5.8 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100 6 Interfaces 101 6.1 Comparable interface . . . . . . . . . . . . . . . . . . . . . . . 103 6.2 De ning an interface . . . . . . . . . . . . . . . . . . . . . . . 109 6.3 Comparator Interface . . . . . . . . . . . . . . . . . . . . . . . 118 6.4 Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 120 6.5 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 122 7 Files 125 7.1 Primitive data and strings . . . . . . . . . . . . . . . . . . . . 126 7.1.1 Binary les . . . . . . . . . . . . . . . . . . . . . . . . 126 7.1.2 XML les . . . . . . . . . . . . . . . . . . . . . . . . . 130 7.2 Objects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 134 7.2.1 Binary les . . . . . . . . . . . . . . . . . . . . . . . . 135 7.2.2 XML les . . . . . . . . . . . . . . . . . . . . . . . . . 139 7.3 Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 145 7.4 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 146 8 Exception Handling 147 8.1 Catching an exception . . . . . . . . . . . . . . . . . . . . . . 149 8.2 Designing a custom exception . . . . . . . . . . . . . . . . . . 157 9 Recursion 167 9.1 Recursive methods . . . . . . . . . . . . . . . . . . . . . . . . 167 9.2 Recursive data structures . . . . . . . . . . . . . . . . . . . . 181 CONTENTS 7 9.3 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 186 10 Sorting and Searching 189 10.1 Sorting Algorithms . . . . . . . . . . . . . . . . . . . . . . . . 190 10.1.1 Selection Sort . . . . . . . . . . . . . . . . . . . . . . . 191 10.1.2 Insertion Sort . . . . . . . . . . . . . . . . . . . . . . . 193 10.1.3 Bubble Sort . . . . . . . . . . . . . . . . . . . . . . . . 195 10.1.4 Quicksort . . . . . . . . . . . . . . . . . . . . . . . . . 197 10.1.5 Implementation . . . . . . . . . . . . . . . . . . . . . . 199 10.1.6 Listings . . . . . . . . . . . . . . . . . . . . . . . . . . 199 10.2 Sorting Objects . . . . . . . . . . . . . . . . . . . . . . . . . . 205 10.3 Searching Algorithms . . . . . . . . . . . . . . . . . . . . . . . 209 10.3.1 Searching an Unordered List . . . . . . . . . . . . . . 209 10.3.2 Searching an Ordered List . . . . . . . . . . . . . . . . 210 10.4 Exercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 214 8 CONTENTS Chapter 1 One-Dimensional Arrays There are many situations where we deal with a collection of information. Some examples are: 1. names of students in a class 2. courses o ered by a department 3. temperatures for the last month 4. employees in a company The above cases all have one thing in common: in each case there can be more than one value. For instance, there would be several students in a class and for each student there is a name, for example: "John", "Mary", "Lee", etc. In Java, one way of handling a collection like this is to use a data structure called an array . The array is declared similar to other variables and then an integer (called an index) is used to refer to its elements individually. So,studentName can be the name of the collection and studentName[0] , studentName[1] ,studentName[2] , etc. is the way we refer to elements of the collection. To declare an array of names where each element of the array can be a String value we use: String[ ] studentName; The square braces [ ]are used to indicate a one-dimensional array. Its called one-dimensional because one index value is used to refer to an individual element of the array. In Java index values begin at 0 and go up to the length of the array -1. We can declare arrays of any type, for example: 10 CHAPTER 1. ONE-DIMENSIONAL ARRAYS declaration sample purpose String[] studentName; an array of names int[] mark; an array of marks double[] temperature; an array of temperatures boolean[] answer; an array of true/false answers char[] letter; an array of multiple choice answers The above are examples of how to declare an array. Before the array can be used the programmer must also declare its size. Once the programmer declares the size it cannot be made larger - this is one of the drawbacks to using arrays and why sometimes another technique will be chosen. To declare an array that can hold, say, 100 names we use: String[] studentName; studentName = new String[100]; or, we can combine the above into one line: String[] studentName = new String[100]; or, if an intvariable holds the length we can write: int arraylength = 100; String[] studentName = new String[arraylength]; Every array has an int eld named length that is a part of it; the value stored is the length of the array. So, for studentName above the value stored instudentName.length is 100. This eld is very useful; for instance if we need to display all the names in studentName we can use the code: for (int i=0; i< studentName . length ; i++} System . out. println ( studentName [i]); The length eld is immutable which means it cannot be altered once it is set. This means that once you have declared an array to be a certain length you cannot change its length. 1.1. INITIALIZING ARRAYS 11 1.1 Initializing arrays Because arrays can have multiple values there is a di erent syntax used when its necessary to set initial values. For instance, suppose we need an array to hold the number of days in each month. We can declare and initialize as: int [] daysInMonth = {31 ,28 ,31 ,30 ,31 ,30 ,31 ,31 ,30 ,31 ,30 ,31}; The Java syntax for initializing an array is to enclose a comma-separated list of values between the pair { }. Initializing arrays this way also sets the length of the array. The value of daysInMonth.length is 12. Example 1 Array initialization and displaying each element Consider the following program where daysInMonth is initialized and displayed. Listing 1.1: Initializing and displaying an array. 1/** 2 * Display number of days in each month 3 */ 4public class MonthLengths 6 public static void main ( String [] args ){ 7 int [] daysInMonth = 8 {31 ,28 ,31 ,30 ,31 ,30 ,31 ,31 ,30 ,31 ,30 ,31}; 9 System .out . println (" Days for each of " 10 + daysInMonth . length +" months "); 11 for (int i = 0; i< daysInMonth . length ; i++) 12 System .out . print ( daysInMonth [i]+" "); 13 } The output: 12 CHAPTER 1. ONE-DIMENSIONAL ARRAYS 1.2 Storage of arrays and copying arrays Arrays are objects in Java and so the memory location for the array variable contains a reference to the actual storage locations holding the array's values. For instance the memory allocations for an array can be visualized as: Now suppose we need to make a copy of the array. If we just use: s = t; //s and t are arrays of same type what we end up with is two storage locations for sand tthat reference the same 4 elements. We haven't created a copy, rather we have two array variables that reference the same 4 elements: If we need a real copy of the array tthen we require a loop to accomplish this: // s and t are of the same type for (int i=0; i<t. length ; i++) s[i] = t[i]; You can re-instantiate an array variable. New locations are assigned to the array (see below) and the old ones are reclaimed for reuse according to an internal Java garbage collection procedure. 1.2. STORAGE OF ARRAYS AND COPYING ARRAYS 13 14 CHAPTER 1. ONE-DIMENSIONAL ARRAYS 1.3 The enhanced for There is a variation on the for called the enhanced for that can be used when a program iterates from the rst element through to the last element of an array and does not change any values. The syntax is for ( type variable :array ) statement The forstatement in the previous example can be rewritten: for (int days : daysInMonth ) System . out. print ( days +" "); Example 2 Calculating an average Consider the following program where temperature is assigned values obtained from a user and then the average temperature is displayed. The assignments must be done using a forwhereas the calculation of the sum can be done with a enhanced for. Listing 1.2: Initializing an array from input. 1import java . util . Scanner ; 2/** 3 * Display average of 7 values 4 */ 5public class AverageTemperature 7 public static void main ( String [] args ){ 8 Scanner kb = new Scanner ( System .in); 9 double [] temperature = new double [7]; 10 System . out. println (" Enter 7 temperatures :"); 11 for (int i=0; i <7; i++) 12 temperature [i] = kb. nextDouble (); 13 double sum = 0.0; 14 for ( double t: temperature ) sum +=t; 15 System . out. println (" average = "+sum /7.0) ; 16 } 1.3. THE ENHANCED FOR 15 When to use the enhanced for The enhanced forhelps to express a programming idiom succinctly as no loop counter is required. However, there are many cases where the enhanced forcannot be used: 1. iterate backwards through the array elements 2. access elements of more than one array 3. partially lled arrays (discussed later) 4. assigning new values to array elements. 16 CHAPTER 1. ONE-DIMENSIONAL ARRAYS 1.4 Passing string values into main() In all of our main methods we have speci ed a String array named args : public static void main(String[] args) In the above line args is declared to be an array of String . The variable args is used to pass values (that are strings) into a method. When you have used BlueJ to execute the main() method you have the opportunity to pass an array of strings to the program. Example 3 Passing arguments to main() The following program just lists the strings passed into the program. Listing 1.3: String values passed into main() . 1/** 2 * Print the values passed into the program 3 */ 4public class Args 6 public static void main ( String [] args ){ 7 System .out . println ("The elements of args :"); 8 for ( String s: args ) System .out. print (" "+s); The following shows a user executing main() and passing in 3 strings with the resulting output from the program: 1.4. PASSING STRING VALUES INTO MAIN() 17 18 CHAPTER 1. ONE-DIMENSIONAL ARRAYS 1.5 Parallel arrays There are times when two or more arrays have exactly the same number of elements and where array elements at the same index relate to one another in some meaningful way. For example suppose we have one array of student names and another of student numbers. If the arrays represent information for the same set of students then we would want to arrange that the ith element of the name array and the ithelement of the number array are for the same student. Example 4 Parallel arrays: student names and numbers Consider the following where two arrays hold information for 5 students: one array of names and the other an array of student numbers. For simplicity we initialize the arrays inline. The program prompts the user for a student number and displays the student's name. In order to get the name of the student the program goes through all the elements of number and when it nds a number matching the input, it displays the corresponding name in the other array. Listing 1.4: Finding information in parallel arrays. 1import java . util . Scanner ; 2/** 3 * Student information is in two arrays . 4 * Find student number and report name . 5 */ 6public class StudentInfo 8 public static void main ( String [] args ){ 9 String [] name = {"Joe"," Linda "," Mary "," Peter ","Lee"}; 10 int [] number = {123 , 222 , 345 , 567 , 890}; 11 Scanner kb = new Scanner ( System .in); 12 System . out . println (" Enter student number : 13 int toFind = kb. nextInt (); 14 for (int i=0; i< number . length ; i++) 15 if ( toFind == number [i]) 16 System . out. println ( name [i]); 1.5. PARALLEL ARRAYS 19 17 } This program performs what is usually called a search operation: scanning an array looking for a speci c element. The program as it was written always iterates through the whole number array; normally a programmer would stop the iteration once the element has been found - that is left as an exercise. 20 CHAPTER 1. ONE-DIMENSIONAL ARRAYS 1.6 Partially lled arrays In our examples so far the arrays are completely full - every element has a value. In general we do not expect this to always be the case and so, for some applications, we keep track of how many locations are actually lled. Example 5 Partially lled: calculate average Suppose we need to calculate the average monthly sales. Since there are 12 months we use an array of length 12. We want a user to use the program at any time of year and so there may be fewer than 12 values. The program prompts the user for the monthly sales values, and requests the last value entered to be -1 (a stopper value). The program keeps track of how many elements are lled. Consider the following program and the points discussed after the listing: Listing 1.5: Average sales for up to 12 months. 1import java . util . Scanner ; 2/** 3 * From monthly sales calculate monthly average . 4 */ 5public class MonthlySales 7 public static void main ( String [] args ){ 8 double [] sales = new double [12]; 9 Scanner kb = new Scanner ( System .in); 10 System . out . println (" Enter monthly sales " 11 +" enter -1 after last value "); 12 int numberMonths =0; 13 double aSale = kb. nextDouble (); //1st month 14 while ( aSale != -1) { 15 sales [ numberMonths ++] = aSale ; 16 aSale = kb. nextDouble (); 17 } 18 double sum = 0; 19 for (int i=0; i< numberMonths ; i++) 20 sum += sales [i]; 21 if ( numberMonths >0) System .out . println ( 22 " average = "+sum/ numberMonths ); 1.6. PARTIALLY FILLED ARRAYS 21 23 } The program exhibits some important features: 1. The sales array is of length 12 and the variable numberMonths keeps track of how many months of data the user provides. 2. Prior to the while , in line 13, the rst sales amount is obtained 3. The while tests the value of the last sales amount obtained. 4. In the body of the while the previously obtained sales amount is placed into the array, and the next value is obtained. 5. Lines 19 and 20 accumulate the total sales 6. Testing for no months of data in line 21 prevents the program from crashing if the user entered -1 as the rst value (division by zero). 22 CHAPTER 1. ONE-DIMENSIONAL ARRAYS Arrays and ArrayLists In some cases you may want to use the functionality of the ArrayList class but for whatever reason the data you are working with is in an array. It is easy to create an ArrayList from an array as shown in the program below. Listing 1.6: Initializing an ArrayList from an array. 1import java . util . ArrayList ; 2/** 3 * Create an ArrayList from an array of strings 4 */ 5public class ArrayListFromArray 7 public static void main ( String [] args ){ 8 // An array that will be used to provide 9 // initial data for an ArrayList 10 String [] name ={"Joe "," Jasper "," Abigail "}; 11 ArrayList <String > nameAL = 12 new ArrayList ( name . length ); 13 // The add () method is used to append 14 // an element to the ArrayList 15 for ( String n: name ) nameAL .add(n); 16 // Printing an ArrayList results in each 17 // of its elements being displayed as 18 // in a comma - separated list . 19 System . out . println ( nameAL ); 20 } Line 15 is an enhanced forwhere each element of the array is added to the ArrayList . Line 19 prints the ArrayList . Note the output below and how theArrayList is displayed as a comma-separated-values list embedded in square brackets [ ]- this is the default display for an ArrayList . 1.7. ARRAY UTILITIES IN JAVA CLASS LIBRARIES 23 1.7 Array utilities in Java class libraries Arrays are often used in programming and there are many important array algorithms. For instance, copying an array was discussed previously. The System class contains a method arraycopy() that can be used to copy a portion of one array to another. The method takes 5 arguments (in this order): name of the source array, starting element position in the source, the destination array, the starting element position in the destination, and the total number of elements to copy. For instance to copy all elements of the array t to the array s we could use: System.arraycopy(t, 0, s, 0, t.length); There is a Java library class named java.util.Arrays that has additional methods which include: 1.equals() : Returns true if two arrays are equal to one another. The arrays are equal if they have the same number of elements and if corresponding elements are equal. 2.sort() : Rearranges the elements of an array so they are in ascending sequence. 3.binarySearch() : Returns the index of an element if it was found in a sorted array. Binary search is a type of search technique that takes advantage of the fact that an array is sorted. The general idea is to continually bisect the array looking for the required element. The process examines the middle element and determines if the required element is above or below the middle element; then the process continues on that subset of the array where the required element may be present. The process continues until the required value is found or there is nothing left to examine. 4.fill() : Assigns a speci ed value to every element of an array. 24 CHAPTER 1. ONE-DIMENSIONAL ARRAYS Example 6 Sorting and searching an array The interested student is referred to the Java Class Library documentation for complete information regarding Arrays. Here, we demonstrate how one can sort an array and then search the array for a speci c entry. Consider that we have an array of names. To simplify we shall initialize the array in the code. The program prompts the user for a name, performs a search, and then responds accordingly. Following the listing there are some remarks. Listing 1.7: Initializing and displaying an array. 1import java . util . Arrays ; 2import java . util . Scanner ; 3/** 4 * An array of names is sorted and then 5 * searched for a specific name . 6 */ 7public class SortAndSearch 9 public static void main ( String [] args ){ 10 String [] name = 11 {"Joe"," Linda "," Mary "," Peter ","Lee"," Patricia "}; 12 Arrays . sort ( name ); 13 Scanner kb = new Scanner ( System .in); 14 System . out . println (" Enter a name : "); 15 String toFind = kb. next (); 16 int foundAt = 17 Arrays . binarySearch (name , toFind ); 18 if ( foundAt >= 0) 19 System . out. println ( 20 " Found in position "+ foundAt ); 21 else System .out . println ("Not Found "); 22 } Note the following points regarding SortAndSearch above: 1. The Arrays class is imported in line 1. 2. The sort() method is invoked in line 12. As a result the entries of name have been rearranged are are now sorted alphabetically. 1.7. ARRAY UTILITIES IN JAVA CLASS LIBRARIES 25 3. In line 17 binarySearch() is used to search for the name entered by the user. If the value is not negative then that is the index where the name was found. 26 CHAPTER 1. ONE-DIMENSIONAL ARRAYS Exercises 1. Modify Example 1 to include a parallel array for the names of months. On 12 lines, one per month, display each month and its number of days. 2. Modify Example 2 to determine the minimum and the maximum of the 7 temperatures. Note that this is similar to Exercise 1 in the Section on the forstatement, but in this case the elements are stored in an array. 3. Modify Example 3 so that it sorts the strings before they are displayed. 4. Modify lines 14-16 in Example 4 so that the loop stops if the number is found. 5. Modify Example 5 so that it displays the name of the month when sales were their largest. 6. Write a program to determine someone's score on a multiple-choice test having 12 questions. The program has two char arrays: correctAnswers[] and studentAnswers[]. The array correctAnswers holds the correct answers to the test. Use the following for correct answers: a b c d a b c d a b c d The student's answers will be provided by the user of the program. These must be stored in the array studentAnswers[] . After the student answers have been obtained the program must determine the student's score: the number of questions the student answered correctly. For example if the student answers are: a a a b b b c c c d d d then the score for this student is 4. 7. Write a program to analyze text such that each word (token) found is stored in an array. Use the le Readme.txt . Sort the array and display its contents. Chapter 2 Arrays of Arrays Java programmers frequently use an array (also called a one-dimensional array) to deal with a linear collection of elements (where the elements are of the same type). However there are times when a more complicated array structure is useful. For instance suppose we are keeping track of snowfall by month for Denver, Colorado, for the years 2000 through to 2014. We can represent this information readily in a tabular format - see Figure 2.1. It is easy for someone to get information from such a table as that above. To do so you need to know the meanings of three things: What do the values in the cells of the table represent? {In this example snowfall in inches . What do the rows represent ? {In this example years from 2000 to 2014. what do the columns represent? {In this example months January, . . . December. One can use the table to nd out the snowfall during some month and some year. If we want to obtain the snowfall for the month of February in 2005 we need to go the sixth row from the top and then to the second element from the left. There we see the value 0.5 . . . that is, in February of 2005 Denver received a half inch of snow. 28 CHAPTER 2. ARRAYS OF ARRAYS Figure 2.1: Monthly snowfall from 2000 to 2014 for Denver, Colorado. 2.1 Two-dimensional arrays in Java The snowfall table can be stored in a Java array, but in this case we would use a two-dimensional array and it could be de ned as: double [][] snowfall; Each element of the array must be of the same type . . . in this case they are double s. Notice the two pairs of square braces, [ ] and [ ], in the declaration statement. There are two pairs because we will use two subscripts to reference an element of the table. To obtain the element for February 2005 we usesnowfall[5][1] . Recall with Java that subscript values begin at 0 and so the sixth row is row 5 and the second column is column 1. Its a lengthy statement but to initialize snowfall we could use: private double [][] snowfallInInches ={ {6.2 ,1.8 ,11.3 ,4.6 ,0 ,0 ,0 ,0 ,0.2 ,0 ,7.6 ,5.6} {8.7 ,10.6 ,6.7 ,11.7 ,7.2 ,0 ,0 ,0 ,0 ,1 ,4.2 ,2.9} , {6.1 ,2.8 ,12.5 ,0 ,0.7 ,0 ,0 ,0 ,0 ,4.8 ,3.9 ,0.0} , {0 ,7.5 ,35.2 ,3.4 ,7 ,0 ,0 ,0 ,0 ,0 ,2.9 ,4.5} , {4.6 ,8.9 ,1.8 ,15.3 ,0 ,0 ,0 ,0 ,0 ,1.4 ,10 ,2.6} , 2.1. TWO-DIMENSIONAL ARRAYS IN JAVA 29 {7.4 ,0.5 ,4.6 ,11.4 ,1.4 ,0 ,0 ,0 ,0 ,9.6 ,1 ,4.1} , {3.6 ,3 ,8.6 ,0.3 ,0.2 ,0 ,0 ,0 ,0 ,9.8 ,4.4 ,29.4} , {15.9 ,5.5 ,6.7 ,0.9 ,0 ,0 ,0 ,0 ,0 ,3 ,2.5 ,20.9} , {3.1 ,5.1 ,5.4 ,2.9 ,3.4 ,0 ,0 ,0 ,0 ,0 ,1.7 ,10.3} , {4.9 ,0 ,13.8 ,7.4 ,0 ,0 ,0 ,0 ,0 ,17.2 ,9.3 ,11.1} , {2.6 ,5.8 ,12.8 ,0.5 ,1.3 ,0 ,0 ,0 ,0 ,0 ,1.5 ,3.3} , {8 ,5.3 ,2.5 ,1.2 ,1 ,0 ,0 ,0 ,0 ,8.5 ,4.5 ,16.5} , {4.9 ,20.2 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,5.5 ,1.7 ,5.2} , {4.6 ,14.1 ,23.5 ,20.4 ,3.4 ,0 ,0 ,0 ,0 ,1.4 ,2 ,4.7} , {14.3 ,3.3 ,6 ,5.6 ,1.1 ,0 ,0 ,0 ,0 ,0 ,4 ,12} , Some important points about snowfall : 1. The data is presented in row order. And for each row the data is presented in column order. There are 16 rows of data in the table. 2. Note how values are separated by commas and the data for each row is enclosed in a pair of curly braces, fg. Each row contains 12 values, one per month. 3. Only the snowfall amounts are in the array. A program must know the year that a row represents and know the month that a column represents. When the JVM creates the array, it actually creates an array where each element is an array. The diagram in Figure 2.2 shows how the JVM organizes a two dimensional array in memory as an array of arrays. Figure 2.2: Two dimensional array - an array of arrays. When a program references an array element the JVM accesses the stor30 CHAPTER 2. ARRAYS OF ARRAYS age structure using the subscripts in sequence. So for snowfall[5][1] the JVM uses the rst subscript, 5, to access the sixth element of the 15 element array; then the JVM uses the second subscript, 1, to access the second element of a 12-element array where the value 0.5 is stored in the above gure. In the foregoing we initialized the array in a declaration statement. That is not always appropriate. If we were obtaining the values from input we would rst of all declare the array of the appropriate size and then proceed to read data into the array. The declaration statement for our Denver snowfall example would be: private double [][] snowfall = new double[15][12]; The program in Listing 2.1 reads the data from a le named SnowfallInInches.txt from the same folder as where the program is located. In this program you should note the following: line 10 declares the two dimensional array with 15 rows and 12 columns. lines 19 to 24 read the data from the le. {The outer loop controls the row subscript. Notice the use of the length eld . . . the number of rows is snowfall.length() . {The inner loop controls the column subscript. Notice again the use of the length eld. Each row is in fact an array, and the ith row is referenced by snowfall[i] . . . the number of elements in the ithrow is snowfall[i].length() . {In line 22 the value read is stored in the ithrow and jthcolumn ofsnowfall . Recall that the two dimensional storage structure the JVM creates is an array of arrays. And so in terms of the storage structure its true to say that the value is stored as the jth element of the itharray of snowfall . Lines 26 to 32 display the values in a tabular format. The output from the program is shown following the listing Listing 2.1: Reading array data 1import java . util . Scanner ; 2import java .io. File ; 3import java .io. FileNotFoundException ; 5public class Snowfall 7 public static void main ( String [] args ) 2.1. TWO-DIMENSIONAL ARRAYS IN JAVA 31 8 throws FileNotFoundException { 9 // an array of 15 rows and 12 columns 10 double [][] snowfall = new double [15][12]; 11 // get data from file 12 Scanner f = new Scanner ( 13 new File (" SnowfallInInches .txt ")); 14 System .out . println ("\ nData read from " 15 +" SnowfallInInches .txt "+ 16 "\nby year from 2000 to 2014 , and for "+ 17 "\ neach year from January to December "); 18 // outer loop controls the row subscript 19 for (int i=0; i< snowfall . length ; i++){ 20 // inner loop controls the column 21 for (int j=0;j< snowfall [i]. length ;j++){ 22 snowfall [i][j] = f. nextDouble (); 23 } 24 } 25 // display the contents of the table by year 26 System .out . println (" Data obtained is:"); 27 for (int i=0; i< snowfall . length ; i++){ 28 System .out . println (); 29 for (int j=0;j< snowfall [i]. length ;j