Portland State Univ ersity Portland State Univ ersity PDXScholar PDXScholar Computer Science F aculty Publications and Presentations Computer Science Squeak b y Example Squeak b y Example Andr ew P . Black Portland State Univ ersity , black@cs.pdx.edu Stéphane Ducasse Oscar Nierstr asz Damien P ollet Damien Cassou See next page for additional authors Follow this and additional works at: https:/ /pdxscholar .library.pdx.edu/compsci_fac Part of the Programming Languages and Compilers Commons Let us know how access t o this document benefits y ou. Citation Details Citation Details Black, Andr ew, et al. Squeak b y example. 2009. This Book is br ought t o you for fr ee and open access. It has been accepted for inclusion in Computer Science Faculty Publications and Pr esentations b y an authoriz ed administr ator of PD XScholar . Please contact us if we can mak e this document mor e accessible: pdxscholar@pdx.edu . Authors Authors Andr ew P . Black, Stéphane Ducasse, Oscar Nierstr asz, Damien P ollet, Damien Cassou, and Mar cus Denk er This book is a vailable at PD XScholar: https:/ /pdxscholar .library.pdx.edu/compsci_fac/110 Squeak by Example Andrew P . Black Stéphane Ducasse Oscar Nierstrasz Damien Pollet with Damien Cassou and Marcus Denker Version of 2009-09-29 ii This book is available as a free download from SqueakByExample.org , hosted by the Institute of Computer Science and Applied Mathematics of the University of Bern, Switzerland. Copyright ©2007, 2008, 2009 by Andrew P . Black, Stéphane Ducasse, Oscar Nierstrasz and Damien Pollet. The contents of this book are protected under Creative Commons Attribution-ShareAlike 3.0 Unported license. You are free: to Share — to copy, distribute and transmit the work to Remix — to adapt the work Under the following conditions: Attribution. You must attribute the work in the manner speciﬁed by the author or licensor (but not in any way that suggests that they endorse you or your use of the work). Share Alike. If you alter, transform, or build upon this work, you may distribute the resulting work only under the same, similar or a compatible license. •For any reuse or distribution, you must make clear to others the license terms of this work. The best way to do this is with a link to this web page: creativecommons.org/ licenses/by-sa/3.0/ •Any of the above conditions can be waived if you get permission from the copyright holder. • Nothing in this license impairs or restricts the author’s moral rights. Your fair dealing and other rights are in no way affected by the above. This is a human-readable summary of the Legal Code (the full license): creativecommons.org/licenses/by-sa/3.0/legalcode Published by Square Bracket Associates, Switzerland. SquareBracketAssociates.org ISBN 978-3-9523341-0-2 First Edition, September, 2007. Revised editions with corrections, March 2008, May 2008, September 2009. Contents Preface ix I Getting Started 1 A quick tour of Squeak 3 1.1 Getting started . . . . . . . . . . . . . . . . . 3 1.2 The World menu . . . . . . . . . . . . . . . . 7 1.3 Saving, quitting and restarting a Squeak session . . . . . 9 1.4 Workspaces and Transcripts . . . . . . . . . . . . 11 1.5 Keyboard shortcuts . . . . . . . . . . . . . . . 12 1.6 SqueakMap . . . . . . . . . . . . . . . . . . 15 1.7 The System Browser . . . . . . . . . . . . . . . 17 1.8 Finding classes . . . . . . . . . . . . . . . . . 18 1.9 Finding methods . . . . . . . . . . . . . . . . 20 1.10 Deﬁning a new method. . . . . . . . . . . . . . 21 1.11 Chapter summary. . . . . . . . . . . . . . . . 26 2 A ﬁrst application 29 2.1 The Quinto game . . . . . . . . . . . . . . . . 29 2.2 Creating a new class Category . . . . . . . . . . . 30 2.3 Deﬁning the class SBECell . . . . . . . . . . . . . 31 2.4 Adding methods to a class. . . . . . . . . . . . . 32 2.5 Inspecting an object . . . . . . . . . . . . . . . 34 2.6 Deﬁning the class SBEGame . . . . . . . . . . . . 36 iv Contents 2.7 Organizing methods into protocols . . . . . . . . . 39 2.8 Let’s try our code . . . . . . . . . . . . . . . . 42 2.9 Saving and sharing Smalltalk code. . . . . . . . . . 45 2.10 Chapter summary. . . . . . . . . . . . . . . . 49 3 Syntax in a nutshell 51 3.1 Syntactic elements . . . . . . . . . . . . . . . 51 3.2 Pseudo-variables . . . . . . . . . . . . . . . . 54 3.3 Message sends . . . . . . . . . . . . . . . . . 55 3.4 Method syntax . . . . . . . . . . . . . . . . . 56 3.5 Block syntax . . . . . . . . . . . . . . . . . . 57 3.6 Conditionals and loops in a nutshell . . . . . . . . . 58 3.7 Primitives and pragmas . . . . . . . . . . . . . 60 3.8 Chapter summary. . . . . . . . . . . . . . . . 61 4 Understanding message syntax 63 4.1 Identifying messages . . . . . . . . . . . . . . 63 4.2 Three kinds of messages . . . . . . . . . . . . . 65 4.3 Message composition . . . . . . . . . . . . . . 68 4.4 Hints for identifying keyword messages . . . . . . . 74 4.5 Expression sequences . . . . . . . . . . . . . . 76 4.6 Cascaded messages . . . . . . . . . . . . . . . 76 4.7 Chapter summary. . . . . . . . . . . . . . . . 76 II Developing in Squeak 5 The Smalltalk object model 81 5.1 The rules of the model . . . . . . . . . . . . . . 81 5.2 Everything is an Object . . . . . . . . . . . . . . 81 5.3 Every object is an instance of a class . . . . . . . . . 82 5.4 Every class has a superclass . . . . . . . . . . . . 89 5.5 Everything happens by message sending . . . . . . . 93 5.6 Method lookup follows the inheritance chain . . . . . . 94 5.7 Shared variables . . . . . . . . . . . . . . . . 101 v 5.8 Chapter summary. . . . . . . . . . . . . . . . 106 6 The Squeak programming environment 109 6.1 Overview . . . . . . . . . . . . . . . . . . . 110 6.2 The System Browser . . . . . . . . . . . . . . . 111 6.3 Monticello . . . . . . . . . . . . . . . . . . 124 6.4 The Inspector and the Explorer . . . . . . . . . . . 132 6.5 The Debugger . . . . . . . . . . . . . . . . . 135 6.6 The Process Browser . . . . . . . . . . . . . . . 144 6.7 Finding methods . . . . . . . . . . . . . . . . 145 6.8 Change sets and the Change Sorter . . . . . . . . . 146 6.9 The File List Browser . . . . . . . . . . . . . . 148 6.10 In Smalltalk, you can’t lose code . . . . . . . . . . 151 6.11 Chapter summary. . . . . . . . . . . . . . . . 152 7 SUnit 155 7.1 Introduction . . . . . . . . . . . . . . . . . . 155 7.2 Why testing is important . . . . . . . . . . . . . 156 7.3 What makes a good test? . . . . . . . . . . . . . 157 7.4 SUnit by example . . . . . . . . . . . . . . . . 158 7.5 The SUnit cook book . . . . . . . . . . . . . . . 162 7.6 The SUnit framework . . . . . . . . . . . . . . 164 7.7 Advanced features of SUnit . . . . . . . . . . . . 166 7.8 The implementation of SUnit. . . . . . . . . . . . 168 7.9 Some advice on testing . . . . . . . . . . . . . . 171 7.10 Chapter summary. . . . . . . . . . . . . . . . 172 8 Basic Classes 175 8.1 Object . . . . . . . . . . . . . . . . . . . . 175 8.2 Numbers . . . . . . . . . . . . . . . . . . . 184 8.3 Characters . . . . . . . . . . . . . . . . . . 188 8.4 Strings . . . . . . . . . . . . . . . . . . . . 189 8.5 Booleans . . . . . . . . . . . . . . . . . . . 190 8.6 Chapter summary. . . . . . . . . . . . . . . . 192 vi Contents 9 Collections 193 9.1 Introduction . . . . . . . . . . . . . . . . . . 193 9.2 The varieties of collections. . . . . . . . . . . . . 195 9.3 Implementations of collections . . . . . . . . . . . 198 9.4 Examples of key classes. . . . . . . . . . . . . . 199 9.5 Collection iterators . . . . . . . . . . . . . . . 209 9.6 Some hints for using collections. . . . . . . . . . . 213 9.7 Chapter summary. . . . . . . . . . . . . . . . 214 10 Streams 217 10.1 Two sequences of elements . . . . . . . . . . . . 217 10.2 Streams vs. collections . . . . . . . . . . . . . . 218 10.3 Streaming over collections. . . . . . . . . . . . . 219 10.4 Using streams for ﬁle access . . . . . . . . . . . . 227 10.5 Chapter summary. . . . . . . . . . . . . . . . 230 11 Morphic 231 11.1 The history of Morphic . . . . . . . . . . . . . . 231 11.2 Manipulating morphs . . . . . . . . . . . . . . 233 11.3 Composing morphs . . . . . . . . . . . . . . . 233 11.4 Creating and drawing your own morphs . . . . . . . 235 11.5 Interaction and animation . . . . . . . . . . . . . 239 11.6 Interactors . . . . . . . . . . . . . . . . . . 242 11.7 Drag-and-drop . . . . . . . . . . . . . . . . . 243 11.8 A complete example . . . . . . . . . . . . . . . 245 11.9 More about the canvas . . . . . . . . . . . . . . 249 11.10 Chapter summary. . . . . . . . . . . . . . . . 250 III Advanced Squeak 12 Classes and metaclasses 255 12.1 Rules for classes and metaclasses . . . . . . . . . . 255 12.2 Revisiting the Smalltalk object model . . . . . . . . . 256 12.3 Every class is an instance of a metaclass . . . . . . . . 258 vii 12.4 The metaclass hierarchy parallels the class hierarchy . . . 259 12.5 Every metaclass Inherits from Class and Behavior . . . . . 261 12.6 Every metaclass is an instance of Metaclass . . . . . . . 264 12.7 The metaclass of Metaclass is an Instance of Metaclass . . . 265 12.8 Chapter summary. . . . . . . . . . . . . . . . 266 IV Appendices A Frequently Asked Questions 271 A.1 Getting started . . . . . . . . . . . . . . . . . 271 A.2 Collections . . . . . . . . . . . . . . . . . . 271 A.3 Browsing the system . . . . . . . . . . . . . . . 272 A.4 Using Monticello and SqueakSource . . . . . . . . . 274 A.5 Tools . . . . . . . . . . . . . . . . . . . . 275 A.6 Regular expressions and parsing . . . . . . . . . . 275 Bibliography 277 Index 278 Preface What is Squeak? Squeak is a modern, open source, fully-featured implementation of the Smalltalk programming language and environment. Squeak is highly portable — even its virtual machine is written entirely in Smalltalk, making it easy to debug, analyze, and change. Squeak is the vehicle for a wide range of innovative projects from multimedia applications and educational platforms to commercial web development environments. Who should read this book? This book presents the various aspects of Squeak, starting with the basics, and proceeding to more advanced topics. This book will not teach you how to program. The reader should have some familiarity with programming languages. Some background with object-oriented programming would be helpful. This book will introduce the Squeak programming environment, the language and the associated tools. You will be exposed to common idioms and practices, but the focus is on the technology, not on object-oriented design. Wherever possible, we will show you lots of examples. (We have been inspired by Alec Sharp’s excellent book on Smalltalk1.) There are numerous other books on Smalltalk freely available on the web but none of these focuses speciﬁcally on Squeak. See for example: stephane.ducasse.free.fr/FreeBooks.html 1Alec Sharp, Smalltalk by Example . McGraw-Hill, 1997 /angbracketleftURL: http://stephane.ducasse.free.fr/ FreeBooks/ByExample/ /angbracketright. x Preface A word of advice Do not be frustrated by parts of Smalltalk that you do not immediately understand. You do not have to know everything! Alan Knight expresses this principle as follows2: Try not to care. Beginning Smalltalk programmers often have trouble because they think they need to understand all the details of how a thing works before they can use it. This means it takes quite a while before they can master Transcript show: 'Hello World' . One of the great leaps in OO is to be able to answer the question “How does this work?” with “I don’t care”. An open book This book is an open book in the following senses: •The content of this book is released under the Creative Commons Attribution-ShareAlike (by-sa) license. In short, you are allowed to freely share and adapt this book, as long as you respect the conditions of the license available at the following URL: creativecommons.org/ licenses/by-sa/3.0/ . •This book just describes the core of Squeak. Ideally we would like to encourage others to contribute chapters on the parts of Squeak that we have not described. If you would like to participate in this effort, please contact us. We would like to see this book grow! For more details, visit the book’s web site, SqueakByExample.org , hosted by the Institute of Computer Science and Applied Mathematics of the University of Bern, Switzerland. The Squeak community The Squeak community is friendly and active. Here is a short list of resources that you may ﬁnd useful: 2www.surfscranton.com/architecture/KnightsPrinciples.htm xi •www.squeak.org is the main web site of Squeak. (Do not confuse it with www.squeakland.org which is dedicated to the eToy environment built on top of Squeak but whose audience is elementary school teachers.) •www.squeaksource.com is the equivalent of SourceForge for Squeak projects. •wiki.squeak.org/squeak is a wiki with up-to-date information about Squeak. About mailing-lists. There are a lot of mailing-lists and sometimes they can be just a little bit too active. If you do not want to get ﬂooded by mail but would still like to participate we suggest you to use news.gmane.org or www.nabble.com/Squeak-f14152.html to browse the lists. You can ﬁnd the complete list of Squeak mailing-lists at lists. squeakfoundation.org/mailman/listinfo . •Note that Squeak-dev refers to the developers’ mailing-list, which can be browsed here: news.gmane.org/gmane.comp.lang.smalltalk.squeak.general •Newbies refers to a friendly mailing-list for beginners where any question can be asked: news.gmane.org/gmane.comp.lang.smalltalk.squeak.beginners (There is so much to learn that we are all beginners in some aspect of Squeak!) IRC. Have a question that you need answered quickly? Would you like to meet with other squeakers around the world? A great place to participate in longer-term discussions is the IRC channel on the “#squeak” channel at irc.freenode.net . Stop by and say “Hi!” Other sites. There are several websites supporting the Squeak community today in various ways. Here are some of them: •people.squeakfoundation.org is the site of SqueakPeople, which is a kind of “advogato.org ” for squeakers. It offers articles, diaries and an interesting trust metric system. •planet.squeak.org is the site of PlanetSqueak which is an RSS aggregator. It is good place to get a ﬂood of squeaky things. This includes the latest blog entries from developers and others who have an interest in Squeak. xii Preface •www.frappr.com/squeak is a site that tracks Squeak users around the world. Examples and exercises We make use of two special conventions in this book. We have tried to provide as many examples as possible. In particular, there are many examples that show a fragment of code which can be evaluated. We use the symbol −→ to indicate the result that you obtain when you select an expression and print it : 3+4−→ 7"if you select 3 +4 and 'print it', you will see 7" In case you want to play in Squeak with these code snippets, you can download a plain text ﬁle with all the example code from the book’s web site: SqueakByExample.org . The second convention that we use is to display the icon to indicate when there is something for you to do: Go ahead and read the next chapter! Acknowledgments We would like to thank Hilaire Fernandes and Serge Stinckwich who allowed us to translate parts of their columns on Smalltalk, and Damien Cassou for contributing the chapter on streams. We also thank Tim Rowledge for the use of the Squeak logo, and Frederica Nierstrasz for the original cover art. We especially thank Lukas Renggli and Orla Greevy for their comments on drafts of the ﬁrst release. We thank the University of Bern, Switzerland, for graciously supporting this open-source project and for hosting the web site of this book. We also thank the Squeak community for their enthusiastic support of this project, and for informing us of the errors found in the ﬁrst edition of this book. Finally we thank the team that developed Squeak in the ﬁrst place for making this amazing development environment available to us. Part I Getting Started Chapter 1 A quick tour of Squeak In this chapter we will give you a high-level tour of Squeak to help you get comfortable with the environment. There will be plenty of opportunities to try things out, so it would be a good idea if you have a computer handy when you read this chapter. We will use this icon: to mark places in the text where you should try something out in Squeak. In particular, you will ﬁre up Squeak, learn about the different ways of interacting with the system, and discover some of the basic tools. You will also learn how to deﬁne a new method, create an object and send it messages. 1.1 Getting started Squeak is available as a free download from www.squeak.org . There are three parts that you will need to download, consisting of four ﬁles (see Figure 1.1). Virtual MachineUser speciﬁc system ﬁles Shared Sources Figure 1.1: The Squeak download ﬁles. 1.The virtual machine (VM) is the only part of the system that is different for each operating system and processor. Pre-compiled virtual 4 A quick tour of Squeak machines are available for all the major computing environments. In Figure 1.1 we see the VM for the Mac is called Squeak 3.8.15beta1U.app . 2.The sources ﬁle contains the source code for all of the parts of Squeak that don’t change very frequently. In Figure 1.1 it is called SqueakV39.sources . Note that the ﬁle SqueakV39.sources is only for versions 3.9 and later of Squeak. For earlier versions, use a sources ﬁle corresponding to the main version e.g.,SqueakV3.sources for versions of Squeak from 3.0 up to 3.8. 3.The current system image is a snapshot of a running Squeak system, frozen in time. It consists of two ﬁles: an .image ﬁle, which contains the state of all of the objects in the system (including classes and methods, since they are objects too), and a .changes ﬁle, which contains a log of all of the changes to the source code of the system. In Figure 1.1, we see that we have grabbed the Squeak3.9-ﬁnal-7067 image and changes ﬁles. Actually, we will use a slightly different image in this book. Download and install Squeak on your computer. We recommend that you use the image provided on the Squeak by Example web page.1 Most of the introductory material in this book will work with any version, so if you already have one installed, you may as well continue to use it. However, if you notice differences between the appearance or behaviour of your system and what is described here, do not be surprised. On the other hand, if you are about to download Squeak for the ﬁrst time, you may as well grab the Squeak by Example image. As you work in Squeak, the image and changes ﬁles are modiﬁed, so you need to make sure that they are writable. Always keep these two ﬁles together. Never edit them directly with a text editor, as Squeak uses them to store the objects you work with and to log the changes you make to the source code. It is a good idea to keep a backup copy of the downloaded image and changes ﬁles so you can always start from a fresh image and reload your code. The sources ﬁle and the VM can be read-only — they can be shared between different users. All of these ﬁles can be placed in the same directory, but it is also possible to put the Virtual Machine and sources ﬁle in separate directory where everyone has access to them. Do whatever works best for your style of working and your operating system. Launching. To start Squeak, do whatever your operating system expects: drag the .image ﬁle onto the icon of the virtual machine, or double-click the 1Visit http://SqueakByExample.org and look for “Download Squeak” in the sidebar. Getting started 5 Figure 1.2: A fresh SqueakByExample.org image. .image ﬁle, or at the command line type the name of the virtual machine followed by the path to the .image ﬁle. (When you have multiple VMs installed on your machine the operating system may not automatically pick the right one; in this case it is safer to drag and drop the image onto the virtual machine, or to use the command line.) Once Squeak is running, you should see a single large window, possibly containing some open workspace windows (see Figure 1.2), and it’s not obvious how to proceed! You will notice that there is no menu bar, or at least not a useful one. Instead, Squeak makes heavy use of context-dependent pop-up menus. Start Squeak. You can dismiss any open workspaces by clicking on the Xin the top left corner of the workspace window. You can collapse the windows (so that they can be expanded again later) by clicking on the ◦in the top-right corner. First Interaction. A good place to get started is the world menu shown in Figure 1.3 (a). 6 A quick tour of Squeak Click with the mouse on the background of the main window to show the world menu, then choose open . . . ⊿workspace to create a new workspace. (a)The world menu (b)The contextual menu (c) The morphic halo Figure 1.3: The world menu (brought up by the red mouse button), a contextual menu (yellow mouse button), and a morphic halo (blue mouse button). Figure 1.4: The author’s mouse. Clicking the scroll wheel activates the blue button.Squeak was originally designed for a computer with a three button mouse. If your mouse has fewer than three buttons, you will have to press extra keys while clicking the mouse to simulate the extra buttons. A two-button mouse works quite well with Squeak, but if you have only a single-button mouse, you should seriously consider buying a two-button mouse with a clickable scroll wheel: it will make working with Squeak much more pleasant. Squeak avoids terms like “left mouse click” because different computers, mice, keyboards and personal conﬁgurations mean that different users will need to press different physical buttons to achieve the same effect. Instead, the mouse buttons are labeled with colors. The mouse button that you pressed to get the “World” menu is called the red button ; it is most often used for selecting items in lists, selecting text, and selecting menu items. When you start using Squeak, it can be surprisingly helpful to actually label your mouse, as shown in Figure 1.4.2 2We will avoid the term “red-click” and use “click” instead, since this is the default. The World menu 7 The yellow button is the next most used button; it is used to bring up a contextual menu, that is, a menu that offers different sets of actions depending on where the mouse is pointing; see Figure 1.3 (b). Type Time now in the workspace. Now click the yellow button in the workspace. Select print it . Finally, there is the blue button , which is used to activate the “morphic halo”, an array of handles that are used to perform operations on the on-screen objects themselves, such as rotating them or resizing them; see Figure 1.3 (c). If you let the mouse linger over a handle, a help balloon will explain its function. Click the blue button on the workspace. Grab the handle near the bottom left corner and drag it to rotate the workspace. We recommend that right-handed people conﬁgure their mouse to put the red button on the left side of their mouse, the yellow button on the right, and use a clickable scroll wheel, if one is available, for the blue button. If you don’t have a clickable scroll wheel, then you can get the Morphic halo by holding down the altoroption key while clicking the red button. If you are using a Macintosh without a second mouse button, you can simulate one by holding down the ⌘ key while clicking the mouse. However, if you are going to be using Squeak at all often, we recommend investing in a mouse with at least two buttons. You can conﬁgure your mouse to work the way you want by using the preferences of your operating system and mouse driver. Squeak has some preferences for customising the mouse and the meta keys on your keyboard. You can ﬁnd the preference browser in the open item of the World menu. In the preference browser, the general category contains an option swapMouseButtons that switches the yellow and blue functions (see Figure 1.5). The keyboard category has options to duplicate the various command keys. Open the preference browser and ﬁnd the swapMouseButtons option using the search box. 1.2 The World menu Click again on the Squeak background. You will see the World menu again. Most Squeak menus are not modal; you can leave them on the screen for as long as you wish by clicking the 8 A quick tour of Squeak Figure 1.5: The Preference Browser. push pin icon in the top-right corner. Do this. Also, notice that menus appear when you click the mouse, but do not disappear when you release it; they stay visible until you make a selection, or until you click outside of the menu. You can even move the menu around by grabbing its title bar. The world menu provides you a simple means to access many of the tools that Squeak offers. Have a closer look at the world⊿open . . . menu. You will see a list of several of the core tools in Squeak, including the system browser (one of many available class browsers) and the workspace. We will encounter most of them in the coming chapters. Saving, quitting and restarting a Squeak session 9 Figure 1.6: The open . . . dialogue of the world menu. 1.3 Saving, quitting and restarting a Squeak session Bring up the world menu. Now select new morph . . . and navigate to from alphabetical list ⊿A-C⊿BlobMorph . You now have a blob “in hand”. Put the blob down (by clicking) somewhere. It will start to move. Figure 1.7: An instance of BlobMorph . Figure 1.8: The save as . . . dialogue. Select World ⊿save as . . . , and enter the name “SBE”. Now click on the Accept(s) button. Now select World ⊿save and quit . Now if you go to the location where the original image and changes ﬁles were, you will ﬁnd two new ﬁles called “SBE.image” and “SBE.changes” that represent the working state of the Squeak image at the moment before you told Squeak to save and quit . If you wish, you can move these two ﬁles anywhere that you like on your disk, but if you do so you may (depending 10 A quick tour of Squeak on your operating system) need to also move, copy or link to the virtual machine and the .source ﬁle. Start up Squeak from the newly created “SBE.image” ﬁle. Now you should ﬁnd yourself in precisely the state you were when you quit Squeak. The blob is there again and it continues to move from where it was when you left it. When you start Squeak for the ﬁrst time, the Squeak virtual machine loads the image ﬁle that you provide. This ﬁle contains a snapshot of a large number of objects, including a vast amount of pre-existing code and a large number of programming tools (all of which are objects). As you work with Squeak, you will send messages to these objects, you will create new objects, and some of these objects will die and their memory will be reclaimed ( i.e., garbage-collected). When you quit Squeak, you will normally save a snapshot that contains all of your objects. If you save normally, you will overwrite your old image ﬁle with the new snapshot. Alternatively you may save the image under a new name, as we just did. In addition to the .image ﬁle, there is also a .changes ﬁle. This ﬁle contains a log of all the changes to the source code that you have made using the standard tools. Most of the time you do not need to worry about this ﬁle at all. As we shall see, however, the .changes ﬁle can be very useful for recovering from errors, or replaying lost changes. More about this later! The image that you have been working with is a descendant of the original Smalltalk-80 image created in the late 1970s. Some of these objects have been around for decades! You might think that the image is the key mechanism for storing and managing software projects, but you would be wrong. As we shall see very soon, there are much better tools for managing code and sharing software developed by teams. Images are very useful, but you should learn to be very cavalier about creating and throwing away images, since tools like Monticello offer much better ways to manage versions and share code amongst developers. Blue-click on the Blob. You will see a collection of colored dots that are collectively called the blob’s morphic halo. Each dot is called a handle . Click in the pink handle containing the cross; the blob should go away. (You may have to try several times as the Blob squirms around and tries to get away from the mouse.) Workspaces and Transcripts 11 Figure 1.9: The Squeak Tools ﬂap. 1.4 Workspaces and Transcripts Close all open windows. Click on the Tools tab at the far right of the Squeak environment to open the Tools ﬂap. You will see icons for some of the key tools in Squeak (Figure 1.9). Drag out a transcript and a workspace. Position and resize the transcript and workspace windows so that the workspace just overlaps the transcript. You can resize windows either by dragging one of the corners, or by blue-clicking the window to bring up the morphic handles, and dragging the yellow, bottom right handle. At any time only one window is active; it is in front and has its label highlighted. The mouse cursor must be in the window in which you wish to type. 12 A quick tour of Squeak The transcript is an object that is often used for logging system messages. It is a kind of “system console”. Note that the transcript is terribly slow, so if you keep it open and write to it certain operations can become 10 times slower. In addition the transcript is not thread-safe so you may experience strange problems if multiple objects write concurrently to the transcript. Workspaces are useful for typing snippets of Smalltalk code that you would like to experiment with. You can also use workspaces simply for typing arbitrarily text that you would like to remember, such as to-do lists or instructions for anyone who will use your image. Workspaces are often used to hold documentation about a capt