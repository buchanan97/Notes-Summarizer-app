one of them can releas e it. In my solution it s always the leader. Basic synchronization patterns When a semaphore is used as a queue4, I nd it useful to read wait as wait for this queue and signal as let someone from this que ue go. In this code we never signal a queue unless someone is waiting , so the values of the queue semaphores are seldom positive. It is possible, though. See if you can gure out how. Asemaphoreusedasaqueueisverysimilartoaconditionvariable. Thep rimarydi erence is that threads have to release the mutex explicitly before waiting, a nd reacquire it explicitly afterwards (but only if they need it). Chapter Classical synchronization problems In this chapter we examine the classical problems that appea r in nearly every operating systems textbook. They are usually presented in t erms of real-world problems, so that the statement of the problem is clear and so that students can bring their intuition to bear. Forthemostpart, though, theseproblemsdonothappeninthe realworld, or if they do, the real-world solutions are not much like the kin d of synchronization code we are working with. The reason we are interested in these problems is that they ar e analogous to common problems that operating systems (and some applica tions) need to solve. For each classi