as a set-associative design. Y our machine may contain multiple caches for several dif ferent purposes. Here s a little program for causing thrashing in a -KB two-way set- associative cache: REAL A(1024), B(1024), C(1024) COMMON STUFF A,B,C DO I ,1024 A(I) A(I) B(I) C(I) END DO END Like the previous cache thrasher program, this forces repeated accesses to the same cache lines, except that now there are three variables contending for the choose set same mapping instead of two. Again, the way to fix it would be to change the size of the arrays or insert something in between them, in COMMON . By the way , if you accidentally arranged a program to thrash like this, it would be hard for you to detect it aside from a feeling that the program runs a little slow . Few vendors provide tools for measuring cache misses. Two-way set-associative cache Instruction Cache So far we have glossed over the two kinds of information you would expect to find in a cache between main memory and the CPU: instructions and data. But if you think about it, the demand for data is separate from the demand for instructions. In superscalar processors, for example, it s possible to execute an instruction that causes a data cache miss alongside other instructions that require no data from cache at all, i.e., they operate on registers. It doesn t seem fair that a cache miss on a data reference in one instruction should keep you from fetching other instructions because the cache is tied up. Furthermore, a cache depends on locality of reference between bits of data and other bits of data or instructions and