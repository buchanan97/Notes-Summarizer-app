proceed, and never will. This situation is called a deadlock and, obviously, it is not a successful solution of the synchronization problem. In this case, the e rror is obvious, but often the possibility of deadlock is more subtle. We will see more examples later. Basic synchronization patterns Mutex Asecondcommonuseforsemaphoresistoenforcemutualexclu sion. Wehavealready seen one use for mutual exclusion, controlling concur rent access to shared variables. The mutex guarantees that only one thread access es the shared variable at a time. A mutex is like a token that passes from one thread to another, allowing one thread at a time to proceed. For example, in The Lord of the Flies a group of children use a conch as a mutex. In order to speak, you have to h old the conch. As long as only one child holds the conch, only one can speak1. Similarly, in order for a thread to access a shared variable, it has to get the mutex; when it is done, it releases the mutex. Only one t hread can hold the mutex at a time. Puzzle: Add semaphores to the following example to enforce m utual exclusion to the shared variable count. Thread A 1count count Thread B 1count count Although this metaphor is helpful for now, it can also be misleading , as you will see in Section5. Mutex Mutual exclusion hint Create a semaphore named mutexthat is initialized to . A value of one means that a thread may proceed and access the shared variable; a va lue of zero means that it has to wait for another thread to release the mutex. Basic synchronization patterns Multiplex Mutual exclusion solution Here is a solution: