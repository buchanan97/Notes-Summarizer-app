all threads have completed? What is the smallest possible value? Hint: the rst question is easy; the second is not. Mutual exclusion with messages Like serialization, mutual exclusion can be implemented us ing message passing. For example, imagine that you and Bob operate a nuclear react or that you monitor from remote stations. Most of the time, both of you ar e watching for warning lights, but you are both allowed to take a break for lu nch. It doesn t matter who eats lunch rst, but it is very important that you d on t eat lunch at the same time, leaving the reactor unwatched! Puzzle: Figure out a system of message passing (phone calls) that enforces these restraints. Assume there are no clocks, and you cannot predict when lunch will start or how long it will last. What is the minimum number of messages that is required? Chapter Semaphores In real life a semaphore is a system of signals used to communi cate visually, usually with ags, lights, or some other mechanism. In softw are, a semaphore is a data structure that is useful for solving a variety of synch ronization problems. Semaphores were invented by Edsger Dijkstra, a famously ecc entric computer scientist. Some of the details have changed since the o riginal design, but the basic idea is the same. De nition A semaphore is like an integer, with three di erences: . When you create the semaphore, you can initialize its valu e to any integer, butafterthattheonlyoperationsyouareallowedtoperform areincrement (increase by one) and decrement (decrease by one). You canno t read the current value of the semaphore. . When a thread decrements the semaphore, if the