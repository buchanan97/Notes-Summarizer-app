portland state univ ersity portland state univ ersity pdxscholar pdxscholar computer science f aculty publication presentation computer science squeak b y example squeak b y example andr ew p black portland state univ ersity black stéphane ducasse oscar nierstr asz damien p ollet damien cassou page additional author follow additional work http programming language compiler common let know access t o document benefit y ou citation detail citation detail black andr ew et al squeak b y example book br ought t o fr ee open access accepted inclusion computer science faculty publication pr esentations b y authoriz ed administr ator pd xscholar contact mak e document mor e accessible pdxscholar author author andr ew p black stéphane ducasse oscar nierstr asz damien p ollet damien cassou mar cu denk er book vailable pd xscholar http squeak example andrew p black stéphane ducasse oscar nierstrasz damien pollet damien cassou marcus denker version book available free download hosted institute computer science applied mathematics university bern switzerland copyright andrew p black stéphane ducasse oscar nierstrasz damien pollet content book protected creative common unported license free share copy distribute transmit work remix adapt work following condition attribution attribute work manner speciﬁed author licensor way suggests endorse use work share alike alter transform build work distribute resulting work similar compatible license reuse distribution make clear license term work best way link web page condition waived permission copyright holder license impairs restricts author s moral right fair dealing right way affected summary legal code license published square bracket associate switzerland isbn edition september revised edition correction march september preface ix getting started quick tour squeak getting started world menu saving quitting restarting squeak session workspace transcript keyboard shortcut squeakmap browser finding class finding method deﬁning new method chapter summary ﬁrst application quinto game creating new class category deﬁning class sbecell adding method class inspecting object deﬁning class sbegame content organizing method protocol let s try code saving sharing smalltalk code chapter summary syntax nutshell syntactic element message sends method syntax block syntax conditionals loop nutshell primitive pragmas chapter summary understanding message syntax identifying message kind message message composition hint identifying keyword message expression sequence cascaded message chapter summary ii developing squeak smalltalk object model rule model object object instance class class superclass happens message sending method lookup follows inheritance chain shared variable chapter summary squeak programming environment overview browser monticello inspector explorer debugger process browser finding method change set change sorter file list browser smalltalk t lose code chapter summary sunit introduction testing important make good test sunit example sunit cook book sunit framework advanced feature sunit implementation sunit advice testing chapter summary basic class object number character string booleans chapter summary content collection introduction variety collection implementation collection example key class collection iterators hint using collection chapter summary stream sequence element stream collection streaming collection using stream ﬁle access chapter summary morphic history morphic manipulating morphs composing morphs creating drawing morphs interaction animation interactors complete example canvas chapter summary iii advanced squeak class metaclasses rule class metaclasses revisiting smalltalk object model class instance metaclass metaclass hierarchy parallel class hierarchy metaclass inherits class behavior metaclass instance metaclass metaclass metaclass instance metaclass chapter summary iv appendix frequently asked question getting started collection browsing using monticello squeaksource tool regular expression parsing bibliography index squeak squeak modern open source implementation smalltalk programming language environment squeak highly portable virtual machine written tirely smalltalk making easy debug analyze change squeak vehicle wide range innovative project multimedia application educational platform commercial web development environment read book book present various aspect squeak starting basic proceeding advanced topic book teach program reader familiarity programming language background programming helpful book introduce squeak programming environment language associated tool exposed common idiom practice focus technology design possible lot example inspired alec sharp s excellent book numerous book smalltalk freely available web focus speciﬁcally squeak example sharp smalltalk example http preface word advice frustrated part smalltalk immediately understand know alan knight express principle try care beginning smalltalk programmer trouble think need understand detail thing work use mean take quite master transcript world great leap oo able answer question doe work don t care open book book open book following sens content book released creative common license short allowed freely share adapt book long respect condition license available following url book just describes core squeak ideally like encourage contribute chapter part squeak described like participate effort contact like book grow detail visit book s web site hosted institute computer science applied mathematics university bern switzerland squeak community squeak community friendly active short list source ﬁnd useful main web site squeak confuse dedicated etoy environment built squeak audience elementary school teacher equivalent sourceforge squeak project wiki information squeak lot just little bit active want ﬂooded mail like participate suggest use browse list ﬁnd complete list squeak list refers developer browsed refers friendly beginner tion asked learn beginner aspect squeak irc question need answered quickly like meet squeaker world great place participate discussion irc channel squeak channel stop say hi site website supporting squeak community today various way site squeakpeople kind squeaker offer article diary esting trust metric site planetsqueak rss aggregator good place ﬂood squeaky thing includes latest blog entry developer preface site track squeak user world example exercise make use special convention book tried provide example possible particular example fragment code evaluated use symbol indicate result obtain select expression print select case want play squeak code snippet download plain text ﬁle example code book s web site second convention use display icon indicate ahead read chapter acknowledgment like thank hilaire fernandes serge stinckwich lowed translate part column smalltalk damien sou contributing chapter stream thank tim rowledge use squeak logo frederica nierstrasz original cover art especially thank lukas renggli orla greevy comment draft ﬁrst release thank university bern switzerland graciously supporting project hosting web site book thank squeak community enthusiastic support project informing error ﬁrst edition book finally thank team developed squeak ﬁrst place making amazing development environment available getting startedchapter quick tour squeak chapter tour squeak help comfortable environment plenty opportunity try thing good idea computer handy read chapter use icon mark place text try squeak particular ﬁre squeak learn different way interacting discover basic tool learn deﬁne new method create object send message getting started squeak available free download part need download consisting ﬁles figure virtual machineuser speciﬁc ﬁles shared source figure squeak download ﬁles virtual machine vm ent operating processor quick tour squeak machine available major computing environment figure vm mac called squeak source ﬁle contains source code part squeak don t change frequently figure called note ﬁle version later squeak earlier version use source ﬁle corresponding main version version squeak current image snapshot running squeak frozen time consists ﬁles ﬁle contains state object including class method object ﬁle contains log change source code figure grabbed image change ﬁles actually use slightly different image book download install squeak computer recommend use image provided squeak example web introductory material book work version installed continue use notice difference appearance behaviour described surprised hand download squeak ﬁrst time grab squeak example image work squeak image change ﬁles modiﬁed need make sure writable ﬁles edit directly text editor squeak us store object work log change make source code good idea backup copy downloaded image change ﬁles start fresh image reload code source ﬁle vm shared different user ﬁles placed directory possible virtual machine source ﬁle separate directory access work best style working operating launching start squeak operating expects drag ﬁle icon virtual machine http look download squeak started figure fresh image ﬁle command line type virtual machine followed path ﬁle multiple vms installed machine operating automatically pick right case safer drag drop image virtual machine use command line squeak running single large window possibly containing open workspace window figure s obvious proceed notice menu bar useful instead squeak make heavy use menu start squeak dismiss open workspace clicking xin left corner workspace window collapse window expanded later clicking corner interaction good place started world menu shown figure quick tour squeak click mouse background main window world menu choose open create new workspace world menu b contextual menu c morphic halo figure world menu brought red mouse button contextual menu yellow mouse button morphic halo blue mouse button figure author s mouse clicking scroll wheel activates blue originally designed computer button mouse mouse fewer button press extra key clicking mouse simulate extra ton mouse work quite squeak mouse seriously consider buying mouse clickable scroll wheel make ing squeak pleasant squeak avoids term like left mouse click cause different computer mouse keyboard sonal conﬁgurations mean different user need press different physical button achieve effect instead mouse button labeled color mouse button pressed world menu called red button used selecting item list selecting text selecting menu item start using squeak surprisingly helpful actually label mouse shown figure avoid term use click instead world menu yellow button used button used bring contextual menu menu offer different set action depending mouse pointing figure b type time workspace click yellow button workspace select print finally blue button used activate morphic halo array handle used perform operation object rotating resizing figure c let mouse linger handle help balloon explain function click blue button workspace grab handle near left corner drag rotate workspace recommend people conﬁgure mouse red button left mouse yellow button right use clickable scroll wheel available blue button don t clickable scroll wheel morphic halo holding altoroption key clicking red button using macintosh second mouse button simulate holding key clicking mouse going using squeak recommend investing mouse button conﬁgure mouse work way want using preference operating mouse driver squeak preference customising mouse meta key keyboard ﬁnd preference browser open item world menu preference browser general category contains option swapmousebuttons switch yellow blue function figure keyboard category option duplicate various command key open preference browser ﬁnd swapmousebuttons option using search box world menu click squeak background world menu squeak menu modal leave screen long wish clicking quick tour squeak figure preference browser push pin icon corner notice menu appear click mouse disappear release stay visible make selection click outside menu menu grabbing title bar world menu provides simple mean access tool squeak offer closer look menu list core tool squeak including browser available class browser workspace encounter coming quitting restarting squeak session figure open dialogue world menu saving quitting restarting squeak sion bring world menu select new morph navigate alphabetical list blob hand blob clicking start figure instance blobmorph figure save dialogue select world enter sbe click accept s button select world quit location original image change ﬁles ﬁnd new ﬁles called represent working state squeak image moment told squeak save quit wish ﬁles like disk quick tour squeak operating need copy link virtual machine ﬁle start squeak newly created ﬁle ﬁnd precisely state quit squeak blob continues left start squeak ﬁrst time squeak virtual machine load image ﬁle provide ﬁle contains snapshot large number object including vast code large number programming tool object work squeak send message object create new object object die memory reclaimed quit squeak normally save snapshot contains object save normally overwrite old image ﬁle new snapshot alternatively save image new just did addition ﬁle ﬁle ﬁle contains log change source code using standard tool time need worry ﬁle shall ﬁle useful recovering error replaying lost change later image working descendant original image created late object decade think image key mechanism storing managing software project wrong shall soon better tool managing code sharing software developed team image useful learn cavalier creating throwing away image tool like monticello offer better way manage version share code developer blob collection colored dot collectively called blob s morphic halo dot called handle click pink handle containing cross blob away try time blob squirm try away mouse workspace transcript figure squeak tool ﬂap workspace transcript close open window click tool tab far right squeak environment open tool ﬂap icon key tool squeak figure drag transcript workspace position resize transcript workspace window workspace just overlap transcript resize window dragging corner window bring morphic handle dragging yellow right handle time window active label highlighted mouse cursor window wish quick tour squeak transcript object used logging message kind console note transcript terribly slow open write certain operation time slower addition transcript experience strange problem multiple object write concurrently transcript workspace useful typing snippet smalltalk code like experiment use workspace simply typing arbitrarily text like remember list instruction use image workspace used hold documentation captured image case standard image downloaded earlier figure type following text workspace transcript world cr try workspace various point text just typed notice entire word entire string text selected depending click select text typed select d notice text hello world appears transcript window figure d menu item d tell keyboard shortcut iscmd section just evaluated ﬁrst smalltalk expression just sent message world transcript object followed message cr carriage return transcript decided message looked method handling crmessages reacted appropriately talk smalltalkers quickly notice generally use expression like operation invoke method instead say send message reﬂects idea object responsible action tellan object instead politely askit sending message object selects appropriate method responding message keyboard shortcut want evaluate expression bring menu instead use keyboard shortcut figure doing expression parenthesized expression menu depending platform press modiﬁer key control alt command meta indicate generically cmd evaluate expression workspace using keyboard shortcut cmd addition noticed print inspect explore let s quick look type expression workspace keyboard shortcut surprised saw happen just did send message argument number normally result computed returned workspace did know answer simply threw answer away want result print instead print actually compiles expression executes sends message printstring result display resulting string select print cmd time result expect figure quick tour squeak figure print use notation convention book indicate particular squeak expression yield given result print delete highlighted text squeak selected just press delete key select time inspect cmd new window called inspector heading smallinteger figure inspector extremely useful tool allow browse interact object title tell instance class smallinteger left panel allows browse instance variable object value shown right panel panel used write expression send message object figure inspecting object type self squared panel inspector print close inspector type expression object workspace time explore cmd uppercased time window labelled object containing text object click triangle open figure figure exploring object explorer similar inspector offer tree view complex object case object looking object class directly information stored class easily navigate part squeakmap squeakmap catalog package application braries download image package hosted different place world maintained different people work speciﬁc version squeak open world package loader need internet connection work quick tour squeak squeakmap loader window appear figure left long list package ﬁeld corner search pane used ﬁnd want list type sokoban search pane hit return key clicking triangle package reveals list available version package version selected information appears hand pane navigate latest version sokoban mouse list pane use menu install selected package squeak complains sure version game work image just say yes ahead notice package installed marked asterisk list squeakmap package loader figure using squeakmap install sokoban game installing package start sokoban evaluating sokobanmorph random openinworld workspace pane squeakmap package loader provides iou way ﬁlter list package choose package compatible particular version squeak game browser browser browser key tool used programming shall interesting browser available squeak basic ﬁnd image open browser selecting world browser dragging browser tool ﬂap figure browser showing printstring method class object browser figure title bar indicates browsing class object browser ﬁrst open pane leftmost ﬁrst pane list known category group related class click category cause second pane list class selected category browser differ described book using image different default browser faq quick tour squeak select class object remaining pane ﬁlled text pane display protocol currently selected class convenient grouping related method protocol selected method fourth pane select printing protocol scroll ﬁnd fourth pane method related printing select printstring method pane source code printstring method shared object override finding class way ﬁnd class squeak ﬁrst just seen know guess category navigate using browser second way send browse message class asking open browser suppose want browse class boolean type boolean browse workspace browser open boolean class figure keyboard shortcut cmd browse use tool ﬁnd class select type cmd use keyboard shortcut browse class boolean notice boolean class selected protocol method selected pane appear pane figure upper contains class deﬁnition ordinary smalltalk message sent parent class asking create subclass class object asked create subclass named boolean instance variable class variable pool dictionary class boolean category lower pane show class comment piece plain text ing class click class pane class comment dedicated class figure browser showing deﬁnition class boolean like explore squeak s inheritance hierarchy hierarchy browser help useful looking unknown subclass superclass known class hierarchy browser like browser list class arranged indented tree mirroring inheritance hierarchy click hierarchy browser class boolean selected open hierarchy browser showing superclass subclass ofboolean navigate immediate superclass subclass boolean fastest way ﬁnd class search ple suppose looking unknown class represents date time mouse category pane browser type cmd select ﬁnd class f menu type time dialog box accept presented list class name contain time figure choose say time browser class comment suggests class useful want browse select text pane type cmd quick tour squeak figure searching class note type complete correctly capitalized class ﬁnd dialog browser directly class showing list option finding method guess method method easily class example interested current time expect method called containing substring method ﬁnder help drag method ﬁnder icon tool ﬂap type left pane accept just press return key method ﬁnder display list method name contain substring scroll nowitself cursor list type n trick work scrolling window select pane show class deﬁne method shown figure selecting open browser time good idea method exists idea called method ﬁnder help example suppose like ﬁnd method turn string upper case example translate new method figure method ﬁnder showing class deﬁne method named type method ﬁnder press return key shown figure method ﬁnder suggest method doe want asterisk beginning line right pane method ﬁnder indicates method actually used obtain requested result asterisk string asuppercase let know method asuppercase deﬁned class string executed returned result wanted method asterisk just method one returned expected result character asuppercase executed example character object use method ﬁnder method argument example looking method ﬁnd greatest common factor integer try example method ﬁnder multiple example narrow search space help text pane explains deﬁning new method advent test driven changed way write code idea test driven development called tdd beck test driven development example isbn quick tour squeak figure finding method example behaviour driven development write test deﬁnes desired behaviour code write code write code satisﬁes test suppose assignment write method say loudly emphasis exactly mean good method make sure programmer maintain method future unambiguous description answer question giving example send message shout string don t panic result don t panic make example use turn test method method test shout method testshout self assert t panic shout t panic create new method squeak decide class method belong case shout method testing class string corresponding test convention class called stringtest open browser class stringtest select appropriate protocol method case test converting shown figure highlighteddeﬁning new method figure new method template class stringtest text pane template reminds smalltalk method look like delete enter code method typed text browser notice pane outlined red reminder pane contains unsaved change select accept s menu pane just type cmd compile save method method called shout browser ask conﬁrm really want suggest name intended figure quite useful merely typing mistake case really domean shout method create conﬁrm selecting ﬁrst option menu choice shown figure run newly created test open sunit testrunner dragging tool ﬂap selecting world runner leftmost pane bit like pane browser left pane contains list category s restricted category contain test class select pane right quick tour squeak figure accepting testshout method class stringtest class category includes class stringtest name class selected click run selected run test figure running string test message like shown figure indicates error running test list test gave rise error shown right pane stringtest testshout culprit note stringtest testshout smalltalk way identifying testshout method stringtest class click line text erroneous test run time way error happen messagenotunderstood bytestring shout new method window open error message smalltalk ger figure look debugger use chapter figure debugger error course exactly expected running test generates error haven t written method tell string shout s good practice make sure test fails conﬁrms set testing machinery correctly new test actually run seen error abandon running test close debugger window note smalltalk deﬁne missing method using create button edit method debugger proceed test let s deﬁne method make test succeed select class string browser select converting protocol type text method method creation template accept note type ˆ method shout method shout asuppercase comma string concatenation operation body method appends exclamation mark version string object shout message sent squeak expression follows answer returned method case new concatenated string doe method work let s run test click run selected test runner time quick tour squeak green bar text indicating test ran failure error green s good idea save work break right figure shout method deﬁned class string chapter summary chapter introduced squeak environment shown use major tool browser method ﬁnder test runner seen little squeak s syntax understand running squeak consists virtual machine asources ﬁle image change ﬁles change record snapshot running restore squeak image ﬁnd exactly state running object saved image squeak designed work mouse button known red yellow blue button don t mouse use modiﬁer key obtain effect green bar image contains test bug need ﬁxed don t worry squeak constantly summary use red button squeak background bring world menu launch various tool launch tool thetools ﬂap right squeak screen tool writing evaluating snippet code use store arbitrary text use keyboard shortcut text workspace tool evaluate code important cmd print cmd inspect cmd explore cmd browse cmd squeakmap tool loading useful package internet browser main tool browsing squeak code developing new code test runner tool running unit test support test driven ﬁrst application chapter develop simple game quinto way demonstrate tool squeak programmer use struct debug program program exchanged developer browser object tor debugger monticello package browser development smalltalk efﬁcient ﬁnd spend far time actually writing code far managing development process partly smalltalk language simple partly tool make programming environment integrated language quinto game figure quinto game board user just clicked mouse shown cursor use squeak s programming tool build simple game called quinto game board shown figure ﬁrst application consists rectangular array light yellow cell click cell mouse surrounding cell turn blue click toggle light yellow object game turn blue cell possible quinto game shown figure kind object game board individual cell object squeak code implement game contain class game cell deﬁne class using squeak programming tool creating new class category seen browser chapter learned navigate class method saw deﬁne new method create category class open browser category pane select add item figure adding gory figure plate type new category use dialog box click accept just press return key new category created positioned end category list selected class sbecell isting category ﬁrst new category positioned immediately ahead selected deﬁning class sbecell course class new category main editing pane display template make easy create new class figure template show smalltalk expression sends message class called object asking create subclass called nameofsubclass new class variable belong category simply modify template create class really want modify class creation template follows replace object bysimpleswitchmorph replace nameofsubclass bysbecell add mouseaction list instance variable result look like class class deﬁning class sbecell simpleswitchmorph subclass sbecell instancevariablenames classvariablenames pooldictionaries category quinto new deﬁnition consists smalltalk expression sends message existing class simpleswitchmorph asking create subclass called sbecell actually sbecell doe exist passed argument symbol sbecell stand class create tell instance new class mouseaction instance variable use deﬁne action cell mouse click point created note border class template pane changed red figure mean areunsaved change actually send message accept accept new class ﬁrst application figure template select accept use shortcut cmd save message sent simpleswitchmorph cause new class compiled class deﬁnition accepted class created appear class pane browser figure editing pane show class deﬁnition small pane remind write word describing purpose class called class comment quite important write programmer level overview purpose class smalltalkers high value readability code detailed comment method unusual philosophy code speak doesn t refactor doe class comment need contain detailed description class word describing overall purpose vital programmer come know spend time looking class type class comment sbecell accept improve later adding method class let s add method class select protocol protocol pane template method creation editing pane select replace text method method class figure class sbecell method initializing instance sbecell super initialize self label self borderwidth bound corner offcolor color paley ellow oncolor color paleblue darker self usesquarecorners self turnoff note character line separate single quote double quote denotes string accept method deﬁnition doe code won t detail s rest book quick preview let s line line notice method called initialize signiﬁcant convention class deﬁnes method named initialize called right object created evaluate sbecell new message initialize sent automatically newly created object ﬁrst application method used set state object typically set instance variable exactly doing ﬁrst thing method doe line execute initialize method superclass simpleswitchmorph idea ited state properly initialized initialize method superclass good idea initialize inherited state sending super initialize doing don t know exactly simpleswitchmorph s initialize method don t care s fair bet set instance variable hold reasonable default value better risk starting unclean state rest method set state object sending self label example set label object string expression corner probably need explanation represents point object xandycoordinates set fact sends message number argument effect number ask point class create new instance coordinate send newly created point message corner cause create rectangle corner newly created rectangle assigned bound variable inherited superclass note origin squeak screen left nate increase downwards rest method art writing good smalltalk code pick good method name smalltalk code read like kind pidgin english able imagine object talking saying self use square corner self turn inspecting object test effect code written creating new sbecell object inspecting open workspace type expression sbecell new inspect pane inspector show list instance variable select try bound value instance variable shown right pane use inspector change value instance variable change value bound corner accept object figure inspector used examine sbecell object pane inspector s useful cause workspace selfis bound object inspected type text self openinworld pane cell appear corner screen exactly bound say appear cell bring morphic halo cell brown handle resize yellow handle notice bound reported inspector change figure resizing ﬁrst application delete cell clicking xin pink handle deﬁning class sbegame let s create class need game sbegame make class deﬁnition template visible browser main window clicking twice class category displaying deﬁnition sbecell clicking instance button edit code read follows accept class deﬁning sbegame class borderedmorph subclass sbegame instancevariablenames classvariablenames pooldictionaries category quinto subclass borderedmorph morph superclass graphical shape squeak surprise borderedmorph amorph border insert name instance variable quote second line let s just leave list let s deﬁne initialize method sbegame type following browser method sbegame try accept method initializing game samplecell width height n super initialize n self cellsperside samplecell sbecell new width samplecell width height samplecell height self bound extent width n height n self borderwidth cell matrix new n tabulate j self newcellat j squeak complain doesn t know meaning term squeak tell doesn t know message cellsperside suggests number correction case spelling class sbegame figure squeak ing unknown selector figure declaring new instance variable butcellsperside mistake just method haven t deﬁned minute just select ﬁrst item menu conﬁrms really meant cellsperside squeak complain doesn t know meaning cell offer number way ﬁxing choose declare instance want cell instance variable finally squeak complain message newcellat sent line mistake conﬁrm message look class deﬁnition clicking instance button browser modiﬁed include instance variable cell let s look initialize method line samplecell width height n clares temporary variable called temporary variable cause scope lifetime limited method temporary ables explanatory name helpful making code readable smalltalk special syntax distinguish constant variable fact variable really constant line deﬁne constant big game board big hold integral number cell big draw border cell right number don t know did probably change mind later delegate responsibility knowing number method cellsperside write minute s sending ﬁrst application cellsperside message deﬁne method squeak asked conﬁrm correct cancel accepted method body initialize don t actually good practice write term method haven t deﬁned wasn t started writing initialize method realized needed point meaningful interrupting ﬂow fourth line us method smalltalk self cellsperside sends message cellsperside toself object response number cell game board assigned line create new sbecell object assign width height appropriate temporary variable line set bound new object worrying detail just just believe expression parenthesis creates square origin corner point corner far away allow space right number cell line set sbegame object s instance variable cell newly created matrix right number row column sending message new tabulate matrix class class object send message know new tabulate take argument colon argument right colon used language argument inside parenthesis weird ﬁrst don t panic s syntax turn good syntax method used explain role argument example pretty clear matrix row column row column row column matrix new n tabulate j self newcellat j creates new initializes element initial value element depend coordinate j thelement initialized result evaluating self newcellat j s initialize accept message body want opportunity formatting don t hand menu select browser accept method course cancel cmd s letter l don t like result alternatively set browser use automatically show code use button button bar adjust view ﬁnd using lot s useful know canorganizing method protocol hold shift key click directly bring menu organizing method protocol deﬁne method let s quick look pane browser way ﬁrst pane browser let categorize class overwhelmed long list class name second pane pane let categorize method overwhelmed long list method name fourth pane category method called protocol method class extra level hierarchy provided protocol really necessary browser offer virtual protocol surprised learn contains method class figure categorize uncategorized method followed example pane contain protocol unclassiﬁed select yellow button menu item categorize uncategorized ﬁx initialize method new protocol called initialization doe squeak know right protocol general squeak t know case initialize method superclass squeak assumes initialize method category ﬁrst application ﬁnd squeak initialize method initialization protocol s probably loaded package called automaticmethodcategorizer image typographic convention smalltalkers frequently use notation identify class method belongs example cellsperside method class sbegame referred sbegame cellsperside indicate notsmalltalk syntax use special symbol instead method appear text sbegame cellsperside method book write method form course actually type code browser don t type class instead just make sure appropriate class selected class pane let s deﬁne method used sbegame initialize method initialization protocol method constant method sbegame cellsperside number cell game method hardly simpler answer constant advantage representing constant method program evolves constant depends feature method changed calculate value method initialization helper method sbegame newcellat j create cell position j add screen representation appropriate screen position answer new cell c origin c sbecell new origin self innerbounds origin self addmorph c position c width j c height c mouseaction self toggleneighboursofcellat j add method sbegame cellsperside andsbegame newcellat conﬁrm spelling new selector toggleneighboursofcellat mouseaction method protocol method answer new sbecell specialized position j matrix cell line deﬁnes new cell s mouseaction block self toggleneighboursofcellat j effect deﬁnes callback behaviour perform mouse clicked corresponding method need deﬁned method callback method sbegame toggleneighboursofcellat j iftrue cell j togglestate self cellsperside iftrue cell j togglestate j iftrue cell j togglestate j self cellsperside iftrue cell j togglestate method toggle state cell north south west east cell j complication board ﬁnite make sure neighboring cell exists toggle state place method new protocol called game logic method simply click drag protocol figure figure drag method protocol complete quinto game need deﬁne method class sbecell handle mouse event method typical setter method sbecell mouseaction ablock ablock method doe set cell s mouseaction variable argument answer new value method change value instance variable way called setter method ﬁrst application method answer current value instance variable called getter method used getters setter programming guages expect method called setmouseaction getmouseaction smalltalk convention different getter variable get setter named similarly trailing mouseaction mouseaction collectively setter getters called accessor method convention placed accessing protocol smalltalk instance variable private object owns way object read write variable smalltalk language accessor method like class sbecell deﬁne sbecell mouseaction cessing protocol finally need deﬁne method mouseup called matically gui framework mouse button released mouse cell screen method event handler sbecell mouseup anevent mouseaction value add method sbecell mouseup categorize uncategorized method method doe send message value object stored instance variable mouseaction recall sbegame newcellat j assigned following code fragment mouseaction self toggleneighboursofcellat j sending value message cause code fragment evaluated consequently state cell toggle let s try code s quinto game complete followed step able play game consisting just class method fact instance variable accessed subclass s try code workspace type sbegame new openinworld game open able click cell work theory click cell notiﬁer window called predebugwindow window appears error message depicted figure say messagenotunderstood sbegame togglestate figure bug game cell clicked happened ﬁnd let s use smalltalk s powerful tool debugger click debug button notifer window debugger appear upper debugger window execution stack showing active method selecting middle pane smalltalk code executed method triggered error highlighted click line labelled sbegame toggleneighboursofcellat near debugger execution context method error occurred figure debugger small inspector window left inspect object receiver message caused selected method execute look value instance variable right inspect object represents currently executing method look value method s parameter temporary variable using debugger execute code step step inspect object parameter local variable evaluate code just ﬁrst application figure debugger method toggleneighboursofcell lected surprisingly used debugger change code debugged smalltalkers program debugger time browser advantage method writing executed real parameter actual execution context case ﬁrst line panel togglestate message sent instance sbegame clearly instance sbecell problem likely initialization cell matrix browsing code sbegame initialize show cell ﬁlled return value newcellat look method return statement default method return self case newcellat instance sbegame close debugger window add expression end method sbegame newcellat return method method fixing bug sbegame newcellat j create cell position j add screen representation appropriate screen position answer new cell c origin sharing smalltalk code c sbecell new origin self innerbounds origin self addmorph c position c width j c height c mouseaction self toggleneighboursofcellat j recall chapter construct return value method smalltalk obtain typing ﬁx code directly debugger window click proceed continue running application case bug initialization object method failed easiest thing close debugger window destroy running instance game halo create new sbegame new openinworld game work properly saving sharing smalltalk code quinto game working probably want save share friend course save squeak image ﬁrst program running friend probably code image don t want use image need way getting source code squeak image programmer bring theirs simplest way doing ﬁling code button menu category pane option ﬁle category resulting ﬁle human readable really intended computer human email ﬁle friend ﬁle squeak image using ﬁle list browser category ﬁleout content ﬁnd ﬁle called folder disk image saved look ﬁle text editor open fresh squeak image use file list tool ﬁle ﬁleout verify game work new ﬁrst application figure filing squeak source code monticello package ﬁleouts convenient way making snapshot code written decidedly old school just source project ﬁnd convenient maintain code repository using squeak programmer ﬁnd convenient manage code using monticello package package represented ﬁles name ending actually bundle contain complete code package using monticello package browser save package tory various type server including ftp http server just write package repository local ﬁle directory copy package cached local folder monticello let save multiple version program merge version old version browse ences version fact monticello distributed revision control mean allows developer save work different place single repository case cv subversion send ﬁle email recipient place folder able use monticello browse load sharing smalltalk code open monticello browser selecting world browser pane browser figure list ticello repository include repository code loaded image using figure monticello browser list monticello browser repository local directory called package cache cache copy package loaded published network local cache really handy let local history allows work place internet access access slow want save remote repository frequently saving loading code monticello monticello browser list package version loaded image package modiﬁed loaded marked asterisk referred dirty package select package list repository restricted just repository contain copy selected package package think package group class method category share preﬁx code quinto game class category called refer sbe quinto ﬁrst application add sbe quinto package monticello browser using button type sbe quinto squeaksource sourceforge squeak think best way save code share create account project squeaksource server squeaksource like web http monticello server let manage project public squeaksource server http copy code related book stored http look project web browser s lot productive inside squeak using monticello browser let manage package open web browser create account create register project quinto game squeaksource information use adding repository using monticello browser project created squeaksource tell squeak use sbe quinto package selected click button monticello browser list different type repository available add squeaksource repository select http presented dialog provide necessary information server copy presented template identify squeaksource project paste monticello supply initial password mchttprepository location y ourproject user yourinitials password yourpassword provide initial password string load project able update summary mchttprepository location y ourproject user password accepted template new repository listed monticello browser figure browsing monticello repository click save button save ﬁrst version quinto game squeaksource load package image ﬁrst select particular version repository browser open using open button menu selected version load image open sbe quinto repository just saved monticello capability discussed depth chapter look documentation monticello athttp chapter summary chapter seen create category class method use browser inspector debugger monticello ﬁrst application category group related class new class created sending message superclass protocol group related method new method created modiﬁed editing deﬁnition browser accepting change inspector offer simple gui inspecting interacting arbitrary object browser detects usage undeclared method ables offer possible correction initialize method automatically executed object created squeak initialization code debugger provides gui inspect modify state running program share source code ﬁling category better way share code use monticello manage external repository example deﬁned squeaksource syntax nutshell squeak like modern smalltalk dialect adopts syntax close syntax designed program text read aloud kind pidgin english smalltalk includes class iftrue transcript class superclass squeak s syntax minimal essentially syntax sending message expression expression built small number primitive element keywords syntax control structure declaring new class instead nearly achieved sending message object instance instead control structure smalltalk sends message like iftrue boolean object new class created sending message superclass syntactic element expression composed following building block reserved keywords self super nil true false thiscontext ii constant expression literal object including number character string symbol array iii variable declaration iv assignment v block closure vi message example various syntactic element table local variable startpoint variable identiﬁer convention identiﬁers composed word camelcase word ﬁrst starting upper case letter ﬁrst letter syntax nutshell syntax represents startpoint variable transcript global variable self decimal integer binary integer ﬂoating point number exponential notation character hello string hello hello symbol hello literal array dynamic array comment comment x y declaration variable xand y x assign x x y block evaluates primitive virtual machine primitive annotation factorial unary message binary message raisedto modulo keyword message return value true transcript hello transcript cr expression separator transcript hello cr message cascade table squeak syntax nutshell instance variable method block argument temporary variable lower case indicates reader variable private scope shared variable identiﬁers start upper case letter global variable class variable pool dictionary class name transcript global variable instance class transcriptstream receiver selfis keyword refers object inside rent method executing receiver object normally received message caused method execute selfis called assign integer addition ordinary decimal integer like squeak alsosyntactic element provides radix notation radix binary equal decimal floating point number speciﬁed exponent character dollar sign introduces literal character ai literal instance character obtained sending appropriately named message character class character space character tab string single quote used deﬁne literal string want string quote inside just double quote g day symbol like string contain sequence character unlike string literal symbol guaranteed globally unique symbol object hello multiple string object value array deﬁned surrounding erals parenthesis constant example true false abc literal array element integer array containing booleans symbol abc array curly brace deﬁne dynamic array element expression separated period deﬁnes array element result evaluating notation peculiar squeak dialect smalltalk smalltalks build dynamic array explicitly comment enclosed double quote hello comment string ignored squeak compiler comment span multiple line local variable deﬁnitions vertical bar declaration local variable method block assignment object variable used instead unfortunately ascii character appear underscore unless using special font x use representation deprecated squeak block square bracket deﬁne block known block closure lexical closure object representing function shall block argument local syntax nutshell primitive primitive denotes invocation virtual machine itive primitive vm primitive smallinteger code following primitive executed primitive fails squeak syntax used method annotation unary message consist single word like factorial sent receiver like binary message operator like sent receiver taking single argument receiver argument keyword message consist multiple keywords like raisedto modulo ending colon taking single argument sion raisedto modulo message selector raisedto modulo take argument following colon send message receiver method used return value method type obtain sequence statement period statement separator putting period expression turn dent statement cascade semicolon used send cascade message single receiver transcript cr ﬁrst send keyword sage receiver transcript send unary message crto receiver class number character string boolean described chapter smalltalk reserved keywords nil true false self super thiscontext called predeﬁned assigned true false nilare constant value self super thiscontext vary dynamically code executed trueand false unique instance boolean class true false chapter detail selfalways refers receiver currently executing method super refers receiver current method send message super change start frommessage sends superclass class containing method us super detail chapter nilis undeﬁned object unique instance class undeﬁnedobject instance variable class variable local variable initialized nil thiscontext represents frame stack word represents currently executing methodcontext orblockcontext normally programmer essential implementing development tool like debugger used implement exception handling continuation message sends kind message squeak message argument factorial sends message factorial object message exactly argument message argument object message arbitrary number argument raisedto modulo sends message consisting message selector raisedto modulo argument object unary message selector consist alphanumeric character start lower case letter binary message selector consist character following set keyword message selector consist series alphanumeric keywords keyword start letter end colon unary message highest precedence binary message ﬁnally keyword message raisedto send factorial send ﬁnally send raisedto recall use notation result result evaluating syntax nutshell precedence aside evaluation strictly left right parenthesis used alter order evaluation message sends composed period sequence expression cause expression series evaluated statement transcript cr transcript world transcript cr send crto transcript object send world ﬁnally send cr series message sent receiver expressed succinctly cascade receiver speciﬁed just sequence message separated transcript cr world cr precisely effect previous example method syntax expression evaluated squeak example workspace debugger browser method normally deﬁned browser window debugger method ﬁled external medium usual way program squeak program developed method time context given class class deﬁned sending message existing class asking create subclass special syntax required deﬁning class method linecount class string usual convention refer method classname methodname method string linecount block syntax method line count string linecount answer number line represented receiver cr add line cr count cr character cr count min self size self c c cr iftrue count count syntactically method consists method pattern containing linecount ments example occur convention explains method doe declaration local variable crand count number expression separated dot evaluation expression preceded typed cause method exit point returning value expression method terminates explicitly returning expression implicitly return self argument local variable start lower case letter name starting letter assumed global variable class name like character example simply global ables referring object representing class block syntax block provide mechanism defer evaluation expression block essentially anonymous function block evaluated sending message value block answer value expression body unless explicit return case doe answer value block parameter declared leading colon vertical bar separate parameter declaration s syntax nutshell block evaluate block parameter send message value argument block sent value value argument x value x y x value value block parameter use valuewitharguments pas argument array block large number parameter sign design problem block declare local variable surrounded cal bar just like local variable declaration method local declared argument x y z z x z value value block actually lexical closure refer variable surrounding environment following block refers variable x enclosing environment x x y x value block instance class blockcontext mean object assigned variable passed argument just like object caveat current version squeak doe actually support true block argument actually simulated porary variable enclosing method new compiler support block closure worked used default somewhat obscure situation problem lead ing conﬂicts situation arises squeak based early implementation smalltalk encounter problem look sender method ﬁxtemps load closure compiler conditionals loop nutshell smalltalk offer special syntax control construct instead typically expressed sending message booleans number collection block argument conditionals expressed sending message iftrue iffalse oriftrue iffalse result boolean expression chapter moreconditionals loop nutshell booleans iftrue iffalse loop typically expressed sending message block integer collection exit condition loop repeatedly evaluated block boolean value example procedural loop n n whiletrue n n whilefalse revers exit condition n n whilefalse n n timesrepeat offer simple way implement ﬁxed iteration n timesrepeat n n send message number act initial value loop counter argument upper bound block take current value loop counter argument result string new n result result n printstring iterators collection comprise large number different class support protocol important message iterating collection include select reject detect inject message deﬁne iterators allow write compact code aninterval collection let iterate sequence number starting point end represents interval collection send message argument block evaluated element syntax nutshell result string new n result result n printstring collect build new collection size transforming ment collect select reject build new collection containing subset element satisfying boolean block condition detect return ﬁrst element satisfying condition don t forget string collection iterate character select char char isvowel reject char char isvowel thr detect char char isvowel e finally aware collection support style foldoperator inject method let generate tive result using expression start seed value injects element collection sum product typical example inject sum sum equivalent collection chapter primitive pragmas smalltalk object happens sending message certain point hit rock certain object work invoking virtual machine primitive example following implemented primitive memory allocation new new bit manipulation bitand bitor bitshift pointer integer arithmetic array access primitive invoked syntax primitive anumber method invokes primitive include smalltalk code evaluated primitive fails code smallinteger primitive fails sion super evaluated summary method primitive method primitive add receiver argument answer result smallinteger fail argument result smallinteger essential lookup object documentation whatisaprimitive primitive squeak angle bracket syntax used method annotation called pragmas chapter summary reserved identiﬁers called true false nil self super thiscontext ﬁve kind literal object number character string symbol hello array hello delimited single quote comment double quote quote inside string double unlike string symbol guaranteed globally unique deﬁne literal array use deﬁne dynamic array note kind message unary asstring array new binary keyword o message send sequence message sent target separated orderedcollection new add calvin add hobbes variable declared vertical bar use assignment work deprecated squeak x consist message sends cascade assignment sibly grouped parenthesis statement expression separated period closure expression enclosed square bracket block argument contain temporary variable pressions block evaluated send block syntax nutshell value message correct number argument x x value dedicated syntax control construct just message conditionally evaluate block smalltalk includes class iftrue transcript class superclass chapter understanding message syntax smalltalk s message syntax extremely simple tional time getting used chapter offer guidance help acclimatized special syntax sending message feel comfortable syntax choose skip chapter come later identifying message smalltalk syntactic element listed chapter message send deﬁne operator like class operator precedence change arity method binary message way unary different overloading smalltalk order message sent determined kind message just kind message unary binary keyword message unary message sent ﬁrst binary message ﬁnally keyword one language parenthesis used change order evaluation rule make smalltalk code easy read possible time think rule computation smalltalk message passing correctly identifying message crucial following terminology help message composed message selector understanding message syntax message argument message sent receiver combination message receiver called message send shown figure total maxreceivermessage selectormessage argumentscolor r g b message messagea message send figure message composed receiver method selector set argument amorph color color amorph color color yellow composed sage sends color yellow amorph color color yellow message sent receiver single literal block variable result evaluating message help identify receiver message underline surround message send ellipse number message sends starting ﬁrst sent help order message sent figure represents message sends color yellow amorph color color yellow ellipsis message send color yellow executed ﬁrst ellipse numbered receiver amorph receives message color color receives message yellow receiver underlined receiver ﬁrst element message message send message send color yellow receiver result message example message pen new receiver message object returned message send pen new case message sentthree kind message message send message type result color yellow unary creates color apen keyword receiving pen move ward pixel binary number receives message number browser open unary open new browser pen new unary keyword pen created moved pixel apen keyword binary receiving pen move ward pixel table example message sends type object called receiver result message send table show example message sends note message sends argument unary message like open argument single keyword binary message like argument simple message composed one color yellow simple message sent object message send apen composed message sent sent apen argument result ﬁrst message receiver expression assignment message send literal return object pen new message sent object result execution message send pen new kind message smalltalk deﬁnes simple rule determine order message sent rule based distinction different kind message message message sent object information example factorial factorial unary sage message message consisting operator arithmetic binary involve object understanding message syntax receiver argument object example binary message sent receiver argument message message consisting keywords ending colon taking argument example inanarray keyword take argument keyword take argument unary message unary message message require argument follow syntactic template receiver messagename selector simply succession character containing factorial open class float true false object object class class object object class unary message message require argument follow syntactic template receiver selector binary message binary message message require exactly argument andwhose selector consists sequence character set note allowed parsing reason creates point object false true equality just binary message fraction exact false equal fraction object kind message binary message message require exactly argument andwhose selector composed sequence character possible follow syntactic template receiver selector ment keyword message keyword message message require argument selector consists keywords ending keyword message follow syntactic template receiver selectorwordone wordtwo argumenttwo keyword take argument r g b method argument playfilenamed method argument method argument create instance class color use method r g b color r g b creates color red note colon selector java smalltalk method invocation color r g b written creates interval color r g b color red creates new color true nums array newfrom nums keyword based message message require argument selector consists keywords ending colon follow syntactic template receiver selectorwordone argumentone wordtwo understanding message syntax message composition kind message different precedence allows composed elegant way message sent ﬁrst binary message ﬁnally keyword message message parenthesis sent prior kind message message kind evaluated left right rule lead natural reading order want sure message sent order want parenthesis shown figure ﬁgure message yellow unary message message color keyword message fore message send color yellow sent ﬁrst message sends parenthesis sent ﬁrst putting unnecessary parenthesis color yellow just emphasizes sent ﬁrst rest section illustrates point apen color color color color yellow equivalent figure unary message sent ﬁrst color yellow sent return color object passed argument message apen color unary binary keywords unary message sent ﬁrst binary message ﬁnally keyword message say unary message higher priority kind message rule unary message sent ﬁrst binary message ﬁnally keyword based message unary binary keyword example smalltalk s syntax rule generally ensure message sends read natural way message composition factorial factorial raisedto unfortunately rule bit simplistic arithmetic message sends need introduce parenthesis want impose priority binary operator following example bit complex offer nice illustration complicated smalltalk expression read natural way aclass aclass methoddict key select amethod aclass amethod isabstract value identityset iftrue iftrue iffalse iffalse iffalse iftrue want know method boolean class ask argument class aclass key method dictionary select method class abstract bind argument aclass concrete value boolean need parenthesis send binary message selects method class sending unary message isabstract method result show method implemented boolean s concrete subclass true false example message apen color color yellow unary sage yellow sent class color keyword message color sent apen unary message sent ﬁrst message send color yellow sent return color object passed argument message apen color acolor shown example figure show graphically message sent example decomposing evaluation apen color color yellow apen color color yellow color yellow unary message sent ﬁrst acolor apen color acolor keyword message sent fact written equivalent simpler expression boolean methoddict select isabstract thencollect understanding message syntax example message apen binary message keyword message binary message sent prior keyword message sent ﬁrst message sent object return number message apen sent argument example show message send executed example decomposing apen apen binary message ﬁrst apen keyword message apen figure binary message sent keyword message pen new decomposing pen new example exercise let decompose evaluation message pen new composed unary keyword binary message figure parenthesis ﬁrst rule parenthesised message sent prior message msg unary binary keyword tan rounded asstring tan rounded asstring true parenthesis needed need parenthesis force sending lowmajorscaleon composition fmsound lowmajorscaleon fmsound clarinet play send message clarinet fmsound class create clarinet sound send sound fmsound argument lowmajorscaleon keyword message play resulting sound example message extent center return center rectangle left point size example show message decomposed sent message parenthesis sent contains binary message sent ﬁrst return point keyword message extent sent return rectangle finally unary message center sent rectangle point returned evaluating message parenthesis lead error object understand message center example example parenthesis extent center binary apoint binary anotherpoint apoint extent anotherpoint keyword arectangle arectangle center unary left right know message different kind priority handled ﬁnal question addressed message priority sent sent left right note saw behaviour example point creation message sent ﬁrst rule message kind order evaluation left right example message sends pen new message unary sage leftmost pen new sent ﬁrst return newly created pen second message sent shown figure understanding message syntax pen new figure decomposing pen new arithmetic inconsistency message composition rule simple result inconsistency execution arithmetic message sends expressed term binary message common situation extra parenthesis needed binary message sent left right example message sends binary message smalltalk speciﬁc priority operation just binary message doe priority leftmost message sent ﬁrst sent result shown example example decomposing priority binary message leftmost message evaluated ﬁrst rule arithmetic sent ﬁrst shown example result message send result unexpected follows directly rule usedmessage composition equivalent topica pensize pica pensize pensize pica pensize bot new equivalent tobot new figure equivalent message using parenthesis send message price pay simplicity smalltalk model correct result use parenthesis message enclosed parenthesis evaluated ﬁrst message send return result shown example example decomposing message surrounded parenthesis evaluated ﬁrst sent prior produce correct behaviour smalltalk arithmetic operator different priority just binary message doe priority use parenthesis obtain desired result note ﬁrst rule stating unary message sent prior binary keyword message avoids need explicit parenthesis table show message sends written following rule equivalent message sends rule exist message sends result effect return understanding message syntax implicit precedence explicitly parenthesized equivalent apen color color yellow apen color color yellow apen apen apen pensize apen pensize apen pensize apen pensize factorial factorial figure message sends fully parenthesized equivalent hint identifying keyword message beginner problem understanding need add parenthesis let s keywords message recognized compiler parenthesis character delimit distinct area area keyword message longest sequence word terminated cut character character surround word colon word participate keyword message local area deﬁned example distinct keyword message rotatedby magnify smoothing adict rotatingform rotateby angle magnify smoothing character delimit distinct area area keyword message longest sequence word terminated cut ters character surround word colon word participate keyword message local area identifying keyword message hint problem precedence rule start simply putting parenthesis want distinguish message having precedence following piece code doe require parenthesis message send x isnil unary sent prior keyword message iftrue x isnil iftrue following piece code requires parenthesis message includes iftrue keyword message ord orderedcollection new ord includes iftrue parenthesis unknown message includes iftrue sent collection use problem understanding use square bracket parenthesis basic principle use know time potentially zero expression evaluated expression create block closure object expression evaluated number time possibly zero depending context note expression message send variable literal assignment block conditional branch iftrue oriftrue iffalse require block following principle receiver argument whiletrue message require use square bracket know time receiver argument evaluated parenthesis hand affect order sending sage expression expression evaluated exactly x isready whiletrue y dosomething receiver argument block timesrepeat beeper beep argument evaluated block x isready iftrue y dosomething receiver evaluated block understanding message syntax expression sequence expression message sends assignment separated period evaluated sequence note period variable deﬁnition following expression value sequence value expression value returned expression ignored note period separator terminator ﬁnal period optional box box corner box containspoint true cascaded message smalltalk offer way send multiple message receiver using semicolon called cascade smalltalk jargon expression transcript transcript transcript equivalent transcript cr note object receiving cascaded message result message send fact receiver cascaded message receiver ﬁrst message involved cascade following example ﬁrst cascaded message setx sety followed cascade receiver cascaded message setx sety newly created point resulting evaluation point new notpoint subsequent message iszero sent receiver point new setx sety iszero false chapter summary message sent object named receiver result message summary unary message message require argument form receiver selector message message involve object receiver object andwhose selector composed character following list form receiver selector argument message message involve object contain colon character form receiver selectorwordone argumentone wordtwo argumenttwo unary message sent ﬁrst binary message ﬁnally keyword message message parenthesis sent message kind order evaluation left right smalltalk traditional arithmetic operator priority just binary message doe priority use parenthesis obtain different ii developing squeakchapter smalltalk object model smalltalk s programming model simple uniform object object communicate sending message simplicity uniformity source difﬁculty programmer used language chapter present core concept smalltalk object model particular discus consequence representing class object rule model smalltalk object model based set simple rule applied uniformly rule follows rule object rule object instance class rule class superclass rule happens message sends rule method lookup follows inheritance chain let look rule object mantra object highly contagious short working smalltalk start surprised smalltalk object model rule simplifes integer example truly object send message just object send yielding send factorial yielding big number representation factorial certainly different tation object code implementation factorial need fundamental consequence rule following class object furthermore class object really object send message inspect mean squeak truly reﬂective give great deal expressive power developer deep implementation smalltalk different kind object ordinary object instance variable passed reference small integer passed value indexable object like array hold contiguous portion memory beauty smalltalk normally don t need care difference kind object object instance class object class ﬁnd sending message class class smallinteger factorial largepositiveinteger class bytestring class array class point object new object class deﬁnes structure instance instance variable thebehavior instance method method called itsselector unique class class object object instance class follows class instance class class instance areevery object instance class class called metaclass create class matically creates metaclass metaclass deﬁnes structure behavior class instance time need think metaclasses happily ignore closer look metaclasses chapter instance variable instance variable smalltalk private instance contrast java allow instance variable known ﬁelds member variable accessed instance happens class say encapsulation boundary object java class smalltalk instance smalltalk instance class access s instance variable unless class deﬁnes accessor method language syntax provides direct access instance variable object actually mechanism called reﬂection doe provide way ask object value instance variable programming intended writing tool like object inspector sole purpose look inside object instance variable accessed instance od class deﬁnes method deﬁned subclass mean smalltalk instance variable similar tected variable java prefer say private considered bad style smalltalk access instance variable directly subclass example method point dist method computes distance receiver point instance variable xand yof receiver accessed directly method body instance variable point accessed sending message xand method distance point point dist apoint answer distance apoint receiver dx dy dx apoint x dy apoint y y dx dx dy dy smalltalk object model dist key reason prefer encapsulation encapsulation enables different implementation abstraction coexist example method point dist need know care argument apoint instance class receiver argument object represented polar coordinate record database computer distributed long respond message xand y code method work method method grouped protocol cate intent common protocol name established convention example accessing accessor method tionfor establishing consistent initial state object protocol private used group method seen outside prevents sending message implemented private method method access instance variable object smalltalk developer prefer access instance variable accessors practice value clutter interface class worse expose private state world instance class class object instance variable method class instance variable class od really different ordinary instance variable method class instance variable just instance variable deﬁned metaclass class method just method deﬁned metaclass class metaclass separate class instance largely irrelevant programmer concerned deﬁning behavior object class create reason browser help browse class class single thing side instance squeak method selector start string pvtare private pvtmessage sent toself pvtmethods used object instance class colorcolor classacolor figure browsing class metaclass class shown figure clicking instance button browse class color browse method executed message sent instance color like blue color pressing class button browse class color class method executed message sent class color example color blue sends message blueto class color ﬁnd method bluedeﬁned class color instance acolor color blue class method blue color blue acolor instance accessor method red acolor instance accessor method blue deﬁne class ﬁlling template proposed instance accept template creates just class deﬁned corresponding metaclass browse metaclass clicking class button metaclass creation template make sense edit directly list instance variable name class created clicking instance button let edit browse method possessed instance class subclass example figure method hueis deﬁned instance class color contrast class button let browse edit metaclass case color class smalltalk object model class method class method quite useful browse color class good ples kind method deﬁned class create instance class like color class blue perform utility function like color class showcolorcube typical occasionally ﬁnd class method used way convenient place utility method class executed having create additional object ﬁrst deed contain comment designed make easy execute browse method color class showcolorcube just inside quote comment color showcolorcube type cmd effect executing method select world display r undo effect familiar java class method similar static method uniformity smalltalk mean somewhat different java static method really just resolved procedure smalltalk class method method mean inheritance overriding work class method smalltalk don t work static method java class instance variable ordinary instance variable instance class set variable name instance subclass inherit name instance private set value story exactly class instance variable class private class instance variable subclass inherit class instance variable private copy variable just object don t share instance variable class subclass share class instance variable use class instance variable called count track instance create given class subclass count variable subclass instance counted separately example class instance variable shared subclass pose deﬁne class dogand hyena hyena inherits class instanceevery object instance class variable count dog class dog hyena object subclass dog instancevariablenames classvariablenames pooldictionaries category civ dog class instancevariablenames dog subclass hyena instancevariablenames classvariablenames pooldictionaries category civ suppose deﬁne class method dogto initialize count increment new instance created method keeping count new dog dog class initialize super initialize count dog class new count count new dog class count create new dogits count incremented hyena counted separately dog initialize hyena initialize dog hyena dog new dog dog new dog hyena new hyena smalltalk object model note class instance variable private class exactly way instance variable private instance class instance different object following immediate consequence class doe access instance variable instance instance class doe access class instance variable class reason instance initialization method deﬁned instance class access instance variable initialize class send initialization message possibly using accessors newly created instance similarly instance access class instance variable indirectly sending accessor message class java equivalent class instance variable java static variable like smalltalk class variable discus section subclass instance share static variable example deﬁning singleton singleton cal example use class instance variable class method ine like implement class webserver use singleton pattern ensure instance clicking instance button browser deﬁne class webserver follows class class singleton class object subclass webserver instancevariablenames classvariablenames pooldictionaries category clicking class button add instance variable uniqueinstance class alpert kyle brown bobby woolf design pattern smalltalk companion addison wesley isbn class superclass class class singleton class webserver class instancevariablenames consequence class webserver stance variable addition variable inherits superclass methoddict deﬁne class method named uniqueinstance shown method method ﬁrst check uniqueinstance tialized method creates instance assigns class instance variable uniqueinstance finally value uniqueinstance returned uniqueinstance class instance variable method directly access method uniqueinstance class webserver class uniqueinstance uniqueinstance ifnil uniqueinstance self new ﬁrst time webserver uniqueinstance executed instance class webserver created assigned uniqueinstance variable time previously created instance returned instead creating new note instance creation code inside conditional method written self new webserver new difference uniqueinstance method deﬁned webserver class think creates subclass webserver suppose reliablewebserver class webserver inherits uniqueinstance method clearly expect reliablewebserver uniqueinstance answer reliablewebserver using selfensures happen bound respective class note webserver reliablewebserver class instance variable called uniqueinstance variable course different value class superclass class smalltalk inherits behaviour description structure single superclass mean smalltalk single smalltalk object model smallinteger superclass integer integer superclass number number superclass magnitude magnitude superclass object object superclass protoobject protoobject superclass nil traditionally root smalltalk inheritance hierarchy class object object squeak root actually class called protoobject normally pay attention class protoobject encapsulates minimal set message object class inherit object deﬁnes additional message object ought understand respond unless good reason creating application class normally subclass object subclass new class normally created sending message subclass instancevariablenames existing class method create class look protocol creation squeak doe provide multiple inheritance version incorporated mechanism called trait sharing behaviour unrelated class trait collection method reused multiple class related inheritance using trait allows share code different class duplicating code abstract method abstract class abstract class class exists subclassed instantiated abstract class usually incomplete sense doe deﬁne method us missing method method assume deﬁned called abstract method smalltalk dedicated syntax specify method class abstract convention body abstract method consists expression self subclassresponsibility known marker method indicates subclass responsibility deﬁne concrete version method self subclassresponsibility method overridden executed forget override executed exception class superclass class considered abstract method abstract ing actually prevents creating instance abstract class work abstract method invoked example class magnitude magnitude abstract class help deﬁne object pared subclass magnitude implement method hash using message magnitude deﬁnes method max comparing object method inherited subclass method abstract deﬁned shown method method magnitude magnitude amagnitude answer receiver argument subclassresponsibility contrast method concrete deﬁned term method magnitude amagnitude answer receiver greater equal argument self amagnitude true comparison method character subclass magnitude override subclassresponsibility method version method character deﬁnes method hash inherits magnitude method method character character acharacter answer true receiver value acharacter value asciivalue acharacter asciivalue trait atrait collection method included behaviour class need inheritance make easy class unique superclass share useful method unrelated smalltalk object model deﬁne new trait simply replace subclass creation template message class trait class deﬁning new trait trait named tauthor us category quinto deﬁne trait tauthor category trait doe notuseany existing trait general specify trait composition expression trait use us keyword argument simply provide array trait contain method instance variable suppose like able add author method various class dent occur hierarchy follows method author method tauthor author return author initial oscar nierstrasz use trait class superclass instance sbegame class deﬁned chapter simply modify class creation template sbegame include us keyword argument speciﬁes tauthor used class using trait borderedmorph subclass sbegame us tauthor instancevariablenames classvariablenames pooldictionaries category quinto instantiate sbegame respond author message expected sbegame new author trait composition expression combine multiple trait using operator case conﬂicts multiple trait deﬁne method conﬂicts resolved explicitly removing method redeﬁning method class trait deﬁning possible alias method providing new happens message sending trait used kernel good example class behavior class behavior deﬁned using trait object subclass behavior us tpurebehavior basicaddtraitselector withmethod addtraitselector withmethod instancevariablenames methoddict format classvariablenames pooldictionaries category class method addtraitselector withmethod deﬁned trait tpurebehavior aliased basicaddtraitselector withmethod support trait currently added browser happens message sending rule capture essence programming smalltalk procedural programming choice piece code execute procedure called caller caller chooses procedure function execute statically programming method send choice terminology signiﬁcant object responsibility tellan object applying procedure instead politely askan object sending message message nota piece code list argument receiver decides respond selecting method doing asked different object different method responding message method chosen dynamically message received send message argument integer send message argument point consequence send message different object method responding message tell smallinteger point respond message method responds consequence smalltalk s model message sending encourages style object tend small method delegate task object implementing huge smalltalk object model method assume responsibility joseph pelrine express principle succinctly follows don t push language provide static dynamic erations object smalltalk dynamic message sends instead providing static class operation instance class object simply send message class nearly smalltalk happens message sends point action place declaration message sends fact variable tions executable declaring variable just cause space allocated object reference message sends assignment variable cause variable freshly bound scope deﬁnition message sends return simply cause computed result returned sender message sends implemented virtual machine exception pretty doe truly happen sending message particular public ﬁelds smalltalk way update instance variable object send message asking update ﬁeld course providing setter getter method instance variable object good style joseph pelrine state nicely don t let play data method lookup follows inheritance chain exactly happens object receives message method lookup follows inheritance chain process quite simple class receiver look method use handle message class doe method asks superclass inheritance chain method argument bound parameter method virtual machine executes essentially simple question need care answer happens method doe explicitly return value happens class reimplements superclass method difference selfandsuper sends happens method rule method lookup present conceptual virtual machine implementors use kind trick optimization method lookup s job able detect doing different rule let look basic lookup strategy consider question method lookup suppose create instance ellipsemorph anellipse ellipsemorph new send object message defaultcolor result color yellow anellipse defaultcolor color yellow class ellipsemorph implement defaultcolor appropriate method immediately method locally implemented method ellipsemorph defaultcolor answer default style receiver yellow contrast send message openinworld toanellipse method immediately class ellipsemorph doe smalltalk object model openinworld search continues superclass borderedmorph openinworld method class morph figure method inherited method morph openinworld add morph world mvc provide morphic window self couldopeninmorphic iftrue self openinworld self currentworld iffalse self openinmvc anellipse sendlookupinitialize defaultcoloropeninworldfullprinton morphobject initializefullprinton figure method lookup follows inheritance hierarchy returning self notice ellipsemorph defaultcolor method explicitly return color yellow morph openinworld method doe appear return actually method answer message value course object answer deﬁned method execution reach end method executing method answer value answer object received message usually say method answer self smalltalk selfrepresents receiver message like thisin java suggests method equivalent method method lookup follows inheritance chain method explicitly returning self morph openinworld add morph world mvc provide morphic window self couldopeninmorphic iftrue self openinworld self currentworld iffalse self openinmvc unless mean good thing return explicitly communicating returning sender explicitly return self saying expect sender use returned value case best explicitly return self common idiom smalltalk kent beck refers interesting return value return value intend sender use value overriding extension look ellipsemorph class hierarchy figure class morph ellipsemorph implement defaultcolor fact open new morph morph new openinworld blue morph ellipse yellow default say ellipsemorph override thedefaultcolor method inherits morph inherited method longer exists point view ofanellipse want override inherited method extend new functionality like able invoke overridden method addition new functionality deﬁning subclass smalltalk language support single inheritance help super sends important application mechanism initialize method new instance class initialized critical initialize inherited instance variable knowledge captured initialize method beck smalltalk best practice pattern smalltalk object model superclass inheritance chain subclass business trying initialize inherited instance variable good practice implementing initialize method send super initialize performing initialization method super initialize borderedmorph initialize initialize state receiver super initialize self borderinitialize aninitialize method start sending super initialize self sends super sends need super sends compose inherited behaviour overridden usual way compose method inherited mean selfsends selfsends differ super sends like self super represents receiver message thing change method lookup instead lookup starting class receiver start superclass class method super send occurs note super isnotthe superclass common natural mistake think mistake think lookup start superclass receiver shall following example precisely work consider message initstring send morph anellipse initstring ellipsemorph newbounds corner color color yellow setborderwidth bordercolor color black return value string evaluated recreate morph exactly result obtained combination selfand super sends anellipse initstring cause method initstring class morph shown figure lookup follows inheritance chain anellipse sendlookupinitstringfullprinton morphobject fullprinton fullprinton fullprinton figure selfand super sends method aselfsend morph initstring streamcontents s self fullprinton s method morph initstring performs selfsend fullprinton cause second lookup place starting class ellipsemorph ﬁnding fullprinton inborderedmorph figure critical notice selfsend cause method lookup start class receiver class anellipse aselfsend trigger dynamic method lookup starting class receiver method combining super andselfsends borderedmorph fullprinton astream astream nextputall super fullprinton astream astream nextputall setborderwidth print borderwidth nextputall bordercolor self colorstring bordercolor point borderedmorph fullprinton doe super send extend fullprinton behaviour inherits superclass persend lookup start superclass class super send occurs morph immediately ﬁnd evaluate morph fullprinton note super lookup did start superclass receiver caused lookup start borderedmorph resulting inﬁnite loop smalltalk object model asuper send trigger static method lookup starting superclass class method performing super send think carefully super send figure realize super binding static matter class text thesuper send contrast meaning selfis dynamic represents receiver currently executing message mean allmessages sent selfare starting receiver s class message understood happens method looking suppose send message footo ellipse normal method lookup inheritance chain way object protoobject looking method method virtual machine cause object send self doesnotunderstand foo figure anellipse self doesnotunderstand foodoesnotunderstand object figure message foois understood perfectly ordinary dynamic message send lookup start class ellipsemorph time searching method doesnotunderstand turn object implement doesnotunderstand method create new messagenotunderstood object capable starting debugger current execution variable convoluted path handle obvious error offer developer easy way intercept error alternative action easily override method doesnotunderstand subclass object provide different way handling error fact easy way implement automatic delegation message object delegator object simply delegate message doe understand object sponsibility handle raise error shared variable look aspect smalltalk easily covered ﬁve rule shared variable smalltalk provides kind shared variable globally shared variable variable shared instance class class variable variable shared group class pool variable name shared variable start capital letter warn shared multiple object global variable squeak global variable stored namespace called smalltalk implemented instance class systemdictionary global variable accessible class named global variable addition globals used special commonly useful object variable transcript name instance transcriptstream stream writes scrolling window following code display information go line transcript transcript fun powerful cr open transcript dragging tool ﬂap hint writing transcript slow especially transcript window open experience sluggishness writing transcript think collapsing smalltalk object model useful global variable instance systemdictionary deﬁnes al including smalltalk key dictionary symbol global object smalltalk code ple smalltalk boolean boolean smalltalk global variable smalltalk smalltalk systemdictionary lot globals smalltalk smalltalk smalltalk true instance eventsensor represents input squeak example sensor keyboard answer character input keyboard sensor leftshiftdown answer trueif left shift key held sensor mousepoint answer point indicating current mouse location instance pasteupmorph represents screen world bound answer rectangle deﬁnes screen space morphs screen submorphs world current instance handmorph graphical sentation cursor activehand s submorphs hold dragged mouse dictionary contains undeclared ables write method reference undeclared variable browser normally prompt declare example global instance variable class later delete declaration code reference undeclared variable inspecting undeclared help explain strange behaviour instance systemorganizer record ganization class package precisely categorizes name class systemorganization categoryofelement magnitude variable current practice strictly limit use global variable usually better use class instance variable class variable provide class method access squeak implemented scratch today global variable class replaced singleton usual way deﬁne global just assignment capitalized undeclared identiﬁer parser offer clare global want deﬁne global programmatically just execute smalltalk aglobalname nil remove execute smalltalk removekey aglobalname class variable need share data instance class class possible using class variable term class variable indicates lifetime variable class term doe convey variable shared instance class class shown figure better shared variable express clearly role warns danger using particularly modiﬁed class colornames rgb colornames privatesuperclasssubclass privatergbcacheddepth figure instance class method accessing different variable figure rgband cacheddepth instance variable color accessible instance color superclass subclass methoddict class instance variable smalltalk object model variable accessible color class new colornames cachedcolormaps areclass variable deﬁned color capitalization variable give hint shared fact instance color access shared variable color class subclass instance method class method access shared variable class variable declared class deﬁnition template example class color deﬁnes large number class variable speed color creation deﬁnition shown class class color class variable object subclass color instancevariablenames cacheddepth cachedbitpattern classvariablenames blue blueshift brown cachedcolormaps colorchart colornames componentmask componentmax cyan darkgray gray graytoindexmap green greenshift halfcomponentmask highlightbitmaps indexedcolors lightblue lightbrown lightcyan lightgray lightgreen lightmagenta lightorange lightred lighty ellow magenta maskingmap orange paleblue palebuff palegreen palemagenta paleorange palepeach palered paletan paley ellow pureblue purecyan puregreen puremagenta purered purey ellow randomstream red redshift translucentpatterns transparent verydarkgray verylightgray verypalered veryverydarkgray veryverylightgray white y ellow pooldictionaries category primitive class variable colornames array containing color array shared instance color subclass translucentcolor accessible instance class method colornames initialized color class initializenames cessed instance color method color us variable ﬁnd color color name thought inappropriate add instance variable color class initialization presence class variable raise question initialize solution lazy initialization introducing accessor method executed initializes variable initialized implies use accessor time use class variable directly furthermore imposes theshared variable cost accessor send initialization test arguably defeat point using class variable fact longer shared method color class colornames color class colornames colornames ifnil self initializenames solution override class method initialize method color class initialize color class initialize self initializenames adopt solution need remember invoke initialize method deﬁne evaluating color initialize class initialize method executed automatically code loaded memory notexecuted automatically ﬁrst typed browser compiled edited pool variable pool variable variable shared class related inheritance pool variable originally stored pool dictionary deﬁned class variable dedicated class subclass sharedpool advice avoid need rare speciﬁc circumstance goal explain pool variable just understand reading code class access pool variable mention pool class deﬁnition example class textindicates using pool dictionary textconstants contains text constant cr lf dictionary key cr bound value character cr carriage return character class pool dictionary textclass arrayedcollection subclass text instancevariablenames run classvariablenames pooldictionaries textconstants category smalltalk object model allows method class textto access key nary method body directly using variable syntax explicit dictionary lookup example write following method method text testcr text testcr character cr recommend avoid use pool variable pool dictionary chapter summary object model squeak simple uniform object pretty happens message sends object primitive entity like integer object class object object instance class class deﬁne structure instance private instance variable behaviour instance public method class unique instance metaclass class variable private variable shared class instance class class directly access instance variable instance instance access instance variable class accessors deﬁned needed class superclass root single inheritance archy protoobject class deﬁne normally inherit object subclass syntax deﬁning abstract class abstract class simply class abstract method implementation consists expression self subclassresponsibility squeak support single tance easy share implementation method packaging trait happens message sends method send message receiver chooses method responding message lookup follows inheritance chain selfsends dynamic start method lookup class receiver whereaschapter summary super sends static start superclass class super send written kind shared variable global variable sible class variable shared class subclass instance pool variable shared selected set class avoid shared variable squeak programming environment goal chapter develop program squeak programming environment seen deﬁne method class using browser chapter feature browser introduce browser course occasionally ﬁnd program doe work expect squeak excellent debugger like powerful tool confusing ﬁrst use walk debugging session demonstrate feature debugger unique feature smalltalk ming living world live object world static program text make possible rapid feedback gramming make productive tool let look change live object inspector explorer consequence programming world live object ﬁles text editor explicit export program smalltalk image old way doing supported smalltalk dialect creating ﬁleout change set essentially encoded text ﬁles imported new way doing squeak upload code versioned repository server using tool called monticello powerful effective way work especially working team finally ﬁnd bug squeak work explain squeak programming environment report bug submit bug ﬁxes overview smalltalk modern graphical interface developed ﬁrst public release smalltalk smalltalk hosting graphical development environment smalltalk ment taking place let start looking main tool squeak dragged tool ﬂap image section depending personal setting tool ﬂap opened mousing clicking orange tab edge squeak s main window browser central development tool use create deﬁne organize class method using navigate library class unlike environment source code stored separate ﬁles smalltalk class method contained image message name tool used look method particular selector selector containing substring method finder tool let ﬁnd method according doas called monticello browser starting point loading code saving code monticello package process browser provides view process thread executing smalltalk test runner let run debug sunit test described chapter transcript window transcript output stream useful writing log message described section workspace window type input used purpose used typing smalltalk expression executing use workspace illustrated section browser debugger obvious role discover central place compared debugger programming guages smalltalk program debugger bugger launched menu tool ﬂap normally entered running failing test typing cmd interrupt running process inserting self halt expression code browser actually browser squeak standard browser package browser omnibrowser refactoring browser look standard browser ﬁrst variation figure show browser appears ﬁrst drag tool figure browser small pane browser represent hierarchic view method way nextstep file viewer mac o x finder column mode provide view ﬁles disk leftmost pane list category class select say pane immediately right class category browser look different using image different default browser installed faq squeak programming environment figure browser class model selected similarly select class second pane say model figure pane protocol deﬁned class virtual protocol selected default protocol way categorizing method make easier ﬁnd think behaviour class breaking smaller conceptually coherent piece fourth pane show name method deﬁned selected protocol select method source code corresponding method appears large pane browser view edit save edited version select class model protocol dependent method mydependents browser look like figure unlike directory mac o x finder pane browser quite equal class method smalltalk language category message protocol convenience introduced browser limit information need shown pane example protocol browser list method selected class class list large navigate conveniently way create new category new protocol different way create new class new method create new category select new category yellow button menu category pane create new protocol select new protocol thethe browser figure browser showing mydependents method class model yellow button menu protocol pane enter new thing dialog category protocol content figure browser showing template contrast create new class new method actually write smalltalk code deselect currently squeak programming environment category left pane reselect main browser pane display class creation template figure create new class editing template replace object existing class wish create subclass replace nameofsubclass like new subclass ﬁll instance variable name know category new class default currently selected category change like browser focussed class wish subclass template slightly different ization using yellow button menu class pane selecting template just edit deﬁnition ing class changing class new case accept new deﬁnition new class follows created corresponding metaclass creating class creates global variable reference class refer existing class using name new class appear symbol preﬁxed class creation template class created code refer class using identiﬁer process creating new method similar select class want method live select protocol browser display template shown figure edit figure browser showing templatethe browser button bar browser provides tool exploring analysing code tool simply accessed horizontal button bar middle browser window button labeled browse sender implementors figure show complete set browsing code browse button open new browser class method currently selected s useful multiple browser open time writing code certainly need method typing browse type open browser class named selected text using cmd keyboard shortcut try workspace window type class instance scalemorph select press cmd trick useful work text window sender implementors message sender button list method use selected method browser open scalemorph click checkextent method method pane near right corner browser body checkextent display browser press sender button menu appear checkextent topmost item message checkextent sends figure selecting item menu open browser list method image send selected message implementors button work similar way instead listing sender message list class implement method selector select drawon message pane bring implementors drawon browser using implementors button yellow button menu method pane just typing cmd mplementors method pane drawon selected method list window showing scrolling list class implement drawon method shouldn t surprising class implement method drawon message understood object capable drawing screen viewing method try browsing sender drawon message method send message squeak programming environment figure class browser opened scalemorph class note horizontal bar button center browser using sender button bring implementors browser time selecting message including argument keyword message typing cmd look send drawon inatommorph drawon super send know method executed atommorph s superclass class click hierarchy button ellipsemorph look ﬁfth sender list canvas draw shown figure method sends drawon object passed argument potentially instance class dataﬂow analysis help ﬁgure class receiver message general simple way browser know cause method executed reason sender browser show exactly suggests sender message chosen selector sender button extremely useful need understand usea method let navigate quickly example us method selector ought used way us given message ought browser figure sender browser showing canvas draw method sends drawon message argument version method save new version method old lost squeak keep old version allows compare different version revert old version version button give access successive modiﬁcations selected method figure version mouseup method author created writing quinto game described chapter pane display line version method listing initial programmer wrote date time saved name class method protocol deﬁned current active version list whichever version selected displayed pane diffs checkbox selected figure display show difference selected version immediately older button provided displaying difference selected method current version reverting selected version prettydiffs checkbox useful change layout print version differencing difference displayed exclude formatting change existence version browser mean worry preserving code think longer needed just delete ﬁnd doneed revert old version copy needed code fragment old version squeak programming environment figure version browser showing version sbecell mouseup method method habit using version commenting code longer needed bad practice make current code harder read smalltalkers rate code readability extremely highly hint delete method entirely decide want ﬁnd deletion change set ask version yellow button menu change set browser described section method overridings inheritance button open specialized browser display method overridden displayed method work play scalemorph defaultcolor method click inheritance method deﬁnition override rectanglemorph defaultcolor override morph defaultcolor shown figure colour inheritance button depends overriding occurs colour explained help balloon browser figure scalemorph defaultcolor method override inheritance order inheritance button gold displayed method overridden subclass pink displayed method override method doesn t use green displayed method override method us super gold displayed method overridden subclass salmon displayed method override method overridden violet displayed method override overridden make asuper note currently version inheritance browser using version browser based omnibrowser framework inheritance button doe change colour tance browser look different display information show method inheritance chain sibling version inheritance browser shown figure hierarchy browser hierarchy button open hierarchy browser current class browser opened using browse hierarchy menu item class pane hierarchy browser similar browser instead displaying category class category show single list class indented represent inheritance category selected class displayed small annotation pane squeak programming environment figure scalemorph defaultcolor method override shown new omnibrowser based inheritance browser sibling selected method shown scrolling list browser hierarchy browser designed make easy navigate inheritance hierarchy doe class superclass subclass initial class shown figure hierarchy browser reveals direct superclass scalemorph isrectanglemorph finding variable reference inst var class var button help ﬁnd instance variable class variable used information accessible yellow button menu item inst var ref class var ref class pane menu includes inst var defs show subset instance variable reference assign variable click button select menu item presented dialog invite choose variable variable deﬁned current class variable inherits list inheritance order useful bring list just remind instance variable click outside list away variable browser created available yellow button menu class pane class var open inspector showing class variable thethe browser figure hierarchy browser open scalemorph current class value class ref n display list method directly reference current class source source button brings menu allows choose browser show source pane option clude source code prettyprint ed source code bytecodes source code decompile d byte code label button change select mode option let mouse linger name help balloon appear try note selecting prettyprint menu notthe prettyprinting method save menu control browser display effect code stored verify opening browser selecting prettyprint source fact focussing browser method selecting bytecodes decompile good way learn squeak virtual machine s instruction squeak programming environment refactoring did notice small rat end button bar trusive button give access powerful important feature smalltalk environment clicking rgives access hierarchy menu refactoring code refactoring engine available way example yellow button menu class method code pane refactoring available special browser called refactoring browser accessed browser browser menu additional function available browser s yellow button menu yellow button menu pane browser menu label menu item meaning context dependent example category pane class pane protocol pane message pane ﬁle menu item different thing category pane s ﬁle menu ﬁles category class pane s ﬁle menu class protocol pane s ﬁle menu ﬁles protocol method pane s ﬁle menu just displayed method obvious source confusion beginner possibly useful menu item ﬁnd class f category pane category useful code actively ing know categorization faster type cmd ﬁrst character class guess category recent class r help quickly class browsed recently forgotten class pane menu item ﬁnd method ﬁnd method wildcard useful want browse ular method unless list method long quicker browse protocol default place mouse method pane type ﬁrst letter method looking usually scroll pane method visible try way navigating orderedcollection removeat notice button ﬁrst load ast refactoringbrowser package squeaksource use browser option available menu pay spend minute working browser seeing compare result browse protocol browse hierarchy hierarchy class pane menu class browser beginning section mentioned class browser thepackage pane browser opened world menu world pane browser s basically class browser know naming convention category noticed name category part example scalemorph class belongs category package browser assumes hyphen morphic package add ﬁfth pane allows browse category particular package select package category available just ordinary browser unfortunately meaning term package changed package pane browser developed package precise meaning related monticello packaging tool discus section present tool let browse package deﬁned monticello currently developed squeak community process developing new family browser based new highly customizable framework called theomnibrowser implementation omnibrowser worth looking good example design outside tool look similar one just described main enhancement notice omni browser addition virtual protocol addition traditional protocol class number virtual protocol deﬁned deﬁnitional rule example supersend protocol includes method send super required protocol list message sent method current class superclass deﬁned browsing programmatically class systemnavigation provides number utility method useful navigating function offered classic browser implemented systemnavigation squeak programming environment open workspace following code browse sender checkextent systemnavigation default browseallcallson checkextent restrict search sender method speciﬁc class systemnavigation default browseallcallson drawon scalemorph development tool object completely accessible program develop tool adapt existing tool need programmatic equivalent implementors button systemnavigation default browseallimplementorsof checkextent learn available explore class systemnavigation browser navigation example faq appendix summary seen way navigate smalltalk code ﬁnd confusing ﬁrst case fall traditional browser usually ﬁnd beginner gain experience squeak availability different browser valued feature provide way help understand organize code problem understanding code greatest challenge software development monticello gave quick overview monticello squeak s packaging tool section monticello feature discussed monticello manages package telling monticello s important ﬁrst explain exactly package package declarative categorization squeak code package simple lightweight way organizing smalltalk source code leverage naming convention mentionedmonticello section add important way let s explain using example suppose developing framework named facilitate use relational database squeak decided framework squeaklink created series category contain class written category connection contains oracleconnection mysqlconnection postgresconnection category model contains dbtable dbrow dbquery code reside class example series method convert object format object assql string assql date assql method belong package class category squeaklink connection squeaklink model clearly class object doe belong package need way putting certain method package rest class package way placing method protocol object string date named squeaklink note initial asterisk combination category squeaklink protocol form package named squeaklink precise rule go package follows package named foocontains class deﬁnitions class category foo category name starting method deﬁnitions class protocol named fooor start performing comparison case letter name ignored method class category foo category start method protocol name start consequence rule class deﬁnition method belongs exactly package rule squeak programming environment method belong package reason ignoring case rule convention protocol name lower case include space category name use camelcase don t include space class packageinfo implement rule way feel experiment class try image contain class packageinfo refactoringbrowser refactoring browser code us package naming convention refactoringengine package workspace create model package refactory packageinfo named possible introspect package example refactory class return long list class make refactoring engine refactoring browser refactory coremethods return list methodreference s method class refactory extensionmethods interesting query return list method contained refactoringengine package contained refactoringengine class includes example classdescription choosethisclassinstvarthendo sharedpool class key package relatively new addition squeak package naming convention based use possible use packageinfo analyze older code explicitly adapted work evaluate packageinfo named externalsubclasses sion answer list subclass collection notin collection package send ﬁleout instance packageinfo change set entire package sophisticated versioning package use monticello basic monticello monticello named mountaintop home thomas jefferson president united state author statute virginia religious freedom mean little mountain italian pronounced italian c sound like ch chair figure monticello browser open monticello browser list pane row button shown figure pane list package loaded image running particular version package shown parenthesis pane list repository cello know usually loaded code select package left pane right pane ﬁltered repository contain version selected package repository directory named directory image running load code write code remote repository copy saved package cache useful network available need access package given monticello ﬁle directly example email attachment convenient way access place directory add new repository list click choose kind repository menu let s add http repository open monticello click select http edit dialog squeak programming environment figure repository browser mchttprepository location user password click open open repository browser repository like figure left list package repository select pane right version selected package repository select version browse loading image load look change image loading selected version make copy version package write repository name version contain age initial author version version number version ﬁle repository change name correct operation monticello depends monticello version ﬁles just zip archive curious unpack zip tool best way look content using monticello create package monticello thing write code tell monticello create category called couple class shown figure create method existing class themonticello figure class sbe package package class using rule page figure tell monticello package click type package case sbe monticello add sbe list package package entry marked asterisk version image written repository initially repository associated package package cache shown figure s ok save code cause written package cache just click save invited provide log message version package save shown figure accept message monticello save package indicate asterisk decorating monticello s package pane removed version number added make change package say adding method class asterisk showing unsaved change open repository browser package cache select saved version use change button course save new version repository refresh repository view look like figure save new package repository package squeak programming environment figure extension method sbe package figure sbe package monticello need ﬁrst make sure monticello know repository adding necessary use copy repository browser select repository package copied associate desired repository package using yellow button menu item add package repository shown figure package know repository save new version selecting repository package monticello browser clicking save course havemonticello figure providing log message new version package figure version package package cache permission write repository squeakbyexample repository squeaksource world readable world writable try save error message create repository squeaksource using web interface http use save work especially useful mechanism share code friend use multiple computer try save repository don t write permission version written squeak programming environment figure adding repository set repository associated package recover editing repository information yellow button menu monticello browser choosing different repository using copy browser inspector explorer thing make smalltalk different gramming environment provides window world live object world static code object examined programmer changed care necessary changing basic object support mean experiment save image ﬁrst inspector illustration inspector type timestamp workspace choose inspect yellow button menu s necessary select text using menu text selected menu operation work current line type cmd inspect window like shown figure appear tor thought window internals particularthe inspector explorer figure inspecting timestamp object case particular instance timestamp created evaluated expression timestamp title bar dow show class object inspected select self left pane right pane printstring object select inst var left pane right pane list instance variable object printstring remaining item left pane represent instance variable make easy examine time change horizontal pane inspector small workspace window useful window selfis bound object inspecting inspect self timestamp today workspace pane result duration object represents time interval midnight today instant evaluated timestamp created timestamp object specting try evaluating timestamp self tell long spent reading section book addition self instance variable object scope workspace pane use expression assign example evaluate jdn jdn workspace pane value jdninstance variable change value timestamp self increase day change instance variable directly selecting replacing old value pane squeak expression accepting squeak evaluate expression assign result instance squeak programming environment figure exploring timestamp figure exploring instance variable special variant inspector dictionary lections compiledmethods class make easier examine content special object object explorer object explorer conceptually similar inspector present information different way difference ll explore object just inspecting select selfin inspector s pane choose explore yellow button menu explorer window look like figure click small triangle root view change figure show instance variable object exploring click triangle offset itsinstance variable explorer really useful need explore complex hierarchic structure workspace pane object explorer work slightly differently inspector selfis bound root object object currently selected instance variable selected object scope value explorer let s use explore structure object open browser twice method pane thethe debugger figure exploring pluggablelistmorph morphic halo pluggablelistmorph used represent list message click debug handle select explore morph menu appears open explorer pluggablelistmorph object represents method list screen open root object clicking triangle open submorphs continue exploring structure object underlie morph shown figure debugger debugger arguably powerful tool squeak tool suite used just debugging writing new code strate debugger let s start writing bug using browser add following method class string squeak programming environment figure predebugwindow notiﬁes bug method buggy method sufﬁx assumes ﬁle answer sufﬁx dot dot dotposition dot filedirectory dot dotposition self size detect self dot copyfrom dotposition self size course sure trivial method work instead writing sunit test just type sufﬁx workspace print p surprise instead getting expected answer predebugwindow pop shown figure predebugwindow tell error occurred show stack trace message led error starting trace undeﬁnedobject doit represents code compiled run selected sufﬁx workspace asked squeak print code course sent message sufﬁx bytestring object caused inherited sufﬁx method class string execute information encoded line stack trace bytestring string sufﬁx working stack sufﬁx sent detect eventually detect ifnone sent errornotfound ﬁnd dot need debugger click debug open debugger clicking line stack trace debugger open focussed corresponding method debugger shown figure look intimidating ﬁrst quite easy use pane similar saw predebugwindow debugger combinesthe debugger figure debugger stack trace method browser select line stack trace corresponding method shown pane s important realize execution caused error image suspended state line stack trace represents frame execution stack contains information necessary continue execution includes object involved computation instance variable temporary variable executing method figure selected detect ifnone method pane method body displayed center pane blue highlight message value show current method sent message value waiting answer pane debugger really inspector workspace pane inspector left show current object object named selfin center pane select different stack frame identity selfmay change content click selfin pane squeak programming environment selfis interval expect workspace pane needed debugger s variable scope method pane feel free type select expression pane evaluate cancel l change using menu cmd inspector right show temporary variable current context figure value sent parameter exceptionblock current value parameter click exceptionblock context inspector tell exceptionblock self errornotfound surprising corresponding error message incidentally want open inspector explorer variable shown just variable select variable choose inspect explore yellow button menu useful want watch variable change execute code looking method window expected penultimate line method ﬁnd dotin string execution reached ﬁnal line squeak doe let run execution backwards doe let start method work code doe mutate object instead creates new one click restart locus execution return ﬁrst statement current method blue highlight show message sent figure intoand button different way step execution click squeak executes current case step unless error current method value exactly started help need ﬁnd ﬁnding character looking click click restart situation shown figure click squeak method corresponding highlighted case collection turn help fairly conﬁdent collection broken bug likely asked squeak appropriate button usethe debugger figure debugger restarting detect ifnone method case want ignore detail focus execution argument block click time select context window count method executes expect iftrue block executed isn t going wrong execution value illustrated figure clicking ﬁnd position shown ure look ﬁrst gone sufﬁx method executing block sufﬁx provided argument todetect select iin context inspector current value following select corresponding element selffrom figure element string character dot select dotin context inspector value equal seventh character course character dotis astring bug ﬁx obvious convert dotto character starting search squeak programming environment figure debugger stepping thedo method time figure debugger showing equal dotthe debugger figure changing sufﬁx method debugger asking mation exit inner block change code right debugger assignment read dot filedirectory dot ascharacter accept change executing code inside block inside detect stack frame abandoned order make change squeak asks want figure assuming click yes save compile new method click restart proceed debugger window vanish evaluation expression sufﬁx complete print answer answer correct unfortunately t say sure sufﬁx method comment sufﬁx precise way avoid sort problem write sunit test deﬁnes answer method simple test sufﬁx method testsufﬁxfound self assert sufﬁx effort required little run test squeak programming environment workspace using sunit save test executable documentation make easy run add method class stringtest run test suite sunit quickly debugging error sunit open debugger failing assertion need stack frame restart test intothesufﬁx method correct error doing figure second work click run failure button sunit test runner conﬁrm test pass better test method better test sufﬁx method testsufﬁxfound self assert sufﬁx self assert sufﬁx test better tell reader method dot target string way debugger addition catching error assertion failure execute code go inﬁnite loop interrupt open debugger computation typing cmd s stop period depending learned english just edit suspect code insert self halt example edit sufﬁx method read follows method inserting haltinto sufﬁx method sufﬁx assumes ﬁle answer sufﬁx dot dot dotposition dot filedirectory dot ascharacter dotposition self size detect self dot self halt copyfrom dotposition self size run method execution self halt bring proceed debugger look variable step computation edit code s debugger s sufﬁx method initial bug realize dot target string sufﬁx method raise error isn t useful know bring emergency debugger time typing cmd debugger figure changing sufﬁx method debugger ﬁxing error sunit assertion failure behaviour want let s add second test specify happen case method second test sufﬁx method target sufﬁx testsufﬁxnotfound self assert sufﬁx add method test suite class stringtest watch test raise error enter debugger selecting erroneous test sunit edit code test pass easiest clearest way replace thedetect message detect ifnone second argument block simply return string size learn sunit chapter squeak programming environment figure process browser process browser smalltalk lightweight process known thread running concurrently image future squeak virtual machine advantage multiprocessor available present concurrency implemented slicing process browser cousin debugger let look various process running inside squeak figure show screenshot pane list process squeak priority order timer interrupt watcher priority idle process priority course uniprocessor process running look ui process waiting kind event default display process static updated using yellow button menu provides option turn select process pane stack trace displayed pane just debugger select stack frame corresponding method displayed pane process browser equipped selfand thiscontext yellow button menu item stack frame provide equivalentfinding method figure method name browser showing method containing substring random selector functionality finding method tool squeak help ﬁnd message dragged tool ﬂap differ interface functionality method ﬁnder described length section use ﬁnd method functionality look body method method ﬁnder open new browser quickly overwhelming message name browser limited search functionality type fragment message selector search box browser list method contain fragment name shown figure browser select name left pane method listed right pane browsed pane class browser message name browser button bar used open browser selected method squeak programming environment figure change set browser change set change sorter working squeak change make method class recorded change set includes creating new class class changing category adding method existing class just signiﬁcance arbitrary doits included example create new global variable assigning workspace variable creation make change set time change set exist changeset current collecting change image change set current examine change set using change set browser available world change sorter dragging change set icon tool ﬂap figure show browser title bar show change set current change set selected browser open change set selected pane yellow button menu allows make different change set current create new change set pane list class affected selected change set category selecting class display name method change set notall method class central pane selecting method namechange set change sorter figure change sorter display method deﬁnition pane note browser doe notshow creation class change set information stored object structure used represent change set change set browser let delete class method change set using yellow button menu corresponding item elaborate editing change set use second tool change sorter available tool ﬂap selecting world change sorter shown figure change sorter essentially change set browser focus different change set class method layout support change sorter s main feature ability copy change change set shown yellow button menu figure possible copy individual method wondering care composition change set answer change set provide simple mechanism exporting code squeak ﬁle imported squeak image smalltalk change set export known accomplished using yellow button menu change set class method browser repeated ﬁle out create new version ﬁle change set versioning tool like monticello track squeak programming environment dependency advent monticello change set main mean exchanging code squeaker advantage simplicity ﬁle just text ﬁle don t recommend try edit text editor degree portability s quite easy create change set make change different unrelated part monticello equipped main drawback change set compared monticello package support notion dependency change set set action change image loaded successfully load change set requires image appropriate state example change set contain action add method class accomplished class deﬁned image similarly change set rename class obviously work class present image method use instance variable declared ﬁled exist image imported problem change set explicitly condition ﬁled ﬁle process just hope best usually resulting cryptic error message stack trace thing wrong ﬁle work change set silently undo change change set contrast monticello package represent code declarative fashion state image loaded permit monticello warn conﬂicts package require contradictory ﬁnal state offer load series package dependency order spite shortcoming change set us particular ﬁnd change set internet want look use having ﬁled change set using change sorter tell ﬁle requires use tool ﬁle list browser file list browser ﬁle list browser fact tool browsing ﬁle ftp server squeak open world list menu drag tool ﬂap course depends content local ﬁle typical view shown figure file list browser figure ﬁle list browser ﬁrst open ﬁle list browser focussed current directory started squeak title bar show path directory larger pane used navigate ﬁle conventional way directory selected ﬁles contains directory displayed right list ﬁles ﬁltered entering pattern small box window initially pattern match ﬁle name type different string accept changing pattern note implicitly prepended appended pattern type sort order ﬁles change using date size button rest button depend ﬁle selected browser figure ﬁle sufﬁx browser assumes change set provides button install ﬁles new change set derived ﬁle browse change ﬁle examine code ﬁle ﬁlein code current change set think conﬂicts button tell change change set conﬂicted existing code image doesn t instead just check potential problem ﬁle indicate ﬁle properly loaded presence linefeeds squeak programming environment figure file content browser choice button display depends ﬁle s content button want won t screen set option available yellow button menu easily work problem code button useful working change set open browser content change set ﬁle example shown figure ﬁle content browser similar browser doe category just class protocol method class browser tell class exists deﬁned ﬁle notwhether deﬁnitions identical method class shown figure difference current version version ﬁle menu item pane let ﬁle change set corresponding class protocol smalltalk t lose code smalltalk t lose code quite possible crash squeak experimental squeak let change including thing vital make squeak work maliciously crash squeak try object nil good news need lose work crash saved version image hour old code executed saved ﬁle includes liner evaluate workspace code add class programming instruction code need read need need ll ﬁnd waiting worst case use text editor ﬁle megabyte size slow recommended squeak offer better way code restart squeak recent snapshot select world expression open workspace useful expression ﬁrst smalltalk recover changelist browserecentlog changelist browserecent useful recovery execute changelist browserecentlog given tunity decide far history wish browse normally s sufﬁcient browse change far snapshot effect editing changelist browserecent number using trial error recent change browser showing say change far snapshot list squeak time delete item list using yellow button menu satisﬁed left incorporating change new image s good idea start new change set using ordinary change set browser ﬁle recovered code new change set ﬁle change squeak programming environment useful thing recent change browser remove doits usually won t want ﬁle doits exception creating class show ﬁle method class class exist created new class ﬁrst class creation doits remove doits ﬁle method ﬁnished recovery like ﬁle new change set quit squeak saving image restart make sure new change set ﬁles cleanly chapter summary order develop effectively squeak important invest effort learning tool available environment standard browser main interface browsing ing class category class method protocol method deﬁning new one browser offer useful button directly jump sender implementors message version method exist different class browser omnibrowser refactoring browser specialized browser hierarchy browser provide different view class method tool highlight class method immediately jump browser using keyboard shortcut cmd browse smalltalk programmatically ing message systemnavigation default tool exporting importing versioning sharing package class method monticello package consists category subcategories related method protocol category explorer tool useful exploring interacting live object image inspect tool bring morphic halo selecting debug handle summary debugger tool let inspect stack program error raised enables interact object application including source code case modify source code debugger continue executing debugger especially effective tool support development tandem sunit chapter process browser let monitor query interact process current running image method ﬁnder message name browser tool locating method ﬁrst useful sure know expected behaviour second offer advanced browsing interface know fragment set automatically generated log change source code image largely superseded monticello mean store exchange version source code useful especially recovering catastrophic failure rare ﬁle list browser tool browsing ﬁle allows ﬁlein source code ﬁle case image crash save backup source code monticello recover recent change using change list browser select change want replay ﬁle recent copy sunit introduction sunit minimal powerful framework support creation deployment test guessed design sunit focussed unit test fact used integration test functional test sunit originally developed kent beck subsequently extended joseph pelrine incorporate notion resource section testing test driven development limited squeak smalltalk automated testing hallmark agile software development movement software developer concerned improving software quality adopt velopers language come appreciate power unit testing version xunit exist language including java python perl oracle chapter describes sunit current version writing ofﬁcial web site sunit update testing building test suite new everybody know test good way catch error extreme programming making testing core practice emphasizing automated test helped make testing productive fun chore programmer dislike smalltalk community long tradition testing incremental style development supported programming environment traditional smalltalk development programmer write test workspace soon method ﬁnished test incorporated comment head method sunit exercised test needed set included example method class problem practice test workspace available programmer modify code comment example method better respect easy way track run automatically test run help ﬁnd bug example method doe inform reader expected result run example surprising result know observed behaviour correct sunit valuable allows write test test deﬁnes correct result help organize test group context test run run group test automatically minute write test using sunit instead writing small code snippet workspace encourage use sunit advantage stored automatically executable test chapter start discussing test make good test present series small example showing use sunit finally look implementation sunit understand smalltalk us power reﬂection supporting tool testing important unfortunately developer believe test waste time write bug programmer said time write test write bug code changed future test waste time likely mean application trivial used think test investment future having suite test quite useful extremely useful application environment executes change future test play role provide documentation tionality cover documentation active watching test pas tell documentation second test help developer conﬁrm change just package broken ﬁnd part break conﬁdence turn misplaced finally writing test time programming forceswhat make good test think functionality want design appear client implement writing test ﬁrst code compelled state context functionality run way interact client code expected result code improve try test aspect realistic application covering plete application simply impossible goal testing good test suite bug creep application lay dormant waiting opportunity damage ﬁnd happened advantage soon uncover bug write test expose run test watch fail start ﬁx bug test tell make good test writing good test skill learned easily practicing let look property test maximum beneﬁt repeatable able run test want answer run human intervention able run night test tell story test cover aspect piece code test act scenario read understand piece functionality change frequency lower ality cover want change test time modify application way achieve write test based public interface class testing ok write test private helper method feel method complicated need test aware test changed thrown away entirely think better implementation consequence property number test somewhat proportional number function tested changing aspect break test limited number important having test fail send sunit stronger message having test fail ble achieve ideal particular change break initialization object test likely cause test fail extreme programming advocate writing test writing code deep instinct software developer say ahead try writing test code help know want code help know help conceptualize functionality class design interface development give courage fast afraid forget important sunit example going detail sunit step step example use example test class set try entering code step create test class create new subclass testcase called examplesettest add instance variable new class look like class example set test class testcase subclass examplesettest instancevariablenames classinstancevariablenames pooldictionaries category use class examplesettest group test related class set deﬁnes context test run context described instance variable fulland use represent set class critical convention end intest deﬁne class called pattern corresponding test class patterntest class alphabetized browser assuming category iscritical class subclass testcase example step initialize test context method setup deﬁnes context test run bit like initialize method setup invoked execution test method deﬁned test class deﬁne setup method follows initialize variable refer set fullvariable refer set containing element method setting ﬁxture examplesettest setup set new set testing jargon context called ﬁxture test step write test method let s create test deﬁning method class examplesettest method represents test method start string test sunit collect test suite test method argument deﬁne following test method ﬁrst test named testincludes test includes method set test say sending message includes set containing return true clearly test relies fact setup method run method testing set membership examplesettest testincludes self assert includes self assert includes second test named testoccurrences veriﬁes number currences fullset equal add element sunit method testing occurrence examplesettest testoccurrences self assert occurrencesof self assert occurrencesof add self assert occurrencesof finally test set longer contains element removed method testing removal examplesettest testremove remove self assert includes self deny includes note use method deny assert true atest deny anexpression equivalent atest assert anexpression readable step run test easiest way execute test sunit test runner open world menu dragging testrunner tool ﬂap testrunner shown figure designed make easy execute group test pane list category contain test class subclass testcase category selected test class contain appear pane right abstract class italicized test class hierarchy shown indentation subclass classtestcase indented subclass testcase open test runner select category mytest click run selected button run test executing print following code examplesettest selector testremove run expression equivalent shorter examplesettest run testremove usually include executable comment test method allows run browser shown method example figure squeak sunit test runner method executable comment test method examplesettest testremove self run testremove remove self assert includes self deny includes introduce bug examplesettest testremove run test example change test did pas listed pane thetest runner want debug failed just click alternatively execute following expression examplesettest selector testremove debug examplesettest debug sunit step interpret result method assert deﬁned class testcase expects boolean argument usually value tested expression argument true test pass argument false test fails actually possible outcome test outcome hope assertion test true case test pass test runner test pas bar turn green kind thing wrong run test obviously assertion false causing test fail possible kind error occurs execution test message understood error index bound error error occurs assertion test method executed t say test failed clearly wrong test runner failing test cause bar turn yellow listed middle pane right erroneous test cause bar turn red listed pane right modify test provoke error failure sunit cook book section detail use sunit used testing framework familiar framework root sunit normally use sunit s gui run test situation want use assertion addition assert deny method used make assertion assert description deny description second argument message string used reason failure obvious test method described tion sunit provides additional method raise shouldnt raise testing exception propagation example sunit cook book use self ablock raise anexception test particular exception raised execution ablock method illustrates use raise try running test note ﬁrst argument shouldnt method block contains expression evaluated method testing error raising examplesettest testillegal self raise error self zork raise error sunit portable used dialect smalltalk make sunit portable developer aspect class method testresult class error answer s error class fashion advantage want write test work dialect smalltalk instead method write method portable error handling examplesettest testillegal self raise testresult error self zork raise testresult error try running single test normally run test using test runner don t want launch test runner open menu tool ﬂap execute testrunner open print run single test follows examplesettest run testremove run passed failed error running test test class subclass testcase responds message suite build test suite contains method class name start string test run test suite send message run sunit examplesettest suite run run passed failed error subclass testcase junit build testsuite arbitrary class containing test method smalltalk create suite hand class implement essential testcase method like assert recommend try framework use sunit framework sunit consists main class testcase testsuite testresult testresource shown figure notion test resource introduced sunit represent resource expensive used series test testresource speciﬁes asetup method executed just suite test distinction testcase setup method executed test runresourcesaddtest testsuitesetupteardownassert deny raise shouldnt raise selector runresourcestestcaseisavailableisunavailablesetupteardowntestresourcepassedcountfailurescounterrorcountruncountteststestresulttests figure class representing core sunit testcase testcase abstract class designed subclassed subclass represents group test share common context thatthe sunit framework test suite test run creating new instance subclass testcase running setup running test method running teardown context speciﬁed instance variable subclass specialization method setup initializes instance variable subclass testcase override method teardown invoked execution test used release object allocated setup testsuite instance class testsuite contain collection test case instance oftestsuite contains test test suite test suite tains testcase testsuite individual testcase s testsuite s understand protocol treated way example run fact application composite pattern testsuite composite testcase s leaf design pattern information testresult class testresult represents result testsuite execution record number test passed number test failed number error raised testresource important feature suite test independent failure test cause avalanche failure test depend order test run matter performing setup test teardown help reinforce independence occasion setting necessary context just practical execution test known test case disrupt resource used test wasteful set afresh test sufﬁcient set suite test suppose example suite test need query database analysis compiled code case make sense set gamma et design pattern element reusable software reading mass addison wesley isbn sunit database open connection compile source code test start run cache resource shared suite test instance variable particular testcase instance won t instance persists duration single test global variable work using global variable pollutes space binding global test depend explicit better solution necessary resource singleton object class class testresource exists subclassed resource class subclass testresource understands message current answer singleton instance subclass method setup teardown overridden subclass ensure resource initialized ﬁnalized thing remains sunit told resource associated test suite resource associated particular subclass testcase overriding class method resource default resource testsuite union resource testcase s contains example deﬁne subclass testresource called mytestresource associate mytestcase specializing class method resource return array test class use class example testresource subclass testresource subclass mytestresource instancevariablenames mytestcase class resource associate resource class test case mytestresource advanced feature sunit addition testresource current version sunit contains assertion description string logging support resumable test failure assertion description string testcase assertion protocol includes number method allow programmer supply description assertion description isadvanced feature sunit astring test case fails string displayed test runner course string constructed dynamically e e self assert e description got e printstring relevant method testcase assert description deny description description shouldnt description logging support description string described logged stream transcript ﬁle stream choose log overriding testcase islogging test class choose log overriding testcase failurelog answer appropriate stream continuing failure sunit allows specify test continue failure really powerful feature us exception mechanism offered smalltalk used let s look example consider following test expression acollection self assert case soon test ﬁnds ﬁrst element collection isn t test stop usually like continue element element aren t maybe log information follows acollection self assert description printstring resumable true print message logging stream element fails doesn t accumulate failure assertion fails time sunit test method ll failure assertion method seen resumable assert p description s equivalent assert p description s resumable false implementation sunit implementation sunit make interesting case study smalltalk framework let s look key aspect implementation lowing execution test running test execute test evaluate expression atestclass selector asymbol run run setupperformtestteardown testcase testresultrunruncase runcase figure running test method testcase run creates instance testresult mulate result test sends message run figure implementation sunit method running test case testcase run result result testresult new self run result method testcase run sends message runcase test result method passing test case test result testcase run aresult aresult runcase self method testresult runcase sends message runcase individual test execute test testresult runcase deal exception raised execution test run testcase sending message runcase count error failure pass method catching test case error failure testresult runcase atestcase testcasepassed testcasepassed true atestcase runcase self class failure signal failure add atestcase testcasepassed false signal return false self class error signal error add atestcase testcasepassed false signal return false testcasepassed iftrue passed add atestcase method testcase runcase sends message setup teardown shown method test case template method testcase runcase self setup self performtest ensure self teardown sunit running testsuite run test send message runto testsuite contains relevant test testcase class provides ality build test suite method expression mytestcase buildsuitefromselectors return suite containing test deﬁned mytestcase class core process method test suite testcase class testselectors selector assortedcollection asorderedcollection select match numargs iszero method testsuite run creates instance testresult veriﬁes resource available sends message run run test suite resource released method running test suite testsuite run result result testresult new self areallresourcesavailable iffalse signalerrorwith initialized self run result ensure self resource reset method passing test suite test result testsuite run aresult self test self sunitchanged run aresult class testresource subclass track currently created instance class accessed created using class method current instance cleared test ﬁnished running resource reset resource availability check make possible resource needed shown class method testresource class isavailable testresource instance creation initialized method setup advice testing method test resource availability testresource class isavailable current notnil method test resource creation testresource class current current isnil iftrue current self new method test resource initialization testresource initialize self setup advice testing mechanic testing easy writing good test advice design test feather rule unit test michael feather agile process tant author test unit test talk database communicates network touch ﬁle t run time unit test special thing environment editing conﬁg ﬁles run test thing aren t bad worth writing written unit test harness important able separate true unit test set test run fast make change situation don t want run unit test suite take long september sunit unit test test unit test capture piece ality make easier identify bug functionality far possible try unit test method possibly fail group class certain deeply recursive complex setup situation easier write test represent scenario larger application called tance test functional test test break feather rule make good acceptance test group acceptance test according functionality test example writing piler write acceptance test make assertion code generated possible source language statement test exercise class long time run touch ﬁle write using sunit won t want run time make small change separated true unit test black s rule testing test able identify property test increase conﬁdence s obvious important property testing rule state obvious fact test doe add value increasing conﬁdence useful property hold example test property good fact harm make harder infer behaviour class reading test bug code break test time property mind write test chapter summary chapter explained test important investment future code explained fashion deﬁne test class set gave overview core sunit framework presenting class testcase testresult testsuite testresources finally looked deep inside sunit following execution test test suite maximize potential unit test fast repeatable independent direct human interaction cover single unit functionality class called myclass belong class classed myclasstest introduced subclass testcase summary initialize test data setup method test method start word test testcase method assert deny make assertion run test using sunit test runner tool tool bar basic class magic smalltalk language class library program effectively smalltalk need learn class library support language environment class library entirely written smalltalk easily extended package add new functionality class doe deﬁne class goal present tedious squeak class library point key class method need use override program effectively chapter cover basic class need nearly application object number subclass character string symbol boolean object intent purpose object root inheritance hierarchy actually squeak true root hierarchy protoobject used deﬁne minimal entity masquerade object ignore point time object category astonishingly method including extension word class deﬁne automatically provide method know note method removed new version squeak remove superﬂuous method class comment object basic class object root class class class hierarchy exception protoobject superclass object subclass class object provides default behaviour common normal object access copying comparison error handling message sending reﬂection utility message object respond deﬁned object instance variable added class object inherit object special implementation smallinteger andundeﬁnedobject example vm know depends structure layout certain standard class begin browse method category instance object start key behaviour provides printing object smalltalk return printed form select expression workspace select print menu executes expression asks returned object print fact sends message printstring returned object method printstring template method core sends message printon receiver message printon hook specialized object printon likely method quently override method take argument stream string representation object written default tion simply writes class preceded printstring return string written example class browser doe redeﬁne method printon sending message printstring instance executes method deﬁned object browser new printstring browser class ttcfont show example printon specialization print class followed family size ily font shown code print instance class method printon redeﬁnition ttcfont printon astream astream nextputall nextputall self familyname space print self pointsize space object nextputall self subfamilyname nextput ttcfont allinstances printstring bitstreamverasans bold note message printon storeon message storeon put argument stream expression used recreate receiver expression evaluated stream read using message readfrom just return textual version receiver course happen textual representation represent receiver expression word representation representation functional programming expression return value executed smalltalk message expression return object value object nice property value example value object trueis object true object object printed version object value print object workspace example expression true note object array pending object contain example array booleans array person squeak nism introduced message isselfevaluating print collection form possible especially true brace array following example show dynamic array element browser new array browser remember literal array contain literal ing array doe contain point literal element lot printon method specialization implement havior implementation point printon interval printon basic class method point point printon astream receiver print astream term inﬁx notation x printon astream astream nextput y printon astream method interval interval printon astream astream nextput print start nextputall print stop iftrue astream nextputall print step astream nextput interval self evaluating identity equality smalltalk message object equality object represent value object identity expression represent object default implementation object equality test object tity method object equality object anobject answer receiver argument represent object redeﬁned subclass consider redeﬁning message hash anobject method frequently want override consider case complex number true value false different object work complex override follows object method equality complex number complex anobject anobject iscomplex iftrue real anobject real imaginary anobject imaginary iffalse adapttocomplex self andsend default implementation object negates object normally need changed true override consider overriding hash instance class used key dictionary make sure instance considered equal hash value method hash reimplemented complex number complex hash hash reimplemented implemented hash bitxor imaginary hash override hash override semantics object identity class primitive method protoobject note squeak strange behaviour compared smalltalks example symbol string equal consider bug feature true true class membership method allow query class object class ask object class using message class smallinteger conversely ask object instance speciﬁc class ismemberof smallinteger true precisely class ismemberof integer false ismemberof number false ismemberof object basic class smalltalk written really navigate structure using right combination superclass class message chapter iskindof object iskindof answer receiver s class subclass argument class iskindof smallinteger true iskindof integer true iskindof number true iskindof object true iskindof string false iskindof number true iskindof integer false fraction kind number class number superclass class fraction integer respondsto object respondsto answer receiver understands message selector given argument respondsto false normally bad idea query object class ask message understands instead making decision based class object simply send message object let decide basis class behave copying copying object introduces subtle issue instance variable accessed reference shallow copy object share reference instance variable original object shallowcopy subarray shared object object shallowcopy primitive method creates shallow copy object shallow copy array share reference nested array contain object shallowcopy public interface object copy overridden instance unique case example class boolean character smallinteger symbol undeﬁnedobject object copytwolevel doe obvious thing simple shallow copy doe sufﬁce copytwolevel fully independent state object deepcopy make arbitrarily deep copy object deepcopy problem deepcopy terminate applied mutually recursive structure doe terminate possible override deepcopy right thing object copy offer better solution method copying object template method object copy answer instance just like receiver subclass typically override postcopy typically override shallowcopy shallowcopy postcopy override postcopy copy instance variable shared postcopy super postcopy basic class debugging important method halt order set breakpoint method simply insert message send self halt point body method message sent execution interrupted debugger open point program chapter detail debugger important message assert take block argument block return true execution continues assertionfailure exception raised exception caught debugger open point execution assert especially useful support design contract typical usage check public method object stack pop easily implemented follows method checking stack pop return ﬁrst element remove stack self assert self isempty linkedlist removefirst element confuse object assert testcase assert occurs sunit testing framework chapter expects block expects boolean useful debugging serve different intent error handling protocol contains method useful signaling error sending self deprecated anexplanationstring signal current method longer used deprecation turned debug protocol preference browser string argument offer alternative doifnotnil arg arg printstring nil smallinteger object doifnotnil deprecated use ifnotnildo doesnotunderstand sent message lookup fails default implementation object doesnotunderstand trigger debugger point useful override doesnotunderstand provide behaviour argument understands value including boolean object error object error generic method used raise exception generally better raise custom exception distinguish error arising code coming kernel class abstract method smalltalk implemented convention body self subclassresponsibility abstract class tiated accident call abstract method result object subclassresponsibility evaluated method signaling method abstract object subclassresponsibility message set framework behavior class subclass announce subclass implemented message self error subclass overridden thiscontext sender selector printstring magnitude number boolean classical example abstract class shall shortly chapter number new error subclass overridden self shouldnotimplement sent convention signal inherited method appropriate subclass generally sign quite right design class hierarchy limitation single inheritance hard avoid workarounds typical example collection remove inherited dictionary ﬂagged implemented dictionary provides removekey instead testing testing method sunit testing testing method let ask question state receiver return aboolean numerous testing method provided object seen iscomplex include isarray isboolean isblock iscollection generally method avoided querying object class form violation encapsulation instead testing object class simply send request let object decide handle testing method undeniably useful useful probably protoobject isnil object notnil basic class pattern obviate need method initialize release ﬁnal key method occurs object protoobject isinitialize method initialize hook method protoobject initialize subclass redeﬁne method perform initialization instance creation reason important squeak version default newmethod deﬁned class send initialize newly created instance method newas template method behavior new answer new initialized instance receiver class indexable variable fail class indexable basicnew initialize mean simply overriding initialize hook method new instance class automatically initialized initialize method normally perform super initialize establish class invariant inherited instance variable note notthe standard behaviour smalltalks number remarkably number smalltalk primitive data value true object course number implemented efﬁciently virtual machine number hierarchy perfectly accessible extensible portion smalltalk class hierarchy number category abstract root hierarchy magnitude represents kind class porting comparision operator number add various arithmetic operator abstract method float fraction represent tively ﬂoating point number fractional value integer abstract woolf null object robert martin dirk riehle frank buschmann editor pattern language program design addison wesley numbermagnitudefloatfractionintegersmallintegerlargepositiveintegerlargenegativeintegerobject figure number hierarchy distinguishing subclass smallinteger largepositiveinteger largenegativeinteger user need aware difference integer class value automatically converted needed magnitude magnitude parent number class class supporting comparison operation character duration timespan complex number comparable inherit number method abstract remaining operator generically deﬁned example method abstract comparison method magnitude amagnitude answer receiver argument subclassresponsibility magnitude amagnitude answer receiver greater argument basic class number similarly number deﬁnes abstract arithmetic operator generically deﬁned allnumber object support various converting operator asfloat asinteger numerous shortcut constructor method asi convert number instance complex zero real component generate duration s hour dayand week number directly support common math function sin log raiseto squared sqrtand number printon implemented term abstract method number printon base default base testing method include odd positive negative unsurprisingly number override isnumber interesting isinﬁnite deﬁned return false truncation method include ﬂoor ceiling integerpart fractionpart addition number multiplication number division number subtraction number false equality number true test number different true greater true greater equal false smaller point creation following example work surprisingly smalltalk factorial factorial note factorial really calculated language quite difﬁcult compute excellent example automatic coercion exact handling number try display result factorial take time display calculate float float implement abstract number method ﬂoating point interestingly float class float provides od return following constant e inﬁnity nanand pi float pi float inﬁnity inﬁnity float inﬁnity isinﬁnite true fraction fraction represented instance variable numerator denominator integer normally created byinteger division using constructor method fraction numerator denominator fraction multiplying fraction integer fraction yield integer integer integer abstract parent concrete integer implementation addition providing concrete implementation abstract number method add method speciﬁc integer factorial atrandom isprime gcd smallinteger special instance represented compactly instead stored reference smallinteger represented directly using bit used hold reference ﬁrst bit object reference indicates object smallinteger class method minval maxval tell range smallinteger smallinteger maxval raisedto true smallinteger minval raisedto negated true smallinteger go range automatically converted largepositiveinteger largenegativeinteger needed smallinteger maxval largepositiveinteger smallinteger minval class basic class large integer similarly converted small integer appropriate programming language integer useful ifying iterative behaviour dedicated method timesrepeat evaluating block repeatedly seen similar example chapter n timesrepeat n n n character character deﬁned category subclass magnitude printable character represented squeak example true character generated various class method character class value take unicode ascii integer value argument return corresponding character protocol accessing untypeable character contains number convenience constructor method backspace cr escape euro space tab character space character value character space asciivalue true printon method clever know way generate character offer appropriate representation character value character value character value character space character value various convenient testing method built isalphanumeric ischaracter isdigit islowercase isvowel convert character string containing just character send asstring case asstring printstring yield different result ascii character unique instance stored class variable charactertable character value true character outside range unique character charactertable size character value character value false string string class deﬁned category astring indexed collection hold character collection bytestringstringsymbolobject arraytextarrayedcollectionsequenceablecollection figure string hierarchy fact string abstract squeak string actually instance concrete class bytestring world class bytestring important subclass string issymbol key difference single instance symbol given value called unique instance property contrast basic class separately constructed string s happen contain sequence character different object false assymbol hello true important difference string mutable symbol immutable u hello u error easy forget string collection understand message collection hello indexof o string doe inherit magnitude doe support usual comparing method addition string match useful basic match true need advanced support regular expression number party implementation available vassili bykov s regex package string support large number conversion method shortcut constructor method class asdate asfilename number useful method verting string string capitalized translatetolowercase string collection chapter booleans class boolean offer fascinating insight smalltalk language pushed class library boolean abstract superclass singleton class true false behaviour boolean s understood considering method iftrue iffalse take block argument factorial iftrue iffalse objectiftrue iffalse boolean iftrue iffalse trueiftrue iffalse false figure boolean hierarchy method abstract boolean implementation concrete subclass trivial method implementation iftrue iffalse true iftrue truealternativeblock iffalse falsealternativeblock value false iftrue truealternativeblock iffalse falsealternativeblock value fact essence oop message sent object object determines method used respond case instance true simply evaluates true alternative instance false evaluates false alternative abstract boolean method implemented way true false example method implementing negation true negation answer false receiver true booleans offer useful convenience method iftrue iffalse iffalse iftrue choice eager lazy conjunction disjunction false evaluate side false evaluate receiver basic class false argument block evaluated exception ﬁrst example boolean subexpressions evaluated take boolean argument second example ﬁrst evaluated expects block argument block evaluated ﬁrst argument true try imagine andor implemented check implementation inboolean true andfalse chapter summary override override hash override postcopy correctly implement copying object send self halt set breakpoint return self subclassresponsibility make method abstract object string representation override printon override hook method initialize properly initialize instance method automatically convert float fraction integer truly represent rational number ﬂoats unique instance mutable symbol care mutate string literal unique string symbol collection support usual collection collection introduction collection class form group subclass collection stream group class appears blue book subclass collection subclass stream total class redesigned time released group class considered paradigmatic example design squeak abstract class collection subclass abstract class stream subclass like bitmap filestream compiledmethod class crafted use part application categorized collection organization purpose chapter use term collection hierarchy mean collection subclass alsoin category labelled use term stream hierarchy mean stream subclass alsoin stream category list shown figure class respond message deﬁne total method chapter focus mainly subset collection class shown figure stream discussed separately chapter goldberg david robson smalltalk language implementation reading mass addison wesley isbn collection page bag identitybag characterset sequenceablecollection arrayedcollection array weakarray bytearray colorarray floatarray integerarray runarray string symbol textwordarray wordarrayforsegment heapintervallinkedlistmappedcollection orderedcollection sortedcollection set dictionary identitydictionarypluggabledictionaryweakkeydictionary weakidentitykeydictionary weakvaluedictionary identitysetpluggablesetweakset skiplist identityskiplist weakregistry stream attributedtextstream positionablestream readstreamwritestream limitedwritestreamreadwritestream rwbinaryortextstream transcripter textstream transcriptstream figure collection class squeak indentation indicates ing italicized class abstract bold class described blue book variety collection collection stringsymbolobjectsetdictionaryarraytextbagorderedcollectionsortedcollectionlinkedlistarrayedcollectionintervalsequenceablecollectionpluggablesetpluggabledictionaryidentitydictionarybytestring figure key collection class squeak variety collection make good use collection class reader need perﬁcial knowledge wide variety collection implement commonality difference programming collection individual element important way raise level abstraction program lisp function map applies argument function element list return new list containing result early example style adopted programming central tenet modern functional programming language ml haskell followed smalltalk s lead good idea suppose data structure containing collection student record wish perform action student meet criterion programmer raised use imperative language immediately reach loop smalltalk programmer write student select gpa threshold evaluates new collection containing precisely element collection protocol method accessing size capacity anindex anindex anelement testing isempty includes anelement contains ablock occurrencesof anelement adding add anelement addall acollection removing remove anelement remove anelement ifabsent ablock removeall acollection enumerating ablock collect ablock select ablock reject ablock detect ablock detect ablock ifnone anoneblock inject avalue abinaryblock converting asbag asset asorderedcollection assortedcollection asarray assortedcollection ablock creation anelement withall acollection figure standard collection protocol student bracketed function return smalltalk code simplicity elegance query language message select understood allcollections smalltalk need ﬁnd student data structure array linked list theselect message understood note quite different using loop know student array linked list loop set smalltalk speaks collection speciﬁc kind collection mean object support protocol testing membership enumerating ements allcollections understand testing message includes isempty occurrencesof understand enumeration message select reject opposite select collect like lisp s map detect ifnone inject performs left fold ubiquity protocol variety make powerful figure summarizes standard protocol supported class collection hierarchy method deﬁned redeﬁned optimized occasionally forbidden subclass collection basic uniformity different kind collection supporting different protocol providing different behaviour expression bracket thought deﬁning anonymous gpa threshold variety collection request let brieﬂy survey key difference instance subclass sequenceablecollection start ﬁrstelement proceed order element instance set bagand dictionary hand sequenceable asortedcollection maintains element sort order sequenceable collection indexable element retrieved familiar indexable data structure ﬁxed size anarray n retrieves nthelement anarray anarray n v change nthelement s skiplist s sequenceable indexable stand ﬁrstand instance dictionary subclass accessed key instead index collection mutable interval s symbol s interval immutable collection representing range integer example interval contains element indexable changed instance interval array ﬁxed size kind collection sorted collection ordered collection linked list grow creation class orderedcollection general array size orderedcollection grows demand method addfirst addlast duplicate asetwill ﬁlter duplicate bagwill dictionary setand baguse provided element theidentity variant class use test argument object pluggable variant use arbitrary equivalence relation supplied creator collection collection hold kind element string characterarray orsymbol hold character array hold mix object bytearray hold byte anintegerarray hold integer s floatarray hold float alinkedlist constrained hold element conform link collection sequenceable sequenceable accessible index indexable accessible key keyed interval sortedcollectionarraybytearrayorderedcollectionstringsymbollinkedlist skiplistdictionary identitydictionarypluggabledictionaryset identitysetpluggablesetbagidentitybag arrayed implementationordered implementationhashed implementationlinked implementationinterval implementation array stringsymbolorderedcollection sortedcollectiontextheapset identitysetpluggablesetbagidentitybagdictionaryidentitydictionarypluggabledictionarylinkedlist skiplistinterval figure collection class categorized implementation nique implementation collection categorization functionality concern consider collection class implemented shown figure ﬁve main implementation technique employed store element indexable instance variable collection object consequence array ﬁxed size created single memory allocation sortedcollections store element array referenced instance variable collection consequently internal array replaced larger collection grows storage capacity various kind set dictionary reference subsidiary array storage use array hash table bag use sidiary dictionary element bag key number occurrence value linkedlists use standard representation represented integer record point step size addition class weak variant array set various kind dictionary collection hold element weakly way doe prevent element garbage collected squeak virtual machine aware class handle key class reader interested learning smalltalk collection referred lalonde pugh s excellent example key class present common important collection class using simple code example main protocol collection access element add add remove element size isempty include information collection select iterate collection collection implement protocol interpret ﬁt semantics suggest browse class identify speciﬁc advanced protocol focus common collection class orderedcollection set sortedcollection dictionary interval array common creation protocol way create instance collection generic one use method new aninteger creates collection size aninteger element nil anobject creates collection add anobject created collection different collection realize behaviour differently create collection initial element using method element array array array array array array use addall add element kind collection kind asorderedcollection addall orderedcollection care addall return argument receiver create collection withall ornewfrom lalonde john pugh inside smalltalk volume prentice hall isbn collection array withall orderedcollection withall orderedcollection sortedcollection withall sortedcollection set withall set bag withall bag dictionary withall dictionary array newfrom orderedcollection newfrom orderedcollection sortedcollection newfrom sortedcollection set newfrom set bag newfrom bag dictionary newfrom dictionary note method identical particular dictionary class withall interprets argument collection value dictionary class newfrom expects collection association array anarray collection element accessed integer index contrary c convention ﬁrst element smalltalk array position main protocol access array element method aninteger return element index aninteger aninteger anobject put anobject index aninteger array collection add remove element end array following code creates array size put value ﬁrst location return ﬁrst element anarray array new anarray anarray anarray anarray way create instance class array use new construct creation new new aninteger creates array size aninteger new creates array size key class creation method allows specify value element following code creates array element consisting number fraction string array literal creation creates literal array static literal element known expression compiled executed following code creates array size ﬁrst element literal number second literal string evaluate array single element instead array element symbol number occurs construct cause compiler interpret literally expression contained array expression scanned resulting element fed new array literal array contain number nil true false symbol string dynamic creation create dynamic array using construct b equivalent array b mean particular expression enclosed executed asfloat atrandom element access element sequenceable collection accessed anarray copy anarray anarray anarray careful code modiﬁes literal array compiler try allocate space just literal array unless copy array collection second time evaluate code literal array value expect cloning second time literal actually dynamic array problem orderedcollection orderedcollection collection grow ments added sequentially offer variety method add addfirst addlast addall ordcol orderedcollection new ordcol add add addfirst orderedcollection removing element method remove anobject remove ﬁrst currence object collection collection doe include object raise error ordcol add ordcol remove orderedcollection variant remove named remove ifabsent allows specify second argument block executed case element removed collection re ordcol remove ifabsent conversion possible orderedcollection array collection sending message asorderedcollection asorderedcollection orderedcollection asorderedcollection orderedcollection h e l l o interval class interval represents range number example interval number deﬁned follows interval example key class printstring interval reveals class number provides convenience method called generate interval interval true use interval class ornumber specify step number follow interval size dictionary dictionary important collection element accessed using key commonly used message dictionary ﬁnd ifabsent key value color dictionary new color yellow color yellow color blue color blue color red color red color yellow color yellow color set blue yellow red color color blue color yellow color red dictionary compare key equality key considered return true compared using common difﬁcult spot bug use key object ﬁned hash method method used implementation dictionary comparing object class dictionary clearly illustrates collection hierarchy based subclassing subtyping dictionary class set normally want use dictionary setis expected implementation dictionary clearly seen consisting set association key value created using message create dictionary collection association convert dictionary array association color dictionary newfrom blue color blue red color red yellow color yellow color removekey blue color association yellow color yellow red color red collection identitydictionary dictionary us result message hash determine key class identitydictionary us identity message key instead value er key equal object symbol s used key case natural use identitydictionary symbol guaranteed globally unique hand key string s better use plain dictionary trouble b copy trouble identitydictionary new trouble b b trouble trouble b b trouble aand bare different object treated different object interestingly literal allocated just really object don t want code depend behaviour like plain dictionary value key equal use globally unique object like symbol s orsmallinteger s key aidentitydictionary string s object key plain dictionary note global smalltalk instance systemdictionary subclass ofidentitydictionary key symbol s actually bytesymbol s contain character smalltalk key collect class set bytesymbol sending key orvalues dictionary result set look set class setis collection behaves mathematical set collection duplicate element order set element added using message add accessed using message object set implement method hash s set new s add add s create set using set class newfrom conversion sage collection asset example key class set newfrom asset true asset offer convenient way eliminate duplicate tion color black color white color red blue green asset size note red blue green white abagis like setexcept doe allow duplicate color black color white color red blue green asbag size set operation union intersection membership test mented collection message union intersection includes ceiver ﬁrst converted set operation work kind collection union set intersection smalltalk includes k true explain element set accessed using iterators section sortedcollection contrast orderedcollection asortedcollection maintains element sort order default sorted collection us message establish sort order sort instance subclass abstract class magnitude deﬁnes protocol comparable object chapter create sortedcollection creating new instance adding element sortedcollection new add add add add sortedcollection usually send conversion message assortedcollection existing collection assortedcollection sortedcollection example answer following collection faq sort collection answer send message assortedcollection assortedcollection sortedcollection e h l l o string result asstring unfortunately return printstring representation want assortedcollection asstring sortedcollection e h l l o correct answer use string class newfrom string class withall orobject assortedcollection string string newfrom assortedcollection string withall assortedcollection possible different kind element sortedcollection long comparable example mix different kind number integer ﬂoats fraction assortedcollection sortedcollection imagine want sort object deﬁne method like different sorting criterion supplying argument block called sortblock sorted collection example class color magnitude doe implement method specify block stating color sorted according luminance measure brightness col sortedcollection sortblock luminance luminance col addall color red color yellow color white color black sortedcollection color black color red color yellow color white string smalltalk string represents collection character sequenceable indexable mutable homogeneous containing character instance like array s string s dedicated syntax normally created rectly specifying string literal single quote usual collection creation method work string key class string h string newfrom h e l l o actual fact string abstract instantiate string actually bytestring widestring thing simple usually ignore difference just talk instance string instance string concatenated comma s worry string mutable collection change using method s h u hurry note comma method deﬁned collection work kind collection modify existing string using replaceall replacefrom shown note number character interval size s replaceall n n hurry s replacefrom worry contrast method described method copyreplaceall creates new string curiously argument substring individual character size match s copyreplaceall wombat quick look implementation method reveals deﬁned string s kind sequenceablecollection following work copyreplaceall string matching possible ask pattern match string sending match message pattern specify match collection arbitrary series character match single character note match sent pattern string matched match mag true ag match tag true useful method ﬁndstring mag ﬁndstring mag ﬁndstring startingat casesensitive false advanced pattern matching facility offering capability perl available included standard test string following example illustrate use isempty includes anysatisfy message deﬁned string generally collection false includes false anysatisfy c c islowercase false anysatisfy c c islowercase true string templating message useful manage string templating format expandmacros expandmacroswith format cool message expandmacros family offer variable substitution ing n carriage return t tabulation argument surround string single quote conditional t expandmacros expandmacroswith cool expandmacroswith squeak expandmacroswith squeak quentin thibaut play expandmacroswith true play quentin thibaut play expandmacroswith false play strongly recommend vassili bykov s regular expression package available www iterators utility method class string offer numerous tie including message aslowercase asuppercase capitalized aslowercase asuppercase capitalized asnumber sentence doubt far long contractto sent long note generally difference asking object string representation sending message printstring converting string sending message asstring example difference asymbol printstring asymbol asymbol asstring symbol similar string guaranteed globally unique reason symbol preferred string key dictionary particular instance identitydictionary chapter string symbol collection iterators smalltalk loop conditionals simply message sent collection object integer block chapter addition message evaluates block argument ranging initial ﬁnal number smalltalk collection hierarchy offer various iterators using iterators make code robust compact iterating method basic collection iterator applies argument block taking single argument element receiver following example print string contained receiver transcript transcript cr collection variant lot variant dowithindex reversedo indexed collection array orderedcollection sortedcollection method dowithindex give access current index method related deﬁned class number dowithindex iftrue ordered collection reversedo walk collection reverse order following code show interesting message separatedby executes second block element re e re re e separatedby re re note code especially efﬁcient creates intermediate string better use write stream buffer result chapter string streamcontents stream asstringon stream delimiter dictionary message sent dictionary element taken account value association proper method use keysdo valuesdo associationsdo iterate respectively key value association color dictionary newfrom yellow color yellow blue color blue red color red color keysdo key transcript key cr display key color valuesdo value transcript value cr display value color associationsdo value transcript value cr display association collecting result collect want process element collection produce new collection result using probably better using collect iterator method theenumerating protocol collection subclass imagine want collection containing double element collection using method write following collection iterators double orderedcollection new e double add e orderedcollection method collect executes argument block element return new collection containing result using collect instead code simpler collect e e advantage collect dramatic ing example collection integer generate result collection absolute value integer acol result acol specie new acol size acol size result acol ab contrast simpler following expression collect ab advantage second solution work set bag generally avoid using unless want send message element collection note sending message collect return kind collection receiver reason following code fails string hold integer value collect ea ea asciivalue error instead ﬁrst convert string array orderedcollection asarray collect ea ea asciivalue actually collect guaranteed return collection exactly class receiver specie case interval specie actually array collect ea ea collection selecting rejecting element select return element receiver satisfy particular condition select isprime reject doe opposite reject isprime identifying element detect method detect return ﬁrst element receiver match block argument detect isvowel o method detect ifnone variant method detect second block evaluated element matching block smalltalk allclasses detect java match asstring ifnone nil nil accumulating result inject functional programming language provide function called foldorreduce accumulate result applying binary operator iteratively element collection squeak collection inject ﬁrst argument initial value second argument argument block applied result far element turn trivial application inject produce sum collection number following gauss squeak write expression sum ﬁrst integer inject sum sum example following block computes factorial factorial n n inject product product factorial value hint using collection message count message count return number element satisfying condition condition represented boolean block smalltalk allclasses count match asstring includes message includes check argument contained collection color color white color yellow color red color blue color orange color includes color blue true anysatisfy message anysatisfy answer true element collection satisﬁes condition represented argument color anysatisfy c c red true hint using collection common mistake add following error frequent smalltalk mistake collection orderedcollection new add add variable collection doe hold newly created collection number added method add return element added receiver following code yield expected result collection orderedcollection new collection add add orderedcollection use message return receiver cascade message collection orderedcollection new add add orderedcollection collection removing element collection iterating mistake make remove element collection currently iterating remove range asorderedcollection range anumber anumber isprime iffalse range remove anumber orderedcollection result clearly incorrect ﬁltered solution copy collection going range asorderedcollection range copy anumber anumber isprime iffalse range remove anumber orderedcollection redeﬁning hash difﬁcult error spot redeﬁne hash symptom lose element set strange behaviour solution proposed kent beck usexor redeﬁne hash suppose want book considered equal title author redeﬁne hash follows method redeﬁning book abook self class abook class iffalse abook title author abook author book hash hash xor author hash nasty problem arises use mutable object object change hash value time element setor key dictionary don t unless love debugging chapter summary smalltalk collection hierarchy provides common vocabulary formly manipulating variety different kind collection key distinction sequenceablecollection s maintain element given order dictionary subclass maintain association set bag summary convert collection kind collection sending message asarray asorderedcollection sort collection send message assortedcollection array s created special syntax dynamic array s created syntax compare key equality useful key instance string identitydictionary instead us object identity compare key suitable symbol s used key mapping object reference value s understand usual collection message addition string support simple form advanced application look instead regex package basic iteration message useful imperative code modifying element collection sending element message using common use collect select reject includes inject message process tions uniform way remove element collection iterating modify iterate copy instead override remember override hash chapter stream stream used iterate sequence element sequenced collection ﬁles network stream stream readable writeable reading writing relative current position stream stream easily converted collection vice versa sequence element good metaphor understand stream following stream represented sequence element past element sequence future element sequence stream positioned sequence understanding model important stream operation smalltalk rely reason stream class subclass positionablestream figure present stream contains ﬁve character stream original position element past position using message reset abcdefuture elementsequencepast elementsequence figure stream positioned beginning reading element conceptually mean removing ﬁrst element stream future element sequence putting element past element sequence having read element using message state stream shown figure abcdefuture elementsequencepast elementsequence figure stream execution method character ai past b c dand eare future writing element mean replacing ﬁrst element future sequence new moving past figure show state stream having written xusing message nextput anelement axcdefuture elementsequencepast elementsequence figure stream having written x stream collection collection protocol support storage removal enumeration element collection doe allow operation intermingled example element orderedcollection processed method possible add remove element inside block doe collection protocol offer way iterate collection time choosing collection go forward doe procedure like require traversal index position reference maintained outside collection exactly role readstream writestream readwritestream class deﬁned stream collection ple following snippet creates stream interval read collection r readstream r r r false writestream s write data collection w writestream string new w nextput w nextput b w possible create readwritestream s support ing writing protocol main problem writestream readwritestream support array string squeak currently changed development new library named nile try stream kind collection error w writestream orderedcollection new w nextput raise error stream meant collection used ﬁles socket following example creates ﬁle named writes string separated carriage return close ﬁle standardfilestream ﬁlenamed str str nextputall cr nextputall following section present protocol depth streaming collection stream really useful dealing collection element used reading writing element collection explore stream feature stream reading collection section present feature used reading collection using stream read collection essentially provides pointer collection pointer forward reading place want class readstream used read element collection method nextand used retrieve element collection stream readstream b c false stream stream b c stream false stream readstream stream stream stream stream message peek used want know element stream going forward stream readstream negative stream peek look ﬁrst element reading true negative iftrue stream ignores minus character number stream uptoend code set boolean variable negative according sign number stream number absolute value method uptoend return current position end stream set stream end code simpliﬁed using peekfor move forward following element equal parameter doesn t stream readstream stream peekfor true stream uptoend peekfor return boolean indicating parameter equal ment noticed new way constructing stream abovestreaming collection example simply send readstream sequenceable collection reading stream particular collection positioning method position stream pointer index directly using position request current position using position remember stream tioned element element index corresponding beginning stream obtain state stream depicted figure following code stream readstream stream position stream c abcdefuture elementsequencepast elementsequence figure stream position position stream beginning end use reset settoend skipto used forward location relative current position skip accepts number argument skip number element skipto skip element stream ﬁnds element equal parameter note position stream matched element stream readstream stream stream positioned just stream skip stream d stream stream skip stream b stream stream reset stream stream skipto e stream just e stream f stream letter ehas skipped method content return copy entire stream testing method allow test state current stream atend return true element read isempty return true element collection possible implementation algorithm using atend take sorted collection parameter merges collection sorted collection readstream readstream variable result contain sorted collection result orderedcollection new atend atend whiletrue peek peek remove smallest element stream add result iftrue result add iffalse result add stream end copy remains result addall uptoend addall uptoend orderedcollection writing collection seen read collection iterating ments using readstream ll learn create collection using writestream writestream s useful appending lot data collection various location used construct string based static dynamic part example stream string new writestream stream nextputall smalltalk image contains print smalltalk allclasses size nextputall class cr nextputall really stream smalltalk image contains class really lot collection technique used different implementation method printon example simpler efﬁcient way creating stream interested content stream string string streamcontents stream stream print space nextputall space nextput space print size method streamcontents creates collection stream collection executes block gave passing stream parameter block end streamcontents return content collection following writestream method especially useful context nextput add parameter stream nextputall add element collection passed parameter stream print add textual representation parameter stream method useful printing different kind character stream like space taband cr carriage return useful method isensureaspace ensures character stream space character isn t space add concatenation using nextput nextputall writestream best way concatenate character using comma concatenation operator far efﬁcient temp temp string new temp temp asstring timetorun millisecond temp temp writestream string new stream temp nextputall asstring space temp content timetorun millisecond reason using stream efﬁcient comma creates new string containing concatenation receiver argument copy repeatedly concatenate receiver get longer longer time number character copied go exponentially creates lot garbage collected using stream instead string concatenation optimization fact use streamcontents mentioned page help string streamcontents tempstream tempstream nextputall asstring space reading writing time s possible use stream access collection reading writing time imagine want create history class manage backward forward button web browser history react ﬁgures figure new history displayed web browser figure user open page behaviour implemented using readwritestream collection figure user click link page figure user click link page figure user click button viewing page figure user click button page displayed figure page user click link page history forgets page object subclass history instancevariablenames stream classvariablenames pooldictionaries category stream history initialize super initialize stream readwritestream array new really difﬁcult deﬁne new class contains stream stream created initialize method need method backward forward history gobackward self cangobackward iffalse self error ﬁrst element stream skip history goforward self cangoforward iffalse self error element code pretty straightforward deal goto method activated user click link possible solution history goto apage stream nextput apage version incomplete user click link future page forward button deactivated simplest solution write nil just indicate history end history goto anobject stream nextput anobject stream nextput nil stream method cangobackward cangoforward mented stream positioned element backward page current position page current page page want history cangobackward position stream ﬁle access history cangoforward atend stream peek notnil let add method peek content stream history content content history work advertised history new goto goto goto gobackward gobackward goto nil nil using stream ﬁle access seen stream collection element s possible stream ﬁles hard disk created stream ﬁle really like stream collection able use protocol read write position stream main difference appears creation stream different way create ﬁle stream shall creating ﬁle stream create ﬁle stream use following instance creation method offered class filestream ﬁlenamed open ﬁle given reading writing ﬁle exists prior content modiﬁed replaced ﬁle truncated close directory ﬁle created default directory newfilenamed create new ﬁle given answer stream opened writing ﬁle ﬁle exists ask user stream forcenewfilenamed create new ﬁle given answer stream opened writing ﬁle ﬁle exists delete asking creating new ﬁle oldfilenamed open existing ﬁle given reading writing ﬁle exists prior content modiﬁed replaced ﬁle truncated close directory ﬁle created default directory readonlyfilenamed open existing ﬁle given reading remember time open stream ﬁle close close method stream filestream forcenewfilenamed stream nextputall text written ﬁle named print stream localname stream close stream filestream readonlyfilenamed stream text written ﬁle named stream close method localname answer component ﬁle access path using method fullname soon notice manually closing ﬁle stream painful s filestream offer message called forcenewfilenamed automatically close new stream evaluating block set content filestream forcenewfilenamed stream stream nextputall text written ﬁle named print stream localname string filestream readonlyfilenamed stream stream content text written ﬁle named method block argument ﬁrst create stream ﬁle execute block stream argument ﬁnally close stream method return returned block say value expression inusing stream ﬁle access block used previous example content ﬁle variable string binary stream default created stream mean read write character stream binary send message binary stream stream binary mode write number byte want use nextputall write number time pas bytearray argument filestream forcenewfilenamed stream stream binary nextputall asbytearray filestream readonlyfilenamed stream stream binary stream size stream stream uptoend bytearray example creates picture ﬁle named portable graymap ﬁle format open ﬁle favorite drawing program filestream forcenewfilenamed stream stream nextputall cr nextputall cr nextputall cr binary nextputall asbytearray nextputall asbytearray nextputall asbytearray nextputall asbytearray stream creates checkerboard shown figure figure checkerboard draw using binary stream chapter summary stream offer better way collection incrementally read write sequence element easy way convert forth stream collection readable writeable readable able convert collection stream deﬁne stream collection readstream send message readstream collection convert stream collection send message content concatenate large collection instead using comma operator efﬁcient create stream append collection stream nextputall extract result sending content stream default send binary explicitly make morphic morphic given squeak s graphical interface morphic written smalltalk fully portable operating system consequence squeak look exactly unix macos window distinguishes morphic user interface toolkits doe separate mode composing running interface graphical element assembled disassembled user history morphic morphic developed john maloney randy smith self programming language staring maloney later wrote new version morphic squeak basic idea self version alive squeak morphic directness liveness directness mean shape screen object examined changed directly pointing using mouse liveness mean user interface able respond user action information screen continuously updated world describes change simple example detach menu item button bring world menu world menu bring morphic halo menu item want detach bring halo drag item screen grabbing black handle shown figure thank hilaire fernandes permission base chapter original article morphic figure detaching morph new morph menu item make independent button object screen run squeak morphs instance subclass class morph large class method make possible subclass implement interesting behaviour little code create morph represent object good representation depends object create morph represent string object execute following code workspace line time s asmorph openinworld s openviewerforargument ﬁrst line creates morph represent string open display world squeak give screen obtain graphical element morph manipulate second line open viewer show attribute morph xand nates screen clicking yellow exclamation mark sends message morph responds appropriately course possible deﬁne morphs interesting graphical representation just seen method asmorph default implementation class object class just creates stringmorph example color tan asmorph return stringmorph labeled result color tan printstring let s change coloured rectangle instead open browser color class add following method method getting morph instance color color asmorph new color self execute color orange asmorph openinworld workspace instead morph orange rectangle manipulating morphs manipulating morphs morphs object manipulate like object smalltalk sending message change property create new subclass morph morph currently open screen tion size convenience morphs considered occupy rectangular region screen irregularly shaped tion size smallest rectangular box surround known morph s bounding box just bound position method return point describes location morph s upper left corner upper left corner bounding box origin coordinate screen s upper left corner ycoordinates increasing screen xcoordinates increasing right extent method return point point speciﬁes width height morph location type following code workspace joe morph new color color blue joe openinworld morph new color color red openinworld type joe position print joe execute joe position joe position repeatedly possible similar thing size joe extent answer joe s size joe grow execute joe extent joe extent change color morph send color message desired color object argument instance joe color color orange add transparency try joe color color orange alpha make follow joe repeatedly execute code position joe position joe using mouse execute code pixel right joe composing morphs way creating new graphical representation placing morph inside called composition morphs composed morphic depth place morph inside sending message addmorph container morph try adding morph star starmorph new color color yellow joe addmorph star star position joe position line position star coordinate joe notice coordinate contained morph relative screen containing morph method available position morph browse geometry protocol class morph example center star inside joe execute star center joe center figure star contained inside joe translucent blue morph try grab star mouse ﬁnd actually grab joe morphs star embedded inside joe possible embed morphs inside joe addition doing programmatically embed morphs direct manipulation world menu select object click button labeled ic drag ellipse star supply ﬂap place star ellipse star bring select embed star ellipse remove joe removemorph star orstar delete direct manipulation blue click twice star drag star away ellipse using grab handle star bring morphic halo click red menu drawing morphs ﬁrst click brings morphic halo ellipse second click halo star click move focus level embedding creating drawing morphs possible make interesting useful graphical resentations composing morphs need create completely different deﬁne subclass morph override drawon method change appearance morphic framework sends message drawon morph need redisplay morph screen parameter drawon kind canvas expected behaviour morph draw canvas inside bound let s use knowledge create morph using class browser deﬁne new class crossmorph inheriting morph class deﬁning crossmorph morph subclass crossmorph instancevariablenames classvariablenames pooldictionaries category morphic deﬁne drawon method like method drawing crossmorph drawon acanvas crossheight crosswidth horizontalbar verticalbar crossheight self height crosswidth self width horizontalbar self bound insetby crossheight verticalbar self bound insetby crosswidth acanvas ﬁllrectangle horizontalbar color self color acanvas ﬁllrectangle verticalbar color self color sending bound message morph answer bounding box instance rectangle rectangle understand message create rectangle related geometry use insetby message point argument create ﬁrst rectangle reduced height rectangle reduced morphic figure crossmorph halo resize wish test new morph execute crossmorph new openinworld result look like figure notice sensitive zone click grab morph bounding box let s ﬁx morphic framework need ﬁnd morphs lie cursor sends message containspoint morphs bounding box lie mouse pointer limit sensitive zone morph cross shape need override containspoint method deﬁne following method class crossmorph method shaping sensitive zone crossmorph containspoint apoint crossheight crosswidth horizontalbar verticalbar crossheight self height crosswidth self width horizontalbar self bound insetby crossheight verticalbar self bound insetby crosswidth horizontalbar containspoint apoint verticalbar containspoint apoint method us logic drawon conﬁdent point containspoint answer trueare one colored drawon notice leverage containspoint method class rectangle hard work problem code method obvious duplicated code cardinal error ﬁnd need change way horizonatalbar orverticalbar calculated quite likely forget change drawing morphs solution factor calculation new method private protocol method horizontalbar horizontalbar crossheight crossheight self height bound insetby crossheight method verticalbar verticalbar crosswidth crosswidth self width bound insetby crosswidth deﬁne drawon containspoint using method method refactored crossmorph drawon drawon acanvas acanvas ﬁllrectangle self horizontalbar color self color acanvas ﬁllrectangle self verticalbar color self color method refactored crossmorph containspoint containspoint apoint self horizontalbar containspoint apoint self verticalbar containspoint apoint code simpler understand largely given meaningful name private method fact simple noticed second problem area center cross horizontal vertical bar drawn twice doesn t matter ﬁll cross opaque colour bug apparent immediately draw cross shown figure execute following code workspace line line m crossmorph new bound corner m openinworld m color color blue alpha ﬁx divide vertical bar piece ﬁll ﬁnd method class rectangle doe hard work areasoutside answer array rectangle comprising part revised morphic figure center cross ﬁlled twice colour figure morph showing row unﬁlled pixel method revised drawon method ﬁlls center cross drawon acanvas topandbottom acanvas ﬁllrectangle self horizontalbar color self color topandbottom self verticalbar areasoutside self horizontalbar topandbottom acanvas ﬁllrectangle color self color code work try cross resize notice size wide line separate cross remainder shown figure rounding size rectangle ﬁlled integer ﬁllrectangle color round inconsistently leaving row pixel unﬁlled work rounding explicitly calculate size bar method crossmorph horizontalbar explicit rounding horizontalbar crossheight crossheight self height rounded bound insetby crossheight method crossmorph verticalbar explicit rounding verticalbar crosswidth crosswidth self width rounded bound insetby crosswidth animation interaction animation build live using morphs need able interact using mouse keyboard morphs need able respond user input changing appearance position animating mouse event mouse button pressed morphic sends morph mouse pointer message handlesmousedown morph answer true morphic immediately sends mousedown message sends mouseup message user release mouse button morphs answer false morphic initiate operation discus mousedown mouseup message sent argument mouseevent object encodes detail mouse action let s extend crossmorph handle mouse event start ensuring crossmorphs answer trueto handlesmousedown message add method crossmorph method declaring crossmorph react mouse click crossmorph handlesmousedown anevent suppose red mouse button clicked want change color cross red yellow button clicked want change color yellow accomplished method method reacting mouse click changing morph s color crossmorph mousedown anevent anevent redbuttonpressed iftrue self color color red anevent yellowbuttonpressed iftrue self color color yellow self changed notice addition changing color morph method sends self changed make sure morphic sends drawon timely fashion note morph handle mouse event longer grab mouse instead morphic halo morph make halo appear grab brown handle black pickup handle morph anevent argument mousedown instance mouseevent subclass morphicevent deﬁnes redbuttonpressed yellowbuttonpressed method browse class method provides interrogate mouse event keyboard event catch keyboard event need step keyboard focus speciﬁc morph instance focus morph mouse keyboard event handlekeystroke method message sent morph keyboard focus user press key keyboard focus mouse longer morph let s extend crossmorph reacts keystroke need arrange notiﬁed mouse morph happen morph answer trueto handlesmouseover message declare crossmorph react mouse pointer method want handle mouse event crossmorph handlesmouseover anevent message equivalent handlesmousedown mouse position mouse pointer enters leaf morph mouseenter mouseleave message sent deﬁne method crossmorph catch release keyboard focus method actually handle keystroke method getting keyboard focus mouse enters morph crossmorph mouseenter anevent anevent hand newkeyboardfocus selfinteraction animation method handing focus pointer go away crossmorph mouseleave anevent anevent hand newkeyboardfocus nil method receiving handling keyboard event crossmorph handlekeystroke anevent keyvalue keyvalue anevent keyvalue keyvalue arrow iftrue self position self position keyvalue arrow iftrue self position self position keyvalue right arrow iftrue self position self position keyvalue left arrow iftrue self position self position written method morph using arrow key note mouse longer morph thehandlekeystroke message sent morph stop responding keyboard command discover key value open script window add transcript anevent keyvalue method anevent argument handlekeystroke instance keyboardevent subclass morphicevent browse class learn keyboard event morphic animation morphic provides simple animation main method step sent morph regular interval time steptime speciﬁes time millisecond addition startstepping turn stepping mechanism stopstepping turn isstepping used ﬁnd morph currently stepped make crossmorph blink deﬁning method follows method deﬁning animation time interval crossmorph steptime actually minimum time step ask steptime m don t surprised squeak busy step morph morphic method making step animation crossmorph step self color diff color black iftrue self color color red iffalse self color self color darker start thing open inspector crossmorph using debug handle morphic halo type self startstepping small workspace pane alternatively modify handlekeystroke method use start stop stepping add following code method keyvalue iftrue self startstepping keyvalue asciivalue iftrue self stopstepping interactors prompt user input fillintheblank class provides dialog box instance request initialanswer method return string entered user figure figure dialog displayed fillintheblank request s initialanswer figure menu displayed popupmenu startupwithcaption display menu use popupmenu class menu popupmenu labelarray line menu startupwithcaption morphic support let s examine simple example morphs receiver morph dropped morph receiver accept morph dropped morph match given condition example morph blue rejected dropped morph decides let s ﬁrst deﬁne receiver morph class deﬁning morph drop morphs morph subclass receivermorph instancevariablenames classvariablenames pooldictionaries category morphic deﬁne initialization method usual way method initializing receivermorph receivermorph initialize super initialize color color red bound extent decide receiver morph accept repel dropped morph general morphs agree interaction receiver doe responding wantsdroppedmorph event ﬁrst argument dropped morph second mouse event receiver example modiﬁer key held time drop dropped morph given opportunity check like morph dropped sent message wantstobedroppedinto default implementation method class morph answer true method accept dropped morphs based color receivermorph wantsdroppedmorph amorph event anevent color color blue happens dropped morph receiving morph doesn t want default behaviour sit receiving morph interacting intuitive havior dropped morph original position morphic achieved receiver answering trueto message repelsmorph event doesn t want dropped morph method changing behaviour dropped morph rejected receivermorph repelsmorph amorph event ev self wantsdroppedmorph amorph event ev s need far receiver concerned create instance receivermorph andellipsemorph workspace receivermorph new openinworld ellipsemorph new openinworld try yellow ellipsemorph receiver rejected sent initial position change behaviour change color ellipse morph color blue using inspector blue morphs accepted receivermorph let s create speciﬁc subclass morph named droppedmorph experiment bit class deﬁning morph receivermorph morph subclass droppedmorph instancevariablenames classvariablenames pooldictionaries category morphic method initializing droppedmorph droppedmorph initialize super initialize color color blue self position specify dropped morph rejected receiver stay attached mouse pointer method reacting morph dropped rejected droppedmorph rejectdropmorphevent anevent h h anevent hand worldstate adddeferreduimessage h grabmorph self anevent washandled truea complete example sending hand message event answer hand instance handmorph represents mouse pointer hold tell world hand grab self rejected morph create instance droppedmorph receiver receivermorph new openinworld droppedmorph new color color blue openinworld droppedmorph new color color green openinworld green morph rejected stay attached mouse pointer complete example let s design morph roll clicking display value side die quick loop click stop animation figure die morphic deﬁne die subclass borderedmorph instead morph make use border class deﬁning die morph borderedmorph subclass diemorph instancevariablenames dievalue isstopped classvariablenames pooldictionaries category morphic instance variable face record number face die allow dice face dievalue record value face die morphic currently displayed isstopped true die animation stopped running create die instance deﬁne face n method class diemorph create new die nfaces method creating new die number face like diemorph class face anumber new face anumber initialize method deﬁned instance usual way remember newsends initialize instance method initializing instance diemorph diemorph initialize super initialize self extent self usegradientfill borderwidth useroundedcorners self setborderstyle complexraised self ﬁllstyle direction self extent self color color green dievalue face isstopped false use method borderedmorph nice appearance die border raised effect rounded corner color gradient visible face deﬁne instance method face check valid parameter follows method setting number face die diemorph face anumber set number face anumber isinteger anumber anumber iftrue face anumber good review order message sent die created instance start evaluating diemorph face class method diemorph class face sends newtodiemorph class method new inherited diemorph class behavior creates new instance sends initialize message initialize method diemorph set face initial value complete example class new return class method diemorph class face sends message face new instance instance method diemorph face executes setting face instance variable deﬁning drawon need method place dot displayed face method method placing point face die diemorph diemorph diemorph diemorph diemorph diemorph diemorph diemorph diemorph method deﬁne collection coordinate dot face coordinate square size simply need scale place actual dot drawon method doe thing draw die background thesuper draw dot method drawing die morph diemorph drawon acanvas super drawon acanvas self perform dievalue asstring assymbol apoint self drawdoton acanvas apoint second method us reﬂective capacity smalltalk drawing dot face simple matter iterating morphic given facex method face sending drawdoton message coordinate correct facex method use perform method sends message built string dievalue asstring assymbol encounter use perform quite regularly method drawing single dot face diemorph drawdoton acanvas apoint acanvas ﬁlloval rectangle center self position self extent apoint extent self extent color color black coordinate normalized interval scale dimension die self extent apoint create die instance workspace diemorph face openinworld change displayed face create accessor use mydie dievalue method setting current value die diemorph dievalue anumber anumber isinteger anumber anumber face iftrue dievalue anumber self changed use animation quickly face method animating die diemorph steptime diemorph step isstopped iffalse self dievalue face atrandom die rolling start stop animation clicking use learned previously mouse event activate reception mouse event canvas method handling mouse click start stop animation diemorph handlesmousedown anevent diemorph mousedown anevent anevent redbuttonpressed iftrue isstopped isstopped die roll stop rolling click canvas drawon method instance canvas sole argument canvas area morph draw using graphic method canvas free appearance want morph browse inheritance hierarchy canvas class variant default variant canvas isformcanvas ﬁnd key graphic method canvas formcanvas method draw point line polygon rectangle ellipsis text image rotation scaling possible use kind canvas obtain transparent morphs graphic method antialiasing use feature need alphablendingcanvas ballooncanvas obtain canvas drawon method drawon receives instance formcanvas argument fortunately transform kind canvas use canvas diemorph redeﬁne drawon like method drawing translucent die diemorph drawon acanvas thecanvas thecanvas acanvas asalphablendingcanvas super drawon thecanvas self perform dievalue asstring assymbol apoint self drawdoton thecanvas apoint s need curious look asalphablendingcanvas method antialiasing using ballooncanvas transforming die drawing method shown method morphic figure die displayed method drawing antialiased die diemorph drawon acanvas thecanvas thecanvas acanvas asballooncanvas aalevel super drawon acanvas self perform dievalue asstring assymbol apoint self drawdoton thecanvas apoint diemorph drawdoton acanvas apoint acanvas drawoval rectangle center self position self extent apoint extent self extent color color black borderwidth bordercolor color transparent chapter summary morphic graphical framework graphical interface element dynamically composed convert object morph display morph screen sending message asmorph openinworld manipulate morph using handle appear handle help balloon explain compose morphs embedding drag drop sending message addmorph subclass existing morph class redeﬁne key method like initialize drawon summary control morph reacts mouse keyboard event redeﬁning method handlesmousedown handlesmouseover animate morph deﬁning method step steptime number millisecond step morphs like popupmenu fillintheblank available interacting iii advanced squeakchapter class metaclasses saw chapter smalltalk object object instance class class exception class object class object instance class object model capture essence programming lean simple elegant uniform implication uniformity confuse newcomer goal chapter complex magic special just simple rule applied uniformly following rule understand situation way rule class metaclasses smalltalk object model based limited number concept plied uniformly smalltalk s designer applied occam s razor eration leading model complex necessary discarded refresh memory rule object model explored chapter rule object rule object instance class rule class superclass rule happens message sends rule method lookup follows inheritance class metaclasses mentioned introduction chapter consequence rule class object rule tell class instance class class class called metaclass metaclass created automatically create class time need care think metaclasses time use browser browse class class helpful recall actually browsing different class class metaclass separate class instance properly explain class metaclasses need extend rule chapter following additional rule rule class instance metaclass rule metaclass hierarchy parallel class hierarchy rule metaclass inherits class behavior rule metaclass instance metaclass rule metaclass metaclass instance metaclass rule complete smalltalk s object model ﬁrst brieﬂy revisit rule chapter small example closer look new rule using example revisiting smalltalk object model object color blue smalltalk object color color blue object instance class class color blue class color color blue color interestingly set alpha value color instance different class translucentcolor color blue alpha class translucentcolor create morph set color translucent color revisiting smalltalk object model ellipsemorph new color color blue alpha openinworld effect figure figure translucent ellipse rule class superclass superclass translucentcolor iscolor superclass color isobject translucentcolor superclass color color superclass object happens message sends rule deduce blue message color class alpha message color blue openinworld message ellipse morph superclass message totranslucentcolor color receiver case object object object class method lookup follows inheritance chain rule send message class result color blue alpha message handled corresponding method class object shown figure ﬁgure capture essence translucent blue object atranslucentcolor instance say acolor object responds message deﬁned class fact message iskindof send object ﬁnd arelationship given class metaclasses objectcolortranslucentcolortranslucentblueclassfirst look class look method sendreplylookuptranslucentcolor figure sending message translucent color translucentblue color blue alpha translucentblue iskindof translucentcolor true translucentblue iskindof color true translucentblue iskindof object true class instance metaclass mentioned section class instance class called metaclasses metaclasses implicit metaclasses automatically created deﬁne class say implicit programmer worry implicit metaclass created class create metaclass single instance ordinary class named global variable metaclasses anonymous refer class instance class color instance color class class object isobject class color color class object object class figure show class instance anonymous metaclass hierarchy parallel class hierarchy classcolor classtranslucentcolor class figure metaclasses translucent superclass fact class object make easy query sending message let s look color subclass translucentcolor translucentcolor subclass translucentcolor allsuperclasses orderedcollection color object protoobject translucentcolor instvarnames translucentcolor allinstvarnames alpha translucentcolor selector identityset alpha asnontranslucentcolor privatealpha pixelvaluefordepth isopaque istranslucentcolor storeon pixelwordfordepth alpha bitpatternfordepth hash converttocurrentversion refstream istransparent istranslucent setrgb alpha balancedpatternfordepth storearrayvalueson metaclass hierarchy parallel class hierarchy rule say superclass metaclass arbitrary class constrained metaclass superclass metaclass s unique instance translucentcolor class superclass color class translucentcolor superclass class color class mean metaclass hierarchy parallel class hierarchy figure show work translucentcolor class metaclasses classcolor classtranslucentcolor class figure metaclass hierarchy parallel class hierarchy translucentcolor class translucentcolor class translucentcolor class superclass color class translucentcolor class superclass superclass object class uniformity class object interesting step moment realize difference sending message object class case search corresponding method start class receiver proceeds inheritance chain message sent class follow metaclass inheritance chain consider example method blue implemented class color send message bluetotranslucentcolor way message lookup start intranslucentcolor class proceeds metaclass hierarchy color class figure translucentcolor blue color blue note result ordinary color blue translucent magic uniform kind method lookup smalltalk class just object behave like object class power create new instance class happen respond message new method newknows howevery metaclass inherits class andbehavior objectcolortranslucentcolorobject classcolor classtranslucentcolor sendreplylookupbluecolor bluefirst look class look superclass method figure message lookup class ordinary object create new instance normally object understand message good reason stopping adding newmethod class object inspect inspect color blue andcolor notice case inspecting instance color case color class bit confusing title bar inspector name class object inspected inspector color allows superclass instance ables method dictionary color class shown ure metaclass inherits class havior metaclass inherits class turn inherits superclass classdescription behavior smalltalk object class inherit eventually object complete picture figure class metaclasses figure class object objectcolortranslucentcolorobject classcolor classtranslucentcolor classclassclassdescriptionbehavior figure metaclasses inherit class behavior new deﬁned understand importance fact metaclasses inherit class behavior help ask newis deﬁned message newis sent class looked metaclass chain ultimately superclass class classdescription behavior shown figure question newis deﬁned crucial newis ﬁrst deﬁned class behavior redeﬁned subclass including metaclass class deﬁne necessary aevery metaclass inherits class andbehavior objectcolortranslucentcolorobject classcolor classtranslucentcolor classclassclassdescriptionbehavior newatranslucentcolor sendreplylookup figure newis ordinary message looked metaclass chain message newis sent class looked usual metaclass class continuing superclass chain right class behavior redeﬁned way note result sending translucentcolor new instance translucentcolor notofbehavior method class behavior newalways return instance self class receives message implemented class translucentcolor new class translucentcolor behavior common mistake look newin superclass receiving class hold new standard message create object given size example array new creates array element ﬁnd method deﬁned array superclass instead look array class superclass lookup start responsibility behavior classdescription class vides minimum state necessary object instance includes superclass link method dictionary description instance representation number behavior inherits object subclass behave like object behavior basic interface compiler provides od creating method dictionary compiling method creating class metaclasses objectcolortranslucentcolorobject classcolor classtranslucentcolor classclassclassdescriptionbehavior figure metaclass metaclass stance new basicnew new basicnew manipulating class hierarchy superclass addsubclass accessing method selector elector compiledmethodat accessing instance variable allinstances instvarnames accessing class hierarchy superclass subclass querying hasmethods includesselector canunderstand inheritsfrom isvariable classdescription abstract class provides facility needed direct subclass class metaclass add number facility basis provided behavior named instance variable categorization method protocol notion abstract maintenance change set logging change mechanism needed change class represents common behaviour class provides class compilation method method storage instance variable provides concrete representation class variable name shared pool variable addclassvarname addsharedpool initialize know create instance metaclasses inherit ultimately class metaclass instance metaclass metaclasses object instance class metaclass shown figure instance class metaclass anonymous metaclasses exactly instance metaclass metaclass instance metaclass objectcolortranslucentcolorobject classcolor classtranslucentcolor classclassclassdescriptionbehavior classclass classclassdescription classbehavior class figure metaclasses instance class metaclass metaclass metaclass metaclass represents common metaclass behaviour provides method instance creation subclassof creating initialized instance class s sole instance initialization class variable metaclass instance method compilation class information inheritance link instance variable metaclass metaclass instance metaclass ﬁnal question answered class metaclass class answer simple metaclass instance metaclass just like metaclasses figure ﬁgure show metaclasses instance metaclass cluding metaclass metaclass compare figure metaclass hierarchy perfectly mirror class hierarchy way object class following example query class hierarchy demonstrate figure correct actually class metaclasses told white lie object class superclass protoobject class class squeak superclass higher reach class example class hierarchy translucentcolor superclass color color superclass object example parallel metaclass hierarchy translucentcolor class superclass color class color class superclass object class object class superclass superclass class nb skip protoobject class class superclass classdescription classdescription superclass behavior behavior superclass object example instance metaclass translucentcolor class class metaclass color class class metaclass object class class metaclass behavior class class metaclass example metaclass class metaclass metaclass class class metaclass metaclass superclass classdescription chapter summary understand better class organized impact uniform object model lost confused remember message passing key look method class receiver work anyreceiver method class receiver looked superclass class instance metaclass metaclasses implicit metaclass created automatically create class sole instance metaclass hierarchy parallel class hierarchy method lookup class parallel method lookup ordinary object follows metaclass s superclass summary metaclass inherits class behavior class class metaclasses class inherit class provides behaviour common entity instance metaclass instance metaclass provides common class metaclass metaclass metaclass instance metaclass relation form closed loop metaclass class class metaclass iv appendicesappendix frequently asked question getting started faq latest squeak answer faq squeak image use book answer recommend use image provided squeak example web page visit http look load squeak sidebar able use image ﬁnd exercise behave differently surprising way collection faq sort orderedcollection answer send message assortedcollection assortedcollection sortedcollection faq convert collection character string frequently asked question answer string streamcontents str str nextputall asset browsing faq browser doe look like described book give answer probably using image omnibrowser installed default browser change default clicking little menu icon corner browser window x browser label selecting choose new default browser menu appears select browser plain old browser preference change effect world browser menu happens drag browser icon tool ﬂap faq search class answer cmd browse class cmd category pane class browser faq sends super answer second solution faster systemnavigation default browsemethodswithsourcestring systemnavigation default browseallselect method method sendstosuper faq browse super sends hierarchy answer browsesupersends aclass systemnavigation default browsemessagelist aclass withallsubclasses gather methoddict association select assoc assoc value sendstosuper collect assoc methodreference class selector assoc key aclass subclass browsesupersends value faq ﬁnd new method introduced class including overridden method answer ask method introduced true newmethods aclass methoddict key select amethod aclass superclass canunderstand amethod newmethods value true identityset asbit faq tell method class abstract answer abstractmethods aclass aclass methoddict key select amethod aclass amethod isabstract abstractmethods value collection identityset remove ifabsent add faq generate view ast expression answer load ast evaluate rbparser parseexpression explore alternatively explore faq ﬁnd trait answer smalltalk alltraits faq ﬁnd class use trait answer smalltalk allclasses select hastraitcomposition traitcomposition notempty frequently asked question using monticello squeaksource faq load squeaksource project answer project want copy registration code snippet select open browser select accept registration code snippet enter password select new repository open select load latest version faq create squeaksource project answer register new member register project category copy registration code snippet browser add category select package accept registration code snippet enter password save save ﬁrst version faq extend number number chf monticello recognize money project tool answer named money monticello gather method category named like package includes package tool faq programmatically open sunit testrunner answer evaluate testrunner open faq ﬁnd refactoring browser answer load ast refactoring engine faq register browser want default answer click menu icon left browser window regular expression parsing faq work regular expression answer load vassili bykov s regex package faq documentation regex package answer look documentation protocol rxparser class category faq tool writing parser answer use smacc smalltalk compiler compiler install load nice tutorial online frequently asked question faq package load squeaksource smaccdevelopment write parser answer load latest version smaccdev runtime squeak bibliography sherman alpert kyle brown bobby woolf design pattern smalltalk companion addison wesley isbn kent beck smalltalk best practice pattern kent beck test driven development example isbn erich gamma et al design pattern element reusable oriented software reading mass addison wesley isbn adele goldberg david robson smalltalk language implementation reading mass addison wesley isbn wilf lalonde john pugh inside smalltalk volume prentice hall isbn alec sharp smalltalk example http bobby woolf null object robert martin dirk riehle frank buschmann editor pattern language program design son wesley seepackage dirty seeassignment seecascade seeassignment seeblock seearray literal seeliteral symbol seeassignment seestatement separator seeobject identity seeobject equality seebehavior seearray dynamic seereturn abstract class seeclass abstract abstract method seemethod abstract accept seekeyboard shortcut accept accessing protocol accessing untypeable character protocol accessor activehand global adding protocol agile software development protocol alphablendingcanvas class array class copy dynamic literal class new unclassiﬁed protocol assignment association seeobject ast seecollection attribute seeinstance variable bag class ballooncanvas class beck kent behavior class addsubclass allinstances allinstvarnames allselectors allsuperclasses basicnew basicnew canunderstand compiledmethodat hasmethods includesselector inheritsfrom instvarnames isvariable new new selector subclass superclass superclass behavior driven development seetest driven development binary message seemessage binary bitmap class block blockclosure ﬁxtemps value value value value valuewitharguments whilefalse whiletrue blockcontext class blue book blue button boolean class iffalse iffalse iftrue iftrue iftrue iffalse borderedmorph class fullprinton browser class browser seesystem browser browsing programmatically bykov vassili bytearray class bytestring class camelcase canvas class caret seereturn cascade category creating ﬁling seeﬁle ﬁling ﬁling seeﬁle ﬁling change set seeﬁle ﬁling change set browser change character class asstring asuppercase isalphanumeric ischaracter isdigit islowercase isvowel printon printstring character class backspace cr escape euro space tab value characterarray class charactertable class variable class class addclassvarname addsharedpool initialize subclass class abstract comment creation ﬁling seeﬁle ﬁling ﬁling seeﬁle ﬁling ﬁnding initialization instance variable index invariant method recent variable class browser seesystem browser class category seesystem category classdescription class closure seeblock closure compiler collection class add addall asorderedcollection asset assortedcollection collect comma operator common error count detect detect ifnone separatedby include includes inject intersection isempty iteration occurrencesof reject remove select size sorting seecollection assortedcollection union weak collection class new newfrom withall category category color class alpha color class class blue colornames initialize initializenames showcolorcube colornames class variable comma seecollection comma operator comment comparing protocol compiledmethod class complex class hash constant method control construct seeiteration converting protocol copy seeobject copy cr global creation protocol crossmorph class cv debug protocol debugger declaration seevariable declaration deep copy seeobject deepcopy dependent protocol deprecation design contract dictionary class associationsdo ifabsent key keysdo overriding hash removekey value valuesdo dictionary class newfrom withall diemorph class dirty package seepackage dirty download duration class ellipsemorph class defaultcolor encapsulation boundary enumerating protocol enumeration seeiteration equality seeobject equality eventsensor class execution context explorer exponent extension seemethod extension extension package seepackage extension extreme programming false class iftrue false pseudo variable feather michael ﬁeld seeinstance variable ﬁle browsing seeﬁle list browser change set ﬁling ﬁling ﬁle list browser class binary close localname filestream class ﬁlenamed ﬁlenamed forcenewfilenamed forcenewfilenamed newfilenamed oldfilenamed readonlyfilenamed fillintheblank class request initialanswer ﬁxture seesunit ﬁxture float class float class e inﬁnity nan pi floatarray class ﬂoating point number fold seecollection inject formcanvas class fraction class numerator denominator fraction class stop seestatement separator geometry protocol getter method seeaccessor global variable seevariable global handmorph class haskell hierarchy browser hook method identity seeobject index identitydictionary class image inheritance canceling inheritance browser initialization initialization protocol inspector instance variable instance variable deﬁnition integer class atrandom bitand bitor bitshift factorial gcd isprime timesrepeat integerarray class interval class printon interval class printstring iteration collection iteration java category category category keyboard event keyboard shortcut accept browse cancel explore ﬁnd inspect keyboard shortcut keyboardevent class key seedictionary key keyword message seemessage keyword knight alan x lambda expression largenegativeinteger class largepositiveinteger class launching squeak lexical closure seeblock lf global linkedlist class lisp literal array character number string symbol literal array literal object loop seeiteration mac o x finder magnitude class matrix class free seeoracle matrix class new tabulate row column message binary evaluation order keyword understood receiver selector send unary message ﬁnder message name browser message selector message send metaclass class metaclass anonymous hierarchy implicit metaclass class class method abstract byte code categorize creation decompile dictionary extension ﬁling seeﬁle ﬁling ﬁling seeﬁle ﬁling ﬁnding lookup overriding public returning self selector value version method ﬁnder method lookup methodcontext class ml model mydependents monticello morph class addmorph bound center color composing defaultcolor delete drawon extent handlekeystroke handlesmousedown handlesmouseover initstring mousedown mouseenter mouseleave mouseup openinworld position removemorph repelsmorph event subclassing wantsdroppedmorph event morphic animation halo isstepping startstepping step steptime stopstepping morphic halo seemorphic morphicevent class hand mouse event mouseevent class redbuttonpressed yellowbuttonpressed mytestcase class buildsuitefromselectors new seebehavior new nextstep index nil pseudo variable notiﬁer null object pattern number class asfloat asinteger ceiling day ﬂoor fractionpart hour integerpart isinﬁnite log negative odd positive printon raiseto sin sqrt squared week object class asmorph assert asstring class copy deepcopy deprecated doesnotunderstand equality error error halt hash identity initialization seeinitialization isarray isblock isboolean iscollection iscomplex iskindof ismemberof isselfevaluating notnil perform postcopy printon printstring respondsto shallow copy shallowcopy shouldnotimplement storeon subclassresponsibility object class class omnibrowser ﬂy variable deﬁnition oracle orderedcollection class add addall addfirst addlast anysatisfy detect remove remove ifabsent removeat reversedo orderedcollections class overriding seemethod overriding package cache dirty extension package browser seemonticello package cache package pane browser parenthesis pasteupmorph class pelrine joseph period seestatement separator perl pluggable collection pluggablelistmorph class point class dist printon pool dictionary seevariable pool popupmenu class positionablestream class atend content isempty peek peekfor position position reset settoend skip skipto positionablestream class class preference browser seemethod primitive printing protocol private protocol process browser interrupting process browser protocol protoobject class initialize isnil protoobject class class seevariable pseudo python quinto radix notation rbparser class readstream class uptoend readwritestream class receivermorph class rectangle class containspoint rectanglemorph class defaultcolor red button refactoring refactoring browser reﬂection index regular expression package removing protocol required protocol resource seetest resource restore display return implicit saving code seecategories sbecell class initialize mouseaction mouseup sbegame class cellsperside initialize newcellat toggleneighboursofcellat scalemorph class checkextent defaultcolor self self send self pseudo variable object sensor class sequenceablecollection class dowithindex ﬁrst readstream sequenceablecollection class streamcontents set class add intersection seecollection intersection membership seecollection includes union seecollection union set class newfrom setter method seeaccessor shallow copy seeobject shallowcopy sharp alex ix shortcut constructor method simpleswitchmorph class singleton pattern singleton pattern skiplist class slot seeinstance variable smacc smaccdev smallinteger class maxval minval smalltalk global sokoban sortedcollection class sortedcollection class sortblock sortedcollections class sourceforge source squeakmap squeaksource squeaksource stack pop stack trace standardfilestream fullname statement separator stream class nextput print class anysatisfy asdate asfilename aslowercase asuppercase capitalized comma seecollection comma operator concatenation seecollection comma operator copyreplaceall expandmacros expandmacroswith format includes isempty linecount match pattern matching replaceall replacefrom templating translatetolowercase stringtest class testshout subversion sunit ﬁxture set method super initialize send super pseudo variable superclass supersend protocol symbol class symbol syntax browser browse button button bar class var button deﬁning class deﬁning method ﬁnding class seeclass ﬁnding ﬁnding method seemethod ﬁnding hierarchy button implementors button inheritance button inst var button instance refactor button sender button source button version button category seecategory systemdictionary class systemnavigation class systemnavigation global systemorganization global systemorganizer class template method test driven development test runner testcase class assert assert description deny deny description failurelog islogging run run runcase setup description raise shouldnt description shouldnt raise teardown testing seesunit testing protocol index testresource class setup testresource class current isavailable testresult class runcase testresult class error testrunner testsuite class run run text class thiscontext pseudo variable button mouse timespan class timestamp class tool ﬂap trait class trait transcript global transcript transcriptstream class translucentcolor class true class iftrue true pseudo variable ttcfont printon unary message seemessage unary undeclared global undeﬁnedobject class seeblockclosure value seedictionary value variable class seeclass variable class instance seeclass instance variable declaration global instance seeinstance variable pool pseudo shared version browser virtual machine weak collection webserver class widestring class workspace world global world menu writestream class cr ensureaspace nextput nextputall space tab xunit yellow button