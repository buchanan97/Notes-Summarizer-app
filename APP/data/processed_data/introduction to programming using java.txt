introduction programming using java version javafx edition david eck hobart william smith college pdf version free book available t http pdf doe include source code ﬁles solution exercise answer quiz z doe external link resource shown blue pdf internal link shown red link used acrobat reader pdf reader david eck david eck eck department mathematics computer science hobart william smith college geneva ny rcialpurposes modiﬁed version distributed cial purpose provided distributed license o riginal speciﬁcally work licensed creative commo n license view copy thi s license visit http o ther us require permission author web site book http tescontents preface xi mental landscape machine language asynchronous event java virtual machine building block program programming modern user interface internet quiz chapter name thing basic java application variable type variable type literal string string literal variable program object subroutine subroutine function class object operation string text block multiline string introduction enums text input output basic output formatted output text input example basic textio input function introduction file textio feature using scanner input detail expression arithmetic operator increment decrement relational operator boolean operator icontents ii conditional operator assignment operator type conversion precedence rule programming environment getting jdk command line environment eclipse ide bluej problem package jshell javafx command line using javafx eclipse exercise chapter quiz chapter control block loop branch block basic loop basic statement control abstractiont deﬁnite assignment algorithm development pseudocode stepwise reﬁnement problem coding testing debugging statement statement break continue statement loop example counting divisor nested loop statement dangling problem multiway branching statement example statement switch statement basic switch statement menu switch statement enums switch statement deﬁnite assignment switch statement switch expression traditional switch statement exception try catch iii exception try catch exception textio introduction array creating using array array loop random access partially array array gui programming drawing shape drawing program animation exercise chapter quiz chapter subroutine black box static subroutine variable subroutine deﬁnitions calling subroutine subroutine program member variable parameter using parameter formal actual parameter overloading subroutine example array parameter argument throwing exception global local variable return value return statement function example revisited lambda expression function functional interface lambda expression method reference apis package module javadoc toolbox java s standard package using class package module javadoc iv static import program design precondition postconditions design example program truth declaration initialization declaration declaring variable var named constant naming scope rule exercise chapter quiz chapter object class object instance method object class instance fundamental object getters setter array object constructor object initialization initializing instance variable constructor garbage collection programming object class class object writing using class analysis design programming example card hand deck designing class card class example simple card game inheritance polymorphism extending existing class inheritance class hierarchy example vehicle polymorphism abstract class final method class super special variable special variable super super constructor interface deﬁning implementing interface default method interface type v nested class static nested class inner class anonymous inner class local class lambda expression exercise chapter quiz chapter introduction gui programming basic javafx application javafx application stage scene scenegraph node layout event event handler basic class color paint font image canvas graphicscontext bit cs basic event event handling mouse event dragging key event animationtimer state machine observable value basic control imageview label button checkbox radiobutton textfield textarea slider basic layout layout borderpane hbox vbox gridpane tilepane complete program little card game menu menubars scene stage creating jar file jpackage exercise chapter quiz chapter vi array arraylists record array detail loop variable arity method array literal array processing processing example standard array method randomstrings revisited dynamic array arraylist arraylist parameterized type wrapper class programming arraylist record basic java record record syntax complex example searching sorting searching association list insertion sort selection sort unsorting array truth array conway s game life checker exercise chapter quiz chapter correctness robustness eﬃciency introduction correctness robustness horror story java rescue problem remain java writing correct program provably correct program precondition postconditions invariant robust handling input exception try catch exception exception class try statement throwing exception mandatory exception handling programming exception vii assertion annotation assertion annotation analysis algorithm exercise chapter quiz chapter linked data structure recursion recursion recursive binary search tower hanoi recursive sorting algorithm blob counting linked data structure recursive linking linked list basic linked list processing inserting linked list deleting linked list stack queue adts stack queue postﬁx expression binary tree tree traversal binary sort tree expression tree simple recursive descent parser form recursive descent parsing building expression tree exercise chapter quiz chapter generic programming collection class generic programming generic programming smalltalk generic programming generic programming java java collection framework iterators loop equality comparison generic wrapper class list set arraylist linkedlist sorting treeset hashset priority queue viii map map interface view subset submaps hash table hash code programming jcf symbol table set inside map using comparator word counting writing generic class method simple generic class simple generic method wildcard type bounded type introduction stream api generic functional interface making stream operation stream experiment exercise chapter quiz chapter stream file networking stream reader writer character byte stream printwriter data stream reading text scanner class serialized object file reading writing file file directory file dialog box programming file copying file persistent data storing object file networking url urlconnections socket java trivial simple network chat brief introduction xml basic xml syntax working dom ix exercise chapter quiz chapter thread multiprocessing introduction thread creating running thread operation thread mutual exclusion synchronized volatile variable atomic variable programming thread thread versus timer recursion thread thread background computation thread multiprocessing thread parallel processing problem decomposition thread pool task queue blocking queue executorservice approach wait notify thread networking blocking problem asynchronous network chat program threaded network server using thread pool distributed computing network programming example netgame framework simple chat room networked tictactoe game networked poker game exercise chapter quiz chapter gui programming continued property binding observable value bindable property bidirectional binding fancier graphic fancier stroke fancier paint transforms stacked canvass pixel manipulation image complex component mvc x simple custom component mvc pattern listview combobox tableview window dialog dialog box webview webengine managing multiple window finishing touch mandelbrot set design program event listener binding gui detail internationalization preference exercise chapter quiz chapter appendix source file glossary introduction programming using java free introductory computer programming textbook us java language instruction version book cover java suitable use introductory programming course people trying learn programming prerequisite b eyond general familiarity idea computer program enoug h material year programming chapter used textbook course high school course t remaining chapter covered second course textbook home page http link downloading web site pdf version book example program lutions exercise web site download dow nloaded separately reader encouraged download source code example t o read run program read book reader strongly encouraged r ead exercise solution want book style textbook tutorial t concentrate explaining de ihavetriedtouseaconversational writing style closer classroom lecture typical textbook certainly java reference book comprehen sive survey feature java written quick introduction java p eople know programming language instead directed main ly people learning programming ﬁrst time general programming concept java particular believe introduction programming using java fully competitive conventionally published prin ted programming textbook available market right ll confess think s better approach teaching java approach us graphical user interface programming beginning people believ e object oriented programmingshouldbeemphasizedfromtheverybeginning t hesearenottheapproachthati approach favor start basic bui lding block programming build introductory chapter cover pr ocedural programming chapter programming introduced ch apter chapter cover closely related topic programming gr aphical user interface array introduced chapter treatment chapter ch apter short chapter mark turning point book moving fundamen tal idea programming cover advanced topic chapter writing robus t correct eﬃcient program chapter cover recursion data structure inclu ding generic programming java collection framework chapter ﬁles n etworking chapter cover thread parallel processing finally chapter retur n topic graphical user interface programming cover advanced feature xipreface xii java currently major approach graphical user terface programming javafx swing edition textbook us javafx ther e alternative edition us swing main diﬀerences chapter devoted gui programming gui program material o ther chapter use javafx exclusively swing edition gui material taken version textbook updating modiﬁcation swing standard java javafx introduced mo modern approach gui programming downloaded installed sep arately java make complicated use swing javafx used write complex fully functional gui program reasonable choi ce version textbook used javafx alternative edition us swing add ed version gui programming included textbook end n textbook cover topic entirety cover g ui great example programming let introduce riven program let student literally eﬀect code write javafx d swing oﬀer good support purpose version textbook originally covered java min update version added note new feature java java version o f book cover java main change version addition swing editio section record added chapter example modiﬁed use tex t block new switch statement syntax reference general idea ab straction added short subsection control abstraction section short subsection ﬁnal class method added section smal l correction modiﬁcations majority textbook valid java book doe cover feature added java note java support release introduce feature requires java java make note fact refer non release ﬁrst version book written hav e version version version edition arc hived retirement december hopefully following web ddresses edition http cover java edition http cover java edition http cover java edition http cover java edition http cover java edition http cover java bit edition http cover java edition http cover java plus bit preface xiii edition javafx http cover java edition swing http cover java textbook free public domain version published und er term creative common sharealike license view copy license visit http example unmodiﬁed copy version web s ite including part list author state license di stributed away unmodiﬁed copy book sell cost production long meet requirement license book textbook course teaching e ven student paying course modiﬁed copy complete book part po t web distribute provided tha t attribution author given modiﬁcations clearly noted modiﬁed c opies distributed license original includes translation s language us book way covered license permis sion author required technical note production pdf version book created single source written largely xml prod uce pdf version xml processed form used tex typesettin g program addition xml ﬁles source includes dtds xslt transformation java source code ﬁles image ﬁles tex macro ﬁle couple script used process ing script work linux macos complete source ﬁles available f download http ﬁles originally meant publication th erefore cleanly written furthermore requires fair expertis e use request source availabl e basis information source used adme ﬁle source download source ﬁles javafx edition swing editi actually generated common set source ﬁles harder interested exploring ultimate source ﬁles gi thub browse ﬁles online clone git repository using follow ing url http professor david eck department mathematics computer science hobart william smith college email eck www http overview mental landscape begin journey s good idea mental map terrain y ou ll passingthrough thesameistruefor intellectual journe y aslearningtowritecomputer program case ll need know basic computer work ll want idea computer program created writing program java programming la nguage ll want know language particular mo dern computing environment java designed read chapter don t worry t understand fact impossible learn detail th e brief exposition chapter concentrate learning big idea orient preparation rest book covered chapter b e covered greater later book fetch execute cycle machine language acomputer complex consisting diﬀerent component brain computer single mponent doe actual computing central processing unit cpu modern desktop computer cpu single chip order square inch siz job cpu execute program aprogram simply list unambiguous instruction meant foll owed mechanically computer computer built carry instruction t hat written simple type language called machine language type computer machine language computer directly execute program ly program expressed language execute program written lan guages ﬁrst translated machine language cpu executes program program stored computer s main memory called ram random access memory addition program memory hold data used processed th e program main memory consists sequence location location numbered sequence number location called address address provides way picking particular piec e information million stored memory whe n cpu need access program instruction data particular location sen d address information signal memory memory responds sending value contained mental landscape speciﬁedlocation thecpucanalsostoreinformationinmem orybyspecifyingtheinformation stored address location st ored level machine language operation cpu f airly straightforward complicated cpu execute s program stored sequence machine language instruction main memory t doe repeatedly reading orfetching aninstructionfrommemoryandthencarryingout executing thatinstruction instruction execute fetch anoth er instruction execute called cycle exception covered section cpu doe s really somewhat complicated modern computer typical processing chip day contains cpu core allows execute instruction si multaneously access main memory speeded memory cache qui ckly accessed main memory meant hold data instruction cpu likely need soon complication don t change basic operat ion cpu contains arithmetic logic unit alu processor carry operation addition subtractio hold small number register small memory unit capable holding single num ber typical cpu general purpose register hold d ata value immediately accessible processing machine language instr uctions refer register example instruction take number s speciﬁed register add number using alu store result bac k register instruction copying data value main memo ry register register main memory cpu includes special purpose register im portant program counter pc cpu us pc track pro gram executing pc simply store memory address th e instruction cpu execute beginning ute cycle cpu check pc instruction fetch cours e cycle number pc updated indicate instruction th executed cycle usually just instruction sequentially follows current instruction program machine language instruct ion modify value stored pc make possible computer jump fr om point program point essential implementing pr ogram feature known loop branch discussed section computer executes machine language program mechanicall standing thinking w ay physically easy concept computer machine built mi llions tiny switch called transistor property wired su ch way output switch turn switch oﬀ mputer computes switch turn oﬀ pattern determined way wired program computer executing machine language instruction expressed binary numb er binary number just possible digit zero zero s called bit machine language instruction just sequence zero one ea ch particular sequence encodes particular instruction data computer man ipulates encoded binary number modern computer memory location hold byte sequence ofchapter mental landscape bit machine language instruction piece data generally consists byte stored consecutive memory location example cpu read instruction memory actually read byte o r memory location memory address instruction address ﬁrst o f byte computer work directly binary number swi tches readily represent number turn switch represent turn oﬀ represent zero machine language instruction stored memory pattern sw itch turned oﬀ machine language instruction loaded cpu tha t happens certain switch turned oﬀ pattern encodes instructi cpu built respond pattern executing instruction encodes d oes simply way switch cpu wired understand computer work main memory hold machine language program data encoded bin ary number cpu fetch machine language instruction memory afte r executes instruction make cpu perform small task adding number movingdatatoorfrommemory thecpudoesallthismechanica lly withoutthinkingaboutor understanding program exe cutis perfect complete detail unambiguous cpu nothin g execute exactly written schematic view underst anding computer data memory data memory address datacpumemory location location location location location location location location location location location location register pcalu asynchronous event polling loop interrupt cpu spends time fetching instruction memory executing cpu main memory component real computer complete contains device s uch disk orsolid state drive storing program data ﬁles note main memory hold comparatively small informati hold long power turned hard disk solid state drive used permanent storage larger amount information program loaded main memory actually executed hard disk store data spinning magnetic disk solid state drive purely electron ic device moving part chapter mental landscape andmousefor user input andprinter used display computer s output output device allows computer play sound interface allows computer communicate computer s connected network wirelessly wire convert image coded binary number st ored manipulated computer list device entirely open ended computer syst em built easily expanded adding new device cpu communicate control device cpu executi ng machine language instruction period way work device adevice driver consists software cpu executes deal device installing new device generall y step plugging device physically computer installing dev ice driver software device driver actual physical device useless cpu able communicate computer consisting device typically ganized connecting device bus bus set wire carry various sort information device connected wire wire carr y data address control signal address directs data particular device nd particular register location device control signal used example device alert data available data bus fairly simple computer organized like cpu output controllerdata address controlempty slot future expansion memory disk drive display keyboard network interface device keyboard mouse network interface produce input need processed cpu doe cpu know data s simple idea turn satisfactory cpu k eep checking incoming data ﬁnds data process thod called polling cpu poll input device continually th ey input data report unfortunately polling simple v ery ineﬃcient cpu waste awful lot time just waiting mental landscape avoid ineﬃciency interrupt generally used instead polling interrupt signal sent device cpu cpu responds interrupt signal putting aside doing order respond nterrupt handled interrupt return doing inte rrupt occurred example press key computer keyboard keyboard interru pt sent cpu cpu responds signal interrupting doing reading key pressed processing returning task performi ng pressed key understand purely mechanica l process device signal interrupt simply turning wire cpu built wire turned cpu save information currently d oing return state later information consists conte nt important internal register program counter cpu jump predet ermined memory location begin executing instruction stored nstructions make interrupt handler thatdoestheprocessingnecessarytorespondtotheinterru pt thisinterrupthandler device driver software device sign aled interrupt end interrupt handler instruction tell cpu jump doing doe restoring previously saved state interrupt allow cpu deal asynchronous event regular cycle thing happen predetermined order happens synchronized interrupt make po ssible cpu deal eﬃciently event happen asynchronously unpre dictable time example interrupt used consider happens cpu need access data stored hard disk cpu access data directly main memory data disk copied memory fore accessed unfortunately scale speed cpu operate s disk drive extremely slow cpu need data disk sends signal t o disk drive telling locate data ready signal sent synch ronously control regular program instead just waiting long d unpredictable time disk drive cpu go task disk drive data ready sends interrupt signal c pu interrupt handler read requested data noticed make sense t cpu actually task perform better ll spend time polling input waiting disk drive operation complete modern computer use multitasking perform task computer used s everal people cpu fast quickly switch attention er devoting fraction second user turn application multitas king called timesharing modern personal computer just single user us mu ltitasking example user typing paper clock continuously display ing time ﬁle downloaded network individual task cpu working ed athread aprocess technical diﬀerences thread process e important thread used java cpu liter ally execute thread cpu contain multiple core run limit number thread executed time thread executed simul taneously computer bechapter mental landscape able switch attention thread just timesharing computer switch attention user general thread t hat executed continue run thing happens thread voluntarily yieldcontrol thread chance run thread wait asynchronous event o ccur example thread request data disk drive migh t wait user press key waiting thread said blocked thread chance run event occurs interrupt wak e thread continue running thread use allotted slice time suspe nded allow thread run computer forcibly suspend thread thi s way computer said use preemptive multitasking preemptive multitasking computer need special timer device generates int errupt regular interval time second timer interrupt occurs t cpu chance switch thread thread currently running like modern desktop laptop computer typ ical smartphones tablet use preemptive multitasking ordinary user ordinary programmer ne ed deal interrupt interrupt handler concentrate diﬀerent ta sks want computer perform detail computer manages th ose task important fact user programmer ignor e thread multitasking altogether thread increasingly imp ortant computer powerful begun make use multit asking multiprocessing fact ability work thread fast e ssential job skill programmer fortunately java good support thread bu ilt java programming language fundamental programming concept programmin g thread covered inchapter just important java modern programming genus l basic concept asynchronous event programmer don t actually dea l interrupt directly ﬁnd writing event handler like interrupt handler called asynchronously speciﬁc event occur ven programming diﬀerent feel traditional synchronous programming begin traditional type programming s used programming individual task return thread event la ter text starting chapter way software doe interrupt handling handle communication user hardware device control threa d allowed run called theoperating operating basic essential software computer able function program suc h word processor web browser dependent operating comm desktop operating system include linux various version window macos oper ating system smartphones tablet include android mental landscape java virtual machine machine language consists simple instruction executed directly cpu computer program writt en programming language java python program written l language run directly computer translate d machine language translationcanbedonebyaprogramcalleda compiler program translates executable age program translation program run number o f time course run type computer type compute r individual machine language fact java depends particu lar operating running work operating perform certain task accessing computer s hardware let s ignore mplication program run type computer using diﬀerent compiler appropriate machine language alternative compiling language p rogram instead using compiler whichtranslatestheprogramallatonce youcanu seaninterpreter whichtranslates necessary interpre ter program act like cpu kind cycle order exec ute program interpreter run loop repeatedly read instruction fr om program decides necessary carry instruction performs t appropriate command compiler like human translator translates enti book language producing new book second language inte rpreter like human interpreter translates speech united nation fr om language time speech given use interpreter execute language pr ograms example programming language lisp usually executed interpr eter compiler interpreter purpose let yo u use program meant type computer completely diﬀerent type o f computer example original home computer commodore ﬁnd actual ﬁnd program run web emulate emulator run program cting interpreter machine language designer java chose use combination compiling interpreting program written java compiled machine language machine language computer doesn t really exist virtua l computer known java virtual machine jvm machine language java virtual machine calledjava bytecode reason java bytecode couldn t used m achine language real computer virtual computer fact th e use virtual machine make possible main selling point java fact actually used computer computer need interpreter j ava bytecode interpreter simulates jvm way emulator simulate s commodore computer term jvm used java bytecode interpreter p rogram doe simulation say computer need jvm order run java progra technically correct say interpreter implement jvm say isa jvm chapter mental landscape course diﬀerent java bytecode interpreter needed fo r type computer computer java bytecode interpreter run y java bytecode program program run computer int erpreter essential feature java compiled program run diﬀerent type computer java programjava bytecode programcompiler java interpreter window java interpreter linuxjava interpreter mac o wonder use intermediate java bytecode just distribute original java program let person compile machine language computer want run reason fi rst compiler understand java complex language compil er complex program java bytecode interpreter hand relative ly small simple program make easy write bytecode interpreter new type computer computer run compiled java program m uch harder write java compiler computer furthermore java created idea progra m downloaded network lead obvious security concern don t want download run program damage computer ﬁles byte code interpreter act buﬀer program download really runn ing interpreter run downloaded program indirectly interpreter pro tect potentially dangerous action program whenjavawasstillanewlanguage itwascriticizedforbein gslow sincejavabytecodewas executed interpreter java bytecode pro gram run quickly program compiled native machine language actual machine language computer program running pro blem largely overcome use compiler executing java bytecode compiler translates java bytecode native machine language d oes executing program justasforanormalinterpreter theinputtoajust program task execute program e xecuting program translates part native machine language translated part program executed quickly inte rpreted given program executed time program run compiler signiﬁcantly speed overall execution time note necessary connection j ava java bytecode program written java certainly compiled machine language real computer program written language com piled java bytecode combination java java bytecode platfo secure andchapter mental landscape allowing program moder n language programming language compil e java bytecode compiled bytecode program executed standar d jvm new language developed speciﬁcally programming jvm lude scala groovy clojure processing jython jruby version older language s python ruby target jvm language make possible enjoy advantage jvm avoiding technicality java language fact use language jvm important new fea tures added jvm speciﬁcally add better support langu age improvement jvm turn possible new feature java note really hard pendence providing graphical user interface window button hat work platform support java ll problem section fundamental building block program basic aspect programming data instruction work data need understand variable andtypes work instruction need understand control structure andsubroutines ll spend large course familiar concept avariable just memory location consecutive location treated unit given easily referred nd used program programmer worry compile r s responsibility track memory location programmer just need mind refers kind box memory hold data don t know memory box located java programming language variable h atypethat indicates sort data hold type variable hold number hold ﬂoating point er decimal point yes computer doe make distincti integer number actually look quite diﬀere nt inside computer type individual character st ring hello string include character common type date color sound kind data program need store programming language command getting dat variable doing computation data example follo wing assignment statement appear java program tell computer ta ke number stored variable named principal multiply number nd store result variable named principal input command getting data use r ﬁles computer s disk output command sending data th e direction basic moving data place place performing building block program se building block combinedchapter mental landscape complex program using control structure subrout ines program sequence instruction ordinary ﬂow control computer executes instruction sequence occu r program obviously limited compute r soon run instruction execute control structure special instruction change ﬂow control basic type control structure loop allow sequence instruction repeated branch allow computer decide diﬀerent course action testing condition tha t occur program running example value variable pri ncipal greater computed multiplying pr incipal computed multiplying principal program need way expressing type decision java e xpressed using following statement principal principal principal don t worry detail just remember th e computer test condition decide basis test loop used task performed example want print mailing label maili ng list say ﬁrst address print label second n ame address print label address print label quickly work don t know adva nce name like say like m ore name process address print loop used program express repetition large program complex impossi ble write way break manageable s ubroutines provide way subroutine consists instruction performing task grou ped unit given used substi tute set instruction example suppose task tha t program need perform draw house screen necessary in tructions make subroutine subroutine appropriate nam drawhouse anyplace program need draw house ca n single command drawhouse eﬀect repeating ing instruction place advantage just save typing organizi ng program subroutinesalsohelpsyouorganizeyourthinkingandyourp rogramdesigneﬀort whilewriting subroutine concentrate pr oblem drawing house worrying moment rest program onc e subroutine written forget detail drawing prob lem solved achapter mental landscape subroutine subroutine just like b language use thinking detail go inside subroutine variable type loop branch subroutine basis called traditional program becomela rger additional structure needed help deal complexity eﬀective t ools oriented programming discussed sectio object programming program designed just sit computer compose program complexity discipline called software engineering concerned construction correct working progra software engineer try use accepted proven method analyzing problem solved designing program solve problem primary software engin eering methodology structured programming structured programming approach program design based following advice solve large problem brea k problem piece work piece separately solve piece treat new problem broken smaller problem eventually w ork way problem solved directly decomposition approach called programming wrong programming val uable approach incomplete fo r thing deal entirely producing instruction necessary solve problem time went people realized design data structure program important design subroutine control structure pro gramming doesn t adequate consideration data program manipulates problem strict programming make diﬃcult reuse work project starting particular p roblem subdividing convenient piece programming tends produce design unique problem unlikely able large ch unk programming program ﬁt project exte nsive modiﬁcation producing program diﬃcult expensive program mers people employ eager reuse past work practice design combined design design approach start proble m know solve reusable softwa component hand work upwards solution overall problem thereusablecomponentsshouldbeas modular aspossible amodule isacomponentofa largersystemthat interactswith therestofthesysteminas imple straightforward manner idea module plugged syste detail go inside module important s long module fulﬁlls assigned role correctly called information hiding important principle software mental landscape common format software module contain dat subroutine manipulating data example mail module contain list name address subroutine addi ng new subroutine printing mailing label forth module d ata hidden inside module program us module manipulat e data indirectly calling subroutine provided module protec t data manipulatedinknown anditmakesiteasi erforprogramstousethemodule don t worry detail dat represented information representation data hidden module support kind common ming language early advance d form idea taken software engineering latest ap proach called programming abbreviated oop central concept programming object kind module containing data subroutine oop s object kind suﬃcient entity internal state data contains respond message call subroutine mailing list object examp le state consisting list name address send message telli ng add respond modifying state reﬂect change se nd message telling print respond printing list name ddresses oop approach software engineering start ident ifying object involved problem message object respond program result collection object data set responsibility object interact sending message design program people used traditional program hard time getting used oop people use oop claim t hat program tend better model way world work easier write easier understand likely correct think object knowing respond cer tain message diﬀerent object respond message diﬀerent way f example print message produce diﬀerent result depending objec t sent property diﬀerent object respond messa ge diﬀerent called polymorphism common object bear kind family resemblance object contain type data respond message way belong class actual programming class primary cla s created object created using cl as template object similar exactly class example consider drawing program let user dr aw line rectangle oval polygon curve screen program visi ble object screen represented software object program ﬁve class object program type visible object drawn line belong class rectangle class se class obviously related represent drawable ex ample presumably able respond draw message level group ing based data needed represent type object obvious v ery useful program canchapter mental landscape group polygon curve multipoint object line rectangle oval line determined end point rectangle corner oval corner rectangle cont ains rectangle talking side vertical horizont al speciﬁed just point common meaning rectangle drawing program diagram relationship follows drawableobject multipointobject twopointobject polygon rectangle curve oval line drawableobject multipointobject twopointobject wo uld class program multipointobject twopointobject subclass drawableobject class line subclass twopointobject indirectly drawableobject subclass aclassissaidto inheritthepropertiesofthatclass thesubclasscanaddtoitsinhe ritanceand itcaneven override partofthatinheritance bydeﬁninga diﬀerentresponsetosomemessage line rectangle aredrawable object class drawableobject express relationship inheritance powerful mean organizing program related problem reusing software component class ultimate reus able component reused directly ﬁts exactly program try ing write just ﬁts reuse deﬁning subclass making ly small change necessary adapt exactly need oop meant superior ol partial solution software reuse problem object class object programming important theme rest text s tart using object built java language chapter chapter begin creating class object modern user interface computer introduced couldn t near locked room whit attendant program data feed computer turn computer s response time later computer switc he attention rapidly person invented po ssible people interact directly computer time tim esharing user sit terminal type command computer th e computer type sponse early personal computer used typed command nd response therechapter mental landscape person involved time type interacti user computer called interface today course people interact computer mpletely diﬀerent way use agraphical user interface gui computer draw interface component screen component include thing like window scroll bar menu button icon usually mouseis used manipulate component touchscreen ﬁngers assuming just teleported doubt familiar basic graphical user interface lot gui interface component fairly standar similar appearance behavior diﬀerent computer platform s including macos window linux java program supposed run di ﬀerent platform modiﬁcation program use standard gui comp onents vary little appearance platform platform fu nctionality identical computer program run shown image simple java program demo nstrates standard gui interface component program run window s imilar picture shown herewillopenonthecomputerscreen therearefourcompone ntsinthewindowwithwhichthe user interact button checkbox text ﬁeld pop menu component labeled component window t label component t interact r ight half window text area component display multiple line tex scrollbar component appears alongside text area number line text becom e larger ﬁt text area fact window considered t o like run program source code available line information using example th textbook section fact complete set gui component used java awt abstract windowing toolkit original version java second known swing build awt introduced java version standard gui toolkit year thir d gui toolkit javafx brieﬂy standard java version distribu ted separately javafx meant modern way write gui application using complicated fact downloaded installed separately textb ook cover javafx exclusively alternative version textbook available cov er swing instead version textbook reasonable choice user interacts gui component event gene rated example clicking push button generates event pressing key key board generates event time event generated message sent progr telling event occurred program responds according program fact typical gui programchapter mental landscape consists largely event handler tell program h ow respond various type event example program programme d respond event displaying message text area realistic exa mple event handler use term message deliberate message s saw previous section sent object fact java gui comp onents implemented object java includes predeﬁned class represent variou s type gui component class subclass diagram s howing just javafx gui class relationship control combobox slider label buttonbase textinputcontrol textfield textarea checkbox button don t worry detail try feel programming inheritance used note gui class shown subclass directly indirectly class called control represents general property shared javafx component diagram tw o direct subclass ofcontrolthemselves subclass class textfield andtextarea certain behavior common grouped subclass textinputcontrol similarly button andcheckbox subclass buttonbase represents property common button checkboxes combobox way class represents menu just brief discussion gui p rogramming make eﬀective use design fact gui visible object probably major factor contributing popularity oop programming gui component event interesting aspect java spend chapter basic b efore returning topic chapter internet computer connected network computer network communicate computer network exch anging data ﬁles sending receiving message computer network e ven work large computation today million computer world conne cted single huge network know internet new computer connected internet day wireless communication physical connection u sing technology dsl cable modem mental landscape elaborate protocol communication internet protocol simply detailed speciﬁcation communication proceed f computer communicate using protocol ba sic protocol internet theinternet protocol ip speciﬁes data physically transmitte d computer transmission control protocol tcp ensures data sent using ip received entirety err protocol referred collectively provide foundation fo r communication protocol use send speciﬁc type information web pa ge electronic mail data ﬁles communication internet form packet packet consists data sent computer addr essing information indicates internet data supposed think pa cket envelope address outside message inside messa ge data packet includes return address address sender packet hold limited data longer message divided amo ng packet sent individually net reassembled destination computer internet ip address number identiﬁes uniquely amongallthecomputersonthenet actually theclaimabou tuniquenessisnotquitetrue basic idea valid truth complicated t ip address used addressing packet computer send data computer internet know computer s ip address people prefer use name rath er number computer identiﬁed name called domain name example main computer mathematics department hobart william smith coll eges domain domain name just convenience computer need know ip address communicate computer internet job translate domain name ip address use main computer sends message domain server ﬁnd correspo nding ip address computer us ip address domain communicate computer internet provides number service computer c onnected course user computer service use t o send various type data net popular service instant messagi ng ﬁle sharing electronic mail web service protocol w hich used control transmission data network service sort user interface allows user view send receive data se rvice example email service us protocol known smtp simple mail transfer protocol transfer email message computer protocol pop imap used fetch message email account recipient read person us email doesn t need u nderstand know protocol instead used scene computer program send receive email message program provide user wit h user interface underlying network protocol web exciting network se rvices web allows request pagesof information stored computer internet web page contain linksto page computer obtained computer world mputer store page information called web server user interface web type programchapter mental landscape known web browser common web browser include microsoft edge firefox chro safari use web browser request page informat ion browser sends request page computer page stor ed response received computer web browser display y ou neatly formatted form web browser just user interface web sc ene web browser us protocol called http hypertext transfer protocol send page request receive response web server just thinking doe w ith java fact java intimately associated internet web java ﬁrst introduced big attraction ability wri teapplets applet small program transmitted internet run o n web page applet possible web page perform complex task comp lex interaction user ala applet suﬀered variety problem ar e longer used option running program web page applet aspect java s relationship internet java used write complex application depend web browser program example t largest complex web site use web server software written java jav includes excellent support network protocol platform independence make p ossible write network program work diﬀerent type computer learn bout java s network support inchapter support networking java s advantage good programming language invented soon forgotten java good luck ride coattail internet s immense increasing popular ity java matured application reached far beyon d net standard version java come support technolo gy cryptography data compression sound processing graphic programm er written java library provide additional capability complex nce system developed java example hadoop large scale data processin g written java hadoop used yahoo facebook web site proce s huge amount data generated user furthermore java restricted use traditional mputers example java used write program android smartphones t iphone android us google s version java doe use graphic al user interface component standard java time java certainly rank widely ed programming language good choice programming project meant run type computing device reasonable choice program run device probably widely ta ught language college university similar popular languag e javascript python knowing good start learning language overall learning java great starting point road becomin g expert programmer hope enjoy journey quiz quiz chapter answer component computer cpu role doe play computer meant asynchronous e xamples diﬀerence compiler interpret er diﬀerence language andmachine language source code java program want r program need compiler aninterpreter doe java compiler doe java interpreter subroutine programming language object variable diﬀerent idea associated variable java try mention aspect answer hint pects variable s doe m ean internet example used kind service doe provide chapter programming small name thing basic level level machine language computer perform simple operation computer performs complex task stringing large number operation suchtasksmustbe scripted incompleteandpe rfectdetailbyprograms creating complex program really easy diﬃculty handled extent giving program clear overall structure design overall structure program programming programming small called coding refer ﬁlling detail design detail explicit ste instruction performing whenyoudocoding youareworkin g closetothemachine withsome concept use machine language m emory location arithmetic operation loop branch language su ch java work concept level step machine langua ge worry getting detail exactly right chapter examine facility program ming small java programming language don t misled term programm ing small thinking material easy unimportant material n essential foundation type programming don t understand t write p rograms matter good designing structure section chapter discusses programming environment section contains information compile run java progr am look trying write use program tryin g use sample program book basic java application aprogram sequence instruction computer execute perform task simple idea computer make e instruction written form computer use mean program written programming language programming language diﬀer ordinary human language completely unambiguous strict bout allowed program rule determine allowed cal led thesyntaxof language syntax rule specify basic vocabulary language d program constructed name thing using thing like loop branch subroutine synta ctically correct program successfully compiled interpreted program syntax error rejected hopefully useful error message help ﬁx t problem successful programmer develop detai led knowledge syntax programming language using syn tax story s write program want program run produce correct result meaning program right meaning program referred semantics correctly semantics programming language set rule determine meaning pr ogram written language semantically correct program doe want furthermore program syntactically semantical ly correct pretty bad program using language correctly u sing itwell example good program written way make easy people read understand follows convention familiar programmer overall design make sense human reader c omputer completely oblivious thing human reader paramount se aspect programming referred pragmatic use common term style introduce new language feature explain sy ntax semantics pragmatic feature memorize t syntax s easy feeling semantics following t example given making sure understand work ideally writing sho rt program test understanding try appreciate ab orb mean learning use language feature style earn admiration programmer course evenwhen vebecomefamiliar indi vidual feature language thatdoesn tmakeyouaprogrammer youstillhavetolearnho wtoconstructcomplexprograms solve particular problem ll need exp erience taste ll ﬁnd hint software development textbook begin exploration java problem bec ome traditional beginning write program display message llo world like trivial problem getting computer really big ﬁrst step learning new programming language especially s ﬁrst program ming language mean understand basic process program text computer program compiled program ﬁrst time step probably try right won t detail se step depends particular computer java programming environment using section information creating running java program spe ciﬁc programming environment general type program using sort te xt editor save program ﬁle use command try compile ﬁ le ll message program contains syntax error ll compiled version program case java program compiled jav bytecode machine language finally run compiled program givin g appropriate name thing java actually use interpreter execute java bytecode programming environment automate step exa mple compilation step sure th ree step background java program display message hello world don t expect understand s going just won t really unde rstand chapter program display message hello world standard output public class helloworld public static void main string args hello world end class helloworld command actually display message hello world command example subroutine statement us subroutine actual work recall subroutine consists th e instruction performing task chunked d given usedto thesubroutinewheneverthattaskneedstobep erformed subroutine deﬁned language fore automatically available use program run program message hello world withou t quote displayed standard output unfortunately t say ex actly mean java meant run diﬀerent platform standard output mean diﬀerent thing diﬀerent platform expect message s convenient inconvenient place use interface l ike java development kit type command tell computer run program t computer type output program hello world line n integrated development environment eclipse output appear somewh ere environment s window curious stuﬀ progr consists comment comment program entirely ignored computer human reader doesn t mean unimport ant program meant read people computer comment program diﬃcult understand java type comment ﬁrst type b egins extends end line comment form lin e program computer ignores follows line second ty pe comment start end extend line ﬁrst line program example second type o f comment comment actually begin like doe special meaning javadoc mment used produce documentation program se esubsection program required rule jav syntax programming java inside ﬁrst line prog ram counting comment say class named helloworld helloworld class serf aschapter name thing program class program order deﬁne program class include subroutine named main deﬁnition take form public static void main string args tell java interpreter run program int erpreter call main subroutine statement contains execute statement make script tell computer exactly pro gram executed main routine subroutine deﬁned sam e class class main routine determines order subro utines used word public ﬁrst line main mean routine called outside program essential main routine called java interpreter external program elf remainder ﬁrst line routine harder explain moment just think required syntax deﬁnition s instruction say sequence statement enclosed b etween brace ve used placeholder actual statement make pr ogram textbook use similar format style text italic angle bracket placeholder describes s omething need type write actual program noted subroutine t exist b e class program deﬁned public class take form public class public static void main string args ﬁrst line using package package group class start learning package section ﬁrst example program use line begin public class progr class remember placeholder actual class helloworld classmustbe saved ﬁle ﬁle compiled ﬁle named produced class ﬁle contains translation program java bytecode executed java interpret called thesource code program execute program need com piledclass ﬁle source code layout program page use blank l ines indentation syntax semantics language computer doesn t care name thing run entire program line far s concerned layout important human reader certain style guid elines layout followed programmer note according syntax speciﬁcation program contain subroutine main thing called variable ll l earn later chapter variable primitive type name fundamental programming program name used refer diﬀerent sort thing order use thing prog rammer understand rule giving name rule using name wo rk programmer understand syntax semantics n ames according syntax rule java basic name ar eidentiﬁers identiﬁers used class variable subroutine dentiﬁer sequence character begin letter underscore d consist entirely letter digit underscore underscore refers chara cter example legal identiﬁers n n rate quite alongname helloworld space allowed identiﬁers helloworld legal identiﬁer hello world upper case lower case letter considered di ﬀerent helloworld helloworld helloworld andhelloworld distinct name certain word reserved special us java used identiﬁers th esereserved word include class public static dozen word remember reserved word notidentiﬁers t used name thing java actually pretty liberal count letter digit java us unicode character set includes thousand character diﬀerent language diﬀerent alphabet character count s letter digit sticking typed regular english keyboard pragmatic naming includes style guideline ho w choose name thing example customary name class begin wit h upper case letter name variable subroutine begin lower case letter s avoid lot confusion following standard convention program mo st java programmer use underscore name use beginn ing name certain kind variable word helloworld orinterestrate customary capitalize word possibly ﬁrst referred ascamel case upper case letter middle suppo sed look like hump camel s finally ll note addition simple identiﬁers th ings java compound nameswhich consist simple name separated period compound name calledqualiﬁed name ve seen example idea thing java contain thing compou nd kind path item level containment indicates called contains called turn contains called println name thing variable program manipulate data stored memory machi ne language data referred giving numerical address location n memory data stored language java name used instead number refer data job computer track memory d ata actually stored programmer remember used w refer data stored called variable variable actually subtle properly speaking variable data location memory hold data yo u think variable container box store data need t o use later variable refers directly box indirectly data box data box change variable refer diﬀerent data value diﬀer ent time execution program refers box confusion c arise especially beginning programmer variable used program c ertain way refers container used way refers d ata container ll example case java onlyway data box v ariable assignment statement assignment statement take form refers computes data value computer come assignment statement course ex ecuting program evaluates expression put resulting data value var iable example consider simple assignment statement rate assignment statement rate number computer executes assignment statement putting number variable rate replacing consider fol lowing complicated assignment statement come later pro gram rate principal value expression rate principal assigned variable expression multiplication operator tell computer multiply ratetimesprincipal name rateandprincipal variable really valuesstored variable multiplied th variable used expression value stored t variable matter case variable refer data box rathe r box computer executes assignment statement take t hevalueofrate multiplies thevalueofprincipal store answer boxreferred variable used assignment state ment refers box named variable note way assignment statement command t hat executed computer certain time statement fact e xample suppose program includes statement rate statement rate principal executed later program say principal multiplied value ratemight changed meantime statement thechapter name thing meaning assignment statement completely diﬀerent f rom meaning equation mathematics use symbol type variable java designed hold particular typ e data legally hold type data compiler consider syntax error try violate rule assigning value wrong type va riable say java strongly typed language enforces rule primitive type built java primitive type named byte short int long ﬂoat double char andboolean ﬁrst type hold integer number integer ty pe distinguished range integer hold ﬂoatanddoubletypes hold real number real type distinguished ir range accuracy variable typecharholds single character unicode character set variable type boolean hold logical value trueorfalse data value stored computer s memory repres ented binary number string zero one single zero cal led abit string bit called byte memory usually measured term byte surprisin gly thebyte data type refers single byte memory variable type byteholds string bit represent integer d inclusive integer range bit represent rai sed power value integer type byte bit variable type shorthave value range byte bit variable type inthave value range byte bit variable type longhave value range don t remember number idea size integer work usually representing nteger data just stick theintdata type good purpose theﬂoatdata type represented byte memory using stan dard method encoding real number maximum value ﬂoatis raised power aﬂoatcan signiﬁcant digit nd rounded oﬀ order sto red variable type ﬂoat adoubletakes byte range power h signiﬁcant digit ordinarily stick doubletype real value variable type charoccupies byte memory value charvariable single character x space character val ue special character tab carriage return unicode chara cters come diﬀerent language value type charare closely related integer value character ctually stored integer code number fact th atcharsin java actually used like integer certain situation important remember primitive type value rep resented using certain ﬁnite number bit intcan t arbitrary integer integerchapter name thing certain ﬁnite range value similarly ﬂoatanddoublevariables certain value true real number mathema tical sense example mathematical constant πcan approximated value type ﬂoatordouble require inﬁnite number decimal place repre sent exactly matter simple number approximated ﬂoatsanddoubles literal data value stored computer sequence bit computer s memory doesn t look like value written page n eed way include constant value program write program repre sent constant value literal literal type program repres ent value kind constant value example type value type charin program surround pair single quote mark x character quote mark make literaloftype char withoutthequotes awouldbeanidentiﬁerand wouldbeamultiplication operator quote notpart value stored variable j ust convention naming particular character constant program want store character variable chof typechar assignment statement ch certain special character special literal use backslash escape particular tab represented carriage return linefeed single quote character backslash note type character quote value represented literal single tab character numeric literal little complicated migh t expect course obvious literal o ther possibility expressing number java program real number presented exponential form present power mean time mean time format used express large small number numeri c literal contains decimal point exponential literal type double make literal type ﬂoat append f f end number example f stand considered value type ﬂoat occasionally need know rule ja va say t assign value type doubleto variable type ﬂoat confronted error message try thing like x ifxis variable type ﬂoat say x reason advise sticking typedoublefor real number integer literal complication dinary integer literal type byte short orint depending size make literal typelongby adding l suﬃx example nother complication java allows binary octal hexa decimal literal don t want cover number base case run t hem people s program s worth knowing thing octal number use di git java numeric literal begin interpreted octa l number example octal literal represents number number octa l number rarely used need aware happens start number wit h zero hexadecimalchapter name thing number use digit usual digit let ters b c d e upper case lower case letter used interchangeably th context letter represent number java hexadecimal literal beg in finally binary literal start contain digit example ﬁnal complication numeric literal include und erscore character used separate group digit example int eger constant billion written good deal easier decipher rule digit group undersc ore especially useful long binary number example note hexadecimal number used repre sent arbitrary unicode character unicode literal consists hexadecimal digit example character literal represents unicode character e acute accent type boolean precisely literal trueandfalse literal typed just ve written quote represent constant value variable boolean value occur value conditional expression example rate expression evaluates trueif value variable rateis greater falseif value rateis equal ll chapter expression used extensively contr ol structure course boolean value assigned variable type boolean example testis variable type boolean following assignment statement legal test true test rate string string literal java type addition primitive type ll type represent object primitive data value ar e concerned object time predeﬁned object type t hat important type string stringis type primitive type fact cl as return aspect string section fact thatstringis class explains begin upper case s lower case value type stringis sequence character ve seen string lit eral hello world double quote literal typ ed program actual stringvalue consists just character quote string contain numb er character zero string character called string represented literal pair double quote mark remember th e diﬀerence single quote double quote single quote used charliterals double quote string literal big diﬀerence string thechar string literal special character represen ted using backslash notation context double quote special cha racter example represent string valuechapter name thing said listening linefeed end type string literal said listening use unicode sequence represent special character string literal variable program variable used program ﬁrst declared avariable declaration statement isusedtodeclareoneormorevariablesandtogivethemnames whenthecomputer executesavariabledeclaration itsetsasidememoryforth evariableandassociatesthevariable s memory simple variable declaration take t form single variable list variable name separated comma ll later variable declara tion statement actually somewhat complicated good programming sty le declare variable declaration statement unless variable closel y related way example int numberofstudents string double x y boolean isfinished char firstinitial middleinitial lastinitial good style include comment variable d eclaration explain purpose program information mig ht useful human reader example double principal money invested double interestrate rate decimal percentage chapter use variable declared inside t hemain subroutine program variable declared inside subroutine called local variable subroutine exist inside subroutine running nd completely inaccessible outside variabledeclarationscanoccuranywhereinsidet hesubroutine aslongaseachvariable declared used way people like clare variable beginning subroutine like wait declare variable needed preference declare important variable beginning o f subroutine use comment explain purpose variable declare utility va riables important overall logic subroutine point subrou tine ﬁrst used simple program using variable assignment stat ements class implement simple program compute earned invested rate year value investment year printed standard output name thing public class public static void main string args declare variable double principal value investment double rate annual rate double earned year computation principal rate principal rate compute principal principal compute value investment year note new value replaces old value principal output result earned value investment ye ar principal end main end class thisprogramusesseveralsubroutinecallstatementstodis playinformationtotheuserofthe program diﬀerent subroutine used diﬀerence add linefeed end information display doe value displayed subroutine follows line string displayed previous statement note value displayed provided parenthesis subroutine value called aparameter subroutine parameter provides subroutine information need t o perform task subroutine statement parameter listed parenthesis af ter subroutine subroutine parameter parameter subroutine statement subroutine followed pair parenthe s sample program textbook available se parate source code ﬁles version text http included downloadable archive web site folder named source source code theinterest program example ﬁle subfolder named inside sourcefolder string class object subroutine previous section introduced primitive data type type string fundamental diﬀerence primitive type string value type string object study object chapter useful know little closely related ic class justchapter name thing string useful object class reessential understanding important programming concept subroutine subroutine function recall subroutine set program instruction tha t chunked given subroutine designed perform task t o task performed program subroutine using subroutin e statement chapter ll learn write subroutine ge t lot program just calling subroutine written yo java subroutine contained class object class standard part java language contain predeﬁned subroutine use v alue type string object contains subroutine use manipulate string subroutine built java language sub routine understanding written work s le point subroutine subroutine black box used knowing go inside let s ﬁrst consider subroutine class purpose class group variable subroutine contained class variable subroutine called static member class ve seen example class deﬁnes program main routine static member class part class deﬁnition deﬁne static member marked wit h reserved word static word static public static void main class contains static variable subroutine na class variable subroutine example standar d class named systemcontains subroutine named exit use subroutine program refer s consists class contain s subroutine followed period followed subroutine subroutine requires integer parameter actually use s ubroutine statement terminate program shut java virtual mac hine use reason terminate program fore end mainroutine parameter tell computer program termin ated parameter value indicates program ended normally value ndicates program terminated error detected indicate program ending error parameter se nt operating practice value usually ignored operating sy stem systemis just standard class come java anot useful class called math class give example class contains static variable includes variable value mathematical constant π contains large number mathematical n ow subroutine performs speciﬁc task subroutine ta sk compute retrieve data value subroutine type called function say function return value generally returned value meant used program call function familiar mathematical function comput e square root number corresponding function java called function static member subroutine class named math ifxis numerical value x computeschapter name thing return square root value x represents value doesn t make sense line subroutine sta tement x doesn t make sense computer value compute d function case tell computer value y ou tell computer display x display square ro ot use assignment statement tell computer store value variable lengthofside x function x represents value type double used anyplace numeric literal type double used xin formula represents parameter subroutine variable named x replaced expression represents numerical value example computes square root b legal long aandbare numeric variable themathclass contains static member function list o f important x computes absolute value x usual trigonometric function x x x trigonometric function angle measured rad ians degree inverse trigonometric function arcsin arccos ar ctan written x x x return value expressed radian degree exponential function x computing number e raised power x natural logarithm function x computing logarithm xin base x y computing xraised power y x round xdown nearest integer value equal return value mathematically integer returned value type double type intas expect example function x return integer closest x x roundsxup integer ceil short ceiling opposite return randomly chosen double range computer actually calculates pseudorand om number truly random eﬀectively rando m pose ﬁnd lot us future example function type xoryinside value numeric type function v alue returned function type doubleno matter type parameter x value returned type x ifxis type int x example thedoublevalue theintvalue note doe parameter need parenthesis s parenthesis l et computer know ischapter name thing subroutine variable example sub routine parameter function systemclass function executed retrieves current time expressed nu mber millisecond passed standardized base time start year care millisecond thousandth second return value type long integer function used measure tim e take computer perform task just record time task begun time ﬁnished diﬀerence accurate timing yo u use return number nanosecond arbitrary star ting time nanosecond second expect time truly accurate nanosecond sample program performs mathematical ta k report time take program run program performs mathematical computation display result display value constant report number second computer spent thi s task public class timedcomputation public static void main string args long starttime starting time program nanosecond long endtime time computation nanosec onds long comptime run time nanosecond double second time difference second starttime double width height hypotenuse side triangle width height hypotenuse width width height height triangle side hypot enuse hypotenuse sin x sin x co x co x let s check x sin sin co co error computing real number random number value endtime comptime endtime starttime second comptime chapter name thing time nanosecond comptime probably perfectly accu rate time second second end main end class timedcomputation class object classescanbecontainersforstaticvariablesandsubrouti ne howeverclassesalsohaveanother purpose used object role class type way thatintanddoubleare type class used declare varia bles variable hold type value value c ase areobjects object collection variable subroutine object associated class tell type object class object speciﬁes su broutines variable object contains object deﬁned class sim ilar contain similar collection variable subroutine example o bject represent point plane contain variable named xandyto represent coordinate point point object xand ay diﬀerent point diﬀerent value variable class named pointfor example exist deﬁne common structure point object object value s type point example let s look class static variable class value anobject actually subroutine contained object don t need understand point object referred object class printstream class standard java anyobject type printstream destination information printed anyobject type printstream aprintln subroutine used send information destination object just possible destination subroutine sends information particular stination object type printstream send information destination ﬁles network computer ted programming diﬀerent thing used destination used println subroutine printstream class express commonality object dual role contain static variable sub routine object contain variable conf using practice class designed perform primarily exclusively possible role fortunately need worry unti l start working object way chapter way class name variable name used si milar way hard tell remember prede ﬁned name java follow rule class name begin upper case letter variab le name begin lower case letter formal syntax rule strongly rec ommend follow programming subroutine name begin lo wer case letter nochapter name thing possibility confusing variable subroutine sinc e subroutine program followed left parenthesis ﬁnal general note aware subroutine s java referred asmethods generally term method mean subroutine tained class object true subroutine java subroutine java method true programming language time prefer use general term note people prefer use term method beginning operation string stringis class value type stringis object object contains data sequence character make string ntains subroutine subroutine fact function example strin g object contains function named lengththat computes number character string suppo se thatadviceis variable refers string example advicemight declared assigned value follows string advice advice seize day function return number character th e string seize day case return value n general variable str typestring value anintequal number character string note function parameter partic ular string length computed value str thelengthsubroutine deﬁned class string used value type string used stringliterals just constant value type string example program count character hello world saying number character string hello hello world thestringclass deﬁnes lot function ﬁ nd useful assume variable type string function return boolean value return exactly sequence character return falseotherwise function check string function considers upper lower case letter equivalent cat cat isfalse cat istrue mentioned function giv e number character n wherenis integer return value type char return nth character string position numbered starting wi th actually ﬁrst character second ﬁnal position example value cat error occurs value parameter zero greater equal name thing n m wherenandmare integer return value type string returned value consists character position n remember character position numbered starting zero n ote character positionmis included returned value called substring subroutine n just parameter return substring character starting position nup end string return integer substring returned value starting position substring returned value use ch search char ch ﬁnd ﬁrst occurrence ofxat position n use x n ﬁnd occurrence x function compare string string equal value returned zero value returned number zero greater value returned number greater zero function string consist entirely lower case letter y consist entirely upper case letter greater refer alphab etical order ordering complicated compare individual chara cters using unicode code number lower case letter converted upper case example cat string cat function function return new string equal character space tab hav e trimmed beginning end string value fred string fred space end removed function note value instead new string created returned v alue function returned value used example assignment statement smallletters change value use assignment extremely useful fact string use plus operator concatenate string concatenation string new string consisting character ﬁrst string followed character second string example hello world evaluates helloworld got ta watch space want space concatenated string somewher e input data hello world let s suppose nameis variable type stringand refers person using program program gree t user executing statement hello pleased meet surprising actually concatenate va lues ofanytype string using value converted string just printed standard output string concatenated wi th string example expression number evaluates string statementschapter name thing year year value principal replaced single statement year year value principal obviously convenient shortened example presented earlier chapter text block multiline string representing long string extend line ca n tedious character string represented escaped n string broken part concatena ted using example string poem walking stair met man wasn t wasn t wish wish d away java deﬁnes new kind string literal make s easier represent multiline string recall literal type pr ogram represent constant value new literal called text block text block start string character followed optional white space new line white space newline string constant r epresented text block text block terminated string uote character text block used ordinary string literal used fo r example string poem walking stair met man wasn t wasn t today wish wish d away easier write read previous way wri ting value poem remember t white space th space tab line start te xt block note extra white space occurs beginning line t ext block removed string represented literal example th e ﬁrst space removed line text block extra space b eginning second fourth line removed mean indent line s text block match indentation program including indent ation string represented text block text block include escaped character aside backslash character nothinginthetextblockhasspecialmeaning forexample somethinginthetext block look like java comment actually comment just ordinary character string short demo program us text name thing introduction enums java come primitive type huge col lection type deﬁned class string large collection type suﬃcient ver possible situation programmer deal essential java just like programming language th e ability create newtypes deﬁning new class le arn chapter example deﬁning new type look particular case ability deﬁne enums short enumerated type technically enum considered special kind cla s important section look enums simpliﬁed f orm practice us enums need simpliﬁed form presented enum type ﬁxed list possible value speciﬁed enum created way enum similar boolean data type trueand falseas possible value boolean primitive type enum deﬁnition enum type simpliﬁed form deﬁnition class program us outside main routine separate ﬁle java possible deﬁnition insidemain identiﬁer enum type w ay boolean oftheboolean typeand string isthenameofthe stringtype eachvalueinthe simple identiﬁer identiﬁers list separated comma example deﬁnition enum type named seasonwhose value name season year enum season spring summer fall winter convention enum value given name upper case letter style guideline syntax rule enum value constant represents ﬁxed value changed possible value enum type usually referred asenum constant note enum constant type seasonare considered contained season convention compound identi ﬁers used thing contained name actually use program refer enum type seasonhas created used declare variable exactly way type used exampl e declare variable namedvacation typeseasonwith statement season vacation declaring variable assign value usi ng assignment statement value assignment th e enum constant type season remember use constant including sea son example vacation youcanprintoutanenumvaluewithanoutputstatementsucha vacation output value enum constant withou t case output summer name thing enum technically class enum value te chnically object object contain subroutine subroutine y enum value named ordinal used enum value return ordinal number value list value enum ordinal number simply tell po ition value list theintvalue computer scientist like start counting t zero course use ordinal method variable type season using enums make program readable e meaningful name value prevent certain type error compiler check value assigned enum variable fact legal value variable just appreciate ﬁrst example important concept creating new type little example show enums used complete prog ram public class enumdemo define enum type use program enum day sunday monday tuesday wednesday thursday fr iday saturday enum month jan feb mar apr jun jul aug sep oct n ov dec public static void main string args day tgif declare variable type day month libra declare variable type month tgif assign value type day tgif libra assign value type month libra sign libra born libra output value oct s month year counting course isn t nice tgif output value friday tgif day week mentioned enum actually deﬁned separate ﬁ le sample program identical enum type us deﬁned ﬁles named text input output seen easy display text user function say topic outputting text furthermore program use data s input program run timechapter name thing built program need know d o input output section explains data user cov er output seen far section using ﬁles inpu t output basic output formatted output basic output function x wherexcan value expression type parameter x string converted value type string string output destination called standard output generally mean string displayed user gu program output place typical user unlikely furthermore stan dard output redirected write diﬀerent output destination fo r type program working purpose display text user x output text follows text line feed mean subsequent output wi ll line possibletousethisfunctionwithnoparameter whichoutputsnothing line feed note x equivalent x noticed output real number digit decimal point necessary example πis output number supposed represent money output prefer number output example java formatted output capability make easy control real number value printed lot formatting option available wil l cover just simplest commonly used possibility function used produce formatted output printf stand print formatted copied fro m c programming language type output originated take parameter ﬁrst parameter stringthat speciﬁes format output parameter called format string remaining parameter specify value output statement print number th e proper format dollar amountis variable type double output format value given format speciﬁer format string example format speciﬁer format string simple case cover contains format speciﬁer value output typical format speciﬁers d format speciﬁer begin percent sign end letter possibly extra formatting information letter speciﬁes type output p roduced example d d speciﬁes integer written minimum number space used output f integer output take fewer space extra blank space dded integer bring total say output iﬁed ﬁeld length large value forced space value digit digit printed extra space speciﬁer dmeans anchapter name thing integer printed using just space necessar y d way stand decimal replace th e d x output integer value hexadecimal form letter s format speciﬁer used type value mean value output default format just wo uld unformatted output number added specify minimum number character s stand string used value ty pestring used value type case value converted int o astringvalue usual way format speciﬁers value type doubleare complicated f used output number form wi th digit decimal point speciﬁes number digit use decima l point speciﬁes minimum number character output po sition eﬀectively mean just character necessary used simi larly specify format digit decimal point ﬁeld length large small number written expone ntial format representing time raised t o power format speciﬁer output exponential form telling digit use decimal point use g instead e t output exponential form small value large value ﬂoatin form value give total number digit answer includi ng digit decimal point digit decimal point numeric output format speciﬁer include comma cause digit number separated group make ea sier read big number united state group digit separated mmas example xi billion d x output country separator character number digit group diﬀerent comma come beginning format speciﬁer ﬁeld width example want output instead right ju stiﬁed add minus sign beginning format speciﬁer example addition format speciﬁers format string printfstatement include character extra character just copied ou tput convenient way insert value middle output string exam ple ifxandyare variable typeint say product d d d x y x y statement executed value xi substituted ﬁrst din string value ofyfor second d value expression x yfor output like product quot ation mark included output include actual percent sign output use forma t speciﬁer format string use nto output line feed use backslash usual string output special character tab double quote ch aracters format string statement given text block make easier output multiple line text example equivalent d mile d yard d foot orchapter name thing d inch mile mile mile mile text input example unfathomable reason java traditionally t diﬃcult read data typed user program ve seen output ca n displayed user using subroutine subroutine predeﬁned object called purpose object precisely display output user corresponding object called exists read data input user provides primitive input facility requi re advanced java programming skill use eﬀectively java ﬁnally input little easier new scanner class requires knowledge programming use c lass s ideal use beginning course java introduced consoleclass communicating user consolehas problem available o nly read string number furthermore opinion scanner andconsolestill don t thing quite right introduce scannerbrieﬂy end section case want start using start versi text input fortunately possible extendjava creating new class provide subroutine available standard language s soon new class available subroutine contains used exactly sa way routine line ve written class named textiothat deﬁnes subroutine reading value typed user subroutine class make possible input standard input object knowing advanced aspect java needed usescanneror use directly textiois deﬁned package named textio mean look ﬁnd inside folder named textio furthermore mean program us textiomust import textiopackage import directive import directive come public class begi n program java s standard class including scanner deﬁned package imported program way textiois java make sure textioclass available program mean depends jav programming environment using general just add folder textioto folder contains main program folder contains ﬁle seesection information use textio input routine textioclass static member function static member function introduced previous section let s s uppose want program read integer typed user textioclass contains static member function namedgetlnint use purpose function cont ained textioclass refer program function parameter complete function take fo rm function represents intvalue typed user returned value assign variable examp le ifuserinput variablechapter name thing typeint created declaration statement int userinput use assignment statement userinput computer executes statement wait t user type integer value user type number press return progra m continue value user typed returned function stored variable userinput complete program us read number typed user print square number note theimportdirective ﬁrst line import program read integer typed user computes print square integer public class printsquare public static void main string args int userinput number input user int square userinput multiplied type number userinput square userinput userinput number entered use rinput square number square end main class printsquare run program display message plea e type number pause type response including carriage return number note good style output question prompt user bef ore reading input user way knowing exactly computer waiting waiting user basic textio input function textioincludes variety function inputting value vari ous type function likely use j read value type int y read value type double read value type boolean c read value type char w read word value type string s read entire input line name thing statement legal variable left si assignment statement declared type turned function right note carefully function ha ve parameter value return come outside program typed use r program running capture data use program y ou assign return value function variable able fer user s input value using variable function guaranteed return legal value correct type user type illegal value inpu example ask intand user type character number outside legal range value stored variable type computer ask user value program see ﬁrst ill egal value user entered theuserisallowedtotypeinanyofthefollowing true fal se t f yes y n furthermore use upper low er case letter case user s input interpreted value s conv enient use read user s response question ll notice input function return string ﬁrst getlnword return string consisting character w hen called skip space carriage return typed user read s character get space carriage return return stringconsisting blank character read second input function getln simply return string consisting character typed user includ ing space carriage return get entire line input text carriage ret urn returned input string read discarded computer note string returned string contains character return value user simply press return typing ﬁrst doesnotskip blank reading value input function getlnint getlndouble getlnboolean andgetlnchar behave like getlnword skip past blank carriage return input reading value function skip end output let user know input expected furthermore user type extra character line fter input value extra character discarded carriage turn end line program executes input function user wi ll type line input typed value prev iou line sound like good idea discard user s input turn s safest thing program usingtextiofor input output improve program section computing value investment user typ e initial value investment rate result eful thing make sense run note program e formatted output print monetary value correct format import class implement simple program compute earned investment overchapter name thing period year initial investment rate input user value investment end year output rate input decimal percentage example public class public static void main string args double principal value investment double rate annual rate double earned year enter initial investment principal enter annual rate dec imal rate principal rate compute year s principal principal add principal n value year n principal end main end class youmightbewonderingwhythereisonlyoneoutputroutine output data value type separate nput routine data type output function computer tell type va lue output looking parameter input routine don t par ameters diﬀerent input routine distinguished having diﬀerent name introduction file sends output output destination known standar d standard output just possible output destination fo r example data written aﬁlethat stored user s hard drive advantage course data saved ﬁle program end er print ﬁle email edit program simi larly possible source input data textiohas ability write data ﬁles read data ﬁles output function ordinarily function work exactly like interchangeable used output text ﬁles destination write output using output sent current output destination default current output destination standard output textiohas subroutine used change current output destination write ﬁle named fo r example use statement chapter name thing statement executed output textiooutput statement sent ﬁle named instead standard output ﬁl e created doe exist note ﬁle ex ists previous content erased warning textioremembers ﬁle automatically sends output output function ﬁle want writing standard output simple program asks user question output user s response ﬁle named example us textiofor output standard output ﬁle used output standard output import public class createprofile public static void main string args string user s string email user s email address double salary user s yearly salary string favcolor user s favorite color good afternoon program create profile file just answer simple question gather response user email address email yearly income salary favorite color favcolor write user s information file named subsequent output g oes file email email favorite color favcolor yearly income n salary print final message standard output thank profile written p chapter name thing case want let user select ﬁle used output ask user type ﬁle user familiar selecting ﬁle ﬁle dialog box statement open typical ﬁle selectio n dialog user specify output ﬁle advantage alerting user f replace existing ﬁle possible user cancel dial og box selecting ﬁle function return boolean value return value istrueif user selected ﬁle falseif user canceled dialog box program check return value need know act ually going write ﬁle textiocan read ﬁles alternative reading stan dard input specifyaninputsourcefor textio s various function thedefaultinputsourceisstanda rd input use statement read ﬁle named instead let user select input ﬁ le dialog box input come ﬁle instead typed user ading user s input program reading standard input user ge t chance correct error input possible program r eading ﬁle illegal data program try read ﬁle error occur s crash program later possible catch error recover error occur rarely writing ﬁles complete understanding java requires knowledge object oriented programming return topic later chapter ﬁle capability thetextioclass primitive comparison th ey suﬃcient application allow experience ﬁles sooner later textio feature thetextioinput function seen far read valu e line input want read v alue line input example want user able type s omething like input number line textioprovides following alternative input function allow j read value type int y read value type double read value type boolean c read value type char w read word value type st ring name function start instead ln getln short line remind function name begin wi th getln consume entire line data function ln read nput value way save rest input line chunk internal memory called input buﬀer time computer want read input value wil l look input buﬀer beforechapter name thing prompting user input allows computer rea d value line user s input strictly speaking computer actual ly readsonlyfrom input buﬀer ﬁrst time program try read input user th e computer wait user type entire line input textiostores line input buﬀer data line read discarded getln fu nctions user get type buﬀer previously said read line input given way textiouses input buﬀer quite true fact called buﬀer simply return ch aracters remain buﬀer getting new line input user w ant input buﬀer simply discard input subroutine assigning returned value variable note way textioinput function skip past blank space carriage return looking input notskip past character example try read intsand user type computer read ﬁrst nu mber correctly try read second number wil l comma regard error force user retype number want input number line make sure user know sepa rate space comma alternatively want require comma number use getchar read comma reading second number character input function doe skip past blank carriage return simply read return n ext character typed user s blank carriage return user typed car riage return charreturned bygetanychar isthespeciallinefeedcharacter thereisalsoafunction let look ahead character input wit hout actually reading peek character y ou read item input allows look ahead s coming diﬀerent action depending s thetextioclass provides number function learn abo ut look comment source code ﬁle clearly semantics input complicated tha n semantics output fortunately majority application s pretty straightforward practice need follow detail want fancy n particular strongly advise use getln version input routine version unless really want read item line input precisely semantics getln version simpler using scanner input textiomakes easy input user n ot standard class remember make available program us option input scanner class advantage using scanner s standard java want s hard use scannerfor user input nice feature using requires syntax introduced chapter andchapter ll tell youchapter name thing explaining work won t u nderstand syntax point scanner covered subsection scanneris deﬁned package add following import directive program beginning source code ﬁle public class import include following statement beginning rmain routine scanner stdin new scanner creates variable named stdinof typescanner use diﬀerent variable want stdin stand standard use stdinin program access variety subroutine reading user nput example function read value type intfrom user return thing value entered user legal int crash prompt user value integer entered user followed blank spa ce stop reading character digit corresponding method reading type d ata including accept true false input subrouti ne read value line similar version textiosubroutines getln version method equivalent return string character asasimpleexample hereisaversionofthesampleprogram thatuses scanner instead textiofor user input import public class public static void main string args scanner stdin new scanner create scanner double principal value investment double rate annual rate double earned year enter initial investment principal enter annual rate dec imal rate principal rate compute year s principal principal add principal n value year n principal end main end class name thing note inclusion line given import scanner create stdin note substitution fact really equivalent getln version aﬀect behavior program s long user type just number line input continue use textiofor input time example s using scanner solution exercise t detailed coverage scannerlater book detail expression section take closer look expression recall expression piece program code represents computes value express ion literal variable function thing combined ope rators value expression assigned variable used param eter subroutine combined value complicated expressi value case ignored s want c ommon think expression essential programming far th book dealt informally expression section tell c omplete story leaving commonly used operator basic building block expression literal true x hello variable function call recall function subroutine return value ve seen example function input routine textioclass mathematical function mathclass themathclass contains couple mathematical constant useful mathematical expression represents π ratio circumference circle diameter e base natural logarithm constant actually member variable mathof typedouble approximation mathematical constant require inﬁnite number digit specify exactly standard class integercontains couple constant related intdata type valueis largest possible int value smallest int similarly class doublecontains constant related type valueis largest value type double valueis smallest positive value constant represent inﬁnite value infinity infinity special value represent undeﬁned value example value literal variable function call simple express ion complex expression built using operator combine simpler expression operator include adding number comparing value operator ppear expression question precedence determines operator grouped evaluation example expression b c b ci computed ﬁrst result added say multiplication hashigher precedence addition default precedence want use p arentheses explicitly specify grouping want example c ould use b c want add atobﬁrst multiply result rest section give detail operator java t number operator javachapter name thing quite large cover mportant one arithmetic operator arithmetic operator include addition subtraction mult iplication division indicated operation used value numeric type byte short int long ﬂoat ordouble used value type char treated integer context chari converted unicode code number used arithmetic operator computer act ually calculates operation value combine sam e type program tell computer combine value diﬀerent type com puter convert value type example compute computer convert integer real number compute called type conversion ordinarily don t worry type conversion n expression computer doe automatically numerical value combined doing type version necessary answer type multip ly twoints int multiply double double expect careful use division operator divide integer answer integer quotient fractional pa rt discarded example value ifnis integer variable integer equal zero ngreater fact common source programming error force computer compute real number answer b y making operand real example computer evaluates ﬁrst convert nto real number order match type real number answer java operator computing remainder e number divided operator indicated ifaandbare integer brepresents remainder ai divided b negative operand quite usual mathematical modulus operator ai negative value b negative example common use test given integer odd ni n zero ni odd n plus minus depending ni positive negative generally check integer ni evenly divisible integer mby checking n mi zero operator work real number general bi left remove copy ba possible example finally need unary minus operator take negative number example value completeness java unary plus operator doesn t really way recall used concatenate value type astring use combine string value type anoth er example type conversion type automatica lly converted type string increment decrement ll ﬁnd adding variable extremely common operation programmin subtracting variable pretty common perform o peration variable assignment statement chapter name thing counter counter goalsscored goalsscored eﬀect assignment statement x x old value variable x compute result adding value store answer new value operation accomplished writing prefer actually change value x eﬀect writing x x statement written similarly write x x subtract x performs computation x x adding variable called incrementing variable subtracting called decrementing operator called increment operator decrement operator respectively o perators used variable belonging numerical type variable typechar ifchis value chto b usually operator used statement like x statement command change value legal use x xas expression part larger expression y ou write thing like y y x z y thestatement y hastheeﬀectsofadding xand inaddition assigning value value assigned yi deﬁned oldvalue ofx added value statement y change value change value value assigned yi theoldvalue ofx hand value deﬁned newvalue ofx added statement y change value decrement operator work similar way note particular statement x doe change value x value assigned x old value o f x statement executed net result x increment ed immediately changed previous value need remember x expression value x expression x confusing seen bug student pro gram resulting confusion advice don t confused use statement expression follow advice ex amples note relational operator java boolean variable expression used express condition trueorfalse way form expression compare value using relational operator relational operator used test value equal value greater th forth relational operator java meaning operator chapter name thing b equal b b equal b b b b greater b b equal b b greater equal b operator used compare value num eric type used compare value type char character deﬁned according numeric unicode value character w hat want alphabetical order upper case letter com e lower case letter using boolean expression remember far computer concerned special boolean value n chapter use loop branch statement assign expression boolean variable just assign num eric value numeric variable function return boolean value way operator used compare boolean value occasionally useful example ﬁgure thi s doe boolean samesign samesign x y thing cannotdo relational operator use compare value type string legally use compare string peculiarity way object behave mig ht result want check object stored mory location contain value occasionally object want make rarely string ll thi s later chapter instead compare string using subroutine equal andcompareto described subsection place t work expect constant represents undeﬁned value type double value x deﬁned falsefor anyx andx deﬁned truein case value hold test real value xi undeﬁned value use function x boolean operator english complicated condition formed using w ords example test andyou did notstudy boolean operator exist java english java boolean operator represented operator used combine boolean value result boolean valu result trueifboth combined value true result falseifeitherof combined value false example x y istrueif xi equal yi equal boolean operator represented s supposed vertical line character expression b istrueif eitheraistrueorbistrue true b isfalseonly aandbare false operator said version boolean operator mean second operand necessarily evaluated consider testchapter name thing x suppose value xi fact zero case division undeﬁned mathematically computer perform t division computer evaluates x ﬁnds result false know x false doesn t bother evaluate th e second operand evaluation di vision zero avoided like technicality time m ake programming life little easier boolean operator unary operator java indicated written single operand example testis boolean variable test test reverse value test changing truetofalse falsetotrue conditional operator good programming language nifty little feature s aren t really necessary let feel cool use java conditio nal operator s ternary come p ieces used take form computer test value value true evaluates evaluates expression type example n assign value n istrue assign value tonextifnis odd parenthesis example required bu t make expression easier read assignment operator type conversion familiar assignment statement whi ch us symbol assign value expression variable fact really n operator sense assignment used expression m ore complex expression value assignment value assigned want assign value btoaand test time value zero say usually say don t thing like general type expression assignment statement type variable si case computer automatically convert value computed expression match type variable consider list numeric type byte short int long ﬂoat double value type occurs earlier list conver ted automatically value occurs later example chapter name thing int double x short b x ok converted double b illegal automatic conversion int short idea conversion automaticall y changing semantics value intcan converted doublewith numeric value intvalues lie outside legal range short simply way represent short example largest value typeshortis case want force conversion n t automatically use called type cast type cast indicated putting type parenthesis value want conver example int short b b short ok explicitly type cast value type short type cast numeric type numeri c type note change numeric value number typ example short away byte obtain ve lost real information byte real number integer fractiona l discarded example int example type cast consider problem getting random integer function give real number cast operator int used convert integer int int integer number add int parenthesis necessary precedence rule pare ntheses type cast operator apply type chari integer type assign charvalues intvariables assign integer constant range charvariables use explicit charand numeric type example char int char c typeconversionbetween onewayto convert value type string concatenate w ith string example isthestring butabetterwayistousethefunction x astatic member function x return value x converted string example string ifchis acharvariable ch string length containing single character tha t value name thing possible convert certain string value type example string convertible intvalue string doublevalue java conversion handled buil function standard class integercontains static member function converting stringto int particular stris expression type string str function attempt convert value strinto value type int example value theintvalue parameter doe represent legal intvalue error occurs similarly standard class doubleincludes function ifstris string function str try convert strinto value typedouble error occurs strdoes represent legal doublevalue getting assignment statement java var iations assignment operator exist save typing example b deﬁned b java s operator rise similar assignment o perators example x y x x y x y x x y x y x x y x y x x y combined assignment operator work string recall used string operand represents catenation str x equivalent str str x used string appends value string example ifstrhas value tire statement str d change value strto tired precedence rule use operator expression don t use parenthesis explicitly indicate order evaluation worry abou t precedence rule determine order evaluation advice don t confuse y ourself reader program use parenthesis liberally listing operator discussed section listed order highest precedence evaluated ﬁrst lowest precedence evaluat ed unary operator unary unary multiplication division addition subtraction relational operator equality inequality boolean boolean conditional operator assignment operator operator line precedence ope rators precedence strung absence parenthesis unary ope rators assignment operator evaluated remaining operator ar e evaluated example b expression useful given value expression value assigned b chapter name thing programming environment java language highly standardized procedure creating compiling editing java program vary widely pr ogramming environment basic approach command line environment user type command computer responds integrated development environment ide user us keyboard mouse interact graphical user interface essentially just command line environmen t java programming common ides including eclipse intellij idea bluej complete deﬁnitive information java programming environment section try information let compile run exampl e textbook using command line eclipse bluej reader strongly enco uraged read compile run example source code sample program solution exercise downloaded book s web page http onethingtokeepinmindisthatyoudonothavetopayanymoney todojavaprogramming aside buying computer course y ou need downloaded free internet textbook meant use java later large majority valid version old java section t ry information make possible install java use textbo java new version java released frequently past ab twice year release support lts release continue receive bug ﬁxes security update extended period time java java java term support release recommend use java ja va installed avoid release unless speciﬁc need feature oﬀer getting jdk basic development java programming usuall y referred jdk java development kit note java come version dev elopment kit version jdk runtime environment version jre runtime envir onment used run java program doe allow compile ja va program development kit includes runtime environment let compi le program harder ﬁnd separate jre download term used refer fact jdk jdk include command line e nvironment need work java command line decide use ide need download jdk ﬁrst note eclipse ide bluej include jdk need download separate jdk use java developed sun microsystems acqu ired oracle corporation possible download jdk directly o racle s web site starting java oracle jdk meant commercial use fo r personal educational use probably preferable use openjdk s ame functionality version available oracle distributed fully free license openjdk downloaded http owned oracle recommend downloading adoptium address http site run eclipse foundation distribute s version openjdk underchapter name thing eclipse want download temuri n later jdk come diﬀerent version depending operating type cpu computer adoptium web page detect operating syste m cpu just need click latest release download button appropriate version need select version note cpu type refe rred likely using architecture work f intel amd cpu newer mac use refers arm cpu adoptium site provides installers macos window make easier set java platform installer macos ﬁl e installer window ﬁle use linux operating p robably install openjdk using usual software manager distribution n ot download version adoptium just compressed archive tha n installer download jdk installer window macos adop tium just installer ﬁle start installation f doe start automatically use default installation installer set computer use javacandjavacommands command line gui program book use programming library known asjavafx downloaded separately openjdk nee d download javafx use eclipse java work bluej come javafx information downloading using javafx given end secti openjdk downloaded compressed archive w hich decompress andplaceanywhereonyourcomputer tousethe javacandjavacommands youwill need bin directory openjdk directo ry path environment variable use path name javacandjavacommands adoptium installers window macos care command line environment modern computer user ﬁnd command line environment pretty alien unintuitive certainly diﬀerent graphic al user interface people used take little practice learn basic command line environment productive using useful t o know use command line particularly important computer science student skip subsection plan work java ide use command line programming environment open window type command window open command window running program named cmd macos want run terminal program utility folder inside application folder l inux possibility including old program called xterm try looking terminal application menu matter type computer using open c ommand window display prompt sort type command pro mpt press return computer carry command displaying output n command window redisplay prompt type mmand central concept command line environment current directory orworking directory contains ﬁles used command t ype word directory folder mean thing curr ent directory command prompt list ﬁles current di rectory typing thechapter name thing command dir window l linux macos window ﬁrst open current directory home directory personal ﬁles stored change current directory using cdcommand directory want use example current directory home direc tory change desktop directory typing command cd desktop pressing return want create directory folder hol d java work example create directory named javawork home directory using computer s gui way use command line o pen command window want work directory diﬀerent folder y home directory cdinto directory want enter command mkdir javawork make directory want work programming open mmand window use cdcommand change java work directory course y ou working directory java work organize ﬁ le way like basic command using java command line javacandjava javaccommand used compile java source code javais used run java program command command working java ca n directory namedbininside directory hold jdk set thing c orrectly computer recognize command type t hem command line try typing command java andjavac output command tell version java used message command java correctly conﬁgured java conﬁgured correctly linux h ave installed java linux software repository true macos wi ndows used installer adoptium test javaccommand place copy working directory downloaded web site book ﬁnd t directory named inside directory named source use computer s gui ﬁle working directory cdinto folder work alternatively youcannavigateto onthebook s website andusethe saveas command web browser save copy ﬁle w orking directory type command working directory contains th e javac compile create bytecode ﬁle named directory note command succeeds response computer just redisplay command prompt te ll s ready command able run program using javacommand java helloworld computer respond outputting message hell o world note compiled program stored ﬁle named thejavacommand us class helloworld ﬁle run program need ﬁle ﬁle sample program book use textioto read input user subsection sincetextioisnot astandard ofjava makeit availabletoan ychapter name thing program us mean working directory contain folder named textio inside folder ﬁle copy book s source directory download th e web site sure place inside folder named textioin directory program us textio run sample program test user input compile program command javac ifsuccessful thiswillcreatethecompiledﬁlenamed butyouwillalsonotice creates ﬁle inside textiofolder ﬁle doe exist generally javaccommand compile just ﬁle specify al o additional java ﬁles needed run using command java asked enter information resp ond typing answer command window pressing return end line w hen program end command prompt enter comman note way java textio make sense textiodoes main routine possible execute program follow similar procedure run example n book use javafx running javafx program subsection create program need text editor text editor computer program allows create save document tain plain text important document saved plain text special encoding formatting information word processor document appropriate unless word processor save plain text good text editor make pr ogramming lot pleasant linux come text editor window e notepad pinch probably want better macos wnload bbeditapplication used free possibility work ny platform use jedit programmer s text editor written java t hat downloaded free popular programming editor ato m available work program open command line window dcdinto working directory store source code ﬁles start u p text editor program icon selecting start nu type code editor window open existing source code ﬁle want mo dify save ﬁle working directory remember java source ﬁle end rest ﬁle match class deﬁned ﬁle ﬁle saved working directory command wind ow use javaccommand compile discussed syntax error code listed command window error message contains line number ﬁle computer error editor try ﬁx e rrors save change try javaccommand s usually good idea just work ﬁr st error ﬁxing make error away remember javac command ﬁnally succeeds message po ssibly just warning warning stop program running use t hejavacommand runchapter name thing program described ve compiled p rogram run time like recompiling s really editor command window open edit save compile eliminated syntax er rors remember save ﬁle compiling compiler see saved ﬁle version editor window run program ﬁnd se mantic error cause run incorrectly case edi loop try ﬁnd ﬁx problem eclipse ide integrated development environment n eed create compile run program integrated single package graphic al user interface familiar computer user number diﬀerent ides fo r java program development ranging fairly simple wrapper jdk highly complex application multitude feature beginning programmer danger using ide diﬃculty learning use ide diﬃculty learning program daunting programming generally use t heeclipse ide introduce student experience command line discus eclipse simpler alternative bluej brieﬂy ides feature useful beginning programmer althou gh beginner want ignore advanced feature unless happen using oracle s jdk java using eclipse javafx program require extra conﬁguration subsection discusses using javafx eclipse subsection tell use program use standard java class download eclipse ide install eclipse eclipse ide java developer package notthe installer web page http window linux package download compressed rchive ﬁle simply extract content archive place resulting d irectory want computer ﬁnd eclipse application d irectory start eclipse application icon macos dow nload ﬁle contains eclipse application open ﬁle drag th e application location prefer probably application folder note th macos linux package available version refers type cpu computer us newer mac use version t version older mac use intel cpu linux likely nee d version work intel amd cpu eclipse free program written java recen t version eclipse include openjdk eclipse call jre use wi thout downloading separate jdk march version includes java sdk ﬁrst time start eclipse asked specify workspace directory work stored accept d efault provide use multiple workspace select e want use startup new workspace ﬁrst opened eclipse win dow ﬁlled large welcome screen includes link extensive document ation tutorial shouldchapter name thing close screen clicking x word welco later choosing welcome help menu eclipse gui consists large window divided nto section section contains view example view text editor place program contain list proj ect view section window tab section select view displayed section happen exam ple editor view open time view display diﬀerent type information set view window called perspective eclipse us diﬀerent perspective diﬀerent set s view diﬀerent type information diﬀerent task comp iling running program perspective need java perspective default experienced want use debug spective feature designed help ﬁnd semantic error program small button eclipse toolbar used switch perspective java perspective includes large area center th e window contains text editor view create edit prog ram left package explorer view contain list java project source code ﬁles right view t ﬁnd useful usually close clicking small x sev eral view certainly useful appear diﬀerent tab section o f window editing area accidently close important view suc h package explorer selecting view submenu window menu reset window default content select ing reset perspective window menu work eclipse need project start java project new submenu file menu select java project com mand window pop need ﬁll project anyth ing like section window need pay attent ion project use javafx conﬁgur ed workspace javafx described end section make sure tha t jre conﬁguration created javafx selected jre section th e dialog box shown project doe require javafx set jre b e execution environment chapter name thing set javase later program f rom textbook need uncheck option labeled create ﬁle module section textbook doe notuse modular program note workspace remember setting time create new project th harmless use jre javafx support project doe use javaf entering project changing option ne cessary click finish button project appear package explorer view left eclipse window click small triangle plus sign project content project assuming use default se ttings directory named src java source code ﬁles project contains jre library collection standard bui class come java conﬁgured project javafx lude javafx class run sample java program textbook need copy source code ﬁle eclipse java project assuming ha ve downloaded source code ﬁle computer ec lipse window ﬁle icon macos select copy menu project s src folder eclipse window select past e sure paste src folder project ﬁles outside srcfolder nottreated java source code ﬁles alternatively try dragging ﬁle icon ﬁle browser window src folder eclipse window use example textbook add source c ode ﬁle project ﬁle package named textio folder named textio described s imply textiofolder src folder project alternatively create thetextiopackage using command file men make folder named textio project inside src folde r folder case package textioshould appear src project inside drag ﬁles location t package explorer view accidently ﬁle wron g location java program project open edit ﬁle package explorer view run program r editor window ﬁle package explorer view ick macos menu pop run submenu select java applicat ion program executed program writes standard output outp ut appear console view section eclipse window editor se ction program us textio orscanner input type required input c onsole click console view start typing character type sent correct window easier way ru n program ﬁnd click small run button eclipse s tool bar run ei ther program editor window program selected package explorer view o r program run recently depending context note run pro gram eclipse compiled automatically separate compilation step program eclipse project create additional project organize work better remember place copy inside folder named textio project requires create new java program eclipse create new j ava class chapter name thing java project project explorer view new submenu popup menu select class alternatively ther e small icon toolbar eclipse window click create new java class window open type class want creat class legal java identiﬁer note want clas s source code ﬁle don t add end windo w includes input box labeled package specify package contain class example book use default package c reate program package use default package package input box finally click finish button create class class app ear inside src folder folder corresponding package new ﬁle auto matically open editing area start typing program eclipse feature aid type cod underline syntax error jagged red line case place er ror marker left border edit window hover mouse cursor erro r marker error description error appear note donothave rid error immediately type error away type program error marker display small light bulb eclipse o ﬀering try ﬁx error click light simply hover mouse actual list possible ﬁxes click ﬁx want apply ex ample use undeclared variable program eclipse oﬀer declare actually use feature eclipse write certain ty pe code unfortunately ll ﬁnd won t understand lot proposed ﬁxe s learn java language nota good idea apply ﬁx don t just make thing worse end eclipse look spelling error comment wi ll underline jagged red line hover mouse error list poss ible correct spelling anotheressentialeclipsefeatureis content assist contentassistcanbeinvokedbytyping oﬀer possible completion whatev er typing moment example type identiﬁer hit ce list identiﬁers start character typed use arrow key select item list press return enter ca n click item mouse select hit escape dismiss list ther e possible completion hit inserted automatical ly default content assist pop automatically type period certain o ther character example type list subroutine textioclass personally ﬁnd annoying disable eclipse preference look java editor content assist turn oﬀ enable auto ac tivation option code assist manually program run describ ed ﬁnd problem run s easy editor make change run note possible use jdk included w ith eclipse command line jdk directory inside eclipse installatio n long complex best way ﬁnd open installed jre s section eclipse preference described select jre list installed jres clickchapter name thing jdk directory jre home section dialog need add directory directory contains jdk command line program asjavac add bin directory path en vironment variable use path name javac java command bluej asasimpleralternativetoeclipse iwillmentionbluej mallidethatisdesignedspeciﬁcally people learning program comple x eclipse doe feature make useful education bluej downloaded installers available window macos f linux ubuntulinuxandlinuxmint theinstallersincludeanopen jdkaswellasjavafx whichis required run bluej need addition al downloading conﬁguration march bluej support java later versio n bluej begin project new project comma nd project menu bluej project simply folder create project select folder doe exist folder created nd window opened content folder file shown icon th e bluej window drag ﬁles ﬁle window add ﬁles t project copied project folder shown window copy ﬁles directly project folder bluej won t time y ou open project restart bluej project worki ng recently open project command project menu button project window creating new clas icon class added window source code ﬁle created t project folder ﬁle automatically opened editing edit ﬁle ck icon project window editor opened separate window newly created c lass contain default code probably don t want erase add main routine instead bluej editor doe error type error r eported compile program doe oﬀer automatic ﬁxes error capable version eclipse s content assist work getti ng list available subroutine class object list hitting fter typing period following class object editor window contains button compiling program window compile button project window compiles ll class project run program compiled th e icon compiled program inthemenuthatpopsup youwillsee void main string args forajavafxprogram run javafx application select option menu run program neatest feature bluej actually u se run subroutine justmain class contains subroutine t list icon dialog allows ent er parameter required routine routine function anothe r dialog box routine executed tell return value allows easy t esting individual subroutine furthermore use bluej create new object fro m class icon object added project window r icon list subroutine object course useful programming chapter name thing problem package class java contained called package class explicitly package default package java s standard class named package includes class like stringandsystem package named class automatically imported java ﬁle class package imported using importdirective textioclass package namedtextio imported program want use w ill discus package greater section just need know basic fact example default package u se default package fact discouraged according oﬃcial java style guideli ne chosen use easier beginning programmer av oid package possible ﬁrst eclipse try class package delete package dialog use default pa ckage instead create class package source code start line sp eciﬁes package class example class package named ﬁrst line source code package example source code textiobegins package textio textioin package class package cann ot use class default package textiowere default package onlybe used program default package fact earlier ver sion textbook textiowas default package moved package textioas version book package used environment c omplications arise example program package named source code ﬁle subdirectory named pkg inside directory named test th turn inside main java working directory compile e xecute program working main directory subdirectory wh en compile source code ﬁle include directory c ommand example program package use javac linux macos javac window command executing program java period separating package class jshell mention tool working ja va jshell thejshellcommand standard jdk java use javacandjavacommands command line use jshell purpose jshellis let type execute java code bother creating ﬁ le writing main program startjshell just enter command line jshe ll prompt enter java statement java expression enter statement executed enter expression value pri nted place semicolon end line short example jshe ll welcome jshell version introduction type introchapter name thing jshell hello world hello world jshell int x x jshell x jshell goodbye usingjshellcan great way learn java experiment feat ures won t detailed information book learn http use inside jshell learn javafx command line version textbook used swing gui programming wh en began work version javafx added standard jdk t furture java gui version switch javafx long javafx removed jdk developed distributed separat ely somewhat diﬃcult use version decided make boo k available edition covering swing covering javafx signiﬁcant diﬀerences chapter cover gui programming chapter andchapter edition cover javafx want learn swing read chapter th eswing edition use javafx command line eclipse dow nload computer ﬁnd download link page http need download javafx sdk jmods monocle sdk appropriate operating linux macos window jdk using version number match version jdk probably mean javafx version major version number h match furthermore need select architecture refers cpu ty pe architecture match architecture used jdk using jd k adoptium using eclipse package need javafx archite cture using jdk adoptium pack age eclipse need architecture download javafx sdk form com pressed archive ﬁle need extract content archive usually simply icon archive ﬁle extract content open pro gram use extract content directory l directory computer nee d know located javafx collection java class used mak ing gui program book ﬁrst used section covered extensively chapter andchapter used example program chapter t subsection explains use javafx command line assumes alrea dy downloaded javafx sdk described javafx distributed set mo subsection module stored ﬁles libsubdirectory javafx sdk usingchapter name thing thejavacandjavacommands program us javafx need tell mmand ﬁnd javafx module module speciﬁed javacandjavacommands using command option ﬁrst option speciﬁes directory contains javafx ﬁles second say module ac tually want use purpose textbook set value make javafx available program value path thelibdirectory contains javafx ﬁles example l et s say javafx sdk directory named home directory path libdirectory javac command compiling javafx program javac followed line ﬁles y ou want compile exactly option used javacommand run javafx program option abbreviated equal sign written javac don t know path javafx sdk open comman d window use cdcommand sdk s libdirectory mac linux enter command pwd print path working directory window s use command cd directory speciﬁed print path use output f rom command value window typical javacommand use javafx look like java c path includes space certain special ch aracters enclosed quotation mark example java c ad course verbose nice hav e retype time macos linux easy deﬁne alias shortcut long command computer use alias deﬁne jfxccommand compiling javafx program alias deﬁned follows alias javac similarly deﬁned alias running javafx program alias java ad let compile run javafx program using command s uch jfxc jfx myjavafxprogram make alias deﬁnitions permanent linux computer added ﬁle macos ﬁle named macos later ﬁle named earlier version macos ﬁle placed home directory ﬁle exi st doesn t exist create ﬁle executed open terminal wi ndow particular change eﬀective open new terminal note th ﬁle begin achapter name thing period make hidden mean won t usual directory listing ﬁle browser able set ﬁle b rowser hidden ﬁles unfortunately window currently doe equivale nt cmdcommand window option make batch script ﬁle run command compilation create ﬁle named just line similar javac c course using appropriate javafx location yo ur computer end represents input javaccommand ﬁle current directory path jdk bindirectory use jfxcas command compiling javafx program handle javacommand similar ﬁle using javafx eclipse compile run javafx program eclipse need ﬁgure eclipse workspace support goal notto present correct general way conﬁgure eclipse javafx just want make possible easily w ork basic javafx program like one come textbook discus conﬁguration eclipse workspace work reliably version eclipse tried ﬁrst step download javafx sdk javafx download site discussed previous subsection begin open eclipse preference using preferen ce command window menu linux window eclipse menu macos expand java section list left clicking small tri angle plus sign word click installed list j ava environment eclipse know list include jre ncluded eclipse include jres installed cli ck jre select click duplicate button make copy add javafx support copy just edit original jre add completel y new conﬁguration recommend using duplicate add new conﬁguration wou ld freedom use diﬀerent jdk downloaded matching javafx duplicate existing jre dialog box similar following jre home jre ﬁlled just entry jre library name thing change jre indicates support javafx just recognize create ne w project eclipse main thing add javafx conﬁguration remember use javafx need make available y program compile time run time ﬁrst step conﬁguratio n make available compile time want add javafx ﬁles t o jre library click add external jar button navigate libdirectory javafx sdk downloaded javafx ﬁles sel ect click ok appear jre library list second step conﬁgure javafx source ﬁle ste p optional allow eclipse ﬁnd documentation javafx ver y useful writing program step make sure javafx jar ﬁ le selected list ﬁles shown illustration click source ttachment button source attachment conﬁguration dialog box select external loc ation click external file select ﬁle javafx sdk directory click ok s finally youmustmakejavafxavailabletoyourprogramsatr untime todothat youneed ﬁll default vm argument input box typing javafx command line option thejavacommand input box contains option added thejavacommand time run program eclipse using jre option needed discussed previous subse ction example appropriateformyowncomputerareshownintheaboveillust ration thevalueofthe location javafx libdirectory exactly beginning path javafx ﬁles shown jre l ibraries list enclose value quotation mark includes space sp ecial character value shown illustration set click finish click app ly close main preference dialog box create new java project workspace make surechapter name thing jre set use javafx selected pro ject creation dialog box look jre section dialog box select use peciﬁc jre select jre javafx popup menu able use javafx project check jre conﬁguration edit sam e java preference set ﬁrst place t compile javafx progra m make sure using javafx sdk major version number n jdk eclipse javafx march version eclipse example ca n compile javafx program run check default vm argument check javafx sdk correct operating exercise chapter program print initial standard letter solution line tall big letter bunch s example initial dje output look like program simulates rolling pair dice simulate rolling die solution choosing integer random nu mber pick represents number die rolled pointed section expression int doe computation select random integer assign value variable represent dice rolled twice add result total roll program s hould report number showing die total roll example die come second die come total roll program asks user s greets user solution outputting user s convert upper case letter example user s fred program respond hello fred n ice meet program help user count change prog ram ask solution quarter user dime nick el penny program tell user money expressed dollar neggs egg n left solution essentially deﬁnition operator integer write program asks user egg tell user d ozen egg extra egg left gross egg equal egg extend program tha t tell user gross dozen left egg example user say egg program r espond number egg gross dozen equal exercise asks write program test th e subroutine solution working string program ask user enter ﬁrst t heir separated space read user s response usi break input string string containing ﬁrst containing using indexof subroutine ﬁnd position space using substring extract name output number character output user s init ials initial ﬁrst letter ﬁrst ﬁrst letter t sample run program look like enter separated spa ce mary smith mary character smith character initial m ﬁle named contains follow ing information ﬁrst solution line ﬁle student l ines contains integer integer student s score exam write program read information ﬁle display standard output message contains student student s average grade thr ee exam average obtained adding individual exam grade div iding number quiz chapter answer syntaxandthesemantics ofaprogramminglanguage example illustrate diﬀerence syntax error semantics error doe computer executes variable declara tion statement example type term relates programming primitive type java boolean boolean type boolean value used possible value meaning following java operator b c meant assignment statement example assignment statement used meant precedence operator literal java class fundamentally diﬀerent purpose diﬀerence statement x statement x value expression test string value expression test string value test development environment eclipse usesyntax coloring assigns various color character program reﬂe ct syntax language student notice eclipse color word stringdiﬀerently int double boolean student asks stringshould diﬀerent color word name type s answer student s questi purpose import directive import orimport complete program asks user enter numbe r widget want buy cost widget program output total cost widget use print cost digit decimal point need include comment programming small ii control basic building block expression assignmentstatement s subroutine covered previous ch apter starting chapter look building block bui ld complex program interesting behavior working level programming small chapter interested kind complexity occur s ingle subroutine level complexity provided control structure type control structure loop branch used repeat sequence statement choose possible course action java includes ntrol structure type look program complexity seen just control structure s data structure data structure organized collection data chunked treated unit section chapter includes introduction mmon data structure array chapter begin study program design n problem come program solve problem ll look pa rtial answer question insection finally section brief ﬁrst look gui programming block loop branch ability computer perform complex task built just way combining simple command control structure java just structure used determine normal ﬂow control progr fact just write program perform task control structure theblock thewhile loop thedo loop thefor loop theif statement switch statement structure considered single state ment astructured statement contain statement insi block theblockis simplest type structured statement purpose simply group sequence statement single statement format o f block control consists sequence statement enclosed bet ween pair brace fact possible block contain statement block called block actually useful time block consists pair brace block statement usually occur inside statement purpose group statement unit block legally used statement occur place block requ ired noticed case mainsubroutine program deﬁnition subroutine block sequence statement enclosed inside pair brace probably note point java called language therearenosyntaxrulesabouthowthelanguagehastobearra ngedonapage forexample write entire block line want matter good programming style lay program page way make structure clear possible general mean putting statem ent line using indentation indicate statement contained inside control st ructures format use example example block answer an block exchange value x y int temp temporary variable use block temp x save copy value x temp x y copy value y y temp copy value temp second example variable temp declared inside block perfectly legal good style declare variable inside block tha t variable used inside block variable declared inside block mpletely inaccessible invisible outside block computer executes vari able declaration statement allocates memory hold value variable c onceptually block end memory discarded available r euse variable said localto block general concept called scope identiﬁer scopeof identiﬁer program identiﬁe r valid scope variable deﬁned inside block limited block speci ﬁcally block come declaration variable basic loop block statement really doesn t aﬀect ﬂow control program ﬁve remaining control structure divided tw o class loop statement branching statement really just need control stru cture category order completely programming language m ore just control section ll introduce whileloop ifstatement ll detail statement control structure n later section awhile loop used repeat given statement course t s likely want repeating forever b e aninﬁnite loop generally bad thing old story computer p ioneer grace murray hopper read instruction bottle shampoo telling l ather rinse story go claim tried follow direction s ran shampoo case don t making joke way c omputers mindlessly follow instruction way working command line need stop program gotten inﬁnite loop able s o hold control key press c key speciﬁc whileloop repeat statement long speciﬁed condition remains true whileloop form statement usually block whileloops form programmer think brace incl uded matter style statement don t alw ays follow advice semantics whilestatement like computer come statement evaluates yield trueorfalseas value value false computer skip rest whileloop proceeds command program value expression true computer executes block loop return beginning thewhileloop repeat process end loop value false continues value true continue value expression falsewhen computer evaluates happens inﬁnite loop example whileloop simply print number int number number printed number start number going long number number number number variable numberis initialized value computer evaluat e expression number ﬁrst time asking true computer proceeds execute stateme nt inside loop ﬁrst statement print second statement add numberand store result variable number value numberhas changed computer reached end loop return beginning asks numberis true computer executes loop time printing value numberand changing value numberto continues thischapter control way eventually numberbecomes equal point expression number evaluates false computer jump past end loop sta tement print message note loop en d value numberis value printed way remember ll whileloop standing real program inside subroutine deﬁned inside class example whileloop used inside complete program little program computes investment yea r improvement example previous chapter just reported sults year import class implement simple program compute th e earned investment period ye ar initial investment rate nput user value investment end year ou tput public class public static void main string args double principal value investment double rate annual rate initial investment rate user enter initial investment principal enter annual rate enter decimal percentage rate simulate investment year int year count number year passed year year double year principal rate principal principal add principal year year count current year value investment year year principal end loop end main end class control study program make sure underst computer doe executes whileloop basic statement anif statement tell computer alternative course ction depending value given expression true false example branching decision statement ifstatement form computer executes ifstatement evaluates boolean expression valu e istrue computer executes ﬁrst statement skip stat ement follows value expression false computer skip ﬁrst statement executes second note case e statement inside theifstatement executed statement represent altern ative course action computer decides course action based th e value boolean expression case want computer choose doing s omething doing ifstatement omits elsepart execute statement computer evaluates expre ssion value true computer executes contained inside ifstatement value false computer skip case computer continues follows ifstatement program novice programmer confuse whilestatements simple ifstatements noelsepart meaning quite diﬀerent anifis executed awhilecan executed number time helpful look diagram ﬂow control whileand simple ifstatements chapter control statementyesnowhile loop flow control statementyesnoif statement flow control condition true condition true diagram arrow represent ﬂow time statement executed control enters diagram leaf simila rly ﬂow control diagram statement make clear exactly nested st atements executed statement noif flow control condition true course anifstatement block programmer prefer add brace cont ain just single statement anifstatement look like control example ifstatement exchange value variable xandy xi greater yto begin ifstatement executed sure value xi deﬁnitely equal value y x y int temp temporary variable use block temp x save copy value x temp x y copy value y y temp copy value temp finally example ifstatement includes elsepart ﬁgure doe used year handle case year value investment year year handle case year value investment year end statement principal case ll say control structure later c hapter know essential learned trol structure know perform possible computing task simple l ooping branching really need control abstractiont control structure ifstatements whileloops allow control process inside cpu computer actually go cpu thing ifstatements whileloops discussed section cpu execute simple machine language instruction loop br anches implemented machinelanguageusingjumpinstructions whichchangethe valuestoredintheprogramcounter register conditional jump instruction o r change program counter depending result simple test implementing java control structure machine language c complicated fortunately don t need know use ja va control structure knowing implemented machine language fac t don t need know machine language cpu work e xample abstraction control abstraction central concept computer science abstr action allows work understanding work llows work higher ifstatements whileloops example control abstraction allow work programming language like java machine language encounter kind abstraction later b ook fact ve encountered variable basic example data abstraction variable let use work data value certain type computer track numerical address data memory byte mory data occupies interpret bit stored memory rep resent value variable abstraction let avoid deﬁnite assignment ﬁnish introduction control structure s omewhat technical issue fully understand ﬁrst time encounter nsider following code segment entirely equivalent int y int y x x y y x y y y y version left yi assigned value x assigned value thatis x exactlythesameistrueoftheversionontheright isasubtlediﬀerence infact thejavacompilerwillreport anerrorforthe statement code right code left s perfectly ﬁne problem code right computer t tell variable yhas deﬁnitely assigned value ifstatement elsepart statement inside theifmight executed depending value c ondition compiler t tell executed condi tion evaluated program running code right far compiler concerned possible statement y evaluated possible output statement trying print undeﬁned value mpiler considers error value variable used compiler canverifythat variable assigned value point program ru nning called deﬁnite assignment doesn t matter youcan tell ywill assigned value example question compiler tell note code left yi deﬁnitely assigned value statement oneofthetwoalternativeswillbeexecutednoma tterwhatthevalueofthecondition theif important understand diﬀerenc e statement pair plain ifstatements pair code segment seemtodothesamething butdon t sthevalueof xaftereachcodesegmentisexecuted int x int x x x x x chapter control x x x x x code left executed xi code right xi don t believe work code doing exac tly computer doe executes step key point code ri ght assignment statement x executed make sure understand algorithm development programming difficult like activity useful li ke activity rewarding lot fun write program tell computer small exactly right computer blindly follow p rogram exactly written people write simple program s n ot big mystery actually s matter learning think right way program expression idea programmer start wit h general idea task computer perform presumably programmer idea perform task hand general outline problem t o ﬂesh outline complete unambiguous procedure carryi ng task procedure called technically algorithm unambiguous procedure terminates ﬁnite number step don t want count procedure forever algorithm program program written particular programming language algorithm like theideabehind program s idea stepsthe program perform task just idea task need accomplish end describing algor ithm step don t necessarily speciﬁed complete long step ar e unambiguous s clear carrying step accomplish assigned task algorithm expressed language including english course algorithm ca n expressed actual program detail ﬁlled algorithm come usually veloped lot thought hard work skill algorithm development som ething come practice technique guideline help ll t alk technique guideline relevant programming small return subject time later chapter pseudocode stepwise reﬁnement programming small basic work wi th variable assignment statement routine subroutine object building block written o r routine fall class build sequence th ese basic instruction combine complex control structure aswhileloops ifstatements suppose task mind want computer pe rform way proceed write description task scription outline algorithm want develop reﬁne elabora te description graduallychapter control adding step complete algorithm translated directly programming language method called stepwise reﬁnement type design proceed stage stepwi se reﬁnement write description algorithm pseudocode instruction imitate structure programming language complete pe rfect syntax actual program code asanexample let sseehowonemightdeveloptheprogramfro mtheprevioussection computes value investment ﬁve year task t hat want program perform compute display value investment f ﬁve year initial investment rate spec iﬁed likely just expanded user s input compute value investment year display value compute value year display value compute value year display value compute value year display value compute value year display value correct repetitive seeing repe tition notice opportunity use loop loop typing important general essentially loop work matter year want process rewrite sequence step user s input year process compute value year display value following algorithm certainly solve problem computer ll explicit user s input compute value year mean say year pr expand step user s input ask user initial investment read user s response ask user rate read user s response ﬁll detail step compute value n ext year know computation maybe need k bos professor clariﬁcation let s say know value computed adding previous value reﬁne whileloop year process compute add value display valuechapter control testing year process ly way counting year display common pattern expect use similar lot program start zero year add time process year stop reach desired numb er year called acounting loop thewhileloop year year year year compute add value display value know compute let s say th computed multiplying rate current val ue investment putting algorithm get use r s input complete algorithm ask user initial investment read user s response ask user rate read user s response year year year year compute value rate add value display value finally point translate pretty dir ectly proper language syntax choose name variab le decide exactly want say user forth having exp res algorithm java double principal rate declare variable int year type initial investment principal type rate rate year year year year principal rate principal principal principal need wrapped inside complete program s till need commented really need print information nicer fo rmat user s essentially program previous secti note pseudocode algorithm used indentation statement in ide loop java indentation completely ignored computer need pair br ace tell computer statement loop leave brace ly statement inside loop year year statement executed loopchapter control end nasty thing computer won t notice e rror like left parenthesis year parenthesis required syntax thewhilestatement brace required semantically c omputer recognize syntax error semantic error thing noticed original spe ciﬁcation compute display value investment th e ﬁve year far complete start writing program shou ld make sure complete speciﬁcation exactly program supposed n particular need know information program going input output computation going perform reasonably complete speciﬁcation problem look like example write program compute display value investment ﬁve year year inter est added value computed multiplyin g current value ﬁxed rate assume ini tial value rate input user t program problem let s example working time program th haven t seen assignment abstract mathematical problem favorite programming exercise time ll start complete speci ﬁcation task performed given positive integer n deﬁne sequence starting n follows n number divide n n odd multiply n add continue generate number way n equal example starting n odd multiply add giving n n divide giving n continue way stopping reach complete sequence write program read positive integer user print sequence starting integer program count print numb er term general outline algorithm program want positive integer n user compute print count number sequence output number term bulk program second step ll need loop want computing number term appropr iate whileloop need know continue loop stop want continue lon g number expand pseudocode algorithm chapter control positive integer n user n compute n term output n count term output number term order compute term computer diﬀe rent action depending n odd need ifstatement decide case positive integer n user n n compute n compute n n output n count term output number term problem remains counting counting mean start zero time count y ou add need variable counting variable set zero beforethe loop start incremented loop common patt ern expect counter added positive integer n user let counter n n compute n compute n n output n add counter output counter worry ﬁrst step positive integer user just read number s possible user m ight type negative number zero follow happens value n negat ive zero ll program forever value n bec ome equal bad case problem probably big deal general try write program foolproof way ﬁx reading num bers user type positive number ask user input positive number let n user s response n positive print error message read value n let counter n n compute n elsechapter control compute n n output n add counter output counter ﬁrst whileloop end n positive number required common beginning programmer s error use ifstatement instead whilestatement n positive ask user input pr oblem arises second number input user ifstatement executed second input number tested program proceeds n inﬁnite loop loop second number input computer jump ba ck beginning loop test second number positive k user number continue asking number user enters acceptable input loop end absolutely sure ni positive number java program implementing algorithm us t operator mean equal mean equal test n us n operator used discussed section import program print sequence starting posi tive integer specified user count number term sequence print number public class public static void main string args int n computing term sequence int counter counting term starting point sequence n n starting point positive try n point know n counter n n n n n n n counter counter counter term sequence chapter control end main end class ﬁnal note program noticed ﬁrst term value n input printed unted program error s hard say speciﬁcation pr ogram careful decide type thing send rofessor clariﬁcation problem ﬁxed easily just replac e line counter loop line n print initial term counter count second question problem int eresting s interesting mathematician computer scientist simp le question problem haven t able answer process computi ng sequence ﬁnish ﬁnite number step possible starting value n individual sequence easy compute able answer general que stion way know process computing seque nces properly called algorithm algorithm required terminate af ter ﬁnite number step note discussion really applies integer value typeint assumes value ofncan arbitrarily large integer value tr ue variable type intin java program value nin program large represented int value output program longer mathematical ly correct java program doe compute correct sequence fnbecomes large exercise coding testing debugging nice having developed algorithm pr ogram relax press button andgetaperfectlyworkingprogram unfortunately theprocessofturninganalgorithm intojavasourcecodedoesn talwaysgosmoothly andwhenyo udogettothestageofaworking program s working sense doe unfortunately want program design come coding translating design nto program written java language usually matter careful ar e syntax error creep java compiler reject pro gram kind error message unfortunately compiler detec t syntax error s good telling exactly s wrong s good telling real error spelling error missing line cause compiler choke line avoid lot error making sure yo u really understand syntax rule language following basic programmin g guideline example type typing matching ﬁll statement brace missing extra brace h ardest error ﬁnd large program indent program nicely c hange program change indentation match s worth trouble use consiste nt naming scheme don t struggle remember called variabl einterestrate orinterestrate general compiler give multiple error message don t try ﬁx second error message compiler ve ﬁxed ﬁrst onc e compiler hit error inchapter control program confused rest error ssages just guess maybe best advice time understand erro r try ﬁx programming experimental science program compiles error d test program make sure work correctly remember al right output sample input professor gave class th e goal program work correctly reasonable input ideally fac ed unreasonable input respond gently chiding user cras hing test program wide variety input try ﬁnd set input te t range functionality ve coded program begin writing lar ger program write stage test stage way t o write extra code example subroutine ve j ust written don t want faced avoid newly written line c ode error point testing ﬁnd error incorrect behavior compilation error sad fact yo u probably ﬁnd minimize bug careful design careful coding b ut way avoid altogether ve detected bug s time fordebugging track cause bug program s source code d eliminate debugging skill like aspect programming requires pra ctice master don t afraid bug learn essential debugging skill bility read source ability aside preconception thinkit doe follow way computer r eally doe hard remember time spent hour looking bug ﬁnd th line code looked time time wrote subroutine named windowclosing exactly wanted computer looking windowclosing lower case w help doesn t share preconception look t code s problem just ﬁnd program c ontains error programming environment come debugger program help ﬁnd bug typically program run control debugger debugger allows set breakpoints program breakpoin t point program debugger pause program look valu e program s variable ideaistotrack exactly thing start togowrong duringtheprogram sexecution debugger let execute program line t time watch happens know general area pr ogram bug lurking confess occasionally use debugger traditional approach debugging insert debugging statement program output statement print information state program ty pically debugging statement say like start loop n n need able tell output progra m output coming want know value important variable someti me ﬁnd computer isn t getting program t hink executing remember goal ﬁnd ﬁrst point program w state expect s bug ﬁnally remember golden rule debugging absolutely sure thatchapter control program right doesn t w ork thing absolutely sure wrong statement statement java simple statement compound statement simple statement suchasassignmentstatementsandsubroutinec allstatements arethebasicbuilding block program compound statement whileloops ifstatements used organize simple statement complex structure called control structure control order statement executed ﬁve section explore detail control structure available java starting whilestatement thedo statement section time ll look exa mples programming control structure apply techn iques designing algorithm introduced previous section statement thewhilestatement introduced section awhileloop form course block statement consisting st atements grouped pair brace statement called t hebody loop body loop repeated long true boolean expression called continuation condition simply test loop point need clariﬁcation happens th e condition false ﬁrst place body loop executed th case body loop executed body loop executed number time including zero happens condition true fa lse middleof loop body doe loop end soon happens doe sn t computer continues executing body loop get e nd doe jump beginning loop test condition t hen loop end let s look typical problem solved using whileloop ﬁnding average set positive integer entered user average sum integer divided number integer program ask user ent er integer time count number integer entered running total number read far pseudocode algorithm program let sum sum integer entered user let count number integer entered user integer process read integer add sum count divide sum count average print average test integer process typical solution tell user type zero data enter ed work assuming data positive number zero s legal data value zerochapter control data averaged s just t o mark end real data data value used way called sentinel value test loop input integer zero problem ﬁrst time test evaluated body loop ha s executed integer read input integer testing input integer zero doesn t make sense beforethe loop make sure test make sense setting thing test whileloop make sense ﬁrst time executed called priming loop case simply read ﬁrst integer beginning loop revised algorithm let sum let count read integer integer zero add integer sum count read integer divide sum count average print average noticethat verearrangedthe body ofthe loop sincean int eger isreadbeforethe loop loop begin processing integer end loop computer read new integer computer jump beginning loop test integer just read note computer ﬁnally read sentinel value loop end sentinel value processed added sum counted way s supposed work sentinel th e data original algorithm work priming correct summed counted integer including sentinel sentinel zero sum correct count oﬀ s error common counting turn harder look easily turn algorithm complete program e program use statement average compute average sumandcount variable type int value integer average real number ve seen problem conv ert intvalues adoubleto force computer compute quotient real number variable type double type cast double sum convert value sumto real number program average computed average double sum count solution case declare sumto variable type doublein ﬁrst place issue addressed program user enter s zero ﬁrst input value data process test case check ing countis equal zero whileloop like minor point careful progra mmer cover base source code program comment ad ded course import program read sequence positive integer input user print average integer user prompted enter integer achapter control time user enter mark end data zero counted data averaged program doe check user s input positive actually add positive negative input value public class computeaverage public static void main string args int inputnumber integer input user int sum sum positive integer int count number positive integer double average average positive integer initialize summation counting variable sum count read process user s input enter positive integer inputnumber inputnumber sum inputnumber add inputnumber running sum count input adding count enter positive integer t o end inputnumber display result count didn t enter data average double sum count entered count positive inte gers average average end main end class computeaverage statement convenient test continuation dition end loop instead beginning whileloop statement similar thewhilestatement word cond ition test moved end word added mark beg inning loop statement formchapter control usual block note semicolon end semicolon pa rt statement just semicolon end assignment statement declar ation statement omitting syntax error generally everystatement java end semicolon right brace toexecutea doloop thestatement statement inside evaluates bool ean expression value expression true computer return beginning doloop repeat process value false end loop continues progr condition tested end loop th e body doloop executed example consider following pseudocode laying program doloop make sense instead whileloop doloop know game test used end loo p wouldn t make sense beginning play game ask user want play game read user s response user s response yes let sconvertthisintoproperjavacode sinceidon twantt otalkaboutgameplayingatthe moment let s say class named checker checker class contains static member subroutine named playgame play game checker user pseudocode play game expressed t subroutine statement need variable store user s response textioclass make convenient use boolean variable store answer question input function allows user enter value yes acceptable response yes considered betrue considered befalse algorithm coded boolean wantstocontinue true user want play want play wantstocontinue wantstocontinue true value boolean variable set false signal loop end aboolean variable used signal set program tested called ﬂagorﬂag variable sense signal ﬂag way programmer sneer test wantstocontinue true test exactly equivalent whilechapter control wantstocontinue testing wantstocontinue true true amount samethingastestingwhether wantstocontinue istrue alittlelessoﬀensiveisanexpression oftheform flag false whereflagisabooleanvariable thevalueof flag false exactly value flag boolean negation operator write flag instead flag false write flag instead flag false statement convenient whilestatement having kind loop doe make language powe rful problem solved using loop solved using whilestatements vice versa fact block program code exactly eﬀect similarly replaced changing meaning program way break continue syntax whileanddo loop allows test continuation condition beginning loop end m ore natural test middle loop test diﬀerent place loop java provides general method breaking middle y loop s called break statement take form break computer executes breakstatement loop immediately jump loop continues follows loop program consider example true look like run forever enter positive number n n input value ok jump loopchapter control break answer continue break number entered user greater zero breakstatement executed computer jump loop com puter print answer jump start loop read nput value ﬁrst line loop true look bit strange s perfectly legitimate condition whileloop expression computer evaluates expression check value trueorfalse boolean literal true just boolean expression evaluates true true used write inﬁnite loop terminated b y abreakstatement abreakstatement terminates loop immediately encloses th ebreakstatement possible nestedloops loop statement contained inside use abreakstatement inside nested loop break loop loop contains nested loop ca lled alabeled break statement allows specify loop want break s common quickly label work like labelin loop label consists simple identiﬁer followed colon examp le awhilewith label look like mainloop inside loop use labeled break statement break mainloop break labeled loop example code s egment check string character common common character value ﬂag variable nothingincommon set tofalse labeled break used end processing point boolean nothingincommon nothingincommon true assume char mmon int j variable iterating char d bigloop j j j common char nothingincommon false nothingincommon actually false break bigloop break loop char char thecontinue statement related break commonly used continue statement tell computer skip rest current teration loop instead jumping loop altogether jump t o beginning loop continues iteration including evaluating th e loop s continuation condition iteration required break continue nested loop continue loop directly contains labeled continue used continue containing loop control breakandcontinue used whileloops loop used inforloops covered section section ll breakcan used break switchstatement breakcan occur inside ifstatement ifstatement nested inside loop inside switchstatement case doesnotmean break instead break loop switchstatement contains ifstatement consideration applies continue statement inside ifs statement turn section type loop forstatement forloop equivalent whileloop language doesn t additional power hav ingfor statement certain type problem forloop easier construct easier read corresponding whileloop s quite possible real program forloops actually outnumber whileloops know person onlyusesforloops loop theforstatement make common type loop easier write m loop general form example consider example copied example nsection year initialize variable year year condition continuing loop principal rate principal statement principal update value variable year loop written following equivalent forstatement year year principal rate principal principal initialization continuation condition updating combined ﬁrst line theforloop keep involved control loop place help make loop easier read understand forloop executed exactly way original code initialization exe cuted loop begin continuation condition executed executi loop including ﬁrst execution loop end condition false update executed end execution loop just jumping bac k check condition formal syntax forstatement follows chapter control using block statement expression usually declaration assignment statement expression allowed statement program simple statement usually increment decrement assignment stateme nt part semicolon required case t continuation condition treated true loop repeated forever end reason breakstatement people like begin inﬁnite loop instead true s ﬂow control diagram forstatement statementyesnofor loop flow control condition true usually initialization forstatement assigns value variable update change value variable assignment statement increment decrement operation value variable tested n continuation condition loop end condition evaluates false variable used way called loop control variable example given loop control variable year certainly common type forloop counting loop loop control variable take integer value minimum d maximum value counting loop form chapter control expression usually constant value value loop control variable used body loop forloop beginning section counting loop loop control variable year take value simpler example number displa yed standard output n n n various reason java programmer like start countin g instead tend use condition following variation loop print number n n n using instead test vice versa common source err or program stop think want ﬁnal value processed s easy count instead counting jus t start decrement loop control variable instead incrementing ntinue long variable greater equal n n n n fact oﬃcial syntax forstatement actually allows initialization update consist expression s eparated comma count count t ime j output w ide column j output j c olumn end ﬁnal introductory example let s say want use forloop print just number way just simple pro blem solved way diﬀerent solution credit number print use loop count number want print n n n use loop count directly adding n time loop n n n n n chapter control count number print number n n n n n irritate professor solution follows letter silly assignment making fun n n worth stressing time forstatement like statement variable declaration occurs real p rogram statement inside mainroutine program inside subroutine tha t subroutine deﬁned inside class remind ev ery variable declared used includes loop control vari able forstatement example seen far section loo p control variable declared type int required loop control variable integer example forloop variable ch type char using fact operator applied character number print alphabet line output char ch loop control variable letter printed ch ch z ch example counting divisor let s look trivial problem solved forloop ifnanddare positive integer say dis adivisor ofnif remainder dis divided ni zero equivalently say ni multiple term java programming d divisor nifn dis zero let s write program input positive integer n user computes diﬀerent divisor nhas number possibly divisor nare compute number divisor n just test possible divisor nand count one actually divide nevenly correct solution eﬃcient way perform task pseudocode algor ithm take formchapter control positive integer n user let divisorcount number testdivisor range n testdivisor divisor n count adding divisorcount output count algorithm display common programming pattern s used sequence item processed general patter n item sequence item pass test process theforloop algorithm translated java code testdivisor testdivisor n n testdivisor modern computer loop executed quickly impossible run largest legal intvalue wanted run larger value use variable type longrather int doe signiﬁcant time large number implemented t algorithm decided output dot time computer tested million po ssible divisor improved version program type counting going count number divisor count number possible di visor tested program need counter second counter ache program output reset counter zero star t counting group million reverting pseudocode algorithm look l ike positive integer n user let divisorcount number divisor let numbertested number possible divisor tested period output number testdivisor range n testdivisor divisor n count adding divisorcount add numbertested numbertested print reset numbertested output count finally translate algorithm complete java program import program read positive integer user count divisor number print result public class countdivisors public static void main string args chapter control int n positive integer entered user divisor number counted int testdivisor number n possible divisor int divisorcount number divisor n fo und int numbertested used count possible divisor s n tested number reach period output value numbertested reset zero positive integer user true enter positive integer n n break number positive t ry count divisor printing te sts divisorcount numbertested testdivisor testdivisor n n testdivisor numbertested numbertested display result number divisor n divisorcount end main end class countdivisors nested loop control structure java statement contain othe r simpler statement particular control structure contain control structure ve seen example ifstatements inside loop example whileloop inside combination control structure inside poss ible say structure nestedinside multiple level nesting whileloop inside ifstatement inside whileloop syntax java doe set limit onchapter control number level nesting practical matter thoug h s diﬃcult understand program level nesting s tyle rule excessive nesting avoided nestedforloops arise naturally algorithm importan t understand work let s look couple example conside r problem printing multiplication table like data table arranged row column process printing expressed pseudocode algorithm rownumber print multiple rownumber line output carriage return ﬁrst step forloop expressed forloop expand print ﬁrst multiple rownumber line n print n rownumber reﬁned algorithm printing table forloop nested inside rownumber n print n rownumber output carriage return want print output neat column output n umber taking space using formatted output format speciﬁer assuming rownumber andnhave declared variable type int algorithm expressed java rownumber rownumber n n print column n rownumber carriage turn add carriage return end section weighed lot example nu merical processing example let s text processing consider pr oblem ﬁnding letter alphabet occur given string example letter occur hello world d e h l o r speciﬁcally wri te program list letter contained string count numb er diﬀerent letter string input user let s start pseudocode algor ithm control ask user input string read response variable str let count counting number different letter letter alphabet letter occurs str print letter add count output count want process entire line text entere d user ll use read line algorithm read lett er alphabet expressed letter z statement inside forloop need thought write program check given letter letter occurs str idea look character string turn check chara cter equal letter character strwith function whereiranges diﬃculty letter occur strin upper lower case check avoid diﬃculty converting str upper case processing chec k upper case letter ﬂesh algorithm fully ask user input string read response variable str convert str upper case let count letter b z letter print letter add count break jump loop avoid counting letter twice output count note use breakin nested forloop required avoid printing counting given letter case occurs ce string break statement break inner forloop outer forloop executing break computer continues outer loop value letter try ﬁgure exactly countwould end program breakstatement omitted complete program import program read line text entered user print list letter occur text report different letter public class listletters public static void main string args string str line text entered user int count number different letter str char letter letter control type line text str str count input contains following le tters letter letter z int position character str letter letter break count different lett er end main end class listletters fact actually easier way determine given letter occurs string str function letter return string return number greater equal zero f doe occur check letteroccurs strsimply checking letter used technique program wouldn t ne ed nested forloop give preview subroutine used deal compl exity statement branching statement java ifstatement seen section take form usual statement inside ifstatement block ifstatement represents branch elsepart word statement follows control dangling problem ifstatement particular statement mean ei ifstatement ifstatement problem arises anifstatement elsepart special case eﬀectively forbidden syntax java suppose exa mple type x y case second case rememberthatthewayyou veindentedthisdoesn tmean anythingatalltothecomputer think elsepart second half x statement rule computer follows attache elseto y closer computer read statement formatted x y case second case force computer use interpretation enclosing nested ifin block x y case second case ifstatements diﬀerent meaning case x ﬁrst statement doesn t print second statement print se cond case multiway branching interesting technicality case whe theelsepart theifstatement ifstatement statement look like ﬁnal computer doesn t care program lai d page written format chapter control think single statement representing branch computer executes stateme executed computer start evaluating istrue computer executes jump way end outer statement skipping computer skip executes second nested statement test value us decide example print diﬀerent ssages depending value variable named temperature temperature s cold temperature s nice s hot iftemperature say ﬁrst test true computer print message s cold skip evaluating secon d condition temperature ﬁrst test false computer go second test test true computer print s nice skip rest tem perature test evaluate false computer say s hot unless circuit en fried heat stringing s make multiwa y branch number case case computer evaluates test boolean express ion come true executes associated statement skip rest boolean expression evaluate true statement elsepart executed statement called multiway branch ly statement executed ﬁnal elsepart omitted case boolean expressi ons arechapter control false statement executed course o f statement block consisting number statement enclosed admittedly lot syntax study practice ll comfor table useful look ﬂow control diagram general statement shown yes yes yes yes nodo statement example example using ifstatements let s suppose x y andzare variable type int variable assigned value sider problem printing value variable increasing order ex ample value output order way approach ask doe xbelong list come ﬁrst s yandz come s greater yandz come middle express ifstatement worry order yandzshould printed pseudocode x y x z output x followed y z correct order x y x z output y z correct order followed x output x y z correct order determining relative order yandzrequires ifstatement becomeschapter control x y x z x come y z x y z x z y x y x z x come y z y z x z y x x middle y z y x z z x y check code work correctly som e value value variable doesn t matter wh ich order print note way say english x s y z t say java x y z operator used boolean value make separate test x yandx z combine test alternative approach problem begin asking order xandybe printed s known decide whe stick line thought lead diﬀerent java code x y x come y z x z come z x y z y z come x y z z middle x z y y come x z y z come z y x z x z come y x z z middle y z x problem solved di ﬀerent way approach problem exhausted possib ilities example start testing xi greater swap value ve know xshould printed y control finally let s write complete program us ifstatement interesting way want program convert measurement length unit measurement mile yard inch foot far p roblem extremely speciﬁed let s say program deal meas urements inch foot yard mile easy extend later deal othe r unit user type measurement unit foot mile output length term eachof unit measure easier asking u ser unit use output outline process read user s input measurement unit measure express measurement inch foot yard mile display result program read part user s input sa line using read numerical measurement read unit measure conversion diﬀerent unit asure simpliﬁed ﬁrst convertingtheuser sinputintoinches fromthere thenum berofinchescaneasilybeconverted foot yard mile converting inch test input determine unit measure user speciﬁed let measurement let unit unit inch let inch measurement unit foot let inch measurement inch foot unit yard let inch measurement inch yard unit mile let inch measurement foot mile unit illegal print error message stop processing let foot inch let yard inch let mile inch display result sinceunitsis astring use inch check speciﬁed unit measure inch ni ce allow unit speciﬁed inch abbreviated allow thr ee possibility check inch inch unit nice allow upper case letter inch converting unitsto lower case testing substituting functi ﬁnal program decided make thing interesting allowing user repeat process entering measurement seeing r esults conversion measurement program end user input program just wrap algorithm inside whileloop make sure loop end user input s complete program import chapter control program convert measurement expressed inche s foot yard mile possible unit measure measurement input user followed unit measure example foot inch mi abbreviation ft yd mi accepted program continue read convert measurement user enters input public class lengthconverter public static void main string args double measurement numerical measurement input use string unit unit measure input specified user double inch foot yard mile measurement expresse d possible unit measure enter measurement inch foot yard mile example inch foot mile use abbreviation ft yd mi convert input unit measure true user s input convert unit lower case enter measurement end measurement measurement break terminate loop unit unit convert unit lower case convert input measurement inch inch inch inch measurement foot foot ft inch measurement yard yard yd inch measurement mile mile mi inch measurement chapter control sorry don t understand unit continue start loop convert measurement inch foot yard mile foot inch yard inch mile inch output measurement term unit measure s equivalent inch foot yard mile inch foot yard mile end ok bye end main end class lengthconverter note program us text block multiline outpu t seesubsection text block require java us formatted output t g format speciﬁer program control large small num bers easily make sense user enter large small measu rements g format print real number exponential form large v ery small usual decimal form remember format speciﬁcation total number signiﬁcant digit printed number signiﬁcant digit output matter size number used f format speciﬁer output decimal form digit cimal point print number signiﬁcant digit g format speciﬁer output statement ﬁnal note section mention type s tatement java statement thisisastatementthatconsistssimplyofasemicolonandw hichtellsthecomputer existence statement make following legal ordinarily semicolon x x chapter control semicolon legal computer considers statement ifstatement occasionally ﬁnd using e mpty statement mean fact example contrived ifstatement statement doe boolean variabledoneis true print false t just leave semicolon exa mple java syntax requires actual statement ifand theelse prefer use block consisting case occasionally stray statement cause annoying h error program example following program segment print hell o justonce time hello end ﬁrst line statement statement executed time statement really inside statement executed just forloop completed forloop just doe time switch statement second branching statement java switchstatement introduced section switchstatement used ifstatement useful expressing certain type multiway b ranch basic switch statement switch statement allows test value expressi depending value jump directly location switch statemen expression certain type used value expression primitive integer type int short orbyte primitive chartype string enum type seesubsection introduction enum type particular note expression cannotbe adoubleorﬂoatvalue java diﬀerent syntax switchstatements original switch syntax like java control structure modeled c progr amming language ugly new syntax requires java n improvement need know traditional syntax used lot exi sting code advice use new syntax write new code look n ew syntax ﬁrst cover traditional syntax end section position switch statement jump marked case label form case consists literal type expression switch separated comma example case case paper chapter control case label followed symbol hyphen character single statement statement subroutine statement athrowstatement block statement containing nested statement switch statement optionally jump point labeled withdefault instead case label syntax statement speciﬁed fo llows noting default case constant case label diﬀe rent switch computer executes switchstatement evaluates value constant case label computer executes statement follows case label jump switchstatement value expression doe match case constant computer look f adefault case present executes statement follows probably easiest look example usef ul example easy follow switch n assume n integer variable case number case number s power case number s multiple case number default number outside range brace example required group multiple statement nto single block statement brace added case s required thisswitchstatement exactly eﬀect following multiw ay statement n number n n n number s power n n n number s multiple chapter control n number number outside range generally switchstatement replaced multiway statement switchstatement easier read eﬃcient s ince computer jump directly correct case instead working thro ugh series test correct case menu switch statement application switchstatements processing menu menu list option user selects option computer respo nd possible choice diﬀerent way option numbered n umber chosen option used switchstatement select proper response program menu presented numb ered list option user choose option typing number convenient use text block seesubsection present menu example used variation thelengthconverter example previous section int optionnumber option number menu selected er double measurement numerical measurement input th e user unit measurement depends option user selected double inch measurement converted inch e display menu option user s selected option nu mber unit measurement doe input use inch foot yard mile enter number choice optionnumber read user s measurement convert inch switch optionnumber case enter number inch measurement inch measurement case enter number foot measurement inch measurement chapter control case enter number yard measurement inch measurement case enter number mile measurement inch measurement default error illegal option number quit end switch convert inch foot yard mile alternatively example designed ask use enter unit measure string instead option number use stri ng directly switchstatement string unit unit measurement entered user double measurement numerical measurement input th e user double inch measurement converted inch e read user s unit measurement unit measurement doe use unit read user s measurement convert inch enter number unit measurement switch unit case inch inch inch measurement case foot foot ft inch measurement case yard yard yd inch measurement case mile mile mi inch measurement default wait minute illegal unit measur e quit end switch enums switch statement type expression switchcan enum type case constant thecaselabels value enum type example suppos e type expression enumerated type seasondeﬁned enum season spring summer fall winter chapter control expression switchstatement expression type season constant case label chosen value quirk syntax enum constant used caselabel simple spring used course computer know value caselabel belong enumerated type tell th type expression used really need specify type constant example assuming thatcurrentseason variable type season switchstatement month currentseason switch currentseason case winter december january february case spring march april case summer june july august case fall september october november deﬁnite assignment switch statement somewhat realistic example following switch statement make dom choice possible alternative recall t value expression int integer selected random equal probability switchstatement assign value rock paper scissors tocomputermove probability case switch int case computermove rock case computermove paper case computermove scissors thisswitchstatementisperfectlyok butsupposethatweuseitinthefo llowingcodesegment string computermove switch int case computermove rock case computermove paper case computermove scissors computer s computermo ve error subtle error line problem s deﬁnite assignment idea java compiler able determine variable deﬁnitely assignedavaluebeforeitsvalueisused deﬁniteassignmen t introduced subsection example s true case switchcover possibility compiler smart ﬁgure just see th expression switchbut possible integer value covered given c control simple solution replace ﬁnal casein theswitchstatement default adefault case possible value expression switchare certainly covered compiler know computermove deﬁnitely assigned value string computermove switch int case computermove rock case computermove paper default computermove scissors computer s computermo ve ok switch expression purpose switchstatement assign value variable value assigned depends value expres sion switchstatement example true switchstatement previous subsection type thing handled elegantly using switch expression instead aswitchstatement like expression switchexpression computes return single value syntax similar switchstatement instead statement case expression throwstatement example string computermove switch int case rock case paper default scissors single assignment statement value ssigned computermove computed switchexpression semicolon line semicolon t hat required end assignment statement par t theswitchexpression aswitchexpressionmustalwayscomputeavalue orthrowanexceptio n andthereforewill usually default case expression casecan replaced block containing statement value caseshould speciﬁed yieldstatement take form yield value word yieldis returned value switchexpression course switchexpressions limited assignment statement c use switchexpression place kind expression coul d used output statement larger expression traditional switch statement older traditional syntax switchstatements complicated aware widely used java pr ogramming language used traditional switchhas form switch break control break case break default optional default case end switch statement note traditional syntax constant owed case label java allows list constant case lab el followed number statement traditional syntax us colon ea ch case label default case optional execute switchstatement computer evaluate jump thecaselabelthatcontainsthatconstant ifthereisone o rtothedefaultcaseifnot break statement switchare actually required syntax switchstatement eﬀect breakis make computer jump past end switch stateme nt skipping remaining case leave break state ment computer just forge ahead completing case execute stateme nt associated case label called fall rarely wa nt common source bug legal occasionally useful note leave group statement ent irely including break case label row containing diﬀeren t constant just mean computer jump place perform s ame action constant ﬁrst example switchstatement written using traditional syntax switch n assume n integer variable case number break case case case number s power break case case case number s multiple break case number break default number outside range chapter control introduction exception try catch addition control structure determine normal ﬂow control program java way deal exceptional case throw ﬂow control oﬀ normal track error occurs execution p rogram default behavior terminate program print error message java make possible catch error program response diﬀerent sim ply letting program crash try catch statement section preliminary incomplete look try catch statement leaving lot complex syntax statement error handling complex topic w ill return section cover syntax try catch time exception term exception used refer type event want hand le atry catch exception exception normal ﬂow control t program term used preference error case s exception considered error think exception just way organize program exception java represented object type exception actual exception usually deﬁned subclass exception diﬀerent subclass represent diﬀerent type exception look type exception thi s section numberformatexception andillegalargumentexception anumberformatexception occur attempt convert string number conversion function subsection consider function str wherestris variable type string value stris string function correctly convert string value stris say fred function fail fred legal string representation intvalue case exception type numberformatexception occurs handle exception progr crash anillegalargumentexception occur illegal value passed parameter subroutine example subroutine requires par ameter greater equal zero anillegalargumentexception occurwhen anegativevalueispassedtothesubroutine respond illegal value person wrot e subroutine t simply say illegal parameter value re ult illegalargumentexception common response try catch exception occurs say exception throw example say str throwsan exception type numberformatexception value ofstris illegal exception thrown possible ca tch exception prevent crashing program try catch statement simpliﬁed form syntax try catch statement try chapter control catch numberformatexception illegalargumentexception exception class computer executes try catch statement executes statement inside trypart exception occurs execution computer just skip catchpart proceeds rest program exception type execution computer immediately jump point exception occurs catchpart executes skipping remaining statement note type exception caught type exception occurs execution crash program usual exception represented object executi exception object examp le print exception object contains information cause o f exception includes error message displayed print ex ception object end catchpart computer proceeds rest program exception caught handled doe crash p rogram way note brace syntax try catch statement required statem ent brace diﬀerent statement seen br ace single statement optional example suppose stris variable type stringwhose value represent legal real number say double x try x str number x catch numberformatexception e legal number x error thrown str output statement thetrypart skipped statement catchpart executed example setxto value exception occurs special value type double snotalways good idea catch exception continue p rogram just lead bigger mess later tter just let exception crash program point occurs time s possible recover error suppose example want program ﬁnd aver age sequence real number entered user want user signal end sequence entering blank line similar sample program fromsection program user entered zero signal use read user s input way detecting b lank line functionchapter control simply skip blank line solution use read user s input allows detect blank input line convert input number use try catch avoid crashing program user s input legal number example mak e sense simply print error message ignore bad input let program continue s program import public class public static void main string args string str user s input double number input converted number double total total number entered double avg average number int count number number entered total count enter number press return e nd true str break exit loop input line try number str error occurs line skipped total total number count count catch numberformatexception e legal number try avg average d number n count avg exception textio whentextioreads numeric value user make sure use r s response legal using technique similar whileloop try catch previous example textiocan read data source user subsection reading ﬁle reasonable way textioto recover illegal value input responds throwing exception t o thing simple textioonly throw exception type illegalargumentexception matter type error encounter example exception occur attempt r ead ﬁle data intheﬁlehasalreadybeenread textio theexceptionisoftype illegalargumentexception youhaveabetterresponsetoﬁleerrorsthantolettheprogra mcrash youcanusea try catch catch exception type illegalargumentexception control example look p rogram case read number ﬁle assume ﬁle contains noth ing real number want program read number ﬁnd sum average unknown number ﬁle question stop reading approach simply try reading indeﬁnitely t end ﬁle reached exception occurs exception really s just way detecting end data catch exception ﬁnish progr occurs read data true loop break loop exception occurs example somewhat unusual technique using exception expected ﬂow control program read ﬁle need know ﬁle s make program general let user enter ﬁle instead har ﬁxed ﬁle program possible user enter ﬁle doe exist use open ﬁle doe exist exception typeillegalargumentexception occurs catch exception ask user enter diﬀerent ﬁle complete program us th ese idea import program read number file computes sum nd average number read file tain number type double case t output sum average number successfully read file file input user user choose end program typing public class averagenumbersfromfile public static void main string args true string filename file input use enter file filename try filename try open file inpu break succeeds break catch illegalargumentexception e t read file filenam e try point textio reading file double number number read data file double sum sum number read far int count number number read sum count chapter control try true loop end exception occurs number skipped exception occurs sum number catch illegalargumentexception e expect occur encountere don t consider error catch clause just proceed rest prog point ve read entire file number data value read count sum data value sum count t compute average value average value unt introduction array previous section chapter covered java s control structure moving chapter preliminary look additional topic somewhat related cont rol structure section introduction array array basic commonly used data structure array processing exercise using control structure section introduce computer graphic allow apply know control structure context creating using array adata structure consists number data item chunked th ey treated unit arrayis data structure item arranged number ed sequence individual item referred t position number programming item b e type numbering start zero need learn sever al new term talk array number item array called lengthof array type individual item array called base type array position number item array called indexof item suppose want write program process name say thousand people youwillneedawaytodealwithallthatdata beforey ouknewaboutarrays youmight thought program need thousand variable s hold thousand name wanted print name need th ousand print control clearly ridiculous reality al l name array array represented single variable hold entire l ist name length array individual name ba e type array stringsince item array string ﬁrst b e index array second index thousandth index base type array java type wi ll stick array base type stringor primitive type base type arra y isint referred array array base type stringis referred array array properly speaking list inte gers string value better thought list variable typeint list variable type string type potential confusion us variable memory location value stored memory location position array act variable position hold value speciﬁed type base type array just varia ble hold value value changed time just value variable b e changed item individual variable make arr referred theelements array mentioned use array program ca n use variable refer array need refer indiv idual element array element array based arra y index number element syntax referring element look fo r example like namelist namelist variable name array namelist refers element index array refer ele ment array use array followed element index enclosed square bra ckets element form used like variable assign valu e print use expression array contains kind variable representing le ngth example refer length array namelist assign value length array changed use variable refer array variab le declared type array string example type array variable bestring array ints int general array type consists base type array followed pair square brack ets array type used declare variable example string namelist int double price variable declared way refer array howev er declaring variable doe make actual array like variable array variable assigned value used case value array array created using special syntax syntax related fact array java actually object doesn t need concern array created o perator named new example namelist new string new int price new double chapter control general syntax length array given integer expression example assignment statement new int ai array containing ﬁve integer element anda value s useful picture mind statement new int creates array hold element type int array contains element referred element variable type int array contains value changed create array int element array automatically initialized zero array number ﬁlled zero creat ed array boolean ﬁlled value false array chari ﬁlled character unicode code number zero array string initial value null special value used object won t encounter oﬃcially section array loop lot real power array come fact dex element given integer variable expression example listis array andiis variable type int use list list variable name meaning list depends value especially useful want process element array tha t forloop example print item array list just write int array index list ﬁrst time loop ii list refers list value stored variable list printed second time loop ii value stored list printed length list loop end printing value list whenibecomes equal continuation condition longer true typical example using loop process array let s look example suppose ai array double want ﬁnd average element array use forloop add number divide length array average double total sum number array double average average number int array index total chapter control total total add element number average total number item typical problem ﬁnd largest number ar raya strategy array keeping track largest number fou nd far ll store largest number far variable called max look array ﬁnd number larger current value max change value maxto larger value array processed maxi largest item array overall question original value maxbe possibility start maxequal toa look rest array starting larger item double max largest number seen far max largest number seen int max max point max largest item want process element arra case use anifstatement inside forloop decide process given element let s look problem averaging element array time suppose want average element case numb er item add length array need unt number item added sum double total sum number array int count number number double average average number int total count process element total total add element total count count count count element average total count divide number item average d element n count average chapter control random access far example array processing used sequential access element array processed sequence n occur array big advantage array allow random access element array equally accessible given time example let s look problem called b irthday problem suppose npeople room s chance people n room birthday born sam e day month necessarily year people severely u nderestimate probability actually look diﬀerent version question sup pose choose people random check birthday people check bef ore ﬁnd birthday ve checked course answer particular case depends random factor simulate experimen t computer program run program time idea people need checked average simulate experiment need track birt hday ﬁnd diﬀerent possible birthday ll ignore leap year possible birthday need track person w ho birthday answer question boolean value true false h old data possible birthday use array boolean value boolean used used new boolean problem day year numbered value used true selected birthday day numbe ri initially value array false remember automatically w hen array created select birthday day number ﬁrst check used istrue istrue second person birthday don hand ifused isfalse setused betrueto record fact ve encountered birthday person program carry simulated experiment course program simulated people simulated birthday simulate choosing people random checking day t year born birthday seen p reviously stop output number people checked public class birthdayproblem public static void main string args boolean used recording possible birthday seen far value true used mean person birthday day year int count number people checked used new boolean initially entry false count chapter control true select birthday random birthday used quit record birthday used int birthday selected birthday birthday int person d birthday number d n c ount birthday used birthday day s duplicate break used birthday true end duplicate birthday count try end class birthdayproblem study program understand work ho w us array try probably ﬁnd duplicate birthday tends occur sooner expect partially array consider application number item wan t store array change program run size array t chang ed separate counter variable used track space array use course space array contain question ma ny space contain useful valid item consider example program read positive intege r entered user store later processing program stop reading th e user input number equal zero input number kept rray number type int let s say number input size array ﬁxed program track number hav e actually read stored array use integer variable time number stored array count value counte r variable incremented question add new item array whe number item count stored array position number open spot position number count s new item silly example let s write program rea d number input user print reverse order th ey entered assume input value equal zero mark end data processing task requires number saved array note type processing ﬁnding sum average maximum number d saving individual number chapter control import public class reverseinputnumbers public static void main string args int number array storing input value int count number number saved array int num number input user int variable number new int space ints count number saved enter positive integer en ter end true number array num num zero mark end input number break number count num num position count count number number reverse order count number end main end class reverseinputnumbers especially important note variable countplays dual role number item entered array t index available spot array time come print number array l ast occupied spot array location count theforloop print value starting location count thisisalsoaniceexampleofprocessingt heelementsofanarrayinreverse order wonder happen program user try input number result error crash program user enters number program try store number n array element number array element em array index item attempt use number generates exception type arrayindexoutofboundsexception exception type common source error program use control array array considered far mean array consists sequence element thought ing laid line possible array element laid rectangular grid consider brieﬂy wil l return topic section array element arr anged row column example array intthat ﬁve row seven column grid contains total element row array numbered number row minus similarly column s numbered zero number column minus individual element n array picked specifying row number column number illu stration shown array actually look like computer s memory t doe logical structure array java syntax array similar syntax array extra index involved pickin g element requires row number column number example ai array int thena element row column pick number array shown type awould given int pair bracket declare array variable create array say int new int second line creates array row column tw array processed using nested forloops example following code segment print ou t element ain neat column int row col accessing row column row row col col row col base type array arra y type double string natural us array example ar ray used store content board game chess checker n example subsection us array hold color grid colored square array used problem grid visuall y obvious consider company owns store suppose company data t proﬁt earned storechapter control month year store numbered fro m month january december numbered proﬁt data stored array profit created follows double profit profit new double profit proﬁt earned store number march generally profit storenum monthnum proﬁt earned store number storenum month number monthnum numbering remember start zero let s assume profitarray ﬁlled data data processed lot interesting way example tota l proﬁt year calculated adding entry array double totalprofit company s total profit int store month variable looping store s month totalprofit store store month month totalprofit profit store month necessary process single row single c olumn array entire array example compute total proﬁt earned company december month number use loop double decemberprofit int storenum decemberprofit storenum storenum decemberprofit profit storenum array useful m uch common dimensional array java actually allows array hig dimension rarely encountered practice introduction gui programming past chapter ve learning sort programming inside single subroutine programming t rest book ll concerned larger scale structure program t material ve learned important foundation section technique learned far applied c ontext graphical user interface programming gui program rest book written using javafx collection class form toolkit writing gui program class mentioned section javafx imported program us subsection andsubsection information compiling running program use javafx run gui program open window computer screen programmer complete control appear s window user interact ﬁrst encounter look o ne simple example abilitychapter control program display simple shape like rectangle lin e window user interaction main point look pr used context tyle program knowledge applies writing gut subroutine just main drawing shape understand computer graphic need know little ab pixel coordinate system computer screen small square edpixels arranged row column usually pixel inch screen s physical pixel inch screen pix el refer physical pixel refer logical pixel unit measure close inch computer control color pixel drawing changing color individual pixel pixel pair integer coordi nates called xandy specify pixel s horizontal vertical position drawing rectangular area screen coordinate pixel upper left cor ner rectangle xcoordinate increase left right ycoordinate increase shapesarespeciﬁedusingpixels forexample arectanglei sspeciﬁedbythe xandycoordinates upper left corner width height measured n pixel s picture rectangular drawing area showing range xandycoordinates width height picture size drawing area pixel width heightx y hello world assuming drawing area pixel rec tangle upper left picture approximately width height nd upper left corner coordinate drawing java using graphic context graphic context object object include subroutine data subro utines graphic context routine drawing basic shape line rectangle oval text text appears screen character drawn com puter just like computer draw shape data graphic context color font currently selected drawing font determines s tyle size character piece data graphic context drawing surf ace drawing diﬀerent graphic context object draw diﬀerent draw ing surface drawing surface content area window including s border title control way draw shape javafx ﬁllthe shape meaning set color pixel inside shape strokethe shape meaning set color pixel lie border o f shape shape line stroked javafx graphic context actu ally keep track separate color used ﬁlling shape used stroking s hapes stroking shape like dragging pen border shape property o f pen size produce solid line dashed line propert y graphic context graphic context represented variable type variable graphicscontext just like type string variable string variable named g variable course programmer fe w subroutine available graphic context note numerical parameter value type double c called set color used ﬁlling shape par ameter c object belonging class named color constant representing standard color used parameter subr outine standard color range common color exotic color name later possible create new col or forexample ifyouwanttoﬁllshapeswithred youwouldsay speciﬁed color used subsequent ﬁll operation time called note previously drawn shape notaﬀected c called set color used stroking shape wo rks similarly w set size pen used subsequent strok e operation wi measured pixel draw line point coordinate point coordinate width line unless diﬀerent line width set calling color black unless diﬀerent color set calling x y w h draw outline rectangle vertical horizonta l side subroutine draw outline rectangle wh ose corner xpixels left edge drawing area ypixels horizontal width rectangle wpixels vertical height hpixels color line width set calling x y w h similar ﬁlls inside rectangle instead drawing outline us c olor set x y w h draw outline oval oval just ﬁts inside rectangle drawn x y w h circle use value wand forh x y w h similar ﬁlls inside oval instead drawing outline information draw picture using java g raphics start simple let s say want draw set pa rallel line like chapter control let s say line pixel long dista nce line pixel let s start ﬁrst line pix el coordinate draw line just appropriate value parameter line start use constant value line pixel long use constant value line diﬀerent bo th endpoint line use single variable value usingyas variable command drawing th e line y value yi line increase time line just need make sure ytakes correct sequence value use loop count f rom int y line int loop control variable y y start line y y y y increase y drawing alternatively use yitself loop control variable noting value yfor line int y y y y y y y wanted line blue calling beforedrawing just draw line setting lor black wanted line pixel wide beforedrawing line little complicated let s draw large n umber randomly colored randomly positioned ﬁlled circle know color randomly select color red green blue yellow simple switch statement similar one section switch int case case case case choose center point circle random let s say width drawing area given variable width want random value range horizontal position center similarly ve rtical position centerchapter control random value range leaf size circle determined make radius circle equal p ixels draw circle statement form x y w h command xandyare coordinate center circle uppe r left corner rectangle drawn circle value xandy center circle pixel equal radius circle p arameters wandhgive width height rectangle twice r adius pixel case taking account code segment drawi ng random circle centerx int width centery int height centerx centery code come code given end picture look better draw black outline ﬁlled c ircle added code end centerx centery finally large number circle abov e code forloop run execution s typical drawing progra m shown reduced size drawing program know t just bunch java code stand ing code inside subroutine deﬁnition inside class deﬁnition fact program complete subroutine drawi ng picture look like public void drawpicture graphicscontext g int width int height width height backg round color example draw large number colored disk different picture erase code substitut e int centerx center disk int centery center disk int colorchoice used select random color int count loop control variable counting disk count count chapter control centerx int width centery int height colorchoice int switch colorchoice case case case case centerx centery centerx centery end drawpicture ﬁrst subroutine deﬁnition seen oth er thanmain learn deﬁning subroutine chapter ﬁrst line deﬁnition make available certain value used subroutine th e graphic context gand thewidth andheightof drawing area value come outside subro utine subroutine use point draw someth ing just ﬁll inside subroutine just write program ﬁllin g inside main subroutine deﬁnition inside class d eﬁnes program case class named simplegraphicsstarter complete program available sample source code ﬁle run program drawing use sample program starting point drawing yo ur picture s lot program won t understand mak e drawing erase inside drawpicture routine source code substitute drawing code don t need understand rest way notice main subroutine us word staticin deﬁnition drawpicture doe fact drawpicture subroutine object class diﬀerence static subroutine important need wo rry time important chapter animation extend idea drawing picture making animation computer animation simply sequence individual picture displayed quickl y change picture small user perceive sequence image continuous animation picture animation ed aframe sample program used starting point writing animation tains subroutine named drawframe draw frame animation create animation ﬁlling deﬁnition subroutine ddition graphic context width height drawing area use va lue variable code framenumber andelapsedseconds thedrawframe subroutine automatically called time second variable framenumber take value successive call subroutine value elapsedseconds number ofchapter control second animation running using variable code draw diﬀerent picture time drawframe called user series picture animation example animation look drawing set nested r ectangles rectangle shrink center drawing giving illu sion inﬁnite motion frame animation look like consider draw picture like rectangle c drawn loop draw rectangle starting outside moving think variable needed change o ne iteration loop time loop rectangle dr awn smaller previous moved bit diﬀerence rectangle size coordinate upper left corner need va riables represent width height rectangle rectwidth andrectheight x upper left corner represen ted variable variable inset edge rectangle inset edge drawing area width height decrease f rom rectangle insetincreases loop end width ight equal zero general outline algorithm drawing rectangle frame set inset rectangle set width height rectangle set stroke color black width height greater zero draw rectangle using subroutine increase inset rectangle decrease width height make rectangle sma ller program rectangle pixel away rectum ngle surround insetis increased time whileloop rectangle shrink pixel left andby pixel right width rectangle shrink s drawing rectangle height shrink pix el time loop pseudocode easy translate java th need know initial value use inset width height ﬁ rst rectangle ﬁgure think fact picture animated s o draw depend way frame number frame fram e animation thechapter control corner outer rectangle move t hat insetfor outer rectangle increase frame make th happen setting inset frame number inset frame number t forever eventually rectangle disappear fact animation get frame new rectangle appear outside d rawing s really new rectangle s just insetfor outer rectangle go zero animation proceeds inset sequenc e value accomplish easily setting inset framenumber finally note ﬁrst rectangle drawn frame ﬁlls drawing area border size insetaround outside rectangle mean widt h ﬁrst rectangle width drawing area minus time s inset similarly height drawframe subroutine moving rectangle example public void drawframe graphicscontext g int framenumber double elapsedseconds int width int height width height drawing area w hite double inset gap edge drawing area outer r ectangle double rectwidth rectheight size rectum ngles draw rectangle outline black inset framenumber technicality th give sharper picture rectwidth width inset rectheight height inset rectwidth rectheight inset inset rectwidth rectheight inset rectangle pixel apart rectwidth rectheight ﬁnd source code program sampl e program look s neat eﬀect example animati sample program program add random colored disk picture e ach frame illustrates fact image frame au tomatically erased frame exercise chapter time roll pair dice com e snake eye solution experiment rolling dice hand write mputer program simulates experiment program report num ber roll make dice come snake eye note snake eye mean dice value exercise explained simulate rolling pair dice integer largest number di visor solution divisor doe write program ﬁnd answer p rint result possible integer range m aximum number divisor program print example subsection discussed divisor source code example need hint ﬁnd maximum value basic idea integer keeping track largest n umber divisor ve seenso far track integer number divis or program evaluate simple expression s solution expression typed user input alway s consists number followed operator followed number ope rators allowed read number operator program read expression print value ad expression print value program s hould end user enters ﬁrst number line program read line input text break word solution word output line word deﬁned seq uence letter character input letter discar ded example user input line said s good idea output program said s good idea improved version program list s si ngle word apostrophe considered word letter eac h apostrophe test character letter use ch ch z ch ch z work english similar language better choice standard function ch return boolean value trueifchis letter falseif work unicode ﬁle contains information sale ﬁgures f company various city solution line ﬁle contains city followed colon followed data city data number type double city data available line data replaced comment e xplaining data missing example line ﬁle look l ike san francisco chicago report received new york write program compute print total sale fr om city program report number city data available ﬁle complete program ll need fact ﬁle inpu t withtextiothat covered subsection don t know advance line ﬁle need way tell gotten end ﬁle textiois reading ﬁle function used test end ﬁle function return trueif ﬁle entirely read returnsfalseif data read ﬁle mean read line ﬁle loop false loop end line ﬁle read suggestion line read ignore character t colon read rest line variable type string try convert string number usetry catch test conversion succeeds asked ﬁnd number range largest solution number divisor print number revise program print allnumbers maximum number divisor use arra y follows count divisor number store e ach count array end program array prin t number maximum count output program shou ld look like integer maximum number divisor number divisor include example subsection tried answer question random people solution select ﬁnd duplicate birthday urce code program ﬁle related question random people select ﬁnd threepeople share birthday people born day month necessarily year choose people random diﬀerent bi rthdays number theoretically diﬀerent people check ve fo und person birthday day year exercise writethreeprograms answer question program sh ould simulate choosing people random checking birth day case ignore possibility leap year gui program draw checkerboard base solu tion sample solution draw checkerboard drawpicture subroutine erasing code contains checkerboard pixel chang e size drawing area modifying ﬁrst line start subroutine set widthandheightto instead checkerboard contains row column square size dra wing area mean square pixel square s red black color choose tricky way det ermine given square red black row column thou ght numbered row number square column number t square odd square red black note square just rectangle height equal width s o use subroutine draw square image check erboard want draw element animation repeat ev ery frame solution repetition cyclic meaning e nd jump start repetition oscillating like motion second half ﬁrst half played reverse write animation demonstrates cyclic oscill ating motion various speed cyclic motion use square move acr os drawing area jump start repeat motion oscillating motion similar square m ove forth edge drawing area move ight ﬁrst half animation backwards second half write program start copy sample program cyclic motion repeat n frame value n draw frame animation depends framenumber theframenumber just keep increasing forever implement cyclic motion ally want cyclic frameexercises number take value derive value need framenumber simply saying cyclicframenumber framenumber n just base draw cyclicframenumber instead framenumber similarly oscillating animation need osci llation frame number take value n repeating forth motion forever mpute value need oscilationframenumber framenumber n oscillationframenumber n oscillationframenumber n oscillationframenumber screen shot version program use s quares cyclic motion various speed oscillating motion drew black line drawing area separate square nd channel quiz quiz chapter answer algorithm brieﬂy meant pseudocode use ful development algorithm block statement block statement used java program main diﬀerence whileloop loop doe mean primea loop meant animation computer display animation aforloop print multiple tha t following main routine ask user enter integer read user s response tell user number ent ered odd read integer recall integer ni n public static void main string args body subroutine code segment print diﬀerent random integer selected range possible output proba bility hint easily select random number account fac t number pick variable type string value expected string representation value type int write code segment compute print integer sum value print error m essage value successfully converted integer use try catch statement exact output produced following main routine public static void main string args int n n n n n n exact output produced following main routine quiz public static void main string args int x y x y x x x y y x y output produced following program segment recall character string string int boolean startword richard nixon startword true startword startword true startword false number array type int write code segment count output number time number occurs arr ay rangeof array number maximum value array minu s minimum value suppose racetimes array type double write code segment ﬁnd print range racetimes programming large subroutine way break complex program manageable piece use subroutine subroutine consists instruction carrying certain task grouped given program used s set instruction computer executes program encounter subroutine executes instruction necessary carry t ask associated subroutine subroutine used diﬀerent place t program subroutine used inside subroutine allows t o write simple subroutine use help write complex subroutine c used turn subroutine way complex program built step construction reasonably simple chaptercoversstaticsubroutines subroutine used true nted programming covered chapter black box procedural abstraction asubroutine consists instruction performing task chunked given chunking allows deal potentiall y complicated task single concept instead worrying st eps computer perform task just need rememb er subroutine wheneveryouwantyourprogramtoperformthetask youjustc allthesubroutine subroutine major tool dealing complexity subroutine said black box t s inside precise usually don t wantto inside deal complexity subroutine ant hide course black box way interacting rest world wo uld pretty useless black box need kind interface rest world allows interaction s inside box s outside physical black box button outside push dial set sl ots used passing information forth trying hide compl exity create ﬁrst rule black box subroutine interface black box fairly forward easy understand example black box real world yes n fact surrounded television car mobile phone r efrigerator turn television oﬀ change channel set volum e using element television s switch remote control don t forget plug understanding thing actually work go mobile phone interface case lot complicated black box doe code subroutine t hat actually performs task electronics inside television set inside black box called implementation second rule black box use black box shouldn t need know implementation need know interface fact possible changethe implementation long behavior box seen outside remains unchanged exampl e inside tv set went using vacuum tube using transistor user set didn t need know know mean similarly p ossible rewrite inside subroutine use eﬃcient code example ﬀecting program use subroutine course black box designed built implementation ﬁrst place black box idea work advantage implementor user black box black box use d unlimited number diﬀerent situation implementor black box doesn t need know implementor just need make sure box performs assigned task interface correctly rest world rule black box implementor black box need know larger system box used way black box divide world part insi implementation outside interface boundary connecting part way notthink interface just physical connection betwee n box rest world interface includes aspeciﬁcation box doe controlled using element t physical interface s say tv set power switch need speci fy power switch used turn tv oﬀ computer science term interface subr outine semantic syntactic component syntactic interfac e tell just type order subroutine semantic compone nt speciﬁes exactly task subroutine accomplish write legal program yo u need know syntactic speciﬁcation subroutine understand purpose o f subroutine use eﬀectively need know subroutine s semantic spec iﬁcation refer part t hecontract subroutine contract subroutine say essentially wha t use write subroutine comment write subroutine make contract ve ry clear admit practice subroutine contract inadequatel y speciﬁed regret annoyance programmer use rest chapter turn general idea b lack box subroutine general speciﬁcs writing using subroutine n java general idea principle mind reason subroutine s exist ﬁrst place guideline using especiall y clear section discus subroutine tool program development mind subroutine exam ple black box programming example class black box ll s ee class public representing interface private entirely inside hidden implementation principle black box apply c lass subroutine subsection introduced idea control abstraction express fact java control structure let user work higher level ma chine language hiding detail process cpu implement control structu similar way say subroutine procedural abstraction interface subroutine abstraction use carry procedure worrying detail procedure actually implement ed just fancier wayofsayingthatthesubroutinecanbeusedasablackbox bu titbringsusbacktoabstraction central concept computer science animportantaspectofabstractioningeneralis information hiding anabstractionhides information abstraction imp lementation information hiding controlabstractionsiswhatmakesitpossibletousethesam ejavacontrolstructuresondiﬀerent type cpu diﬀerent underlying machine language imp lementations information hiding procedural abstraction make possible inside subroutine changed aﬀecting program subroutine use just term black box principle static subroutine static variable subroutine java deﬁned inside class make java unusual programming language language allow independent subroutine purpose class group rela ted subroutine variable designer java felt lated philosophical motivation java s designer wanted plac e ﬁrm control way thing named java program potentially access huge n umber subroutine created diﬀerent programmer fact subroutine grouped named class class grouped named package se e later help control confusion result diﬀerent name basic distinction java subroutine class deﬁnition contain source code type subro utine s program run diﬀerent static subroutine easier understand running program static subroutine member class subroutine deﬁnitions hand used o bjects created thechapter subroutine subroutine member object static subroutine relevant working object distinction static applies variable thing occur cla s deﬁnitions chapter deal static subroutine static variable ex clusively ll turn stuﬀ programming chapter subroutine class object called method method term people prefer subroutine java s tart using term method occasionally continue prefer general term subroutine chapter static subroutine start t hinking term method subroutine essentially synonymous far j ava concerned term used refer subroutine procedur e generally use term function subroutine compute d return value programming language used refer subroutine general subroutine deﬁnitions subroutine deﬁned deﬁnition nclude subroutine information make possible t subroutine code executed time subroutine called subrou tine deﬁnition java take form wha t mean course ve seen example subroutine prev iou chapter main routine program drawframe routine animation program section familiar general format brace subroutine deﬁnition make body subroutine statement inside imple mentation black box discussed previous section instructi ons computer executes method called subroutine contain stat ements discussed chapter andchapter occur beginning subroutine deﬁnition word set certain characteristic subroutine whet static modiﬁers ve seen far static public possible modiﬁers altogether subroutine function job compute v alue used specify type value returned fun ction type asstringorintor array type double ll looking function return type section subroutine function replaced special value void indicates value returned term void meant indicate return value stent finally come method parameter interface subroutine represent information passed nto subroutine outside used subroutine s internal computation c oncrete example imagine class namedtelevision includes method named changechannel immediate question channel change parameter used t o answer question achapter subroutine channel number integer type parameter beint declaration thechangechannel method look like public void changechannel int channelnum declaration speciﬁes changechannel parameter named channelnum type int channelnum doe particular value value channelnum provided subroutine called example changechannel parameter list subroutine con ist parameter declaration form declaration separated comma note declaration onl y parameter example want parameter type double say double x double y double x y parameter covered section example subroutine deﬁnitions leaving ou t statement deﬁne subroutine public static void playgame public static modifier void playgame statement define playgame doe int getnextn int n modifier int getnextn includes parameter n type int statement define getnextn doe static boolean lessthan double x double y static modifier boolean lessthan includes parameter name x y type parameter double statement define lessthan doe second example given getnextn method deﬁnition doe include modiﬁer static s example looking chapter modiﬁer shown example public modiﬁer indicates method called program outside class method deﬁned modiﬁer private indicates method called onlyfrom inside class modiﬁers publicandprivate called access speciﬁers access speciﬁer given method default method called package contains c lass outside package learn package later ch apter section access modiﬁer protected relevant turn programming chapter note way main routine program follows usual syntax rule subroutine inchapter subroutine public static void main string args modiﬁers publicandstatic return type void subroutine main parameter list string args case type parameter array type string ve experience ﬁlling implem entation subroutine chapter ll learn writing comple te subroutine deﬁnitions including interface calling subroutine deﬁne subroutine doing telling c omputer subroutine exists doe subroutine doesn t actually executed called true main routine youdon t called run program example playgame method given example called using following subrout ine statement playgame statement occur class cludes deﬁnition playgame main method subroutine playgame apublicmethod called class c ase tell computer class come playgame astaticmethod includes class deﬁned let s say example playgame deﬁned class named poker playgame fromoutside thepokerclass say use class tell computer class t o look ﬁnd method let distinguish potential playgame method deﬁned class generally subroutine statement astaticsubroutine take form subroutine called class subroutine deﬁned diﬀerent class method belong object ratherthanclasses andtheyarecalledusingobjectsinste adofclassnames moreonthatlater note parameter list playgame example parenthesis numbe r parameter provide subroutine match number spec iﬁed parameter list subroutine deﬁnition type parameter statement match type subroutine deﬁnition subroutine program s time example complete program look l ike includes subroutine addition main routine let s write program play guessing game user computer choose random number b etween user try guess computer tell user guess high low subroutine user get number guess fewer use r win game game user option continuing game playing game thought single coherent task make sense write subroutine play guessing game user t hemain routine use loop playgame subroutine time user want pl ay approach problem designing playgame subroutine way write main routine start outline algorithm apply ste pwise reﬁnement short pseudocode algorithm guessing game routine pick random number game user s guess tell user guess high low correct test game complicated th e game end user make correct guess number guess man y case easiest thing use true loop use breakto end loop ﬁnd reason going end game guess ll track number guess user filling algo rithm give let computersnumber random number let guesscount true user s guess count guess adding guess count user s guess equal computersnumber tell user won break loop number guess tell user lost break loop user s guess computersnumber tell user guess low user s guess higher computersnumber tell user guess high variable declaration added translated java deﬁnition playgame routine random integer computed int ve cleaned interaction user make ﬂow b etter static void playgame int computersnumber random number picked comput er int usersguess number entered user guess int guesscount number guess user computersnumber int value assigned computersnumber randomly chosen integer inclusive guesscount guess true usersguess user s guess usersguess computersnumber chapter subroutine got guesscount guess number computersnumber break game user guesscount didn t number guess lose number computersn umber break game user point game continues tell user guess high low usersguess computersnumber s low try usersguess computersnumber s high try end playgame exactly th e class main routine notinside main routine legal subroutine physically nested inside main routine callplaygame willnotcontain deﬁnition playgame deﬁnition playgame main routine java picky having subroutine deﬁnition s class particular order s pretty easy write main routine ve thing s like s complete program look like progr need comment ve included import public class guessinggame public static void main string args let s play game ll pick number b etween try guess boolean playagain playgame subroutine play game like play playagain playagain thanks playing goodbye end main static void playgame int computersnumber random number picked comput er int usersguess number entered user guess int guesscount number guess user computersnumber int value assigned computersnumber randomly chosen integer inclusive guesscount guess true chapter subroutine usersguess user s guess usersguess computersnumber got guesscount guess number computersnumber break game user guesscount didn t number guess lose number computersn umber break game user point game continues tell user guess high low usersguess computersnumber s low try usersguess computersnumber s high try end playgame end class guessinggame time read program carefully ﬁgure work try convince relatively simple case breaking program method make program easier understand probably easier write piece member variable class include thing subroutine par ticular include variable declaration course declare variable insidesubroutines called local variable variable s ubroutine distinguish variable local variable th emmember variable member class term global variable justaswithsubroutines membervariablescanbeeithersta inthischapter ll stick static variable static member variable longs class exists long class exists memory allocated th e variable class ﬁrst loaded java interpreter assignment statement th assigns value variable change content memory matter assi gnment statement located program time variable used expression t value fetched memory matter expression located program mean value static member variable set subroutine used subroutine static member variable shared static subro utines class local variable subroutine hand exists sub routine executed completely inaccessible outside subroutine declaration member variable look just like decl aration local variable thing member variable declared outsi subroutine inside class declaration mar ked modiﬁers static public andprivate working static member variable n ow everychapter subroutine declaration member variable chapter includ e modiﬁer static marked publicorprivate example static string usersname public static int numberofplayers private static double velocity time static member variable declared private accessed outside class deﬁned inside used class referred compound identiﬁer form example thesystemclasscontainsthepublicstaticmembervariablenamed andyouusethisvariable class referring similarly public static member variable mathclass numberofplayers public static member variable class namedpoker code pokerclass refer simply numberofplayers code class refer example let s add couple static member variable t o theguessinggame class wrote earlier section add variable named gamesplayed track game user played variable named gameswon track number game user won variable decla red static member variable static int gamesplayed static int gameswon theplaygame routine add gamesplayed add gameswon user win game end main routine print value variable impossible thing local variabl e subroutine need access variable local variable exist e subroutine furthermore global variable value subroutine local variable local variable get new value time subroutine contains called declare local variable subroutine assign value variable member variable o ther hand automatically initialized default value default value used initializingtheelementsofanarray fornumericvariable s thedefaultvalueiszero boolean variable default false forcharvariables s character unicode code number zero object string default initial value special value null type int static member variable gamesplayed andgameswon automatically zero initial value happens correct initial value variable used counter course ssign value variable beginning main routine satisﬁed default initial valu e want make initial value explicit s revised version change version shown italic import public class static int gamesplayed number game played static int gameswon number game won public static void main string args gamesplayed gameswon actually redundant ischapter subroutine default initial value let s play game ll pick number b etween try guess boolean playagain playgame subroutine play game like play playagain playagain played gamesplayed game won gameswon gam e thanks playing goodbye end main static void playgame int computersnumber random number picked comput er int usersguess number entered user guess int guesscount number guess user count game computersnumber int value assigned computersnumber randomly chosen integer inclusive guesscount guess true usersguess user s guess usersguess computersnumber got guesscount guess number computersnumber count win break game user guesscount didn t number guess lose number computersn umber break game user point game continues tell user guess high low usersguess computersnumber s low try usersguess computersnumber s high try end playgame end class subroutine way notice example program didn t mark static subroutine variable publicorprivate wonder mean leave modiﬁers recall global variable subroutine wit h access modiﬁer used package class deﬁne d package class don t declare package default packa ge class default package access gamesplayed gameswon andplaygame includes class book fact considered b e good practice make member variable subroutine private unless reason doing s considered good practice avoid using default package parameter subroutine black box parameter provides mechanism forpassinginformationfromtheoutsideworldintothebox parametersarepartoftheinterface subroutine allow customize behavior subroutine adapt particular situation analogy consider black box task t house certain temperature thermostat parameter na mely dial used set desired temperature thermostat perform s task maintaining constant temperature exact task perfo whichtemperature customized setting dial using parameter example let s problem dis cussed subsection recall sequence computed according rul e n odd multiply add n divide continue n equal example starting sequence suppose w e want write subroutine print sequence subroutine perf orm task print sequence exact sequence print depends o n starting value starting value n parameter subroutine subroutine written like subroutine print sequence standard output using startingvalue initial value print n umber term sequence value parameter starti ngvalue positive integer static void int startingvalue int n term sequence int count number term n startingvalue term value passed subroutine parameter count term starting value far sequence starting n chapter subroutine n print initial term sequence n n n odd n n n n count term n print term count term seq uence end parameter list subroutine int startingvalue speciﬁes subroutine parameter type int body subroutine parameter used way variable notice ther e subroutine deﬁnition give value parameter parameter get initial value outside subroutine subroutine called value b e provided parameter subroutine statement value assigned t ostartingvalue body subroutine executed example subroutine c ould called using subroutine statement computer executes statement computer ﬁrst assigns value startingvalue executes statement subroutine print sequence starting ifkis variable type int subroutine called saying k computer executes subroutine statement take value variable k assigns value tostartingvalue executes body subroutine class contains contain main routine tine example main program print sequence various starting value speciﬁed user public static void main string args program print sequ ences starting value specify int k input user loop end k enter starting value end program enter k starting value user k print sequence k k k continue k end main remember use program deﬁnition s ofmainand wrapped inside class deﬁnition formal actual parameter note term parameter used refer diﬀeren t related concept parameter used deﬁnitions subroutine s startingvalue thechapter subroutine example parameter used subr outine statement thekin statement k parameter subroutine deﬁnition calledformal parameter ordummy parameter parameter passed subroutine called called actual parameter orarguments subroutine called actual parameter subroutine stat ement evaluated value assigned formal parameter subroutine s ﬁnition body subroutine executed formal parameter simple identiﬁer formal parameter like variable speciﬁed t ype int boolean string double actual parameter value speciﬁed expression provided expression computes value correct type type actual parameter legally assigned formal parameter assignment statement example formal parameter type double legal pas intas actual parameter intscan legally assigned double subroutine provide actual parameter formal parame ter subroutine s deﬁnition consider example subroutine static void dotask int n double x boolean test statement perform task subroutine called statement dotask z computer executes statement essential ly eﬀect block statement int n allocate memory location formal parameter double x boolean test n assign formal parameter x compute assign t second formal parameter test z evaluate z assign resulting value formal parameter test statement perform task thereareafewtechnicaldiﬀerencesbetweenthisand dotask z question sc ope variable happens variable parameter n ame beginningprogrammingstudentsoftenﬁndparameterstobes urprisinglyconfusing calling subroutine exists idea providing information subroutine parameter clear writing subro utine deﬁnition matter common beginner s mistake assign value th e formal parameter beginning subroutine ask user input represents fundamental misunderstanding time computer start executing statement subroutine formal parameter assigned initial value computer automatically assigns value formal parame ters start executing code inside subroutine value come actual p arameters subroutine callchapter subroutine statement remember subroutine independent t called routine subroutine statement s responsibility provide appropriate value parameter overloading order subroutine legally need know nam e need know formal parameter need know type parameter information called subroutine s signature signature subroutine dotask used example expressed dotask int double boolean note signature doe include name parameter fact just want tousethe subroutine don t need know formal parameter name n ames interface java somewhat unusual allows diﬀerent subro utines class provided signature diﬀer ent happens say subroutine overloaded diﬀerent meaning computer doesn t subroutine mixed tell wh ich want number type actual parameter provide subroutine statement seen overloading used object includes diﬀerent method named println example method diﬀerent signature s uch println int println double println char println boolean println computer know subroutine want use based type actual parameter provide call subroutine signature println int call subroutine signature println char course diﬀerent subroutine semantically related acceptable programming style use fo r far computer concerned printing inti diﬀerent printing char diﬀerent printing boolean operation requires diﬀerent subroutine note way signature doe notinclude subroutine s return type illegal subroutine class th e signature diﬀerent return type example syntax erro r class contain subroutine deﬁned int getln double getln textioclass subroutine reading diﬀerent type al l named getln given class routine na megetlnwith parameter input routine textioare distinguished having diﬀerent name asgetlnint andgetlndouble subroutine example let s example writing small subroutine perfo rm assigned task course programming subroutine ta sk performed subroutine subtask larger program art designing tho se deciding tochapter subroutine break programming subroutine ll return question program design section ﬁrst example let s write subroutine compute pri nt divisor given positive integer integer parameter th e subroutine remember syntax subroutine writing subroutine mean ﬁlling format case statement problem implies parameter type int represents given integer divisor printed tell stat ements body subroutine working static s ubroutines ll need usestaticas modiﬁer add access modiﬁer publicorprivate absence instruction ll leave told return value return type void name speciﬁed ll make name t formal parameter subroutine ll use nfor parameter printdivisors subroutine subroutine look like static void printdivisors int n left write statement make u p body routine diﬃcult just remember write body ssuming nalready value algorithm possible divisor din range ifdevenly dividesn print written java print divisor assume n positive integer static void printdivisors int n int d possible divisor divisor n d d n n d doe d evenly divide n d ve added comment subroutine deﬁnition indica ting contract doe assumption mak e contract includes assumption ni positive integer caller subroutine make sure assumption satisﬁed second short example consider problem write private subroutine named printrow parameter chof typecharand parameter nof typeint subroutine print line text containing ncopies character ch told subroutine name th e parameter told subroutine private don t choice ﬁrst line subroutine deﬁnition task case pretty sim ple body subroutine easy write complete subroutine given bychapter subroutine write line output containing n copy character ch n line output private static void printrow char ch int n int variable counting copy n ch note case contract make assumption abou tn make clear happen case including unexpected case n finally let s example show subroutine ca n build let s write subroutine take stringas parameter character string print line output containing copy character use printrow subroutine deﬁned produce output choose subroutine parameter ll subroutine printrowsfromstring parameter str algorithm pretty clear position iin string str callprintrow print line output contains copy character number ifrom string character str write line output containing copy character private static void printrowsfromstring string str int variable counting char printrow use printrowsfromstring amain routine public static void main string args string inputline line text input user enter line text inputline printrowsfromstring inputline course routine main printrowsfromstring andprintrow collected inside class prog ram useless doe demonstrate use subroutine ll ﬁnd program n ﬁle want look array parameter s possible type parameter array type t mean entire array value passed subroutine single paramete example want subroutine print value integer array ne format separated commaschapter subroutine enclosed pair square bracket tell arr ay print subroutine parameter type int static void printvaluesinlist int list int comma list list use subroutine need actual array leg al realistic code segment creates array just pas argument subroutine int number number new int number number number printvaluesinlist number output produced statement argument themainroutine program parameter type string main routine called actual array stringmust passed main value parameter provides actual parameter call main value come outside program string array come mean string array argument command used run program using interface user type s command tell execute program user include extra input command program extra input argu ments take argument put array string pass array main example program myprog user type java myprog execute program case ne argument user type command java myprog argument string put thesestringsintoanarrayof stringsandpasses thatarray asaparameter tothe main routine example short program simply print ny command line argument entered user public class cldemo public static void main string args entered argument chapter subroutine int args end main end class cldemo note parameter args array length zero just mean user did include argument running program practice argument used pas t name ﬁles program example consider following program making cop y text ﬁle doe copying line time original ﬁle copy using textio function function trueif end input ﬁle reached input requires command line argument file nam e existing file second n ame file created program content fir st file copied second warning second file alre ady exists program run previous content b e lost program work plain text file public class copytextfile public static void main string args argument requ ired args open original file ading args open copy file writi ng int linecount number line copied linecount false read line original file write copy string line line line d line copied s s n linecount args args program run gui environment day c argument aren t important used provi nice example array parameter subroutine throwing exception ihavebeentalkingaboutthe contract ofasubroutine contractsayswhatthesubroutine provided callerof subroutine provides acceptablevaluesfor subroutine s parameter thequestionarises whatshouldthesu broutinedowhenthecallerviolates contract providing bad parameter value ve seen subroutine respond bad para meter value throwing exception section example contract subroutine say parameter string representation number typedouble true subroutine convert string equivalent numeric value caller violates contract passin g invalid string actual parameter subroutine responds throwing exceptio n type numberformatexception subroutine throw illegalargumentexceptions response bad parameter value want subroutine throw statement exception object order throw exception create exception object won t oﬃcially learn u ntilchapter use following syntax throwstatement throw illegalargumentexception throw new illegalargumentexception string describes error detected word new statement creates object use th statement subroutine check value parameter lega throw exception example consider subroutine beginning section parameter supposed positive integer modify subroutine deﬁnition make throw exceptio n condition violated static void int startingvalue startingvalue contract violated throw new illegalargumentexception starting value positive rest subroutine start value bad computer executes throwstatement immediately terminate subroutine executing t rest body subroutine furthermore program crash unless exc eption caught handled program try catch statement discussed section work subroutine try statement global local variable ll ﬁnish section parameter noting ha ve diﬀerent sort variable used inside subroutine local variab le declared subroutine formal parameter name static member variable ar e declared outside subroutine local variable connection outside world y purely internal working subroutine parameter used drop value subroutine whe n called subroutine start executing parameter act like loca l variable change inside subroutine formal parameter eﬀect rest program thechapter subroutine type parameter primitive ar e complicated case array object ll later thing diﬀerent subroutine us variable deﬁned outside subroutine variable exists independently subroutine t accessible part program variable said globalto subroutine opposed local variable deﬁned inside subroutine global vari able used entire class deﬁned private class change global variable eﬀects extend outside subr outine change ve seen work example previous section value global variable gamesplayed andgameswon computed inside subroutine used themain routine s bad use global variable subroutine b ut realize global variable considered subrout ine s interface subroutine us global variable communicate rest p rogram kind sneaky communication visible communic ation parameter risk violating rule interface black b ox straightforward easy understand use global variable su broutine consider s really necessary idon tadviseyoutotakeanabsolutestandagainstusingglo balvariablesinsidesubroutines good reason think cl as kind black box reasonable let subroutine inside box little sneaky communicating make cl as look simpler outside return value asubroutine return value called function given function return value speciﬁed type called return type function function generally occurs position computer expecti ng ﬁnd value right assignment statement actual parameter s ubroutine middle larger expression function ev en used test condition anif forordo statement legal use function state ment just regular subroutine case computer ignores v alue computed subroutine make sense example function return type ofstring read return line input typed user usuall y line returned assigned variable used later pr ogram statement function useful subroutine statement read input including car riage return return value assigned variable o r used expression simply discarded eﬀect subroutine read discard input discarding unwanted input exactly need return statement ve seen function used haven t seen write function f unction take formchapter subroutine regular subroutine specify v alue returned subroutine return statement following syntax return areturnstatement occur inside deﬁnition function type match return type speciﬁed function exactly expression legally assigned va riable type speciﬁed return type function computer execut e thisreturnstatement evaluates expression terminates execution fu nction us value expression returned value function example consider function deﬁnition static double pythagoras double x double y computes length hypotenuse right triangle side triangle x return x x y y suppose computer executes statement totallength pythagoras get term pythagoras assigns actual parameter formal parameter xandyin function body function evaluates work value returned function replaces function assignment st atement eﬀect statement totallength return value added result stored variable totallength note returnstatement doe statement functi deﬁnition point function know val ue want return return returning value end function immedi ately skipping subsequent statement function function deﬁnit ely return value throw exception matter path execution funct ion take code use returnstatement inside ordinary subroutine declared return type void void subroutine doe return value returnstatement doe include expression simply take form return eﬀect statement terminate execution subroutine return control ba ck point program subroutine called convenient yo u want terminate execution middle subroutine returnstatements optional subroutine function hand return state ment expression required note returninside loop end loop subroutine c ontains similarly returnin aswitchstatement break switchstatement subroutine use returnin context used seeing break function example simple function used program t o compute sequence sequence problem ve looked tim e including previous section given term sequence fu nction computes term sequence chapter subroutine static int nextn int currentn currentn test current n odd return currentn return value return currentn return instead thisfunction hastwo returnstatements exactlyoneofthetwo returnstatements isexecuted value function people prefer use s inglereturnstatement end function possible allows reade r ﬁnd returnstatement easily choose write nextn like example static int nextn int currentn int answer answer value returned currentn test current n odd answer answer answer currentn answer return answer don t forget return answer subroutine us nextnfunction case improvement version subroutine section great nextn long function performed complex computation make lot s ense hide complexity inside function static void int startingvalue int n term sequence int count number term n startingvalue start sequence startingvalue count sequence starting n n print initial term sequence n n nextn n compute term using function nextn count term n print count term seq uence example function ﬁrst comput e letter grade corresponding given numerical grade typical gradi ng scale chapter subroutine return letter grade corresponding numerical grade passed function parameter static char lettergrade int numgrade numgrade return get numgrade return b get b numgrade return c get c numgrade return d get d return f get f end function lettergrade type return value lettergrade ischar function return value type s function return value type boolean demonstrates interesting programming point read comm ents function return true n prime number prime num ber integer greater divisible posi tive integer n divisor d r ange d n divisor range n n amely d test possible divisor fro m n static boolean isprime int n int divisor number test evenly d ivides n return false number prime int maxtotry largest divisor need test maxtotry int n try divide n number maxtotry n evenly divisible number n prime note n defined return value type double value typecast type int assigned maxtotry added computation double value exact worry example computed instead divisor divisor maxtotry n divisor test divisor evenly divide return false know n prime need continue testing point n prime function terminated bychapter subroutine return statement previous loop return true yes n end function isprime finally function return type string function stringas parameter returned value reversed copy parameter ex ample reverse hello world dlrow olleh algorithm computing rev erse string str start string append character f romstr starting character strand working backwards ﬁrst static string reverse string str string copy reversed copy int position str copy start string append char str copy copy copy return copy apalindrome string read backwards forward s radar reverse function used check string word palindrome testing reverse word way typical beginner s error writing function s print answer instead returning represents fundamental misunderstanding task function compute value return point program w function called s value used maybe printed m aybe assigned variable maybe used expression s function decide revisited ll ﬁnish section complete new version program chance function nextn deﬁned used complete program ll opportunity improve program gett ing print term sequence column ﬁve term line ma ke output presentable idea track term printe d current line number get start new line output make term line neat column use formatted output import program computes display sequence starting value sequence input user term s equence printed column term line outpu sequence displayed number term t hat sequence reported user public class chapter subroutine public static void main string args program print sequ ences starting value specify int k starting point sequence specified user enter starting value end program enter k starting value user k print sequence k k k continue k end main print sequence standard output using startingvalue initial value print n umber term sequence value parameter starti ngvalue positive integer static void int startingvalue int n term sequence int count number term int online number term output far current line n startingvalue start sequence startingvalue count term far sequence starting n n print initial term using character online s term current output line n n nextn n compute term count term online current output line output carriage return online note term new n print term r column add number term end current line output add blank line count term seq uence end chapter subroutine nextn computes return term sequence given current term currentn static int nextn int currentn currentn return currentn return currentn end nextn end class read program carefully try understand work lambda expression running program subroutine just bunch binary number representing instruction stored computer s memory c onsidered long string zero one subroutine doesn t diﬀerent d ata value example integer string array represente d string zero one memory used thinking subroutine data ver y diﬀerent thing inside computer subroutine just kind data programming language make possible work subroutine kind data value n java ability added java form called lambda expression lambda expression common java program especially useful working stream api b e covered section javafx gui toolkit deﬁnitely useful know ab cover gui programming chapter won t encounter near end chapter skip section want function lambda letter greek alphabet used ma thematician alonzo church study computable function lambda notation make s possible deﬁne function giving example think th e notation perfectly good way representing function square number bu t fact s expression represents result squaring x leaf open question xrepresents deﬁne function xas dummy parameter static double square double x return x x function square permanent overkill just want use th e function alonzo church introducedthenotation lambda x thefunctionof xthatisgivenby using greek letter instead word lambda tation kind function literal represents value type function way tha t integer literal represents value type subroutine having function literal starting point thinking function just kind data value able t hings function value assign function variab le pas function parameter subroutine return function value subroutine make array function programming language allows thing function said function function object fact thing java lambda expres sion java s notation diﬀerent used alonzo church spite th e lambda expression doe use word lambda java lambda expre ssion squaring function like written x x x theoperator iswhatmakesthisalambdaexpression thedummyparameterf orthefunction left operator expression comput e value function right expression like pa sed actual parameter subroutine assigned variable returned functio function java m quite sure t cool thing language t java ex ample java assign expression variable named say sqr t use sqras actually function example t say sqr problem really java strongly typed language variable named sqr declare variable type sort type appropriate value function answer java called functional interface turn ﬁrst note lambda expression java actual ly represent arbitrary subroutine just function te rm function usually associated subroutine functional interface toknowhowasubroutinecanbelegallyused youneedtoknowi tsname howmanyparameters requires type return type subrouti ne functional interface speciﬁes information subroutine functional interf ace similar class deﬁned ﬁle just like class conte nt just speciﬁcation single subroutine example public interface double valueat double x code ﬁle named speciﬁes function named valueat parameter type doubleand return type double thenameof parameter x really speciﬁcation s little ann oying example public interface arrayprocessor void process string array int count java come standard functional interface important simple named runnable deﬁned java aschapter subroutine public interface runnable public void run use functional interface example section interface java complicated funct ional interface learn section functional interface relevant lambda expression functional interface provides te mplate subroutine represented lambda expression function al interface type just stringanddoubleare type used declare variable par ameters specify return type function type funct ional interface value type given lambda expression lambda expression lambda expression represents anonymous subroutine th doe formal parameter list deﬁnition sy ntax regular subroutine list parameter declaration separated comma declaration consists type followed parameter syntax simpliﬁed parameter type omitted long deduced context example lambda expression known type parameter type double unnecessary specify parameter type lambda ex pression exactly parameter type speciﬁed parent heses parameter list omitted thing brace single subroutine statement brace omitted form return omit example suppose want lambda expression repr esent function computes square doublevalue type function interface given sqris variable type value function lambda expression written f ollowing form sqr double x return x x lambda expressi syntax sqr x return x x sqr x return x x sqr x x x sqr double fred fred fred sqr z z z statement emphasize param eters lambda expression dummy parameter name irrelevant lambd expression statement deﬁne exactly function note parameter typedoublecan omitted compiler know sqris type requires parameter type double lambda expression used context compiler deduce type parameter type included case leaving make type lambda expression biguous java variable sqras deﬁned quite function value mean contains function named valueat speciﬁed deﬁnition interface function wechapter subroutine use function example x y lambda expression parameter parenthese s optional example using arrayprocessor interface demonstrates lambda expression multiline deﬁnition arrayprocessor concat concat n parenthesis n required string str str int n str str semicolon mark end assignment statement lambda expression string nums nums new string nums nums nums nums int nums print onetwo onetwothree onetwothreefour thing interesting lambda expression used actual parameter common use practice example suppose following function deﬁned function f compute f start f f end value end value start static double sum f int start int end double total int n start n end total total n return total note fis value type value fatnis actually written n function sumis called ﬁrst parameter given lambda expression match type example sum n squared n sum x x x sum raised power n n fr om sum num num chapter subroutine example suppose subroutine pe rforms given task time task speciﬁed value type runnable static void doseveraltimes runnable task int repcount int repcount perform task say hello world time calling doseveraltimes hello world note lambda expression type runnable parameter list given pair parenthesis example syntax getting complicated doseveraltimes count random number int count int int count single subroutine statement ﬁrst p arameter lambda expression extends multiple line second parameter semicolon line end subroutine statement seen example assigning lambda expression va riable using actual parameter example lambda expr ession return value function static makepowerfunction int n return x x n thenmakepowerfunction return computes square parameter whilemakepowerfunction return computes power parameter example illustrates fact lam bda expression use variablesinadditiontoitsparameter suchas ninthiscase althoughtherearesomerestrictions method reference suppose want lambda expression represent squ root function value write x x lambda expression simple wrapper function exists instead writing lambda expression function written method reference take form math recall java method word subrout method referenceisjustashorthandforthelambdaexpression itcanbeusedwhereverthatlambda expression used sumfunction deﬁned sum square root n n sum math chapter subroutine nice simply use instead introducing new notation notation deﬁned mean variable named sqrtin themathclass generally lambda expression simply call exi sting static method written method reference form furthermore notation extends method ob jects class example stris astring thenstrcontains method method reference str used lambda expression type supplyint wheresupplyint functional interface public interface supplyint int apis package module javadoc computer user interface easier use complex programmer deal wri te program simple user interface using just subroutine t hat write output console read user s typed reply modern graphical user inter face window button scroll bar menu box make thing e asier user force programmer cope hugely expanded array possib ilities programmer see increased complexity form great number sub routine provided managing user interface purpose toolbox wanted program original macintosh com produce program look behave way user expected deal macintosh toolbox collection thousand di ﬀerent subroutine routine opening closing window drawing geome tric ﬁgures text window adding button window responding mouse cl icks window routine creating menu reacting er selection menu aside user interface routine opening ﬁle s reading data communicating network sending output printe r handling communication program general doing standard t hings computer microsoft window provides set subroutine pr ogrammers use quite bit diﬀerent subroutine used mac lin ux diﬀerent gui toolbox programmer choose analogy toolbox good mind p rogramming project involves mixture innovation reuse existing tool programmer given set tool work starting set basic tool built language thing like variable assignment statement statement loop programmer add existing toolbox routine en written performing certain task thesetools canbeusedas trueblackboxes theycanbecalled perform assigned task worrying p articular step tochapter subroutine accomplish task innovative programming tool apply particular project problem g keeping track bank account processing image data space probe web browsing comp uter game called application programming software toolbox kind black box present cer tain interface programmer interface speciﬁcation routin e toolbox parameter use task perform infor mation constitutes api orapplication programming interface associated toolbox api abstraction access functionality t software toolbox macintosh api speciﬁcation routine availabl e macintosh toolbox company make hardware card conne cting computer publish api device consisting list routine programmer order communicate control device scientist write set routine doing kind complex solving diﬀerential equation provide api allow use routine s understanding detail computation perform java programming language supplemented large st andard api ve seen api form mathematical subrout ines stringdata type associated routine routine standard java api includes routine working graphi cal user interface network communication reading writing ﬁles s tempting think routine java language technically s ubroutines written available use java program java program run platform diverse macos window linux java api w ork platform notice interface implementation part api varies platform java sy stem particular computer includes implementation standard api routine java program includes call routine java interpreter executes prog ram encounter standard routine pull execute impl ementation routine appropriate particular platform run ning powerful idea power abstraction mean need l earn api program wide variety platform java s standard package like subroutine java routine standard ap grouped class provide organization class java g rouped package introduced brieﬂy subsection higher level grouping package contain package fact entir e standard java api implemented package named java contains package original awt graphical user interface class nother package javax contains class used swing graphical user interface ll class javafx standard java contains javafx ap used gui programming textbook package contain class package pack age contained inchapter subroutine package called javaandjavafxpackages contain subpackages subpackages java example named util utilis contained java actually package contains variety utility class including scanner class discussed subsection thejavapackage includes subpackages provides facility deal network communication basic package called package contains fundamental class string math integer anddouble helpful look graphical representation t level nesting java package subpackages class subpackages subroutine class complete picture show o f item element n n s r s m s u l j nested c nested p c b c f g h j k ln o p q l r similarly package javafxcontains package turn contains package contains class represent gui componen t button input box subpackage contains class colorand class deﬁne way ﬁll stroke shape standard java api includes thousand class hundr ed package class obscure specialized m ight want browse documentation available write d ocumentation complete basic api java http javafx http subsection module discussion change language java link documentation j ava purpose textbook probably ﬁnd java docume ntation easier use information provides relevant expert programmer won t familiar entire j ava api majority book ll encounter dozen clas s suﬃcient writing wide variety subroutine using class package let s say want use class program writing class colorin package like class type mean use declare variable parameter specify return type function o ne way use class type example sup pose want declare variable named rectcolor typecolor say rectcolor just ordinary variable declaration form course using class tiresome nd hardly name like used program java make possible av oid using class byimporting class import beginning java source code ﬁle rest ﬁle abbreviate just simple class color note importline come start ﬁle package statement inside class r eferred statement properly called import directive statement usual sense importdirective import allow say color rectcolor declare variable note eﬀect importdirective allow use simple class name instead name y ou aren t really importing substantial leave importdirective access just use shortcut importing class given package example import class saying import awildcard match class package doe t match subpackages example cannotimport entire content subpackages javapackage saying import java programmer think using wildcard importstatement bad style make large number class name available ar e going use know think better explicitly imp ort individual class want use programming use wildcards t o import class relevant package use individual import using just class given package aprogramthatworkswithnetworkingmightincludetheline import read writes ﬁles use import start importing lot package way careful t hing s possible class diﬀerent package examp le package package contain class named list import simple listwill ambiguous try declare variable typelist compiler error message ambiguous cla s use class program use th e class orchapter subroutine solution course use importto import individual class need instead importing entire package package fundamental class automatically importedintoeveryprogram sasifeveryprogrambeganw iththestatement import able use class stringinstead instead perfectly legal use longer form nam e programmer create new package suppose want s ome class writing package named utility source code ﬁles deﬁnes class begin line package utility come importdirective ﬁle furthermore source code ﬁle placed folder packag e utility example class subpackage subfolder e xample class package folder named net inside folder named utiliti e class package automatically access c lass package class doesn t import class package deﬁned project deﬁne large number class make sen se organize class package make sense programmer create new package toolbox provide functionality apis dealing area vered standard java api fact toolmaking programmer p restige application programmer use tool just couple exception class textioin package textio class written book package purpose book need know package mainly able import textioand class standard package standard package available program write wonder standard class actually locate depend extent version java using installed jdk won t creating package explicitly everyclass actually package class speciﬁcally placed package pu t called default package example thi s book default package module starting java major change le structure java introduction module module collection package represents level containment module contain package conta class contain variable method package doe module used standard class java javafx divided set mo dules module introduced reason major reason provide better access control beforemodules aclassthat isdeclared publiccan used class package public variable method cl as deﬁned module hand public automatically mean public wi module deﬁned module explicitly exporta package exporting package module make public class package accessible including module class module possi ble export package just tochapter subroutine certain speciﬁed module providing ﬁner level ac cess control upshot possible entire package essential ly private provide service package module invisible module module kind black box package pa rt hidden implementation course modularity scale really important application motivation module sheer size stand ard jre java runtime environment includes standard class given application use small standard runtime modularization make t possible construct smaller custom jres contain module required b y application jdk includes jlinkcommand making custom runtimes include modul e deﬁne application standard module requi red run application runtime distributed standalone applica tion executed people installed jdk computer j ust jdk diﬀerent version custom runtime needed wi ndows macos linux furthermore security update jdk automatically applied custom runtimes application developer take th e responsibility updating custom runtimes really useful fairly l arge application jdk java later compiled class ﬁles stand ard module stored ﬁle named module inside directory named libin main jdk directory jimage ﬁle tool namedjimagefor working ﬁles use jlinktool create custom runtime doe create custom module ﬁle containing just module needed runtim jdk linux computer module megabyte ﬁle containing class package module jdk directory sub directory named jmodsthat contains module form requ ired compiling running program far tell meant use jlink module jdk include example contains basic module include package swing gui toolkit javafx package include generally useful api documentation modula r version java divided module package ﬁnally class m akes documentation harder browse older version java docume ntation web site doe eﬀective search feature write documentation java javafx available http http class deﬁned outside module possible class use package frommodules providedthatthosepackagesareexportedbyt hemoduleswheretheyaredeﬁned particular programmer use class jdk thinking module knowing exist applies ine program book using java later thing diﬀerent g ui program use javafx removed jdk distributed sep arate set module saw insection compile run javafx program need specify module path includes javafx module need provid e option insection value given let program access module module path alternative specify list name just module actually used t program chapter subroutine asidefromusingmoduleswithjavafxandthebasicbackgroun dinformationinthissection textbook doe cover module javadoc use api eﬀectively need good documentation documentation java apis prepared using called javadoc example used prepare documentation java s standard package d creates toolbox java publishes javadoc documentation javadoc documentation prepared special comment th placed java source code ﬁle recall type java comment begin w end javadoc comment take form begin simply seen comment form example t book note javadoc comment placed just beforethe subroutine commenting rule followed jav adoc comment subroutine member variable class javadoc comment lwaysimmediately precedes thing commenting like comment javadoc comment ignored compute r ﬁle compiled tool called javadoc read java source code ﬁles extract javadoc comment ﬁnds creates set web page containi ng comment nicely formatted interlinked form default javadoc collect information public class subroutine member variable allows t option creating documentation thing javadoc doesn t ﬁnd javadoc comment construct comment contain basic nformation type member variable return type parame ter list subroutine issyntactic information add information semantics pragma tic write javadoc comment asanexample youcanlookatthedocumentationwebpagefor page created applying javadoc tool source code ﬁle downloaded version book docume ntation textiojavadoc directory ﬁnd link version section javadoc comment s start line optional javadoc tool remove addition normal text comment contain certain special code thing comment contain html command html language used create web page javadoc comment mea nt shown web page thejavadoc tool copy html command comment web pag e creates book teach html example y ou add p indicate start new paragraph generally absence ht ml command blank line extra space comment ignored furthermore ch aracters special meaning html used javadoc comment exc ept meaning written amp lt addition html command javadoc comment include doc tag processed command javadoc tool doc tag begin character discus tag author param return throw author tag used class followed n ame author tag used javadoc comment subrou tine provide information parameter return value exception t hat throw tagschapter subroutine mustbe placed end comment description t subroutine syntax using param return throw extend line description end ne xt doc tag end comment include paramtag parameter subroutine throw type exception want document sho uld return tag subroutine tag b e given particular order example doesn t exciting doe use type doc tag subroutine computes area rectangle given width height length width positive n umber param width length rectangle param height length second rectangle return area rectangle throw illegalargumentexception width t height negative number public static double areaofrectangle double length doub le width width height throw new illegalargumentexception side posi tive length double area area width height return area use javadoc comment example encourage yo u use code don t plan generate web page document ation work s standard format java programmer famili ar want create documentation need r thejavadoc tool tool available command java development kit tha t discussed section use javadoc tool command line interface similarly way javac andjavacommands used javadoc applied integra ted development environment discussed section won t detail consult documentation programming environmen static import ending section mention extension th eimportdirective seen thatimportmakes possible refer class using simple scanner use compound name refer static mber variable static method form importdirective used import staticmembers class way ordinary importdirective import class package form directive called static import syntaxchapter subroutine import static import static member class import static import public static member class exam ple preface class deﬁnition import static use simple outinstead compound mean say instead going work extensively mathclass preface class deﬁnition import static allow say sqrtinstead loginstead piinstead import getlnint function textiousing import static note static import directive requires class standard package consequence t static import f rom class default package program design understanding program work thing designing program perform particular task thing altogether section discussed pseudocode stepwise reﬁnement used methodically develop al gorithm subroutine ﬁt process stepwise reﬁnement inherently process th e process doe point stop reﬁning pseudocode algo rithm translate directly proper program code absence sub routine process level assignment st atements primitive operation subroutine lying perform certain useful task stop reﬁning soon ve managed expre s algorithm term task allows add element app roach stepwise reﬁnement given problem start writing s ubroutines perform task relevant problem domain subroutine lbox tool integrate algorithm develop alt ernatively able buy ﬁnd software toolbox written contai ning subroutine use project black box subroutine helpful strict app roach reﬁne algorithm free point th e algorithm make subroutine developing subroutine sepa rate problem work separately main algorithm merely subr outine course just way breaking problem separate smaller pr oblems approach analysis problem tell subroutine write approach start writing obtaining subroutine relevant problem domain build solution proble m foundation subroutine precondition postconditions working subroutine building block impo rtant clear subroutine interacts rest program inte raction speciﬁed contract subroutine discussed section convenient way express contract subroutine term precondition andpostconditions precondition subroutine true subroutine called subroutine work correctly example b function x precondition parameter x greater equal zero possible square root negative number term cont ract precondition represents obligation callerof subroutine subroutine meeting t precondition reason expect work pro perly program crash incorrect result blame n ot subroutine haven t lived deal postcondition subroutine represents contract represents obligation subroutine tr ue subroutine run assuming precondition ar e bug subroutine postcondition function square value returned function equal parameter provided wh en subroutine called course true p arameter greater equal met postcondition subroutine x value parameter displayed screen precondition restriction acceptab le value parameter example x refer global variable ed subroutine make sense subroutine certain time precondition refer state program su broutine called postcondition subroutine hand speciﬁ e task performs function postcondition specify value t hat function return subroutinesaresometimesdescribedbycommentsthatexpli citlyspecifytheirpreconditions postconditions given subrou tine statement precondition postconditions tell use doe assigned write subroutine precondition po stconditions exact speciﬁcation subroutine expected use approach example constitutes rest section comment g iven form javadoc comment explicitly label precondition postconditions computer scientist think new doc tag precondition postcondition added javadoc explicit labeling precondition nd postconditions design example let s work example program design using subrou tine example use subroutine building block lso design new subroutine need complete project api use deﬁned class written turn depends compile run program us api class mosaicandmosaiccanvas available corresponding compiled class ﬁles folder class deﬁnes program yo u download thischapter subroutine textbook s web site suppose access class ca lledmosaic class allows program work window display little colored r ectangles arranged row column window opened closed man ipulated static member subroutine deﬁned mosaicclass fact class deﬁnes toolbox api used working window avail able routine api comment remember javadoc comment c omes thing commenting open mosaic window screen subroutine shou ld called mosaic subroutine used pro gram end user close window precondition parameter row col h w posit ive integer postcondition window open screen displ ay row column colored rectangle rectangle w pixel wide h pixel high number row given parameter number column second initially rectangle black note row numbered row column numbered col public static void open int row int col int w int h set color rectangle window precondition row col valid range row lumn number r g b range inclusive postcondition color rectangle row number row column number col set color specified r g r give red color representing red representing maximum possible red larger value r red color g b work similarly green blue color component public static void setcolor int row int col int r int g t b get red component color rectangle precondition row col valid range row lumn number postcondition red component color specif ied rectangle returned integer range inclusive public static int getred int row int col like getred return green component color subroutine public static int getgreen int row int col like getred return blue component color public static int getblue int row int col insert delay program regulate speed whic h color changed example precondition millisecond positive integer postcondition program paused spec ified number millisecond second equal millisecond public static void delay int millisecond remember subroutine static member mosaicclass called outside mosaic class included th e routine example ll use simply open ll notice comment subroutine don t spec ify happens precondition notmet subroutine really obligated tract particular case good know w hat happens example precondition row col valid range row column number thesetcolor orgetred routine violated illegalargumentexception thrown knowing fact allow write program catc h handle exception good document throw doc tag javadoc comment question remain behavior subroutine example happens mosaic window open screen fa ct second simply ignored s diﬃcult fully cument behavior piece just experiment look t source code idea program use mosaicclass basis neat animation want ﬁll window randomly colored square ran domly change color loop continues long window open randomly c hange color mean lot diﬀerent thing thinking dec ide interesting disturbance wanders randomly window ch anging color square encounter s picture showing conten t window look like point time chapter subroutine basic routine manipulating window foundat ion turn speciﬁc problem hand basic outline program open mosaic window window random color changing square random filling window random color like nice coher ent task work separately let s decide write separate subroutine t o step expanded bit step start middle window moving new square changing color square s hould continue long mosaic window open reﬁne algorithm t o open mosaic window window random color set current position middle square window long mosaic window open randomly change color square current position current position left right random need represent current position way intvariables namedcurrentrow andcurrentcolumn hold row number column number square disturbance currently located ll use row column square mosaic setting current position cent er mean setting currentrow andcurrentcolumn subroutine open window main routine simple decide write subroutine carry task loop algorithm th en written java fillwithrandomcolors currentrow middle row halfway window currentcolumn middle column true program end user close window changetorandomcolor currentrow currentcolumn randommove proper wrapper essentially main routine program turn decided make small modiﬁcation running comp leted program prevent animation running fast added line subroutine themain routine taken care complete program write subroutine fillwithrandomcolors changetorandomcolor int int andrandommove writing subroutine separate small task thefillwithrandomcolors routine deﬁned postcondition rect angle mosaic changed random pseudocode algorithm ac complish task given row column set square row column random color row column implemented loop ve planned write subroutine changetorandomcolor used set color possibility reusing subroutine place big payoﬀs using fillwithrandomcolors written proper java static void fillwithrandomcolors int row column row row column column changetorandomcolor row column turning changetorandomcolor subroutine method mosaicclass used change color square want random color just choose random value r g andb according precondition subroutine random value integer range formula randomly sel ecting integer int random color subroutine static void changetorandomcolor int rownum int colnum int red int int green int int blue int rownum colnum red green blue finally consider randommove subroutine supposed randomly disturbance left right make random choice direction choose random integer range integer s direction direction position o f disturbance given variable currentrow andcurrentcolumn mean subtract currentrow leaf open question currentrow disturbance window viol ate precondition themosaicsubroutines let happen decide t disturbance opposite edge grid setting currentrow remember row numbered alternative jumping oppos ite edge simply case moving disturbance left o r right handled similarly use aswitchstatement decide direction code randommove int directionnum directionnum int switch directionnum case upchapter subroutine currentrow currentrow currentrow outside mosaic currentrow opposite case right currentcolumn currentcolumn case currentrow currentrow case left currentcolumn currentcolumn currentcolumn program putting following complete pro gram note ve added style comment class subrou tine variable currentrow andcurrentcolumn deﬁned static member class local v ariables used diﬀerent subroutine ﬁnd copy source code remember program actually depends ﬁles program open window randomly colored square disturbance move randomly window randomly changing color square visit program run user close s window public class randommosaicwalk static int currentrow row currently containing dist urbance static int currentcolumn column currently containing d isturbance main program creates window fill random lors move disturbance random walk wi ndow long window open public static void main string args fillwithrandomcolors currentrow start center window currentcolumn true changetorandomcolor currentrow currentcolumn randommove remove line speed thing chapter subroutine end main fill window randomly colored square precondition mosaic window open postcondition square set random color static void fillwithrandomcolors int row column row column changetorandomcolor row column end fillwithrandomcolors change square new randomly selected color precondition specified rownum colnum va lid range row column number postcondition square specified row column h set random color param rownum row number square counting row wn param colnum column number square counting col umns left static void changetorandomcolor int rownum int colnum int red int choose random level s range int green int red gr een int blue int blue color comp onents rownum colnum red green blue end changetorandomcolor disturbance precondition global variable currentrow curren tcolumn legal range row column number postcondition currentrow currentcolumn changed neighboring position grid left right current position move position outside grid moved opposite edge grid static void randommove int directionnum randomly set choose dir ection directionnum int switch directionnum case currentrow currentrow currentrow outside mosaic currentrow opposite case rightchapter subroutine currentcolumn currentcolumn case currentrow currentrow case left currentcolumn currentcolumn currentcolumn end randommove end class randommosaicwalk truth declaration name fundamental programming said chapter ago lot detail involved declaring using name avoiding detail section ll reveal truth n ot truth declaring using variable java material subsection itialization declaration named constant particularly important b e using regularly initialization declaration variable declaration executed memory allocate d variable memory initialized contain deﬁnite value variable used expression case local variable declaration followed closely assignment statement doe initialization exa mple int count declare variable named count count count initial value thetruthaboutdeclarationstatementsisthatiti slegaltoincludetheinitialization variable declaration statement statem ents abbreviated int count declare count initial value computer executes statement step dec lare variable count assign value newly created variable initial value d oes constant expression legal initialize vari ables declaration statement example char firstinitial d secondinitial e int x y ok y initialized int n m ok n initialized value subroutine thisfeatureisespeciallycommonin forloops sinceitmakesitpossibletodeclarealoopcontrol variable point loop initialized loop control variable generally rest program outsi loop s reasonable declaration program s act ually used example int remember simply abbreviation t following ve added extra pair brace ii considered local forstatement longer exists forloop end int member variable initialized point t declared just local variable example public class bank private static double interestrate private static int maxwithdrawal variable subroutine static member variable created soon class loa ded java interpreter initialization time case mber variable simply abbreviation declaration followed assignment statement declaration statement type statement occur outside subr outine assignment statement following illegal public class bank private static double interestrate interestrate illegal t outside subroutine declaration member variable lude initial value fact mentioned subsection initial value provided member variable default initial value used example declaring n integer member variable count static int count equivalent static int count array variable initialized array contains s everal element just single value initialize array variable provide li t value separated comma enclosed pair brace example int smallprimes chapter subroutine statement array intof length created ﬁlled value list length array determined number item list note syntax initializing array cannotbe used assignment statement used declaration statement time th e array variable declared possible initialize array variable ar ray created using newoperator whichcanalso used assignment statement example string namelist new string case course array element t heir default value declaring variable var java later new way declaring variable using word var instead specifying explicit type variable new syntax declaration used local variable variable declared in ide subroutine subsection furthermore variable declared using varmust given initial value variable declared varhas deﬁned type just like variable java compi ler us type initial value deﬁne type var iable example declaration statement var interestrate used deﬁne local variable named interestrate initial value variable type double value type double local variable named namelist typestring declared var namelist new string particular varcan used declare loop control variable forloop example vari particularly useful m ore useful complicated parameterized type covered section andchapter named constant value variable supposed change fter initialized example example interestrate initialized value s quite possible meant value entire progr case programmer probably deﬁning variable interestrate meaningful meaningless number s easier understand s going program say s principal principal interestrate ratherthan principal principal java modiﬁer final applied variable declaration ensure value stored variable changed vari able initialized example member variable interestrate declared publicfinalstatic double interestrate chapter subroutine impossible value interestrate change program assignment statement try assign val ue tointerestrate rejected computer syntax error program compiled ﬁnal modiﬁer public rate make lot bank wan t publish rate certainly wouldn t want let random people make chan ge legal apply finalmodiﬁer local variable formal parameter eve n class subroutine probably useful f member variable refer static member variable declared finalas anamed constant value remains constant time progra m running readability program greatly enhanced using named constant meaningful name important quantity program recommended style ru le named constant name consist entirely upper case letter underscore character separate word necessary example preferred style rate constant public final static double rate style generally used java s standard cl ass deﬁne named constant example seen mathclass contains variable variable declared mathclass public ﬁnal static variable type double similarly colorclass contains named constant public ﬁnal static variable type color enumerated type constant subsection example named constant enumerated type deﬁnition enum alignment left right center deﬁnestheconstants alignment class constant public ﬁnal static mem bers class deﬁning enumerated type similar deﬁning con tants type say int public static final int alignment left public static final int alignment right public static final int alignment center fact thing introduct ion enumerated type case using integer constan t deﬁne variable typeintand assign value alignment left alignment right oralignment centerto represent diﬀerent type alignment problem wit h computer way knowing intend value variable rep resent alignment raise objection value assigned va riable valid alignment value enumerated type han d value assigned variable type alignment constant value listed deﬁnition enumerated type attempt assign invalid valu e variable syntax error computer detect program compiled extra safety major advantage enumerated type curiously main reason use named consta nt s easy change value named constant course value t change program running run program s easy chan ge value source code recompile program consider rate examp le s quite possible value rate used time p rogram suppose bankchapter subroutine change rate program modiﬁed f literal number used program programmer tr ack place rate used program change rate new value harder fact number occur program meaning rate fact say used represent half rate hand n amed constant rateis declared used consistently program n single line constant initialized need changed extended example new version randommosaicwalk program previous section version us named constant r epresent number row mosaic number column size little square constant declared final static member variable line final static int row number row mosaic final static int column number column mosaic final static int square size size square mosaic rest program carefully modiﬁed use named c onstants example new version program mosaic window opened wi th statement row column square size square size s easy ﬁnd place named nstant need used don t use named constant consistently ve o r defeated purpose s good idea run program using diﬀerent val ues named constant test work properly case complete new program modiﬁcations previous version shown italic note particular constant rowsandcolumns used inrandommove moving disturbance edge mosaic t opposite edge ve left comment save space public class final static int row number row mosaic final static int column number column mosaic final static int square size size square mosaic static int currentrow row currently containing dist urbance static int currentcolumn column currently containing t disturbance public static void main string args row column square size square size fillwithrandomcolors currentrow row start center window currentcolumn column true changetorandomcolor currentrow currentcolumn randommove end main static void fillwithrandomcolors int row row int column column chapter subroutine changetorandomcolor row column end fillwithrandomcolors static void changetorandomcolor int rownum int colnum int red int choose random level s range int green int red gr een int blue int blue color comp onents rownum colnum red green blue end changetorandomcolor static void randommove int directionnum randomly set choose dir ection directionnum int switch directionnum case currentrow currentrow currentrow row case right currentcolumn column currentcolumn case currentrow row currentrow case left currentcolumn currentcolumn currentcolumn column end randommove end class naming scope rule variable declaration executed memory allocate d variable variable used program source cod e refer memory data stored memory portion p rogram source code variable valid called scopeof variable similarly refer scope subroutine name formal parameter name static member subroutine scope straightforward t scope static subroutine entire source code class deﬁned th possible subroutine point class including point n source code point deﬁnition subroutine appears po sible subroutine example called recur sion fairly advanced topic thatchapter subroutine return section subroutine private accessed outside class deﬁned using variable declared static member variable class situation similar complication legal local variabl e formal parameter member variable case sc ope local variable parameter member variable hidden consider example class named gamethat form public class game static int count member variable static void playgame int count local variable statement define playgame variable subroutine end game statement make body playgame subroutine count refers local variable rest gameclass count refers member variable unless hidden local variable paramet er named count member variable named countcan referred usually used outside class countis deﬁned rule using inside class used inside playgame subroutine refer member variable instead loc al variable scope rule scope static member variable ncludes entire class deﬁned simple member variable hidden local variable formal parameter member variable referr ed scope rule member similar static member shall member used static subroutine scope formal parameter subroutine block th make body subroutine scope local variable extends claration statement deﬁnes variable end block declaration o ccurs noted possible declare loop control variable forloop forstatement int scope declaration considered special c ase valid forstatement doe extend remainder block tha t contains forstatement legal redeﬁne formal parameter loc al variable scope nested block example allowed void badsub int y int x y int x error x defined subroutine language legal declaration xin thewhileloop hide original declaration legal java o nce block variable declared end doe available reuse ja example void goodsub int y y int x scope x end y int x ok previous declaration x expired wonder local variable name hide subro utine name t happen reason surprising rul e variable subroutine diﬀerent name computer tell whe ther refers variable subroutine subroutine follo wed left parenthesis s perfectly legal variable called countand subroutine called countin class reason write subroutine name pa rentheses talk themain routine s good idea think parenthesis o f true s legal reuse class name variable s subroutine syntax rule java guarantee computer tell whe n used class class type used declare var iables formal parameter specify return type function mean y ou legally class calledinsanity declare function static insanity insanity insanity insanity ﬁrst insanity return type function second function type formal parameter fourth th e formal parameter remember possib le good idea exercise exercise chapter capitalize string mean change ﬁrst letter ea ch word string upper solution case upper case example capital ized version time act time act write subroutine named printcapitalized printacapitalizedversionofastringtostandard output thestringtobeprinted parameter subroutine test subroutin e amain routine get line input user applies subroutine t o note letter ﬁrst letter word immed iately preceded string letter recall exercise ther e standard char used test parameter letter standard function char return capitalized version single character p assed parameter parameter letter return ve rsion parameter letter just return copy parameter hexadecimal digit ordinary digit plus letter solution f hexadecimal digit repres ent value respectively write function named hexvalue us switchstatement ﬁnd hexadecimal value given character character pa rameter function hexadecimal value return value function yo u count lower case letter f having value corres ponding upper case letter parameter legal hexadecimal digit r value function hexadecimal integer sequence hexadecimal digit s uch fade stris string containing hexadecimal integer corre sponding integer computed follows value value value hexvalue course valid strcontains character hexadecimal digit write program read string user ch aracters string hexadecimal digit print corresponding va lue print error message function simulates rolling pair dice t total dice come solution given number number rolling pa rameter function number time roll dice return valu e function parameter possible total function throw anillegalargumentexception case use function program computes print number roll take snake e yes snake eye mean total showing dice exercise build exercise time roll dice repeatedly trying solution given total number roll take diﬀerent question naturally arises s average number roll given tota l write function performs experiment rolling given total time desired total isexercises parameter subroutine average number roll return value individual experiment calling functio n wrote exercise write main program function fo r possible total make table result somethi ng like total dice average number roll exercise asks write lambda expression function return solution lambda expression value suppose function inte rfacearrayprocessor deﬁned public interface arrayprocessor double apply double array write class deﬁnes public static final variable type arrayprocessor process array following way ﬁnd maximum v alue array ﬁnd minimum value array ﬁnd sum value arra y ﬁnd average value array case value varia ble given lambda expression class deﬁne function public static arrayprocessor counter double value function return arrayprocessor count number time value occurs array return value given lambd expression class main routine test work program write exercise need access ﬁle deﬁnes functional interface sample program fromsection show disturbance solution wanders grid colored square distu rbance visit square color square changed s idea varia tion program new version square start default lor black time disturbance visit square small added gr een component color square result visually interesting eﬀe ct path followed disturbance gradually turn brighter brighter green write subroutine add green component o ne square mosaic don t let green component s largest legal value color component row column number squa given parameter subroutine recall discover t current green component square row rand column cwith function r c use yoursubroutineasasubstituteforthe changetorandomcolor subroutineintheprogram improved version program section us named constant number row number lumns square size set number row number column set s quare size default rectangle mosaic appearan ce gray border make look nicer random walk program program youexercises want turn oﬀ eﬀect false main program don t forget need compile run program deﬁne class ar e required program exercise interesti ng mosaicclass solution discussed section don t forget need compile run program program write exercise start ﬁ lling mosaic random color repeat following user clos e mosaic window select rectangle mosaic random select neighboring left rig ht copy color originally selected rectangle selected neighb rectangle color process repeated likely neighboring square color result t o build larger color patch hand square given col disappears way color reappear extinction foreve r let program run long eventually entire mosaic unifor m color program administers basic addition quiz user solution question question simple addition problem su ch number problem chosen random bi g program ask user question user s answer aft er asking question user print question user s answe user got answer right program say program g ive correct answer end tell user score quiz corr ect answer count point program use subroutine create q uiz administer quiz grade quiz use array wi th global variable typeint refer array ﬁrst array hold ﬁrst number f rom question second hold second number ques tions hold user s quiz chapter answer black box interface implementation explai n meant termsinterface andimplementation subroutine said contract meant contract subroutine want use subroutine important stand contract contract syntactic semantic aspect syntactic aspect semantic aspect explain subroutine useful design program concept parameter parameter diﬀerence formal parameter andactual parameter diﬀerent reason using named constant declar ed finalmodiﬁer api example following expression mean program b b b supplyint isafunctionalinterfacethatdeﬁnesthemethod public int write lambda expression type supplyint get random integer range inclusive write lambda expression type supplyint get intby asking user enter integer returning user s re ponse subroutine named star output line st ar standard output star character number star n parameter subroutine use forloop example command star output amain routine us subroutine wrote question output line star star ﬁrst line star sec ond line shown quiz function named countchars stringand acharas parameter function count number time character occu r string return result value function subroutine parameter type subroutine determine whichofitsparametersissmallest thevalueofthesmalles tparametershouldbereturned value subroutine function ﬁnds average ﬁrst nelements array type double array nare parameter subroutine purpose following function explain h ow work static int stripzeros int list int count int list int newlist newlist new int count int j int list newlist j list return newlist chapter programming large ii object class subroutine represents single task object encapsulate dat form instance variable number diﬀerent task s behavior related data form instance method object pr ovide sophisticated type structure used help manage complexi ty large program ﬁrst section chapter introduce basic th ings need know work object deﬁne simple class remaining sect ion cover advanced topic youmightnotunderstand themfullytheﬁrsttimethrough particular coversthe central idea programming inheri tance polymorphism textbook generally use idea limit ed form creating independent class building existing class desi gning entire hierarchy class scratch object instance method instance variable programming oop represents attempt make program closely model way people think deal wor ld older style programming programmer faced problem mu t identify computing task need performed order solve problem prog ramming consists ﬁnding sequence instruction accomplish task heart oriented programming instead task ﬁnd tie behavior hold information interact progra mming consists designing set object model problem hand software o bjects program represent real abstract entity problem domain t supposed make design program natural easier right e asier understand tosomeextent oopisjustachangeinpointofview wecanthi nkofanobjectinstandard programming term set variable tog ether subroutine manipulating variable fact possible use technique programming language big diﬀerence bet ween language make oop possible actively support ted programming language java includes number feature make diﬀerent standard language order make eﬀective use feature ori ent thinking correctly mentioned context d programming subroutine object class referred method starting use object using te rm method object class instance object closely related class working class chapter andwehaveseenthataclasscancontainvariables andmethods thatis subroutine object collection variable method ho w diﬀer class doe require diﬀerent type thinking understand use eﬀectively section worked object class section didn t make diﬀerence just left word static subroutine deﬁnitions said class object exactly portion class object s probably clear w hat mean usual terminology say object belong class clearer real shortage english word properly distinguish ll concept involved object certainly doesn t belong class way mber variable belongs class point view programming exac t say class used create object class kind constructing object part class specify var iables method object contain explanation object diﬀer class object created destroyed program run objec t structure created using class consider simple class job group st atic member variable example following class used store informat ion person using program class userdata static string static int age program us class copy eac h variable class loaded computer sectio n memory devoted class section memory includes spa ce value variable picture class memory looking like classu v w x yata age important point static member variable pa rt representation class memory name use class class use class userdata represent user program oneuser memory space store data user note class userdata variable contains exist long program run essentially mean st consider similar class includes variable chapter object class class playerdata static int playercount string int age ve included static variable playerdata class static variable playercount stored representation class memory exists long progra m run variable class deﬁnitio n variable variable class playerdata class used create object object created using class tsownvariables called nameand age mean part class template object object get copy cl as visualize situation computer s memory object cre ated like class playerdata playercount constructor instanceof playerdata age instanceof playerdata age instanceof playerdata note static variable playercount class copy hand object contains nameand anage object created class called instance class picture show object know class used create ve shown class playerdata containing called constructor constructor subroutine create s object player make new objec t represent new player demand program use playerdata class store information multiple player game player age w hen player join game newplayerdata object created represent player player le aves game theplayerdata object represents player destroyed syste m object program used dynamically model happening game t static variable dynamic opposite object created using class said instance class say object belongs class variable object contains arechapter object class calledinstance variable method subroutine object contain s calledinstance method example playerdata class deﬁned used create object object instance playerdata class nameandage instance variable object example don t include method method work similarly variable static method class instanc e method object created class s literally true obj ect contains copy actual compiled code instance method logically insta nce method object continue say object contains inst ance method notethatyoushoulddistinguishbetweenthe source code fortheclass andthe class memory source code determines class th e object created class static deﬁnitions source code speci fy thing class computer s memory atic deﬁnitions source code specify thing instance objec t created class way static member variable static member subrou tine class calledclass variable andclass method belong class instance class static portion cla s diﬀerent thing serve diﬀerent purpose class contain sta tic member example class contain mi xture fundamental object far ve talking generality haven t given idea program want work object let s look speciﬁc example work consider extremely simpliﬁ ed version student class used store information student taki ng course public class student public string student s public double grade test public double getaverage compute average test grade return end class student member class declared static class exists creating object class deﬁnition say object instance student class include instance variable named include instance method named getaverage name test grade diﬀerent object generally diﬀerent value called particula r student method getaverage compute average using student s test grade diﬀerent student diﬀerent average mean say instanc e method belongs individual object class java class type similar type intandboolean class used specify type variable declarat ion statement type formal parameter return type function exam ple program deﬁne variable named stdof typestudent statementchapter object class student std declaring variable doe notcreate object important point related important fact java variable hold object variable hold reference object think object ﬂoating independently computer s memory fact special portion memory called heapwhere object live instead holding object variable hold information necessar y ﬁnd object memory information called reference orpointer object eﬀect reference object address memory location object stor ed use variable object type computer us reference variable ﬁnd actual object program object created using operator called new creates object return reference object fact newoperator call special subroutine called constructor class example assuming stdis variable type student declared assignment statement std new student create new object instance class student store reference object variable std value variable reference pointer object object heap s quite true say object value variable std hard avoid using terminology certainly true say object stored variable proper terminology variable stdrefers orpoints object try stick terminology possible say like std isan object read meaning std variable th refers suppose variable stdrefers object instance class student object contains instance variable instance variable referred follows usual naming convention bi example program include line hello test grad e output test grade object w hichstdrefers similarly stdcan used getaverage instance method object saying print student s average say average generally use place variable type stringis legal youcanuseitinexpressions youcanassignavaluetoit canevenuseittocallsubroutines stringclass example number character student s possible variable like std type given class refer object say case stdholds anull pointer ornull reference null pointer written java null store null reference variable stdby sayingchapter object class std null nullis actual value stored variable pointe r correct say variable point null fact th e variable isnull example test value stdis null testing std null value variable null course illegal refer instance variable s instance method object instance variable refer example value variab lestdisnull illegal refer program attempt use null pointer illegally t way result error called null pointer exception happens program running exception type nullpointerexception thrown let s look sequence statement work object student std declare variable type student std new student create new object belonging class student store reference object variable std new student create second student object store reference variable copy reference value variable null store null reference variable john smith set value instance varia bles mary jones instance variable default initial value zero computer executes statement situatio n computer s memory look like chapter object class instanceofz b d e d f dg hverage student getaverage instanceof string mary jones instanceof string john smith std null picture variable contains reference ob ject value variable shown arrow pointing object note way tha t thestringsare object value null doesn t point arrow point object illustrates import ant point object variable assigned reference copied object referred copied assignment executed new object created instead set refer object expected assignment statement just copy value stored value pointer object consequence th surprising example diﬀerent name variable instance variable object string mary jones assigned variable true value mary jones potential lot confusion h elp protect telling object variable variable just hold pointer test object equality inequality using op semantics diﬀerent used make test testing value stored value comparing refere nces object object testing object ﬁne s want wan t check instance variable object value t o need ask std object class ve remarked previously stringsare object ve shown string mary jones john smith object illustration string special o bjects treated java special way haven t attempted ac tual internal structure stringobjects string object variable type stringcan hold reference string string explains using th test string equality good idea suppose greeting variable type string refers string hello test greeting hello true maybe maybe variable greeting thestringliteral hello refer string contains character string cou ld diﬀerent object just happen contain character case greeting hello false function hello test greeting hello contain character certainly question want ask expression greeting hello test greeting hello contain character stored memory location course stringvariable greeting contain special value null itwouldmake sense use test greeting null fact variable hold reference object obje ct couple consequence aware follow l ogically just mind basic fact object stored variable t object variable point suppose variable refers object declared t o befinal mean value stored variable changed th e variable initialized value stored variable reference object variable continue refer object long variable exists howev er doe prevent data object changing variable final object s perfectly legal say final student stu new student john doe change data object value stored stu changed refers object suppose objis variable refers object let s consider ha ppens whenobjis passed actual parameter subroutine value objis assigned formal parameter subroutine subroutine e xecuted subroutine power change value stored variable obj copy value value reference object subroutine ha s reference object change data stored inthe object subroutine end objstill point object data stored object changed suppose xi variable type intandstuis variable type student compare void dontchange int z void change student s z fred line line x jane dontchange x change stu x chapter object class output value output value fred value x value stu changed subroutine changed changed equivalent equivalent z x s stu z fred getters setter writing new class s good idea pay attention issue access control recall making member class publicmakes accessible including class hand private member used class deﬁned opinion programmer member variab le declared private give complete control th e variable variable private allow classe s ﬁnd value providing publicaccessor method return value variable example class contains private member variable title type string provide method public string gettitle return title return value title convention accessor method variable obtained capitalizing variable adding variable title accessor method named title gettitle naming convention accessor method r eferred getter method getter method provides read access variable someti me forboolean variable used place example getter boolean member variable named donemight called isdone want allow write access private variable want make possible class specify new val ue variable asetter method don t like simple word use th e fancier termmutator method setter method consist set followe d capitalized copy variable s parameter type variable setter method variable titlecould written public void settitle string newtitle title newtitle actually common provide getter sette r method private member variable allows class change value variable wonder just make variable public reason getters setter restricted simply reading writing variable s value fact action example getter method track number time variable accessed chapter object class public string gettitle increment member variable titleac cesscount return title setter method check value signed variable legal public void settitle string newtitle newtitle null don t allow null string title title untitled use appropriate default value stead title newtitle t think extra chore getter s etter method change mind future redesign improve cla s ve used getter setter beginning make modiﬁcation yo ur class aﬀecting class use class private member variable public interface class publicgetter setter method free change thei r implementation changing public interface y class haven t used set beginning ll contact w ho us class tell sorry people ll track use v e variable change code use new set method couple ﬁnal note advanced aspect java rely t naming convention getter setter method s good idea follow th e convention rigorously ve talking using getter setter metho d variable deﬁne set method variable getter setter method deﬁnes property class correspond variable example class includes public void instance method signature setvalue double class property named valueof typedouble property class member variable named value array object noted subsection array object like stringsthey special object unique syntax array type int orstring actually class array created using special version newoperator case object variable array variable hold actual refer ence array object array object exists heap possible array v ariable hold value null mean actual array example suppose listis variable type int value listisnull attempt access array element list error cause exception type nullpointerexception ifnewlist variable type int assignment statement newlist list copy reference value listintonewlist iflistisnull result newlist null iflistpoints array assignment statement doe notmake copy array just set newlist refer array list example output following code segmentchapter object class list new int list newlist list newlist point array list newlist list list andnewlist just diﬀerent name element array natural stand array object array variable hold pointer array fact come play array passed para meter subroutine value copied subroutine pointer ar ray array copied subroutine reference original array cha nges make element array original persist afte r subroutine return array object hold object base type array class seen used array type string class used base type example suppose studentis class deﬁned earlier section array type student array type student element array variable type student store information student use arra y student classlist declare variable type student classlist new student variable point array array element classlist classlist classlist array iscreated itisﬁlledwiththedefaultinitialvalue foranobjecttypeis null array element type student don t actual studentobjects null want student object crea te student classlist classlist new student int classlist new student classlist point object type student want talk student number use classlist average student number ican computed calling classlist classlist variable type student constructor object initialization object type java diﬀerent primitive type simply declarin g variable type given class doe automatically create n object class object mustbeexplicitly constructed forthecomputer theprocessofconstructinganobjectmea n ﬁrst ﬁnding unused memory heap used hold object second ﬁlling object s instance variable programmer don t care memory object stored usually want exercise control initial value stored new object s instance variable case s want complicated initialization bookkeeping time ob ject object class initializing instance variable instance variable assigned initial value d eclaration just like variable example consider class named pairofdice object class represent pair dice contain instance variable repr esent number showing dice instance method rolling dice public class pairofdice public int number showing die public int number showing second die public void roll roll dice setting dice random number int int end class pairofdice instance variable initialized value respectively initialization executed pairofdice object constructed s important understand happens pairofdice object time created get instance variable assig nments executed ﬁll value variable make t clearer consider variation thepairofdice class public class pairofdice public int int public int int public void roll int int end class pairofdice time new pairofdice created dice initialized random value new pair dice thrown gaming table sinc e initialization executed new object set random initial value com puted new pair dice diﬀerent pair dice diﬀerent initial value initialization staticmember variable course situation quite diﬀerent ther e copy staticvariable initialization variable executed just w hen class ﬁrst loaded don t provide initial value instance variab le default initial value provided automatically instance variable numerica l type int double automatically initialized zero provide va lues boolean variable initialized tofalse andcharvariables unicode character code number zero n instance variable variable object type varia bles default initial value null particular string object default initial value stringvariables null chapter object class constructor object created operator new example program want use pairofdice object say pairofdice dice declare variable type pairofdice dice new pairofdice construct new object store reference variable inthis example new pairofdice isan expressionthat allocatesmemory object initializes object s instance variable retu rn reference object reference value expression value st ored assignment statement variable dice assignment statement executed dicerefers newly created object expression pairofdice look like subroutine accident fact special type subro utine called constructor puzzle subroutine cla s deﬁnition class constructor programmer doesn t writ e constructor deﬁnition class provide default constructor class default constructor doe basic allocate memory initial ize instance variable want happen object created lude constructor class deﬁnition deﬁnition constructor look like deﬁnition subroutine exception constructor doe return typ e void constructor class w hich deﬁned modiﬁers used constructor deﬁnition access modiﬁers public private andprotected particular constructor t declared static aconstructordoeshaveasubroutinebodyoftheusu alform ablockofstatements restriction statement used constructor list formal parameter fact ability include parame ters main reason using constructor parameter provide data ed construction object example constructor pairofdice class provide value initially showing dice class lo ok like case public class pairofdice public int number showing die public int number showing second die public pairofdice int int constructor creates pair dice initially showing value assign specified value instance public void roll roll dice setting dice random number int int end class pairofdicechapter object class constructor declared public pairofdice int int return type class t java compiler recognizes constructor constructor parameter value parameter provided constructor called example expression new pairofdice create pairofdice object value instance variable initially course program value retur ned constructor used way pairofdice dice declare variable type pairofdice dice new pairofdice let dice refer new pairofd ice object initially show ve added constructor pairofdice class longer create object saying new pairofdice provides default constructor class onlyif class deﬁnition doe include constructo version pairofdice constructor class requires tw o actual parameter big problem add second constructo r class parameter fact diﬀerent constru ctors want long signature diﬀerent long d iﬀerent number type formal parameter pairofdice class constructor parameter produce pair dice showing random number public class pairofdice public int number showing die public int number showing second die public pairofdice constructor roll dice initially random value roll roll method roll public pairofdice int int constructor creates pair dice initially showing value assign specified value instance public void roll roll dice setting dice random number int int end class pairofdice option constructing pairofdice object new pairofdice new pairofdice x y expression class written used program need work pair dice program hav e use obscure incantation int s inside pairofdice class andchapter object class programmer having gotten thing s traight worry example main program us thepairofdice class count time pair dice rolled pair s come showing value illustrates create sever al instance class public class rolltwopairs public static void main string args pairofdice firstdice refers pair dice firstdice new pairofdice pairofdice seconddice refers second pair dice seconddice new pairofdice int countrolls count time pair dice rolled int total showing pair dice int total showing second pair dice countrolls roll pair dice total roll pair dice total pair come roll second pair dice total second pair come count roll blank took countrolls roll total end main end class rolltwopairs constructor subroutine subroutine special type certainly instance method don t belong object si nce responsible creating object exist object created th ey like staticmember subroutine declared static fact according java language speciﬁcation technically membe r class particular constructor referred unlike subroutine constructor called u sing newoperator expression form chapter object class possibly expression compu te return value reference object con tructed store returned reference variable legal u se constructor way example parameter subroutine m ore complex expression course don t save reference variable won t way referring object just created constructor complicated ordinary subr outine function helpful understand exact step computer go execute constructor computer get block unused memory heap large hold object speciﬁed type initializes instance variable object d eclaration instance variable speciﬁes initial value value computed st ored instance variable default initial value used ifany areevalua ted andthevaluesareassigned formal parameter constructor statement body constructor exe cuted reference object returned value const ructor end result reference newly nstructed object example let s rewrite studentclass used section ll add constructor ll opportunity make nstance variable private public class student private string student s public double grade test public student string thename constructor student object provides student t null thename null throw new illegalargumentexception t null thename public string getname getter method reading value private instance variable return public double getaverage compute average test grade return end class studentchapter object class object type student contains information particular student constructor class parameter type string speciﬁes student object type studentcan created statement std new student john smith new student mary jones original version class value namehad assigned program created object type student guarantee programmer remember set nameproperly new version class way cr eate astudentobject calling constructor construc tor automatically set furthermore constructor make impossible student object null programmer s life easier horde fr ustrating bug squashed chance born type guarantee provided private modiﬁer instance variable isprivate way program outside studentclass thenamedirectly program set value indirectly call constructor ve provided getter function getname used outside class ﬁnd thenameof student haven t provided setter method ot way change student object created keep long exists note legal good style declare var iablenameto final class instance variable finalprovided assigned value declaration assigned value constructor th e class illegal assign value afinalinstance variable inside constructor let stakethisexamplealittlefarthertoillustrateonemo reaspectofclasses whathappens mix static class c ase s legal instance method class use static member variable sta tic member subroutine object know class belongs refer static memb er class copy static member class eﬀect ively object share copy static member example consider version studentclass ve added idfor student staticmember called nextuniqueid idvariable student object nextuniqueid variable public class student private string student s public double grade test private int id unique id number student private static int nextuniqueid track available unique id number student string thename constructor student object provides s tudent assigns student unique id number thename id nextuniqueid chapter object class public string getname getter method reading value private instance variable return public int getid getter method reading value id return id public double getaverage compute average test grade return end class student sincenextuniqueid astaticvariable initialization nextuniqueid class ﬁrst loaded studentobject constructed constructor say s static member variable incremented ﬁrst studentobject created nextuniqueid second object created nextuniqueid object constructor store new value nextuniqueid theidvariable object created course idis instance variable object individual idvariable class constructed student automatically diﬀerent value idvariable furthermore idvariable private way variable tampered object bee n created guaranteed just way class designed student obje ct permanent unique identiﬁcation number kind cool thi nk unfortunately think bit turn guarantee isn t quite absolute guarantee valid program use singl e thread preview diﬃculties parallel programming ll note multi program thing going time thing bit str ange program possible thread creating studentobjects exactly time possible object id num ber ll come insubsection learn ﬁx problem garbage collection far section creating object ab destroying java destruction object take place automatically object exists heap accessed throu gh variable hold reference object object f variable refer thing happen consider following t wo statement reality d like consecutive statement student std new student john smith std null ﬁrst line reference newly created studentobject stored variable std line value stdis changed reference studentobject gone fact reference whatsoever object variable waychapter object class program use object n ot exist fact memory occupied object reclaimed used anot purpose java us procedure called garbage collection reclaim memory occupied object longer accessible program responsi bility programmer track object example easy studentobject garbage usually s harder o bject used reference t o object stored variable object doesn t garbage tho e reference dropped programming language s programmer s responsibility delete garbage unfortunately keeping track memory usage ve ry program bug caused error programmer ac cidently delete object reference object cal led adangling pointer error lead problem program try access objec t longer type error memory leak programmer neglect delete object longer use lead ﬁlling memory object tha t completely inaccessible program run memory fact l arge amount memory wasted java us garbage collection error simpl y impossible garbage collection old idea used programming language wonder language don t use garbage collection th e past considered slow andwasteful researchintogarbagecollectionte chniquescombinedwiththeincredible speed modern computer combined make garbage coll ection feasible programmer rejoice programming object way concept applied proc es designing writing program broadest analysis design applies methodology earlie st stage program development overall design program created idea identify thing problem domain modeled s object level programming encourages programme r produce generalized software component used wide variety programming project course experience generaliz ed software component using standard class come java begi n section looking class used creating object e nd section generality class focus programming gener ally design tion new class s important forget de igners java provided large number reusable class class meant extended produce new class used directly create usef ul object true mastery java requires familiarity large number classe take lot time experience develop let s moment look class ﬁnd object class string built smaller piece using eﬃcient stris astringandchis character executing command str str ch involves creating new string copy str value chappended end copying string take time bu ilding long string letter letter require surprising proces sing class stringbuilder make possible eﬃcient building long string number smaller piece make object belonging stringbuilder class example stringbuilder builder new stringbuilder statement declares variable builder initializes refer newly created stringbuilder object combining declaration initialization cov ered insubsection work object just doe primitive type like astring astringbuilder contains sequence character possible add new character end stringbuilder continually making copy data contains xi value type builder variable deﬁned command x add x converted string representation end data t builder eﬃciently copying data time appe nded long string built astringbuilder using sequence append command string complete function return copy string builder ordinary value type string thestringbuilder class standard package use simple importing number useful class collected package example package contains class working collection ob jects study collection class extensively chapter encountered subsection class package used represent time adateobject constructed parameter result repre sent current date time easy way display information new date course package order use dateclass program make available importing statement import import beginning program seesubsection discussion package import mention class object belonging class sourceof random number precisely pseudorandom number standard function us object scene generate ra ndom number object type randomcan generate random integer random real number randgen created command random randgen new random ifnis positive integer n generates random integer range example make little easier roll pair di ce instead saying int say import class create randomobject agree actually easier object t yperandomcan used generate gaussian distributed random real numbe r java s standard class used gui programming y ou encounter chapter mention class color packagechapter object class use example colorobject represents color used drawing section encountered color constant constant ﬁnal static member variable colorclass value object type color possible create new color object class colorhas constructor new color r g b take doubleparameters specify red green blue component color plus alpha comp onent say transparent color parameter range fo r example value forrmeans color contains red value mean s color contains maximum possible red draw parti ally transparent color background show color extent larger v alue fourth parameter give color transparent opaque acolorobject instance method likely u se mainly function like getred individual color component color ar e setter method change color component fact coloris animmutable object meaning instance variable finaland changed object created stringsare example immutable object make later chapter main point problem lready solved solution available java s standard class faced task look like fairly common worth looking java reference written class use class object seen major feature oriented programming ability create subclass class subclass inheri t property behavior class modify add inherits section ll learn create subclass don t know everyclass java just exception subclass class create class don t explicitly make subclass class automatically subclass o f special class named object package objectis class subclass class classobjectdeﬁnes instance method inherited class method used object whatsoever mentio n encounter later book method equal obj deﬁned class object take parameter object meant testing object equal deﬁnition give meaning test object stringclass override method say string equal contain sequence character d common similarly override equal class say object belonging class e qual content mean object b e equal clear use method later instance method tostring class objectreturns value type stringthat supposedtobeastringrepresentationoftheobject ve alreadyusedthismethodimplicitly time ve printed object concatenated obje ct string use object context requires string object au tomatically converted type stringby calling tostring object class version tostring deﬁned objectjust return class object belongs concatenated code number calle d thehash code object useful create class write newtostring method replace inherited version example w e add following method pairofdice class previous section return string representation pair dice instance variable containing number tha t showing dice public string tostring return double return ifdicerefers pairofdice object return string double depending number s howing dice method used automatically convert diceto typestringin statement dice came dice statement output dice came t dice came double ll example tostring method section writing using class example designing using new class write animation program based animation framework used subsection animation show number disk grow size imation play disk random color location disk get big time just random disk disappears replaced new disk random loc ation screenshot program disk program represented object disk h location asfor instancemethods weneedtothink want disk obvious candidat e need able draw include instance method draw g wheregis graphic context willchapter object class used drawing class include mor e constructor constructor initializes object s clear data shou ld provided parameter constructor case example constructor s parameter specify location size circle constructor make color usin g random value red green blue component s complete class import import simple class hold size color location c olored disk method drawing circle graphic context t circle drawn filled oval black outline public class circleinfo public int radius radius circle public int x y location center circle public color color color circle create circleinfo given location radius wit h randomly selected color param centerx x coordinate center param centery y coordinate center param rad radius circle public circleinfo int centerx int centery int rad x centerx y centery radius rad double red double green double blue color new color red green blue draw disk graphic context g black outline public void draw graphicscontext g color x radius y radius radius radius x radius y radius radius radius probably better style write getters setter s instance variable thing simple variable public main program animation class growingcircleanimation program us disk represented object type circleinfo make manageable program us array object array variable in tance variable class private circleinfo circledata hold data circleschapter object class note static gui programming generally us object static variable method basically imagine havin g growingcircleanimations going time array disk eac h animation represented object object need s owncircledata instance variable circledata static array animati ons exactly thing array created ﬁlled data array cre ated using new circleinfo object type circleinfo created ﬁll array new object created random location size program drawing ﬁrst frame animation widthandheightare size drawing area circledata new circleinfo create array int create obje ct circledata new circleinfo int width int height int frame radius disk increased disk drawn using code circledata circledata g statement look complicated let s unpack w circledata element array circledata mean variable type circleinfo variable refers object type circleinfo contains public instance variable named radius mean circledata variable variable type int use increment value eﬀect circledata increase radius circle second line code similar statement circledata instance method circleinfo object statement circledata g call instance method parameter gthat represents graphic context used d rawing source code example contains source code program interested program us class circleinfo need copy order compile run program analysis design programmer build stock technique experti se expressed snippet code reused new program using m ethod old code physically copied new program edite d customize necessary problem editing uming enterprise dependent programmer s ability pull parti cular piece code year s project look like ﬁt level corporation want save money reinventing wheel new project just keeping track old wheel major task class software component r eused editing designed class carefully crafted particular jo b particular program instead crafted model particular type object sing le coherent concept objectschapter object class concept recur problem cla s likely reusable modiﬁcation variety project furthermore itispossibletomake subclass existing class make class reusable class need customized subclass created addition modiﬁcations subclass making change original class eve n programmer doesn t access source code class doesn t know y detail internal hidden implementation thepairofdice class previous section example gener alized software component certainly improved t class represents single coherent concept pair instance variable h old data relevant state dice number showing dice th e instance method represents behavior pair dice ability rolle class reusable diﬀerent programming project hand student class previous section reusable crafted represent student particular cou rse grade based test test quiz paper t s useless people class trouble reas numerical student id s used admittedly s diﬃcult devel op student class class partic ularstudentclass good example programming textbook large programming project go number stage starting speciﬁcation problem solved followed analysis problem designof program solve come coding program s design expressed actual programming language followed testinganddebugging program come long period maintenance mean ﬁxing new problem program modifying adapt changing requir ements stage form called software life cycle real world ideal consecutive stage seldom achieved analysis stage mig ht turn speciﬁcations incomplete inconsistent problem test ing requires brief return coding stage problem migh t require new design maintenance usually involves redoing work p revious stage large complex programming project likely succ eed careful systematic approach adopted stage software life cy cle systematic approach programming using accepted principle good design c alledsoftware engineering software engineer try eﬃciently construct program th veriﬁably meet speciﬁcations easy modify necessary wide range methodology applied help systematic design program mo t methodology involve drawing little box represent program componen t labeled arrow represent relationship box discussing object orientation programming l anguages relevant coding stage program development o methodology analysis design question stage softwa life cycle discover invent overall structure program example simple approach analysis design consider advice writ e description object class underline noun description noun shoul d considered candidate class object program design similarl y underline verb candidate method starting point fur ther analysis uncover need class method reveal su bclassing used advantage similarity class bit software e ngineering textbook idea clear general approach eﬀective alyze problem discover concept involved create class represent concept design arise problem end pro gram structure reﬂects structure problem natural way programming example card hand deck section look speciﬁc example riented design domain simple chance coming someth ing reasonably reusable consider card game played standard deck pl aying card poker deck used game poker designing class typical card game player get hand card ck shuﬄed card dealt time deck added player hand game card removed hand new card added game w lost depending value ace king suit spade diamond c lubs heart card player receives look noun description th ere candidate object game player hand card deck value suit th e value suit card simple value just represented instanc e variable cardobject complete program ﬁve noun represented b y class let s work one obviously reusable card hand anddeck look verb description card game th shuﬄea deck deala card deck give use candidate instan ce method deckclass shuffle anddealcard card added removed hand give candidate instance method handclass addcard andremovecard card relatively passive thing need able d etermine suit value discover instance method ll design deck class deck ca rds ﬁrst created contains card standard order deckclass need constructor create new deck constructor need parameter new deck t instance method called shuffle rearrange card random order thedealcard instance method card deck wil l function return type card caller need know card dealt ha s deal card deck don t provide information deck just card happen card deck dealcard method called probably considered error try deal card deck deck th row exception case raise question rest pro gram know deck course program track car d used deckchapter object class know card left program s hould just able ask deck object make possible specifying instance method cardsleft return number card remaining deck l eads speciﬁcation subroutine deckclass constructor instance method class deck constructor create unshuffled deck card public deck used card deck shuffle random order public void shuffle card dealt deck number card left decrease function return number card left deck public int cardsleft deal card deck return throw illegalstateexception card left public card dealcard need know order usethedeckclass course doesn t tell write class exercise design t coding look source code want surprise class includ e array ofcardsas instance variable thing n ot understand point course use class program bl ack box understanding implementation similar analysis handclass hand object ﬁrst created card addcard instance method add card hand method need parameter type cardto specify card added removecard method parameter needed specify card remove specify card remove ace spade specif y card position hand remove card hand actually don t decide allow option ll removecard instance method parameter typecardspecifying card removed parameter t ypeintspecifying position card hand remember ha ve method class provided diﬀerent number ty pe parameter hand contain variable number card s convenient able ask hand object card contains need instance method getcardcount return number card hand play card like arr ange card hand card value generally useful thing able provide instance method sorting ca rds hand speciﬁcation reusable handclass chapter object class constructor instance method class hand constructor create hand object initially public hand discard card hand making hand public void clear add card c hand c throw nullpointerexception c null public void addcard card c specified card hand removed public void removecard card c remove card specified position hand card numbered counting zero throw illegalargumentexception specified position doe exist hand public void removecard int position return number card hand public int getcardcount card hand given position position numbered starting throw illegalargumentexception specified position doe exist hand public card getcard int position sort card hand card suit grouped suit card sorted value public void sortbysuit sort card hand card sorted order increasing value card value sorted suit note ace considered lowest value object class public void sortbyvalue thing implementation cla s won t understand point doesn t stop using class y project source code ﬁle card class look design implementation cardclass class constructor speciﬁes value suit car d created suit represented integer tough remember number represents suit ve deﬁn ed named constant card class represent possibility example constant represents suit constant declared public final static ints better use enumerated type stick constant possible value card number s tanding ace jack queen king ve deﬁned named constant represent value ace face card read cardclass ll ve added support joker acardobject constructed knowing value suit th e card example constructor statement new card construct ace o f spade new card construct diam onds new card v s ok long v s integer expression acardobject need instance variable represent value s uit ve private sothattheycannotbechangedfromoutsidetheclass andi v eprovidedgettermethods getsuit andgetvalue sothatitwillbepossibletodiscoverthesuitandvaluefrom outside class instance variable initialized structor changed fact ve declared instance variable suitandvalueto befinal changed initialized instance varia ble declared finalprovided given initial value declaration itialized constructor class instance variable final acardis immutable object finally ve added convenience method class make easier print card form example want able print suit card word diamond meaningless c ode number used class represent diamond t hat ll probably program make sense include support class ve provided instance method getsuitasstring andgetvalueasstring return string representation suit value card finally ve deﬁned instance thodtostring return string value suit queen heart recall method used automatically cardneeds converted string card concatenated string statement card card equivalent card chapter object class card queen heart print o ut card queen heart complete cardclass class general highly reusable work went desig ning writing testing pay oﬀ handsomely long run object type card represents playing card standard poker deck including joker card suit spade heart diamond club joker spade h eart diamond club value ace jack queen king note ace considered smallest value joker associated valu e value used track sev eral different joker public class card public final static int spade code suit pl joker public final static int heart public final static int diamond public final static int club public final static int joker public final static int ace code c ards public final static int jack card th eir public final static int queen numerical value th eir code public final static int king card s suit constant spade heart diam onds club joker suit changed card constructed private final int suit card s value normal card value representing ace joker value value changed card constructed private final int value creates joker associated value note new card equivalent new card public card suit joker value creates card specified suit value param thevalue value new card regular card chapter object class value range representi ng ace use constant joker value param thesuit suit new card th e value o r throw illegalargumentexception parameter value s permissible range public card int thevalue int thesuit thesuit spade thesuit heart thesuit diamo nd thesuit club thesuit joker throw new illegalargumentexception illegal playing car d suit thesuit joker thevalue thevalue throw new illegalargumentexception illegal playing car d value value thevalue suit thesuit return suit card return suit constant s public int getsuit return suit return value card return value number nclusive regular card value joker public int getvalue return value return string representation card s suit return string spade heart diamond club joker public string getsuitasstring switch suit case spade return spade case heart return heart case diamond return diamond case club return club default return joker return string representation card s value return regular card string ace jack queen king joker thechapter object class string numerical public string getvalueasstring suit joker return value note use traditional syntax switch state ment switch value case return ace case return case return case return case return case return case return case return case return case return case return jack case return queen default return king return string representation card including bo th suit value joker value return value just joker sample return value queen heart diamond ace spade joker joker public string tostring suit joker value return joker return joker value return getvalueasstring getsuitasstring end class card example simple card game ﬁnish section presenting complete program th us cardanddeckclasses program let user play simple card game called h ighlow deck card shuﬄed card dealt deck shown use user predicts card deck higher lower cur rent card user predicts correctly card deck curre nt card user makeschapter object class prediction continues user make ncorrect prediction number correct prediction user s score program static method play game highlow themain routine let user play game highlow end report user s average score won t development algorithm used t program encourage read carefully make sure understand work note particular subroutine play game highlow return th e user s score game return value get score main program wh ere needed program import program let user play highlow simple card game described output statement beginning o f main routine user play game user s average score reported public class highlow public static void main string args program let play simple card game highlow card dealt deck card predict card higher lower score game number correct prediction make guess wrong int gamesplayed number game user played int sumofscores sum score game played double averagescore average score computed dividin g sumofscores gamesplayed boolean playagain record user s response user asked want play game int scorethisgame score game scorethisgame play play game score sumofscores scorethisgame play playagain playagain averagescore double sumofscores gamesplayed played gamesplayed game average score ave ragescore end main chapter object class let user play game highlow return user s score game score number correct guess user make private static int play deck deck new deck new deck card store reference variable deck card currentcard current card user see card nextcard card deck user try predict higher lower current card int correctguesses number correct prediction th e user end game user s score char guess user s guess h user predicts card higher l user predicts lower shuffle deck random order befo starting game correctguesses currentcard card currentcard true loop end user s prediction wrong user s prediction h l h l card higher h lower l guess guess guess guess h guess l respond h l guess h guess l card user nextcard card nextcard check user s prediction value previous c ard lose tie sorry break end guess h chapter object class prediction correct prediction incorrect break end nextcard lower guess l prediction correct prediction incorrect break end set iteration loop nextcard currentcard currentcard card user see nextcard set card deck user make prediction currentcard nextcard card currentcard end loop game correctguesses correct prediction return correctguesses end play end class highlow inheritance polymorphism abstract class aclass represents set object share structure behavior class determines structure object specifying variable contained instance class determines behavior providi ng instance method express behavior object powerful idea like programming language central new idea objec idea really distinguishes traditional program allow class express similarity object share structure behavior similarity expressed using inheritance andpolymorphism object class extending existing class programmer know meant subclass inheri tance polymorphism probably actually ything inheritance extending class exist ﬁrst section look programming especially programmer just beginning work object subclassing used mainly situation t existing class adapted change addition com mon designing group class subclass scratch existing class beextended make subclass syntax public class change addition example suppose want write program play t card game blackjack use card hand anddeckclasses developed section hand game blackjack little diﬀerent hand card g eneral possible compute value blackjack hand according ru le game rule follows value hand obtained adding val ues card hand value numeric card numeri cal value value jack queen king value ace ace counted unless doing total value hand note mean second fourth ace hand cou nted way handle extend existing handclass adding method computes blackjack value hand s deﬁniti class public class blackjackhand extends hand computes return value hand game blackjack public int getblackjackvalue int val value computed hand boolean ace set true hand contains ace int card number card hand val ace false card getcardcount method defined class hand int card add value card hand card card card int cardval blackjack value card card getcard cardval normal value cardval chapter object class cardval jack queen cardval ace true val val cardval val value hand counting ace ace changing value leave score equal adding extra point val ace true val val val return val end getblackjackvalue end class blackjackhand sinceblackjackhand subclass hand object type blackjackhand contains instance variable instance method deﬁned hand plus new stance method named getblackjackvalue example bjhis variable type blackjackhand following legal ﬁrst method deﬁned hand inherited byblackjackhand variable method handclass inherited blackjackhand used deﬁnition blackjackhand just actually deﬁned declared private prevents access subclass statement card getcardcount deﬁnition getblackjackvalue call instance method getcardcount deﬁned hand extending existing class easy way build previou s work ll standard class written speciﬁcally used basis making subclass access modiﬁers publicandprivate used control access member class thereisonemoreaccessmodiﬁer protected thatcomesintothepicturewhensubclasses taken consideration protected applied access modiﬁer method member variable class member used subclas class deﬁned used ass exception aprotected member accessed class package class contains protected member recall using access m odiﬁer make member accessible class package using protected modiﬁer strictly liberal using modiﬁer allows access cl ass package subclass package declare method member variable protected saying implementation class o f public interface class allowing subclass use modify p art implementation example consider pairofdice class instance variable represent number appearing dice mak e variable private make impossible change value outside cl as allowing read accesschapter object class getter method think possible tha tpairofdice used create subclass want make possible subclass change number dice example graphicaldice subclass draw dice want change number time dice rolled case make protected allow subclass change value witho ut making public rest world better idea deﬁne protected setter method variable setter method example ensure th value assigned variable legal range inheritance class hierarchy term inheritance refers fact class inherit structure behavior class class doe inhe riting said subclass class inherits class b subclass cl as say class superclass class b term derived class andbase class used instead subclass superclass common terminology n subclass add structure behavior inherits replace modify inherited behavior inherited structure relationship subcla s superclass shown diagram subclass shown connect ed superclass shown left class superclass k m o q q vw q x y k m o q q z java create class named b subclass class nam ed write class b extends addition modification stuff inherited class class declared subclass sup erclass subclass referred sibling class share struct ures one inherit common superclass superclass e xpresses shared structure behavior diagram shown right class e b c d sibling class inheritance extend generation c lass shown diagram class e subclass class d subclas s class case class e considered subclass class direct subclass set class form small class hierarchy object class example vehicle let s look example suppose program deal wi th motor vehicle including car truck motorcycle program used department motor vehicle track registration program use class named vehicleto represent type vehicle car truck mot orcycles type vehicle represented subclass vehicleclass shown class hierarchy diagram truck car thevehicleclass include instance variable registrationnumber andownerand instance method transferownership variable method common vehicle subclass truck andmotorcycle used hold variable method speciﬁc particular typ e vehicle carclass add instance variable numberofdoors thetruckclass numberofaxles themotorcycle class boolean variable hassidecar theory chuckle people partment motor vehicle declaration class java program loo k outline like likely deﬁned separate ﬁles declared publicclasses class vehicle int registrationnumber person owner assuming person class defin ed void transferownership person newowner class car extends vehicle int numberofdoors class truck extends vehicle int numberofaxles class motorcycle extends vehicle boolean hassidecar suppose mycaris variable type carthat declared initialized statement car mycar new car chapter object class given declaration program refer sincenumberofdoors instance variable class car class carextends class vehicle car structure behavior vehicle mean th exist real world car truck motorcycle f act vehicle true program object type carortruckormotorcycle automatically object typevehicletoo brings following important fact variable hold reference object class hold reference object belonging subclass practical eﬀect example object typecarcan assigned variable type vehicle legal say vehicle myvehicle mycar vehicle myvehicle new car statement variable myvehicle hold reference vehicleobject happens instance subclass car object remembers fact acar justavehicle information actual class object stored object possible test given obj ect belongs given class using theinstanceof operator test myvehicle instanceof car determines object referred myvehicle fact car hand assignment statement mycar myvehicle error illegal myvehicle potentially refer type vehicle car similar problem saw previously subsection computer allow assign intvalue variable type short inti short similarly allow assign value type vehicleto variable type car vehicle car case intsandshorts solution use reason happen know myvehicle doe fact refer car use type cast car myvehicle tell computer treat myvehicle actually type car say mycar car myvehicle refer car myvehicle parenthesis necessary precedence higher precedence car read car attempt avehicle impossible example used program suppose th want print relevant data vehiclereferred myvehicle s car want print car s numberofdoors t say numberofdoors thevehicleclass say chapter object class vehicle data registration number myvehicle instanceof car type vehicle car car mycar mycar car myvehicle access number ofdoors number door oors myvehicle instanceof truck type vehicle truck truck mytruck mytruck truck myvehicle access nu mberofaxles number axle faxles myvehicle instanceof motorcycle type vehicle motorcycle motorcycle mycycle mycycle motorcycle myvehicle acces s hassidecar sidecar r note object type computer executes prog ram check valid example myvehicle refers object type truck type cast car myvehicle error happens exception type classcastexception thrown check run time compile time cause actual type object referred myvehicle known program compiled code avoids classcastexceptions usinginstanceof test type variable doing type cast java previous example written using obscure new language feature known pattern matching forinstanceof pattern matching make possible include declaration initialization v ariable instanceof test example myvehicle instanceof car mycar type vehicle car number door or test succeeds variable mycaris created automatically assigned value car myvehicle scope variable limited body ifstatement polymorphism example consider program deal shape s drawn screen let s say shape include rectangle oval roundrects o f various color roundrect just rectangle rounded corner chapter object class rectangle oval roundrects class rectangle oval androundrect used represent type shape class common superclass shape represent feature shape common shapeclass include instance variable represent color position size shape include instance method changing value property changing color example involve changing value instance variable redrawing shape n ew color class shape color color imported package void setcolor color newcolor method change color shape color newcolor change value instance variable redraw redraw shape appear new color void redraw method drawing shape command instance variable method end class shape problem method redraw problem diﬀerent type shape drawn diﬀerently method setcolor called type shape doe computer know shape draw t executes redraw command setcolor method informally answer question like th e computer executes redraw asking shape redraw shape object know redraw practice mean speciﬁc shape classe s redraw method class rectangle extends shape void redraw command drawing rectangle possibly method variable class oval extends shape void redraw command drawing oval possibly method variable chapter object class class roundrect extends shape void redraw command drawing rounded rectangle possibly method variable suppose someshape variable type shape refer object type rectangle oval orroundrect program executes value someshape change refer object diﬀerent type d iﬀerent time statement executed redraw method actually called appropriate type object someshape actually refers way telling looking text program shape statement draw sin ce depends value someshape happens program executed tru suppose statement loop get executed time val ue ofsomeshape change loop executed possible statement diﬀerent method draw diﬀerent kind shape ex ecuted time say theredraw method polymorphic method polymorphic action performed method depends actual type object th e method applied run time polymorphism major distinguishing feature programming seen vividly array shape suppose shapelist variable type shape array created ﬁlled da ta element array rectangle oval beroundrects draw shape array saying int shape shape shapelist computer go loop statement draw rectangle oval roundrect d epending type object array element number irefers understandable change te rminology bit oriented programming calling method referred sending message object object responds message executing appropri ate method statement message object referred someshape object know type object know r espond message point view computer executes way sending message response message depends natu rally receives point view object active entity send receive message polymorphism natural necessary view polymorphis m just mean diﬀerent object respond message diﬀerent way beautiful thing polymorphism t let code write thing didn t conceive time wrote suppose decide add beveled rectangle type shape program deal beveled rectangle triangle cut oﬀ corner chapter object class beveledrects implement beveled rectangle write new subclass beveledrect class shape redraw method automatically code wrote s statement suddenly start drawing beveled rectangle beveled rectangle class didn t exist wrote statement statement theredrawmessage sent object someshape look method shapeclass changing color shape void setcolor color newcolor color newcolor change value instance variable redraw redraw shape appear new color aredrawmessage sent object sent setcolor method message sent object answer th theredrawmessage sent thatsame object received setcolor message object rectangle contains redraw method drawing rectangle exe cuted object oval redraw method ovalclass executed expect mean redraw statement setcolor method doesnotnecessarily redraw method shapeclass redraw method executed subclass shape just case polymorphism abstract class whenevera rectangle oval orroundrect objecthastodrawitself itisthe redraw methodin appropriate class executed leaf open question doe redraw method shapeclass deﬁned answer surprising leave blank fa ct class shape represents abstract idea shape way draw thing particular concrete shape like rectangle oval b e drawn redraw method shapeclass illegal setcolor method shapeclass illegal write compiler complain someshape variable type shapeand s redraw method shapeclass version redraw theshapeclass actually called fact think reason construct actual object typeshape variable typeshape object refer belong subclass shape say shapeis anabstract class abstract class used construct object basis making subclass abstract class exists onlyto express common property subclass cla s thatchapter object class abstract said concrete create object belonging concrete class abstract class variable type given abstract class refer object belong concrete subclass abstrac t class similarly say redraw method class shapeis anabstract method meant called fact actual redrawing byredraw method subclass shape theredraw method shapehas tell computer allshapesunderstand redraw message abstract method exists merely specify t common interface actual concrete version redraw subclass reason abstract redraw classshapeto contain code shapeand itsredraw method semantically abstract tell comp uter syntactically abstract adding modiﬁer abstract deﬁnitions abstract method block code give imple mentation ordinary method replaced semicolon implementation pr ovided abstract method concrete subclass abstract class s t heshapeclass look like abstract class public abstract class shape color color color shape void setcolor color newcolor method change color shape color newcolor change value instance variable redraw redraw shape appear new color abstract void redraw abstract method defined concrete subclass instance variable method end class shape declared class abstract illegal try create actual object type shape computer report syntax error try note way vehicleclass discussed probably abstract class way vehicle actual vehi cle car truck motorcycle concrete type vehicle recall subsection class explicitly declared subclass o f class automatically subclass stan dard class object class declaration extends public class myclass exactly equivalent public class myclass extends object mean class objectis huge class hierarchy includes class semantically objectis abstract class fact abstract class curiously declared abstract syntactically mean create object type object chapter object class class subclass object variable type objectcan refer object whatsoever type similarly array type object hold object type sample source code ﬁle us abstract shapeclass array typeshape hold list shape want look ﬁle eve n won t able understand time deﬁ nitions shape class somewhat diﬀerent described thi s section example draw method parameter type graphicscontext parameter required drawing java requires graphic context ll retur n similar example later chapter know gui programming s till worthwhile look deﬁnition shapeclass subclass source code ch eck array used hold list shape scaled screenshot program run shapedraw program click button add shape picture new shape appear upp er left corner drawing area color shape given menu lors drawing area shape screen drag mo use shape maintain order respect shape screen dragging shape t shape hold shift key click program time actual class shape s used shape added screen shape created man ipulated entirely abstract shape routine implement dragging example w orks variable type shape make reference subclass shape s dragged dragging routine just call shape s draw method time shap e drawn doesn t know draw shape type shape object responsible drawing wanted add new type shape program deﬁne new subclass shape add button program button add correc t type shape screen change programming woul d object class final method class seen finalmodiﬁer applies variable make impossible assi gn new value variable initialized fo r afinalinstance variable initialization place constructor th e class contains variable finalmodiﬁer applied class method deﬁnitio n afinalclass used used basis making subclass class deﬁned final class syntax error try extend awith class b extends method declared finalin class possible subclass contain method signature method overridden true staticmethods instance method note finalclass method implicitly ﬁnal possible make sub class class idea finalclass method ﬁnal modiﬁed replaced subclass final possible make guarantee behavior method example suppose rectangle class instance method draw draw rectangle rectis variable type rectangle ifdraw afinalmethod guaranteed draw rectangle draw isnot final draw problem rectcould actually refer object belonging subclass rectangle subclass deﬁne draw method override draw method class rectangle usingfinalcan make easier reason behavior program super basic idea programming reasonably simple c lear subtle time used unfortu nately basic idea lot detail rest chapter cover mor e annoying detail remember don t need master cha pter ﬁrst time section ll look variable thisandsuper automatically deﬁned instance method constructor special variable doe mean use simple identiﬁer amountorprocess refer variable method answer depends scope rule te ll declared variable method accessed program inside d eﬁnition method simple variable refer local variable parameter f scope declaration eﬀect point source reference occurs refer member variable class th e reference occurs similarly simple method refer method class astaticmember class simple used inside class deﬁnition use outside class example static member variable simple pi class math s legal use static member class s deﬁned s necessary simple st atic member variable hidden local variable parameter object class instance variable instance method simple na me simple instance member used instance method clas s instance member deﬁned static method instance member remember instance variable instance method actually tained object class object version nstance member start reference object contains instance member example stdis variable refers object type student instance variable named contained object butwhenweareworkinginsideaclassanduseasimplenametor efertoaninstancevariable object contains variable solutio n riddle simple suppose reference occurs deﬁnition instance method method particular object type student method get executed occurrence refers object simple name instance member used stat ic static method executed object ther e instance member sight leaf open question name instance memb er inside class deﬁned need way refer object tha t contains java deﬁnes special variable named thisfor just purpose variable thiscan used source code instance method refer object th contains method intent refer object right ve ry method ifvaris instance variable object method variable othermethod instance method object used method computer exec ute instance method automatically set variable thisto refer object contains method someobjectorientedlanguagesusethename self instead anobjectisseen entity receives message responds performi ng action point view entity instance variable refers entity s entity calling insta nce method like saying message self redraw common use thisis constructor example public class student private string student public student string constructor create student specified variable method constructor instance variable called nameis hidden formal parameter called instance variable r eferred assignment statement right formal parameter value formal parameter assigned instance variable considered acceptable style need t o dream upchapter object class cute new name formal parameter just used ini tialize instance variable use parameter instance var iable us writing instance method need pas object contains method subrouti ne actual parameter case use thisas actual parameter example wanted print o ut string representation object say assign value thisto variable assignment statement stor e array fact thisthat variable change value consider finalvariable special variable super java deﬁnes special variable named super use deﬁnitions instance method variable superis use subclass like superrefers object contains method s forgetful forgets tha t object belongs class writing remembers belongs supe rclass class point class contain addition modiﬁcations superclass superdoesn t know addition modiﬁcations used refer method variable superclass let s say use method class writing superdoesn t know dosomething method class know thing superclass class represents attempt execute method named dosomething superclass method superclass ll syntax t dosomething method class writing reason superexists access thing superclass tha t arehidden thing subclass example refers instance variable named varin superclass useful following reaso n class contains instance variable instance variable sup erclass object class actually contain variable deﬁned class deﬁned superclass variable subclass doe replace variable superclass merely hidesit variable superclass accessed using super subclass contains instance method signature method superclass method superclass hidden t way say method subclass override method superclass supercan used access method superclass major use superis override method new method extends behavior inherited method instead replacing behavior entirely new method usesuperto method superclass add add itional code provide additional behavior example suppose hav e apairofdice class includes aroll method suppose want subclass graphicaldice represent pair dice drawn computer screen roll method graphicaldice class roll method pairofdice class doe express call method superclass addition roll method graphicaldice object redraw dice new value graphicaldice class look like chapter object class public class graphicaldice extends pairofdice public void roll roll dice redraw roll method pairofdice redraw method draw stuff including definition redraw note allows extend behavior roll method don t know method implemented superclass super constructor constructor inherited extend exi sting class make subclass constructor superclass notbecome subclass want constructor subclass deﬁne new one scratch d t deﬁne constructor subclass computer make default con tructor parameter thiscouldbeaproblem ifthereisaconstructorinthesuper classthatdoesalotofnecessary work look like repeat work th e subclass realproblem don t source code superclass nd don t know implemented look like impossible problem constructor superclass usesprivate member variable don t access sub class obviously ﬁx volves special variable super ﬁrst statement constructor use superto constructor superclass notation bit ugly mi sleading used particular circumstance look like ca llingsuperas subroutine thoughsuperis subroutine t constructor w ay subroutine example assume pairofdice class constructor take integer parameter consider subclass public class graphicaldice extends pairofdice public graphicaldice constructor class super constructor pairofdice class parameter initializegraphics initialization specific graphicaldice constructor method variable statement super call constructor superclass ﬁrst line constructor subclass note don t explicitly constructor superclass way defaul t constructor superclass chapter object class parameter called automatically nd constructor exists superclass compiler consider syntax e rror use special variable thisin exactly way constructor class ﬁrst line constructor look like subroutine subroutine result t body constructor class executed useful save repeating code diﬀerent constructor example c used indirectly section amosaiccanvas represents grid colored rectangle constructor parameter public mosaiccanvas int row int column int preferredblockwidth int preferredblockheight constructor provides option doe lot nitialization wanted provide constructor fewer option initialization class contains constructor public mosaiccanvas public mosaiccanvas int row int column row constructor exists just const ructor providing constant value parameter example call second constructor listed constructor turn call main f constructor main constructor eventually called case ll essential initialization get case interface programming language llow class extend superclass called multiple inheritance illustration example class e shown having class class b direct sup erclasses class f direct superclass class class c class multiple inheritance allowed java chapter object class multiple inheritance notallowed java designer java wanted language reasonably simple felt beneﬁts mul tiple inheritance worth cost increased complexity java doe feat ure used accomplish goal multiple inheritance interface encountered functional interface section connection lambda expression functional interface speciﬁes single method interface ca n complicated us likely need write interface y ou point writing fairly complex program interf ace used important way java s standard package need learn use deﬁning implementing interface encountered term interface context nnection black box general subroutine particular interface su broutine consists subroutine return type number type p arameters information need know want subroutine subrouti ne implementation block code deﬁnes executed th e subroutine called java interface reserved word additional technical meaning interface sense consists aset instance method interface s associated implementation actually java interface contain o ther thing ll later class implement aninterface providing implementation method speciﬁed interface example simple javainterface public interface strokeable public void stroke graphicscontext g look like class deﬁnition imple mentation stroke method omitted class implement interface strokeable provide implementation forstroke course class include method vari ables example public class line implement strokeable public void stroke graphicscontext g draw line method variable constructor note implement interface class simply provide implementation method interface al ostatethat implement interface using reserved word implement example public class line implement strokeable concrete class implement strokeable interface deﬁne astroke instance method object created class includ e astroke method say objectimplements interface belongs class implement interface example object type lineimplements strokeable interface class extendonly class implement number interface fact class extend class implement interface thing likechapter object class class filledcircle extends circle implement strokeable fillable point interface cla ss similar interface like abstract class th class used constructing object used basis makin g subclass subroutine interface abstract method implemen ted concrete class implement interface compare strokeable interface abstract class public abstract class abstractstrokeable public abstract void stroke graphicscontext g main diﬀerence class extends abstractstrokeable extend class class implement strokeable extend class implement interface course abstract class contain n method abstract method interface like pure abstract cla s contains abstract method note method declared interface publicandabstract fact option necessary specify modiﬁers declaration addition method declaration interface clude variable declaration variable public static final eﬀectively public static ﬁnal variable class implement interface fact variable public static ﬁnal specifying modiﬁers optional ex ample public interface conversionfactors int inch perfoot int foot peryard int yard permile convenient way deﬁne named constant u sed class class implement conversionfactors use constant deﬁned interface deﬁned class note particular variable deﬁned inte rface constant s reallyavariableatall aninterface cannotaddinstancevariablestotheclassesthatimplement interface extend interface exa mple strokeable interface given fillableis interface deﬁnes method g deﬁne public interface drawable extends strokeable fillable defined aconcreteclassthatimplements drawable mustthenprovideimplementationsforthe stroke method strokeable method fillable abstract method speciﬁed directly drawable interface aninterface usually deﬁned ﬁle match t theinterface example strokeable deﬁned ﬁle named justlikea class aninterface canbeinapackageandcan object class discussion syntax rule interface course interface semantic component person create s theinterface intends method deﬁnes speciﬁc aning interface deﬁnition include comment express meaning classe s implement interface meaning account java compiler ho wever check syntax t enforce meaning example stroke method object implement strokeable presumably meant draw graphical representation th e object stroking compiler check stroke method exists object default method starting java interface contain default method unlike usual abstract method interface default method implementation class implement interface doe provide implementation default want provide diﬀerent implementation essential ly default method inherited interface way ordinary method ar e inherited class move java partway supporting multiple inheritanc s true multiple inheritance sinceinterfacesstillcannotdeﬁneinstancevari ables defaultmethodscancallabstract method deﬁned interface canno t refer instance variable notethatafunctionalinterfacecanincludedefaultmethod sinadditiontothesingleabstract method speciﬁes default method interface marked modiﬁ erdefault optionally marked publicbut interface default method automatically public publicmodiﬁer omitted example public interface readable represents source input public char readchar read character nput default public string readline read line feed stringbuilder line new stringbuilder char ch readchar ch ch ch readchar return aconcreteclassthatimplementsthisinterfacemustprovid eanimplementationfor readchar inherit deﬁnition readline interface provide new deﬁnition necessary class includes implementation default method implementation given class override default method interface note default readline call abstract method readchar deﬁnition provided implementing class referenc e toreadchar deﬁnition polymorphic default implementation readline make sense class implement readable s silly example class implement readable including main routine test class ﬁgure doe chapter object class public class star implement readable public char readchar return return public static void main string args star star new star int string line call default method line default method provide java capability similar mething called mixin programming language ability mix func tionality source class class implement interface s possible mix functionality diﬀerent source interface type abstract class t construct object interface declare variable type given interface f example strokeable interface given lineandcircleare class implement strokeable say strokeable figure declare variable type strokeable refer object implement strokeable interface figure new line figure refers object class line g call stroke method class line figure new circle figure refers object class circle g call stroke method class circ le variable type strokeable refer object class implement strokeable interface statement like g legal figureis type strokeable andanystrokeable object stroke method object figure refers object stroke method note typeis used declare variable type used specify type parameter subroutine return type function java type class interface e ight primitive type possibility given special case enum considered special kind class classe s used construct new object interface base type array example use array type strokeable declare variable create array element rray refer object implement strokeable interface chapter object class strokeable listoffigures listoffigures new strokeable listoffigures new line listoffigures new circle listoffigures new line element array stroke method say thing like listoffigures g nested class aclass like pretty important thing class building block program representing potentially complex idea associated data behavior ve felt bit silly writing tiny little c lass exist group scrap data trivial class useful essential fortunately java ease embarrassment class nested inside class trivial little class doesn t stand larger respectable class particularly useful want create little class speciﬁcally support work larger class s eriously good reason nesting deﬁnition class inside anothe r class java nested class class deﬁnition inside deﬁnition anoth er class fact class nested inside method wh ich course inside class nested class namedoranonymous come topic anonymous class later section named ne ted class like thing occur class static terfaces like class nested inside class deﬁnitions static ic fact interface deﬁnitions contain static nested class interface t textbook static nested class deﬁnition static nested class look just like deﬁ nition class nested inside class modiﬁer staticas declaration static nested class static structure ntaining class used inside class create object usual way used containing class indicate membership containing class s static nested class consists class nested f ollowed period followed nested class similar static c omponents class static nested class class way st atic member variable part class example suppose class named wireframemodel represents set line dimensional space model used represent object graphic program suppose wireframemodel class contains static nested class line represents single line deﬁnition wireframemodel class nested lineclass look outline like chapter object class public class wireframemodel member wireframemodel class static public class line represents line point point space double double end class line member wireframemodel class end wireframemodel nested class used example declare variable inside wireframemodel class alineobject created constructor new line outside class new used static nested class access static member containing class private member similarly containing class access member nested class marked private motivation declaring nested class let class access private m ember class making member generally available class note nested class private meaning used inside class nested compile class deﬁnition class ﬁles wi ll created deﬁnition lineis nested inside wireframemodel compiled lineclass stored separate ﬁle class ﬁle linewill bewireframemodel inner class nested class referred inner class inner class practice diﬀerent static nested class n ested class actually associated object class deﬁniti nested getting used member class really clas s source code contained class deﬁnition true ner class just class member class specify contained object created class inner class s object belongs containing class ha s itsown copy nested class doe literally contain copy compile d code nested class copy access instance method instance vari ables object declared private copy inner class diﬀerent object diﬀ er instance variable method refer diﬀerent object fact rule deciding nested class static n simple nested class need use instance variable instance method f rom containing class make nested class stat ic case inner class used class whe deﬁned true using inner class really diﬀerent fro m using class create variable declare object using simple o f inner class usual way cl as object class outside containing class inner class h referred using form variable refers object contains inner class order creat e object belongs inner class ﬁrst object belongs contai ning class working inside class object used implicitly looking example help hopefully convince inner class really natural consider class represents poker game class include nested class represent player game struct ure pokergame class public class pokergame represents game poker class player represents player game end class player private deck deck deck card playing game private int pot money bet end class pokergame ifgameis variable type pokergame conceptually gamecontains copy theplayerclass instance method pokergame object new playerobject created saying new player just class playerobject created outside pokergame class expression player rare playerobject access deckandpotinstance variable thepokergame object pokergame object deckandpotandplayers player poker game use deck pot game p layer poker game use game s deck pot s eﬀect making t heplayerclass associate playerobject particular pokergame object give access instance variable particular game mo t natural way player behave aplayerobject represents player particular poker game playerwere independent class staticnested class hand represent gener al idea poker player independent particular poker game anonymous inner class case ﬁnd writing inner class nd using class just single line program worth creating class case like option using anonymous inner class anonymous class created variation newoperator form chapter object class constructor deﬁnes new class giving run time creates object belongs class form newoperator used statement aregular new used intention expression create new object belonging class variable eﬀect create uniquely customized object just point program need note possible base anonymous class interface class case anonymous c lass implement interface deﬁning method declared interface interface used base contain parameter structor look example sup pose drawable interface deﬁned public interface drawable public void draw graphicscontext g suppose want drawable object draw ﬁlled red square tha n deﬁning new separate class using class cre ate object use anonymous class create object statement drawable redsquare new drawable public void draw graphicscontext g thenredsquare refers object implement drawable draw red square itsdraw method called way semicolon end st atement class deﬁnition s semicolon requi red end declaration statement anonymousclassesareoftenusedforactualparameters example considerthefollowing simple method draw drawable diﬀerent graphic context void drawtwice graphicscontext graphicscontext d rawable figure calling method parameter created using anonymous inner class example drawtwice firstg secondg new drawable void draw graphicscontext g java class compiled anonymous nested class wi ll produce separate class ﬁle main class mainclass example name class ﬁles anonymous nested class mainclass mainclass mainclass object class course example drawable functional interface use lambda expression section instead anonymous class example b e written simply drawtwice firstg secondg g andredsquare deﬁned drawable redsquare g approach advantage doe notcreate extra ﬁle lambda expression used functional interface wh ile anonymous class used interface class local class lambda expression class deﬁned inside subroutine deﬁnition cla ss called local class local class used inside subroutine deﬁned object deﬁned local class used outside subroutine returned value subroutine passed parameter anothe r subroutine possible object belonging class bcan assigned variable type long asbis subclass aor ifais interface long class bimplements interface example subroutine take parameter type drawable wheredrawable interface deﬁned object implement drawable passed parameter subroutine object deﬁned local class example earlier section passed customized object type drawable drawtwice method take parameter type drawable example class anonymous inner class local class anonym ous required true anonymous class local class required example anonymous class used deﬁne initia l value global variable case anonymous class enclosed subrout ine local deﬁnition local class use local variable th e subroutine deﬁned use parameter subroutine ther e restriction use variable parameter local class local variabl e parameter declared befinalor explicitly declared final eﬀectively parameter eﬀectively ﬁnal value changed insi subroutine including local class reference parameter local variabl e eﬀectively ﬁnal value changed initialized note striction global variable used deﬁnition local class restriction use local variable appli e lambda expression similar anonymous class example usi ng functional terface subsection deﬁnes single method double valueat double x code segment creates array object multpliers function multiplies parameter multiplier new int int n multiplier z n z chapter object class local variable ni eﬀectively ﬁnal used lambda exp ression hand illegal use variab leidirectly lambda expression ii eﬀectively ﬁnal value changed executed note example written using anonymous class nstead lambda expression multiplier new int int n multiplier new public double valueat double x return n x exercise exercise chapter version pairofdice class insection instance variable solution aredeclaredtobe public theyreallyshouldbe private sothattheywouldbeprotected changed outside class write ver sion pairofdice class instance variable class need getter method used ﬁnd value idea protect value changed outside class s till allow value read include improvement class including t atostring method test class short program count time s pair dice rolled total dice equal common programming task computing statistic set number statistic solution number summarizes property set data comm statistic include mean known average standard deviati tell spread data mean written little class c alledstatcalc used compute statistic sum ite m dataset number item dataset read source code fo r class ﬁle ifcalcis variable type statcalc following instance method available item whereitemis number add item dataset function return number item added dataset function return sum item en added dataset function return average item function return standard deviation item typically data added callus ng theenter method data available dat entered method called statistical informa tion data method getmean andgetstandarddeviation called number item greater zero modify current source code add instance method getmax getmin thegetmax method return largest item en added dataset getmin return smallest need add new instance variable track largest small est item seen far test new class using program compute statist ic set number entered user start creating object ty pestatcalc statcalc calc object used process data calc new statcalc read number user add dataset use sentinel value stop reading number user enters user s number entered print statisti c available calc problem us pairofdice class exercise statcalc class solution exercise program exercise performs experiment count ing time pair dice rolled given total come repeat s experiment time report average number roll doe le process possible total redo exercise instead just reporting averag e number roll report standard deviation maximum nu mber roll use pairofdice object represent dice use statcalc object compute statistic ll need new statcalc object possible total use new pair dice want s required class subsection extension handclass solution fromsection instance method handclass discussed section addition method blackjackhand includes instance method getblackjackvalue return value hand game blackjack exercise need deckandcardclasses section blackjack hand typically contains card wr ite program test blackjackhand class create blackjackhand object deckobject pick random number deal card d eck add hand print card hand print ou t value computed hand getblackjackvalue repeat long user want continue addition program depend program let user play blackjack game wi ll simpliﬁed version solution blackjack played casino computer act dealer previous exercise program need class ﬁned longest complex program come far exercise ﬁrst write subroutine user play game subroutine return boolean value indicate user win game retur n trueif user win falseif dealer win program need object class deckand object type blackjackhand dealer user general object blackjack hand card value close possible going game go like card dealt player s hand dea ler s hand value point dealer win user user win called blackjack note dealer wi n tie player blackjack dealer win game ended user get chance add som e card hand phase user see card see oneof dealer s card casino dealer deal card face card face user s card dealt face user make decis ion hit exercise mean add card hand stand whi ch mean stop taking card user hit possibility user o ver case game user loses process conti nues user get decide hit stand user stand game end ﬁrst dealer get chance draw card dealer follows rule choice rule s long value dealer s hand equal deal er hit take card user dealer s card t point winner determined dealer gone u ser win dealer s total greater equal user s tal dealer win user win note programming point subroutine s oon know winner say return true return false end subroutine return main program avoid having overabunda nce variable subroutine remember function used number used including o utput statement condition ifstatement write main program let user play game b lackjack make thing interesting user dollar let er make bet game user loses subtract bet user s money user win add equal bet user s money end program u ser want quit run money asked write program administers addition quiz solution rewrite program us following class present addition question public class additionquestion private int b number problem public additionquestion constructor int b int public string getquestion return b public int getcorrectanswer return b program previous exercise adm inisters quiz solution diﬀerent kind question previous exercise u sed class represent addition question forthisexercise youwillusethefollowing interface oranequivalentabstract class represent general idea question h integer answer exercise public interface intquestion public string getquestion public int getcorrectanswer make additionquestion class implement interface simply adding implement intquestion deﬁnition write similar class represent subtra tion question creating subtraction problem sh ould make sure answer negative new program use array type intquestion hold quiz question include addition question subtraction quest ion quiz add couple question including create d anonymous class intquestion bigquestion new intquestion public string getquestion return answer ultimate question life universe public int getcorrectanswer return quiz quiz chapter answer programming us classesandobjects class object relationship class objec t carefully nullmeans java special value necessary constructor purpose constructor class kumquat class fruitis variable type kumquat meaning statement fruit new kumquat doe computer executes statement try complete answer computer doe thing meant term instance variable andinstance method meant term subclass andsuperclass following class instance variable s areprivate getter method setter method instance variable public class player string int score class playerthat deﬁned previous question instance method named tostring deﬁnition method appears deﬁnition class term polymorphism us garbage collection memory management expl ain meant garbage collection alternative garbage coll ection abstract class recognize abstract class java isthis problem write simple complete class class represents counter count class sh ould becounter oneprivate instance variable representing value counter instance method increment addsonetothecountervalue getvalue returnsthecurrent counter value write complete deﬁnition class counter problem us counter class previous question following program segment meant simulate tossing coin time shou ld use counter object headcount andtailcount count number head number tail blank quiz counter headcount tailcount tailcount new counter headcount new counter int flip flip s chance s true count head count tail head tail nevermake sense test null introduction gui programming computer user today expect interact computer using graphical user interface gui java used write sophisticated gui program gui program diﬀer traditional pr ograms tered ﬁrst chapter book big diﬀerence gui program user action clicking button pressin g key keyboard generate event program respond th ese event occur programming build skill l earned ﬁrst ﬁve chapter text need able write method resp ond event inside method doing kind l covered chapter andchapter course object everywherein gui programming e vent object color font object gui component button menu object event handled instance method contained object jav gui programming oriented programming purpose chapter muc h experience api chapter just introduction javafx cover essential feature gui programming write interesting prog ram discussion javafx continue chapter detail advanced technique com plete coverage javafx require entire book note javafx distributed java develo pment kit information obtain javafx compile run program use section edition textbook cover gui programming using t javafx gui toolkit alternative edition cover swing gui toolkit instead javafx swing included standard java doe require extra download s conﬁguration swing edition http really signiﬁcant diﬀerences edition chapter nchapter basic javafx application program learned write alien computer user style interaction er computer turn typing string text like early d ays computing mid home computer graphical user interface started available today people interact computer s exclusively gui gui program oﬀers richer type user interface user us mouse keyboard introduction gui programming input device interact gui component suc h window menu button check box text input box scroll bar section introduces basic idea programmi ng javafx looking simple gui application application pref erred term program context application simply display window contain ing message button s window look like ﬁrst open clicking say hello computer tell hell o world clicking say goodbye change text message goodbye clicking th e quit button end application ended clicking window s close box javafx application javafx program application represented obj ect type application deﬁned package abstract class deﬁnes thing abstract instance method named start create javafx program need create class extends application provides deﬁnition start method subsection andsubsection class write create javafx application t ypically includes main method simply launch application public static void main string args launch launch replace launch args application us line argument subsection parameter optional example thi s book main routine executed launch method creates new thread called javafx application thread recall section thread execute sequence instruction run parallel ot thread important aﬀects gui javafx applic ation thread pretty automatic thing chapte r s important cover thread chapter write gui program use thread launch method creates object represents applicat ion object instance class contains thelaunch method start method object called javafx applicatio n thread responsibility start method set gui open window screen ﬁrst javafx application spend r est section discussing chapter introduction gui programming import import import import import import import import import import public class helloworldfx extends application public void start stage stage label message new label fx application new font button hellobutton new button say hello evt hello world button goodbyebutton new button say goodbye evt goo dbye button quitbutton new button quit evt hbox buttonbar new hbox hellobutton goodbyebutton quitbutton borderpane root new borderpane message buttonbar scene scene new scene root scene javafx test end start public static void main string args launch run end class helloworldfx ﬁrst thing notice large number import start program subpackages javafxpackage typical javafx program us class package discus javafx class ﬁrst time usually mention package come case look class javafx api documentation write documentation ja vafx http thehelloworldfx program contains mainmethod launch application contains required start method course add method application class called start couple method application overridden particular init called start astop method called application shutting method deﬁned class application achapter introduction gui programming programmer redeﬁne init initialization stop cleanup rarely need initialization n eed start stage scene scenegraph thestart method parameter type stage package astage object represents window computer s screen sta ge passed parameter tostart constructed represents main window o f program referred primary program creat e window constructing new object type stage window area screen ﬁlled content contain gui component menu button text input box w ell drawing area like used graphical program section primary stage created start called window doe content y et visible screen thestart method responsible adding content window ma king visible line start thehelloworldfx program make window visible rest method creates content add content window set various conﬁguration option content th e window example line javafx test set text appear title bar window stage show scene ﬁlls content area serf container gui component window scene represented object typescene sample program statement scene set scene displayed content area th e stage scene ﬁlled thing called gui component button menu bar component represented object belonging jav afx class example push button say hello button sample program s represented object belonging class button package component object buttonbar type hbox arecontainers container represents region window contain component incl uding container window contains gui component inside container c inside bigger container represented object object make mething called scene graph forthewindow thescenegraphshowsthecontainmentrelati onshipsamongallthecomponents scene sample program scene graph look li ke message class label goodbyebutton class button chapter introduction gui programming note class hierarchy doe lationships class theobjectsintheprogram itisacontainmenthiera rchythatshowshowthecomponents contained component screen scene graph rootandbuttonbar container message button simple component scene contains single root component contai ner contains component scene sample program roo t component named root course required root scene set sceneobject constructed scene scene new scene root number constructor specify width hei ght scene pixel number omitted case size compute d based content scene node layout object scene graph referred node scene graph node belong subclass scene graph object act container belong subclass subclass ofnode node contained parent called child node root node scene graph parent button helloworldfx represented object type button constructor used create button object speciﬁes text th displayed button similarly message node type label package purpose simply passively display string property labelobject font speciﬁes size style character displayed string font text set calling label s setfont method fontconstructor used sample program new font take parameter speciﬁes size font container nodeswhich node child act arranging container s child screen referred layout layout mean setting size location component inside container possible program set size location directly commonly autom atically container diﬀerent container implement diﬀerent layout policy exampl e anhboxis container simply arranges component contains horizontal row constructor hbox buttonbar new hbox hellobutton goodbyebutton quitbutton ﬁrst parameter speciﬁes size gap hboxwill place child remaining parameter node added child container aborderpane container implement completely diﬀerent layout policy borderpane contain ﬁve component center pane placed left ri ght center sample program root scene borderpane component added pane s center position statement message buttonbar layout conﬁgurable large number option sampl e program example chapter introduction gui programming command center button hbox shoved left edge window po short position enumerated type subsection javafx us enumerated type specifying various option event event handler addition setting physical layout window t hestart method conﬁgures event handling inhelloworldfx event occurs user click button application conﬁgured respond handle event handling event involves object event represented o bject hold information event button click event type actionevent information carry button clicked second object o f typeeventhandler functional interface deﬁnes method handle evt parameter evt event object program response event create class mplements eventhandler interface provides deﬁnition handle method eventhandler functional interface handler alternatively sp eciﬁed lambda expression lambdaexpressionsareverycommonlyusedinjavafxforwr itingeventhandlers us example lambda expression evt hello world represents event handler responds event chan ging text message read hello world parameter evt theactionevent object represents event case parameter used response w ay satisfy syntax lambda expression funct ion eventhandler interface parameter lambda expression parameter match interface addition writing event handler register handler object produce event case object shellobutton handler registered calling button s setonaction method evt hello world handler button set simil ar way remember case object generates event response user action object represents event event handler contains code executed response event diagram summarizes work ed button instanceof ª er handle e µ º àµá º å â æ â å event ç àµ µ àµ ææ µ µ º æ µ remains explained sample pro gram response click quit button static exit method platform class preferred way programmatically end javafx program s preferred cleanly shuts application thread giv e opportunity clean calling application s stop method terminating introduction gui programming section brief overview javafx applica tions introduced fundamental concept cover greater following section basic class section look basic class includin g class representing color font image class used graphicscontext api encountered preliminary way section useful part javafx brief introduction cs style sheet used control aspect visual appearance gui component color paint computer color us rgb color color computer screen speciﬁed number called color component giving level red green blue color color represented object type color package javafx color component doublevalue range colorobject fourth component range referred s thealpha color component generally used represent transparency opa queness color used drawing fully opaque color alpha component equa l used drawing drawing color completely replaces current color t drawing surface fully transparent color alpha component equal used drawing eﬀect alpha component drawing c olor combined current color new color drawing surface original content drawing surface viewed colored translu cent glass colorobject constructed giving red green blue alpha compon ents example color mycolor new color r g b r g b range colorclass number static method making color object static method w hose job create object called factory method instead using constructor say color mycolor r g b common case fully opaque color aequal use color mycolor r g b static factory method preferable construc tor option reusing color object example call return samecolorobject ok color object immutable way change color constructed real ly reason use diﬀerent object represent color computer screen probably us color an color pixel actually represented using just bit th e color component bit represent integer range comput er color traditionally speciﬁed using integer color component range thecolorclass following static method making color way r g b chapter introduction gui programming r g b integer range al r g b r g b intsin range doublein range analternativetorgbisthe hsb color inthehsbsystem acolorisspeciﬁedby number called hue thesaturation brightness hue basic color ranging red orange color rainbow brightness pretty sound like fully saturated color p ure color tone decreasing saturation like mixing white gray paint pure lor javafx hue given adoublevalue range saturation brightn es aredoublevalues range hue value given degree wer e color seen laid circle representing pure red colorclass static method h s b h s b making hsb color example make color random hue bright satura ted possible use color randomcolor rgb hsb just diﬀerent way de cribing set color itispossibletotranslatebetweenonesystemandth eother thebestwaytounderstand color system experiment sample prog let won t understand source code time run play color selection ﬁnd rgb hsb value color t hat want thecolorclass contains large number constant representin g color worth mentioning fairly dark green color given constant representing represents fully transparent color rgba lor component equal zero given color c ﬁnd value various color component calling function method return doublevalues range return doublein range coloris subclass class paint represents general idea used ﬁll stroke ad dition color image paint gradient paint use ge neral paint chapter covered subsection just know method parameter type paint use color font afontrepresents particular size style text char acter appear diﬀerent diﬀerent font javafx font represented obje ct type font package fontdeﬁnes couple constructor best way make font object static factory method th class afonthasaname whichisastringthatspeciﬁesafontfamily suchas given family variation bold italic v ersion font font size speciﬁed point point shoul d really inch practice equal size pixel general func tion making font specify option chapter introduction gui programming font myfont family weight posture size t match requested font property exac tly return font think best match parameter familyis astringthat specify font family available program unfortunately set font required available time new roman arial verdana li kely work font created microsoft released free use y installed system pas nullas thefamilyname use default font family font weight given enumerated type value enumfontweight usually value bold similarly font posture constant bothfontweight andfontposture thefontclasshasseveralotherstaticfunctionsformakingfonts w hichspecifyonlyasubset property family weight posture size th ese include size family family weight size missing property default value depend computer program running static function return font default value property ﬁnd default point size s computer diﬀerent example making font font font time new roman font null fontpostur image term image refers like photograph dra represented rectangular grid colored pixel image stored ﬁles javafx make easy load image ﬁle displa yed program image represented object type image package constructor new image path used load image image ﬁle pathparameter string speciﬁes location ﬁle location general image internet user s computer m interested image fro mresource ﬁles resource program code resource include thing like sound data ﬁles font image load source program place look program s ﬁles resource ﬁle program s level directory path ﬁle simply ﬁ le ﬁle subdirectory main directory path includes subdirecto ry example path refers ﬁle named insid e subdirectory named image refers ﬁle named bee inside directory named sound turn inside directory named resource kind image ﬁles store image data variety format javafximageobjects use image ﬁles name end example ﬁle evel program directory create image objectchapter introduction gui programming image card new image image displayed graphicscontext soon us image later chapter canvas graphicscontext screen computer grid little square called pixel color pixel set individually drawing screen just mean set ting color individual pixel everyvisibleguicomponentisdrawnbycoloringpixels everycomponenthasacoordinate map x y coordinate point comp onent component draw javafx component ca n draw want calling appropriate method drawing surface component type canvas package acanvasis anodeand scene graph parent act container node b e root scene graph mean canvas thing want window placed container th serve root scene graph acanvasappears screen rectangle pixel posit ion rectangle speciﬁed pair coordinate x y upper left corner coordinate thex coordinate increase left right ycoordinate increase illustration show canvas large pixel small line rectangle oval shown drawn coloring individu al pixel è é ê ë é ì í î ï ðè é ð ñ í ò ð ï ë é ê note properly speaking coordinate don t belong pixel grid line coordinate fact number typ edoubleand refer point inside pixel example center left pixel n canvas coordinate fact drawing using coordinate type double width height canvascan speciﬁed constructor used create canvas object example create tiny va canvas canvas new canvas query size canvas calling return value type double canvass usually meant size changed necessary calling w h canvas ﬁrst created ﬁlled transparent b lack color rgba component set zero make canva s transparent lie canvas introduction gui programming order draw canvas need object type graphicscontext everycanvashas associated graphicscontext diﬀerent graphicscontexts draw diﬀerent canvas graphic context canvas canvas calling given canvas method return graphicscontext object section discussed thing graphic c ontext particular learned shape stroked interi ﬁlled method ingraphicscontext g used drawing include following al l numeric parameter type double x y w h x y w h draw rectangle left corner x y width wand height ifworhis equal zero drawn x y w h rectangle fully transparent color th lie rectangle visible t canvas note notthe calling x y w h transparent ﬁll color doing eﬀect content rectangle x y w h x y w h draw oval just ﬁts inside rectangle left corner x y width wand height x y w h rh rv x y w h rh rv draw rectangle rounded corner rectangle left corner x y width wand height quarter oval cut oﬀ corner horizontal ra dius oval rhand vertical radius rv str x y str x y draw text stringstr point x y left end baseline text string drawn o n baseline descender tail y extend ing baseline string contain multiple line separated newline character x y give baseline ﬁrst line string note strokin g text mean drawing just outline character xcoords ycoords n xcoords ycoords n draw polygon consisting line segment connecting seq uence point number point given parameter ﬁrst parameter array type double containing coordinate point extra line segm ent automatically added connect point ﬁ rst polygonconnectsthepoints xcoords ycoords xcoords ycoords xcoords ycoords xcoords ycoords draw line s use trying ﬁll line interior thegraphicscontext object ghas number property aﬀect drawing drawn using g current value relevant property used thi s mean changing value property doe aﬀect drawn change applies thing drawn future pr operty setter method getter method property paintthat used ﬁlling chapter color property set calling paint current value calling similarly paintthat used stroking set using paint width stroke set using w wherewis type introduction gui programming set font used drawing te xt font note stroking shape like dragging centerof pen outline shape size pen given linewidth property stroke drawn extends side actual path pen equal half linewidth example draw horizontal line width endpoin t half stroke lie geometric line half lie belo w computer blending color stroke color current col want stroke nicely covercompletepixels youshouldactuallyuse asthecoordinates endpoint line draw y ou ﬁnd pixel partially covered drawing color blende d current color instead replacing decrease jagged appearance shape pixel like line oval illustratio known antialiasing possible draw image canvas im age represented object type image method drawing image image x y draw imagewith upper left corner x y using actual size image image x y w h draw imagein rectangle upper left corner x y width w height image stretched shrunk ﬁt rectangle necessary image sx sy sw sh dx dy dh dw draw content speciﬁed source rectangle image speciﬁed destination rectangle canvas method let draw just image source rectang le upper left corner sx sy widthsw height sh parameter specify destination rectangle similar way s time couple actual example example t hat draw text using variety font program draw multiple copy st ring hello javafx using random font location text ﬁlled random color stroked black stroke program us ﬁve font created start method using diﬀerent static factory method fontclass time new roman arial fontposture chapter introduction gui programming verdana time new roman fon program deﬁnes draw method completely redraws content canvas called canvas ﬁrst created called w hen user click redraw button method ﬁrst ﬁlls canvas white backgrou nd erases previous content canvas ﬁlls stroke copy hello javafx using random ﬁll color random position text randomly sele cted font copy private void draw graphicscontext g double width double height white background width height int draw string set font available font random int fontnum int switch fontnum case case case case case end switch set color bright saturated color random hue double hue hue select position string random double x y x y draw message hello javafx x y stroke outline string black hello javafx x y end end draw chapter introduction gui programming ﬁnd source code program second sample program similar instead drawing random string draw ﬁve playing card dealt random deck deck card represented using deckandcardclasses section card image come ﬁle resource ﬁle program ﬁle contains single image contains image card arrange d row column shown reduced size image gnome desktop project http image ﬁle loaded program start method simply saying cardimages new image wherecardimages instance variable type image suppose want draw card row number r column number c graphicscontext g row column numbered starting zero card imag e pixel pixel card want left corner r want place card canvas left corner x y use thi rddrawimage method given speciﬁes source rectangle image stination rectangle canvas cardimages x program card want draw given varia blecardof typecard row column image determined suit valu e card givenchapter introduction gui programming value returned function manipulated little correct row column number s position card canvas calculated leave gap e card draw method program deal ﬁve random card d eck draw private void draw graphicscontext g deck deck new deck double sx sy left corner source rect card car dimages double dx dy corner destination rect card ca nvas int card card card testing sx sy dx dy cardimages sx dx end draw complete program bit cs javafx make possible control vi sual component gui using cs cascading style sheet cs language th used make web page control thing like color font nd border element web page adapted play similar role conte xt javafx intend cover cs don e cs java code thing just e asier cs cover short section use progr am people know cs guide use javafx available write th http cssstyle rule consists property value property exam ple cs used place border kind gui componen t border property name javafx cs property namesthat beginwith todistinguish fromre gular cs property avaluefor color redorlightblue format color format use take form rrggbb r g b stand hexadecimal digit hexadecimal number represent numbe r rr gg bb rrggbb represent red green blue component color eac h range example represents pure red represents dark border width value single size syntax number followed unit measure space t hem px stand pixel pixel width given single size size applies side border alternatively size gi ven separated space specifyingchapter introduction gui programming border width right left o rder example blue border speciﬁed blue dark red border thicker o ther side use cs rule used sepa rated semicolon background color component set using property value sort color speciﬁcati used cs property represents space left content component edge border like borde r width padding speciﬁed single size list size example apply style component using setstyle method parameter stringcontaining cs style rule example suppose message alabel default label padding border added w ith command black width set font component display text using t property value property speciﬁes size font family font optionally modiﬁed weight bold style italic bot example time new roman bold italic serif bold monospace note font family contains space e nclosed quote font family example serif monospace generic family name specify certain style font generic name lude cursive fantasy character serif font short line decoration upper case font lack d ecorations character monospace font width monospace font ar e good drawing character meant line column property set using cs cove r use cs border padding background color font setting style component tedious cs style sheet used apply style component given type indi vidual component set component style sheet ﬁle usually ending discus syntax style sheet apply style ru le labelsandbuttons button bold time new roman darkblue label chapter introduction gui programming darkred darkred pink style sheet ﬁle just like image ﬁle resource program stored place ﬁles program suppose style sheet named program s director apply style component scene statement ascenecanhaveseveralstylesheets andstylesheetscanalsobead dedtoindividualcontainers basic event event central programming graphical user interface gui program doesn t haveamain routinethatoutlineswhatwillhappenwhentheprogramisru n process beginning end instead program p repared respond various kindsofeventsthatcanhappenatunpredictabletimesandin anorderthattheprogramdoesn t control basic kind event generated m ouse keyboard user press key keyboard mouse press bu tton mouse user thing time computer r espond appropriately java event represented object event occ ur collect information relevant event construct obje ct contain information diﬀerent type event represented object belongi ng diﬀerent class example user press button mouse object b elonging class called mouseevent constructed object contains information target event component user clicked x y coordinate point component click occurred modiﬁer key suc h shift key held button mouse pressed user press key keyboard hand keyevent object created containing information relevant event generated using keyboard t event object constructed passed parameter designated method thod called event handler event javafx event handler written lambda expression writing event handler programmer say ha ppen event occurs java programmer fairly view t lot processing go time user press key mov e mouse time method program called respond event fortunately don t need know processing understan d didn t write routine running ex ecutes loop form program running wait event occur handle event loop called event loop gui program event loop java don t write loop s write gui program language provide main routine run event loop section ll look handling mouse key event n java ll cover framework handling event general ho w make introduction gui programming event handling event eﬀect program detect event react order detect event program listen listeni ng event event listener contains event handler method respond t event event listener deﬁned interface speci ﬁes event handling method contains listener diﬀerent kind event deﬁned diﬀerent interface case interface functional interface deﬁnin g single event handler method case listener given lambda expression kind event javafx listener deﬁned f unctional interface named eventhandler whichdeﬁnesthemethod handle event theparametertothismethod event event object contains information provide deﬁnition forhandle write code executed handle event eventhandler actually parameterized type tered encounter oﬃcially section basically ally mean eventhandler really deﬁnes diﬀerent type name like thandler mouseevent eventhandler keyevent andeventhandler actionevent type eventhandler mouseevent deﬁnes handle event method eventis type mouseevent type eventhandler keyevent deﬁnes handle event method eventis type keyevent fortunately don t need understand parame terized type chapter need know event obj ect use handling event appropriate type event ex ample handling mouse event event object type mouseevent event javafx associated gui component fo r example user press button mouse associated component th e contains mouse cursor button pressed object called targetof event order respond event need register listener w ith target event object know event example le t look statement ﬁrst gui program section evt hello world hellobutton object type button user click button event typeactionevent generated target event hellobutton method register event listener receive notiﬁcation o f actionevents button listener case deﬁned lambd expression lambda expression parameter evt theactionevent object code lambda expression happens response event m ost event handling chapter set similar way key event mouse event s just event t arget get chance respond event example suppose press mo use button canvasthat inside borderpane turn inside scene target mouse event canvas theborderpane scenealso chance respond event register mouse event listener obje ct respond event object listener registered called sourceof event event object parameter evt event handler method source given target given don t note event sent handler han dler consume event calling stop sent additional handler ex ample chapter introduction gui programming typing text input box input box consumes key event generate typing scene doesn t chance h andle actually s complicated key event nd kind mouse event event ﬁrst travel scene throug h scene graph node contain event target called event ﬁltering bub ble phase event processing reaching target event travel scene graph ﬁnally scene event handling bubble phase event consumed point way happens process st ops used chapter information documentati addeventfilter addeventhandler method sceneandnodeclasses section concerned mouse key event t important understand gui program need deal event dir ectly instead work gui component programmed handle mouse nd key event example user click button button listens mouse event respondstothem whenthebuttondetectsthatithasbeencli cked itgeneratesan actionevent write application us button program response actionevents mouse event similarly user type text inpu t box input box listens key event responds t base s mouse keyboard event drive action program s useful unde rstand interesting thing processing directly mouse event mouse event represented object type mouseevent fact mouse event actually generated input device track pad touch screen event device translated mouseevents class class related mouse key event pa user manipulates mouse kind event generated example clicking mouse button generates event mouse pressed eve nt mouse released event mouse clicked event simply moving mouse generat e sequence event mouse cursor move point point screen spond mouse event component register listener component register separate listener kind mouse event component cusing instance method handler handler parameter mouse event handler generally given lambda expression suppose example canvasis component type canvas like method redraw called user click canvas make happ en saying evt redraw generally statement start method application setting gui program mouse click canvas handled scene scene graph node contains canvas directly indirectly usual target mouse event handle event mouse event type include mouseentered generated mouse cursor move outside component component mouseexited generated mouse cursor move component mousepressed generated user press button mouse mousereleased generated user release button mouse mouseclicked generated mouse released event user pressed nd releasedchapter introduction gui programming mouse button component mousedragged generated user move mouse holding mouse button mousemoved generated user move mouse holding button target mousedragged mousereleased ormouseclicked event component mouse button pressed mou se moved outside component target mousepressed ormousemoved event component contains mouse cursor event occurs mouseentered andmouseexited target component entered exited mouse event occurs want know locatio n mouse cursor information available mouseevent parameter method contains instance method return information ab event evtis parameter ﬁnd coordinate mouse c ursor calling method return value type doublethat xandycoordinates mouse cursor positioned time eve nt occurred coordinate expressed coordinate source ev ent left corner component source component event listener registered necessarily event target ually user hold certain modiﬁer key using mouse possible modiﬁer key include shift key control key alt key called option key mac meta key called command apple key o n mac computer meta key want respond mo use event diﬀerently user holding modiﬁer key ed instance method called test modiﬁer key pressed want diﬀerent response depending w hether user press left mouse button middle mouse button right m ouse button event triggered mouse button determine button w pressed released calling return enumerated type constant generally left mouse button primary button right mouse button secondary e vent mouseentered mouseexited triggered button user hold mouse button time want know mouse button actually time ev ent use function simple example suppose user click canvas canvas like draw red rectangle point user clicked bu t shift key want draw blue oval instead event handler ca n deﬁned evt graphicscontext g chapter introduction gui programming better idea mouse event work try th e sample program program responds seven diﬀerent kind m ouse event displaying coordinate mouse type o f event list modiﬁer key button experiment pr ogram happens various thing mouse encourage t o read source code dragging drag gesture occurs user move mouse hold ing button mouse interesting look program need order respond dragging operation drag gesture start user p resses mouse button continues mouse dragged end user release button mean programming response dragging gesture mu t spread event handler mousepressed mousedragged mousereleased furthermore mousedragged handler called time mouse move trackofwhatisgoingonbetweenonemethodcallandthenext youneedtosetupsomeinstance variable application example order pr ocess amousedragged event need remember previous coordinate mouse c store information instance variable prevxandprevyof typedouble useful save starting coordinate original mousepressed event occurred instance variable suggest having boolean variable dragging set truewhile dragging gesture processed necessary applic ations mousepressed event start dragging operation want respon user press second mouse button releasing ﬁrst b e twomousepressed event themousereleased event usually don t want second mousepressed start new drag operation method use valu e ofdragging check drag operation actually progress write instance method handle event outline look like private double startx starty point original mous e press occurred private double prevx prevy recently processed mou se coords private boolean dragging set true dragging p rogress instance variable use dragging public void mousepressed mouseevent evt dragging user pressed second mouse button releasing th e ignore second button press return dragging true startx remember starting position starty prevx startx remember recent coords prevy starty processing chapter introduction gui programming public void mousedragged mouseevent evt dragging false check return processing dragging gesture int x current position mouse int y process mouse movement prevx prevy x y prevx x remember current position prevy y public void mousereleased mouseevent evt dragging false check return processing dragging gesture dragging false dragging processing install event handler relevant component simply method e mousepressed e e mousedragged e e mousereleased e note event handler statement simply method class method parameter event handler t hat mean s possible write lambda expression method reference subsection method called instance method object method reference name likethis event handler installed using example let s look typical use dragging allowi ng user sketch curve dragging mouse example show fea tures graphic mouse processing program draw curve dragging t mouse large white drawing area select color drawing clicki ng colored rectangle right drawing area complete sou rce code picture program window drawing ha s chapter introduction gui programming discus aspect source code enco urage read carefully entirety lot informative comment th e source code program drawing single canvas ﬁl l entire window programisdesignedtoworkforanyreasonablecanvassize t hatis unlessthecanvasistoosmall thismeansthatcoordinatesarecomputedintermsoftheactu alwidthandheightofthecanvas width height obtained calling make thing quite bit harder sumed particular ﬁxed size canvas let s look computation example large white drawing area extends y height vertically x x width horizontally number needed order interpre t meaning mouse click account gray border canvas color palette right edge canvas gray border pixel wide colored rectangle pixel wide border t canvas divider drawing area colored rectangle ad d right edge drawing area pixel right edge canvas white square labeled clear occupies region beneath colored rectangle right edge canvas allowing region ﬁgu vertical space available seven colored rectangle divi space vertical space available rectangle quantity repres ented variable colorspace space pixel used spacing rectan gles height rectangle iscolorspacing rectangle located n colorspacing pixel canvas assuming count rec tangle starting zero nrectangles rectangle us colorspace pixel extra border canvas fter write command drawing rectangle width n colorspace colorspace easy show kind careful thinking d precision graphic necessary good result mouse program used diﬀerent thing select color clear drawing draw curve involves dr agging mouse click start dragging operation mousepressed method look x y coordinate mouse clicked decide re pond user clicked thechapter introduction gui programming clearrectangle drawing area cleared calling clearanddrawpalette method redraws entire canvas user clicked t strip colored rectangle correspondingcolorisselectedfordrawing thisinvolves computingwhichcolortheuserclicked dividing ycoordinate colorspacing finally user clicked drawing area drag operation initiated case boolean variable dragging set totrueso mousedragged andmousereleased method know curve drawn code follows general form given actual drawing curve mousedragged method draw line previous location mouse current location eﬀort required m ake sure line doe extend white drawing area canvas t automatic far computer concerned border color bar o f canvas user drag mouse outside white drawing area drawing curv e themousedragged routine change xandycoordinates make lie drawing area key event java user action event program gui mponent target event user press button mouse compon ent contains mouse cursor target event keyboard eve nt user press key component target keyevent generated gui us idea input focus determine target keyboard event given time just interface element screen input focus keyboard event directed interface element happ en javafx component information keyboard event obj ect type keyevent delivered key event handler listening keyevents associated component note way key event proces sed sceneobject window contains focused component get chanc e handle key event focused component window scene self target key event sample program usually add key event ha ndlers scene object program generally give visual feedback user ab component input focus example component bo x feedback usually form blinking text cursor possible visual clue draw brightly colored border edge component input focus button focus button focus pressing space ba r equivalent clicking button ifcompis component like input focus typical user interface user choose f ocus component clicking component mouse pressing tab key focus component ha ndled automatically component involved programming component automatically request input focus user clic k includes example canvas component receive input focus requestfocus called t automatically focus t hat component tab key enable true test component focused calling focused component contained itsel window window said focused active window usually window screen javafx stageobject window request thechapter introduction gui programming window moved screen activ e window test window active java make careful distinction key press andthe character type lot key keyboard letter key number key s modiﬁer key control shift arrow key page page key key pad key function key case shift key pressing key doe type character hand typing character involves pressing key example type uppercase press shift key pres s key releasing shift key macos computer type accented e b y holding option key pressing e key releasing option key pressi ng e character typed perform rele ase key right time injavafx therearethreetypesofkeyevent keypressed whichisgeneratedwhentheuser depresses key keyboard keyreleased generated user release key pressed keytyped generated user type character possibly using series key press key release note user action pressing e key responsible event keypressed event keytyped event typing upper case generate keypressed event keyreleased event keytyped event usually better think term separate stream s event consisting keypressed andkeyreleased event consisting keytyped event application want monitor ﬁrst stream application want monitor second course information keytyped stream extracted stream diﬃcult extent user action pressing shif t key detected keypressed event used computer solitaire game highlig hted card moved held shift key somet hing like java highlighting card shift key pressed remo ving highlight shift key released complication hold key keyboard key mean generate multiple keypressed event just onekeyreleased end sequence generate multiple keytyped event aﬀect programming y ou expect keypressed event corresponding keyreleased event key keyboard code identiﬁes javaf x key code represented enumerated type constant enum keycode event handler akeypressed orkeyreleased event called parameter evt contains code key pressed released code obtained calling function example user press shift key funct ion return value ﬁnd code documentation keycode name key easy guess letter key name l arrow key named space bar function key name like case keytyped event want know character typed information obtained calling function function return value type stringthat contains character typed ﬁrst example check sample program thischapter introduction gui programming program draw small square canvas user square left right pressing arrow key implemented method private void keypressed keyevent evt called event handler keypressed event handler installed scene object start method statement e keypressed e thekeypressed method value checked s arrow key pressed canvas redrawn squar e diﬀerent position program installs handler keyreleased andkeytyped event similar way keytyped handler change color square wh en user type r g b k encourage run program read entire source code animationtimer kind basic event like intro duce turning interesting example event used drive n animation event case happen background don t register listener respond need write method called th e event occur computer animation just sequence image pres ented user time image short chan ge image great user perceives continuous motion javafx program animation using object type animationtimer package animationtimer animator method start animation running restart paused ha s method pause animation method handle time buthandle method s need write say happe n animation handle method frame animation job wh atever necessary implement frame thehandle method called javafx application thread whic h mean thing like draw canvas manipulate gui comp onent long javafx animation meant run frame second mean handle ideally second run animationtimer abstract class handle abstract method mean make animation need write subclass o fanimationtimer provide deﬁnition handle method suppose example simply want draw method frame follows using anonymous subclass animationtimer seesubsection animationtimer animator new animationtimer public void handle long time draw animation started need application s start introduction gui programming parameter time give current time measured number nanosecon d arbitrary time past arbitrary time used use timein calculation frame way makin g frame diﬀerent option use frame numbe r increase time frame drawn mind rate handle called vary time frame guaranteed second state machine ready look program us animation key ev ents implement simple game program us animationtimer drive animation us number instance variable track current state g ame idea state important information stored object s instance variable said represent stateof object object s method called ction taken object depend state terminology usin g deﬁnition method look instance variable decide furt hermore state change deﬁnition method assign new value instance variable computer science idea state machine just state change state response event input th e response state machine event depends state s event occurs object kind state machine point view useful d esigning class state machine point view especially useful th e type programming required graphical user interface designing gui program ask information state need t o track event change state program response g iven event depend current state appearance gui changed reﬂect change state state taken account drawing conte nt canvas alternative style program design doe apply overall design program thekeyboardeventdemo program discussed state program record ed instance variable squarecolor squareleft andsquaretop record color position colored square state variable ar e used draw method draw square canvas value changed k method rest section ll look example wh ere state play bigger role example user play simple style game pressing arrow key program deﬁned source code ﬁle usual good idea compile run program read ful l source code picture chapter introduction gui programming entire application window ﬁlled canvas progr show black submarine near canvas submarine move erratical ly forth near window near blue mov e boat forth pressing left right arrow key attached boa t red bomb depth charge drop bomb hitting arrow key objective blow submarine hitting bomb bomb fall oﬀ screen new submarine explodes new sub created nd new bomb try make sure hit sub exp losion let s think game programmed al l doing oriented programming decided represent boat d epth charge submarine object object deﬁned separate nested class inside main application class object state represented instance variable corresponding class use variable boat bomb andsubto refer boat bomb submarine object constitutes state program wh thing change time time aﬀect appearance behavior program o f course state includes position boat submarine bomb object instance variable store position possibly obvious bomb falling s diﬀerence state possibility represent aspect state boolean variable bombobject submarine moving left moving right diﬀerence represented boolean variable sub exploding state represented boolean vari able explosion require little thought explosion s take place series frame explosion progress sub look diﬀerent frame size explosion increase need know wh en explosion moving drawing sub usual u se integer variable record frame drawn explosion started value variable used explo sion progress value state variable change change example sub move left right state variable specify position change course variable changin g animation animation driven animationtimer time animator s handle method called state variable change ady draw frame animation change handle method redrawing canvas boat bomb andsubobjects contain updatefornextframe method update thechapter introduction gui programming state variable object ready frame o f animation handle method call method statement state variable change updat e method addition position sub bomb falling nate increase frame bomb hit sub isexploding variable sub change true isfalling variable bomb false theisfalling variable false bomb fall oﬀ screen sub exploding explosionframenumber increase frame reached certain value explosion end isexploding reset false random time sub switch moving left moving right direction mo tion recorded sub s ismovingleft variable sub s updatefornewframe method includes following line change value ismovingleft random time ismovingleft ismovingleft chance statement ismovingleft ismovingleft executed ﬁfty frame average eﬀect statement reverse value ismovingleft false true true false direction motion sub versed addition change state place frame state variable change user press certain key p rogram checked handler keypressed event user press left right arrow key po sition boat changed user press arrow key th e bomb change falling handler long lambda expression gistered scenein application s start method evt key listener responds keypressed event canv key boat row release bomb keycode code key pressed code code code false true note s necessary redraw canvas meth od canvas show animation constantly redrawn chan ge state visible user soon frame drawn p oint program tochapter introduction gui programming make sure user doe boat oﬀ screen c ould key event handler chose check rou tine boat object natural let boat object responsible keepi ng screen encourage read source code point tricky eﬀort able read underst entire program try understand program term state machine note t state object program change response event timer user s sophisticated arcade game su bkiller game doe use interesting programming nicely illustrates pply thinking programming observable value kind basic event play important r ole javafx event generated observable value modiﬁed example subkiller program stage stage property type observablebooleanvalue tell notstageis currently focused window access property calling value observablebooleanproperty change event generated register changelistener property containing event handler method called event occurs handler method case parameter observable property generat ed event previous value property new value observablebooleanvalue old new value type boolean observable value type observableintegervalue observablestringvalue andobservableobjectvalue ﬁrst wrote subkiller animation continue run subkiller window focused window annoying whe n trying work window decided pause animation window loses input focus restart window regains focus th e window loses gain focus value observable boolean property change react change added change listener property stop animation value property change falseand start animation value change true added code start method obj oldval new val listener turn animation program s window doe input focus newval window gained focus window lost focus draw redraw canvas appearance change depending focus theaddlistener method observable property register change listene r property note lambda expression event hand ler take parameter need newvalwhich represents current value stage s focused property draw method draw draw thing diﬀerently depending whe ther stage focused test calling introduction gui programming javafx gui component observable property v arious type example thetextona buttonisapropertyoftype observablestringproperty andthewidthandtheheight canvas value type observabledoubleproperty encounter example section basic control preceding section ve seen use graphic context draw scree n handle mouse event keyboard event sen se s gui programming willing program drawin g handle mouse keyboard event learn yo u doing lot work need limiting yoursel f simple user interface typical user interface us standard gui component s button scroll bar box menu component writte n don t duplicate work involved developing know ho w draw handle detail processing mouse keyboard e vent concern consider simplest user interface component pu sh button button border display text text changed s ometimes button disabled clicking doesn t eﬀect disab led appearance change user click button change appearance whe n mouse button pressed change mouse button released fact t s complicated user move mouse outside push button rel easing mouse button button change regular appearance releasing mouse time trigger button implement necessary respond m ouse exit mouse drag event furthermore platform button receive inp ut focus button change appearance focus button focus nd user press space bar button triggered mean button respond keyboard focus event fortunately don t program anyof provided use object belonging standard class abuttonobject draw process mouse keyboard focus event hear fr om thebuttonwhen user trigger clicking pressing space bar wh ile button input focus happens buttonobject creates event object belonging class event object sent registered listener tell t button pushed program get inform ation fact button pushed standard component deﬁned javaf x graphical user interface api deﬁned subclass class control package control just couple exception manipulat ed user generate input event program number useful method deﬁ ned control begin mentioning method used controlcontrol true called disable control control enabled false control disabled appearance change target mouse key event function actually called scene graph node just contro l disable node chapter introduction gui programming anynodescontainedinsidethatnodearealsodisabled ther thatyoucancalltodiscoverwhetherthecontrolisdisabled becauseitwasexplicitlydisabledorbecauseitisinsideac ontainernodethatwasexplicitly disabled new tooltip string set speciﬁed string tool tip control tool tip displayed mouse cursor nside control mouse moved second tool tip s ome information meaning control use cssstring set cs style control cs discussed subsection note using control scene graph node step process component object created constructor added container case listener registered respond event mponent case reference component saved instance varia ble component manipulated program created th section look basic standard control component available javafx deﬁned class package section consider problem laying component container imageview turn control want mention nod e type imageview package recall subsection animageobject represents picture image loaded resource ﬁles imagecan drawn canvas animageis anode t scene graph animageview scene graph node simple wrapper image purpose simply display image make possible add im age scene graph having draw image canvas image speciﬁed parameter imageview constructor example suppose path image resource ﬁle imageview created display image like image tux new image imageview tuxicon new imageview tux case thinking image icon small image typically used button label menu item add graphical elemen t usual plain text fact ll exactly javafx label button ﬁrst control look c ommon display string text user user view edit furthermore display graphical element addition instead t ext graphic nodebut usually small icon implemented object type imageview fact type control inherit behavior common s uperclass named labeled subsection look menu item inherit labeled class deﬁnes number instance method used label butt ons labeled control method include chapter introduction gui programming string setting text displayed control tex t new line character stringrepresents line break node setting control s graphical element font setting font used text color setting paint used drawing text size setting space text graphic parameter type double displaycode setting graphic placed respect text parameter constant e num play setter method corresponding getters suc h asgettext andgetfont listed setter method background color s possible set background color s cumbersome setting background color o f control c white look like new background new backgroundfill col null null wherebackground andbackgroundfill package easily setting cs style control setstyle method cs useful setting border setting padding emp ty space left content alabelis certainly simplest type control add hing labeled class purpose simply display unedited text graphic user label class constructor ﬁrst parameter typestringspecifying text label second add parameter type nodespecifying graphic label example assuming tuxicon theimageview object previous subsection label message new label hello world label linuxad new label choose linux tuxicon default background label completely transparent label border padding default like add p adding example setting property using cs blue width white ve seen button used section abutton like alabel display text graphic user buttonclass like labelclass constructor button stopbutton new button stop button linuxbutton new button linux tuxicon user click button event type actionevent generated register event handler action button s setonaction method example e chapter introduction gui programming addition method inherited labeled button instance method setdisable boolean andsettooltip string mentioned beginning section setdisable andsettext method particularly useful giving user information going program disabled button better button give obnoxious error message sorry t click example suppose want use button start stop animationtimer animator animation running start button dis abled animation paused stop button disabled code th look like button startbutton new button run animation button stopbutton new button stop animation true stop button initially disabled e true false e false true ensures user t try start animation wh en started stop stopped button trigger default action program example user enter data text input box clic k compute button process data nice user just press return w hen typing instead having click button javafx make button button default button window contains calling true window default button pressing return enter key keyboard equivalent clicking default button unless key event generated return key consumed component convenien t user checkbox radiobutton acheckbox component state selected unselected selected mean checkbox checked user change s tate check box clicking state checkbox represented boolean value trueif box selected falseif box unselected checkbox label spec iﬁed box constructed checkbox showtime new checkbox current time checkbox subclass labeled checkbox graphic instance method labeledclass used checkboxes construc tor speciﬁes graphic checkbox graphic set calling setgraphic node usually s user set state checkbox clicking set state programmatically current state o f checkbox set using itssetselected boolean method example want checkbox showtime tochapter introduction gui programming checked say true uncheck box say false determine current state checkbox calling isselected method return boolean value case don t need worry event check box program just check state need know callin g theisselected method checkbox doe generate event state c hanged user detect event respond want t o happen moment state change state checkbox changed u ser generates event typeactionevent want happen user change sta te register handler checkbox calling setonaction method note change state calling setselected method actionevent generated method checkbox class simulates user click checkbox doe generate actionevent actually possible checkbox state c alled indeterminate possibility turned oﬀ default api documen tation detail closely related checkboxes radio button like checkbox radio button selected radio button expect ed occur group radio button given group selected gi ven time radio button group let user select choice alternat ives javafx radio button represented object type radiobutton used isolation radiobutton act just like checkbox constructor method event inclu ding method inherited labeled ordinarily radiobutton used group group radio button represented object belonging class togglegroup atogglegroup isnota component doe visible representation screen togglegroup work scene organize group radio button en ure button group selected given time use group radio button create radiobutton object button group create object type togglegroup organize individual button group radiobutton added individually scene graph appear screen togglegroup play role placement button screen radiobutton added togglegroup calling radio button s settogglegroup group instance method want button selected initially setselected true button don t button selected user click s example set group radio butt ons used select color radiobutton redradio blueradio greenradio yellowradi o variable represent radio button instance variable used program togglegroup colorgroup new togglegroup redradio new radiobutton red create button colorgroup add tog glegroup blueradio new radiobutton blue colorgroup chapter introduction gui programming greenradio new radiobutton green colorgroup yellowradio new radiobutton yellow colorgroup true make initial selection alternative calling true use selecttoggle instance method togglegroup class select radio button redradio just checkboxes necessary registe r listener radio button test state individual radiobutton calling isselected method toggle group s getselectedtoggle method return type method toggle interface implemented radiobutton example toggle selection selection redradio color selection greenradio s radio button look like lined vertical ly container textfield textarea thetextfield andtextarea class represent component contain text e dited user textfield hold single line text textarea hold multiple line possible set textfield ortextarea user read text contains edit text class subclass abstract class textinputcontrol deﬁnes common property textfield andtextarea method common instance method settext text take parameter type string used change text displayed input component content compone nt retrieved calling itsgettext instance method return value type string add stringof text end text component b y calling instance method appendtext text text settext andappendtext method include character represent line break textfield ignored instance method setfont font used change font used text componen want stop user modifying text ca llseteditable false method parameter trueto make input component introduction gui programming user type text component inp ut focus user input focus text component clicking th e mouse useful input focus text ﬁeld programmaticall calling requestfocus method substring text text component selected text highlighted cut copied text component user component bring menu editing command textinputcomponent instance method working text selectio n mention selectall selects entire string text text componen example discover error user s input textfield input usually help user error occurred let user start typing correction immed iately user start typing old text input box highlighted auto matically deleted textfield class textarea class constructor constructor parameter make initially t ext input box second constructor take parameter type string specifying initial content box atextfield preferred number column default thi s determines preferred width text ﬁeld size used size reset program text ﬁeld laid container pr eferred number column atextfield input changed calling n wherenis positive integer similarly textarea preferred number column preferred number row default value changed u sing textarea instance method setprefcolumncount n andsetprefrowcount n thetextarea class add useful method inherited textinputcontrol including method getting setting text scrolled important setwraptext wrap wherewrapis type boolean method say happen line text long displayed text area wrapis true line long wrapped l ine line break occurring word possible wrapis false line simply extend outside text area nd user scroll text area horizontally entire line default value ofwrapis false necessary scroll text area text contains textarea come scroll bar scroll bar visible needed text ﬁt available space sample program short example using text ﬁeld text area window program te xt edited scrolled line chapter introduction gui programming pasted source code program text area slider asliderprovides way user select integer value ra nge possible value user doe dragging knob bar click ing point bar slider optionally decorated tick mark nd label picture sample program show slider diﬀerent decoration diﬀerent range value second slider decorated tick mark decorated label s possible single slider type decora tions commonly used constructor slidersspeciﬁes start end range value slider initial value ﬁrst appea r screen public slider double minimum double maximum double valu e iftheparametersareomitted bydefault asliderishorizontal make vertical calling method setorientation orientation enum package current value slidercan read time getvalue method return value type double want change value programmatically method setvalue val take parameter type double speciﬁed value minimum maximum slider value t adjusted lie range want respond immediately user change v alue slider registeralistenerwiththeslider slider unlikeothercomponents wehaveseen donotgenerate actionevents instead observable property type doublethat represents value subsection access value property slider slider calling add listener property calledchapter introduction gui programming value change example sample progr add listener slider command e slidervaluec hanged listener called value change eith er user dragging knob slider program call setvalue want know user generated event dragging slider s knob c slider s isvaluechanging method return trueif user dragging knob using tick mark slider process specify th e interval tick mark tell slider tick mark displ ayed actually type tick mark major tick mark minor tick mark major tick mark bit longer minor tick mark method setmajortickspacing x indicates major tick mark xunits slider parameter type double spacing term value slider pixel control minor tick mark setminortickcount n parameter anintthat speciﬁes minor tick mark placed nsecutive major tick mark default value don t want minor tick mar k set count zero calling method make tick mark app ear setshowtickmarks true example second slider sample program cre ated conﬁgured using command new slider use default value space big tick m ark small tick mark betwe en big tick mark true label slider handled similarly label plac ed major tick mark label omitted overlap t label need setshowticklabels true example slider illustration created conﬁgured label command new slider tick mark shown true value slider type double want restrict value integer multiple given value true user ﬁnishes dragging slider s knob valu e moved value nearest major minor tick ma rk tick mark visible value notbe restricted user dragging knob value s just adjusted end drag value set calling setvalue x alsonotrestricted method adjustvalue x set value value tick mark nearest example want slider snap integral value n range say slider sldr new slider major tick unit apart minor tick mark true sample program slider conﬁgured snap integer value end drag introduction gui programming basic layout component fundamental building block graphical user inte rface component create aspe ct gui programming laying component screen deciding pl aced big probably noticed computing coordina te diﬃcult problem especially don t assume ﬁxed size drawing java solution component visible object make gui mponents container hold component javafxterms container scene graph node contain scene graph node child ren container laid mean setting size position po ssible program layout layout usually automatically ntainer diﬀerent kind container implement diﬀerent policy laying child node section cover common type javafx container layout policy section look programming example use componen t layout becauseacontainerisitselfascenegraphnode youcanadda containerasachildofanother container make complex nesting component possib le shown illustration inthispicture alargecontainerholdstwosmallercontain er eachofthetwosmallercontainers turn hold component everyscenegraphnodehasaminimumwidthandheight amaxim umwidthandheight preferred width height container consults val ues deciding lay child node resizable m eaning meant resized container layout component minimum maximum preferred width height eﬀectively equal component s actual si example component general conta iner compute preferred size based component contains container s preferred size allow component contains preferred siz container compute minimum maximum size similar way based mi nimum maximum size child setting size child doing layout cont ainers notset width child child s minimum width great er child s maximum width child s height true e ven mean child overlap component extend outside contain er outside containerchapter introduction gui programming shown depending container thi s leave space container resizable node includes control containe r instance method setting minimum preferred maximim width setminwidth w setprefwidth w andsetmaxwidth w parameter type double similar instance method height set width height value simul taneously method setmaxsize w h andsetprefsize w h container value set method override value computed container based child contains javafx container layout deﬁned class paneand subclass pane subclass package look layout class starting using panedirectly layout like layout instead le tting standard container class complete control size nd location node setting unmanaged false anycontainer contains nodeas child completely ignore node far layout concerned responsibility set t location resizable node size note unmanaged node placed inside container appear screen ﬁrst layout example ll look using paneclass container panewill manage size location managed nod e contains using paneas container assume responsibility setting po itions child node panewill default resize child preferred size want job need make child unmanaged ifnodeis scene graph node unmanaged container t hat doe set location child node set location calling x y put left corner node point x y measured coordinate container contains node similarly s et size node allowed calling width height width height measured pixel look example contains component button label canvas display checkerboard pattern chapter introduction gui programming program just example layout doesn t anythi ng clicking button change text label use exampl e insection starting point checker game example us paneas root node scene container component mean program responsible s etting location component calling relocate method appear left corner default location afte r looking result decided wanted button size larger t han preferred size work button unmanaged wise calling resize method eﬀect pane set bac k preferred size code application s start method creates component conﬁgures including setting location size s create child node board new checkerboard nested subclass canvas draw content checkerboard newgamebutton new button new game e donewgame resignbutton new button resign e doresign message new label click new begin light green null set location child calling relocate thod set size button effect mak echapter introduction gui programming butons unmanaged managed pane s et size false false thepanethat hold component root node scene wi ndow program sized just large hold paneat preferred size default apanecomputes preferred size just large al l managed child button unmanaged include d preferred size make window large include allow mor e space label program set preferred width height th e pane pane root new pane button label board added child pane make appear screen command board newgamebutton resig nbutton message alternatively added using st atements board child node given parameter c onstructor pane root new pane board newgamebutton resignbutton m essage pane root scene scene ha s placed stage stage conﬁgured shown scree source code complete story s fairly easy case reasonable layout s diﬃcult layout want allow change size wi ndow probably write subclass pane superclass region override layoutchildren method called container need layout including container resized real ad vice want allow change container s size try ﬁnd standard tainer layout work borderpane aborderpane subclass panethat designed display large central component smaller component arranged edge central component ﬁve position referred center right left meaning ﬁve position shown diagram chapter introduction gui programming centertop øùúûnote border layout contain fewer ﬁve componen t ﬁve possible position need ﬁlled unusual center component theborderpane class constructor parameter th take single parameter giving center child pane child n ode added borderpane pane using method node node node node node calling method parameter nullwill remove child position pane aborderpane set size child node follows w idth height component restricted lie minimum nd maximum width height component component present shown preferred height width set equal width c ontainer left right component shown preferred width ight set height container minus space occupied com ponents finally center component take remaining space default preferred size borderpane set just big accommodate preferred size managed child minimum size compute d similar way default maximum size borderpane unlimited subclass pane possible tweak layout child applyin g thing called layout constraint example happens ina borderpane ifachildcannot resized exactly ﬁt available space case th e child default position available space center child centered center space pane child placed left corner space n pane change default placement using static method borderpane class child position wherechildis child node position want tweak position constant enumerated type po package possible position left right ﬁnd strange alignment set using static method s way lay constraint work javafx set margin child borderpane margin space child background color pane ma rgin margin speciﬁed value type inset package object type insetshas double property right andleft speciﬁed constructor chapter introduction gui programming new inset right left constructor take single parameter wh ich used value property used margin child node proper tie specify width margin right left edge chi ld margin speciﬁed using static method child inset example topchild new inset remember tweak appearance containe r using cs tion easiest way set border background color container hbox vbox common want lay set component horizont al row vertical column class hboxandvboxcan used hboxis subclass panethat lay child horizontal row vboxis subclass panethat lay child vertical column hboxmight used component borderpane makingitpossibletolineupseveralcomponentsalongthebo ttomoftheborderpane similarly avboxmight used left right component borderpane discus hbox butvboxis used entirely analogous way anhbox hbox conﬁgured leave gap child nex gap given value type double b e set calling gapamount default value zero child added hboxin way pane child thehboxclass constructor parameter tha t take size gap ﬁrst parameter optionally followed child node s added box default hboxwill resize child preferred width possibl y leaving blank extra space right blank space ther e width hboxhas set larger preferred width using t child s preferred width make total width greater actual wid th hbox shrink child limit minimum width h child set available height hbox limit set minimum maximum height like child grow pref erred width ﬁll available space hbox make happen need set layout constraint child want grow using static method child priority second parameter constant enumerated type priority package value likely mean child share extra space child s width w ill limited maximum width need increase maximum ch ild grow extent want example suppose hboxcontains button like grow ﬁll entire hbox need set hgrowconstraintchapter introduction gui programming button furthermore maximum width ton equal preferred width need increase button s maximum width e set maximum width infinity mean button grow limit infinity infinity infinity extra space distributed equally butt ons added preferred width doe mean wid th original preferred width equal sample program section wanted button hboxto size accomplish simply gave thre e button large preferred width thehboxwill shrink button proportionately ﬁt ava ilable space end width way tweak layout hbox add margin child using static method similar used purpose borderpane set hboxto use preferred height child instead stretching ﬁt height hbox calling false say hbox child placed ﬁll entire hbox calling position parameter type poswith default left course apply cs style property example look gui built entirely using hboxandvbox complete program program textfields user enter number button user click add subtract multiply divide number labelthat display result operation picture o f program s window root node window vboxcontaining item ﬁrst item hboxes ﬁrst hboxcontains component labeldisplaying text x textfield created command xinput new textfield text input box initially taining hbox xpane new hbox new label x xinput chapter introduction gui programming later added ﬁrst child vboxnote label simply created constructor added hbox need reference hboxcontains button button default width woul d small make ﬁll entire hbox add hgrow constraint button increase maximum width s create button hbox hold button plus new button e dooperation button minus new button e dooperation button time new button e dooperation button divide new button e dooperation hbox buttonpane new hbox plus minus time divide button need tweaked entire buttonpane giving butto n large maximum width setting hgrow constraint button plus infinity minus infinity time infinity divide infinity position vboxis occupied label component added directly vbox need wrap hbox order text label appear center instead t left edge window needed increase maximum width label vboxwill set width ﬁll entire available space furthermore set al ignment property label tell label place text center label n ot left infinity point example aside layout thedooperation method called user click button thod retrieve user s number text ﬁelds perform appropriate arithm etic operation depending button clicked set text labelto represent result content text ﬁelds retrieved string nd string converted number conversion fails label set dis play error message private void dooperation char op double x y number input box try x input introduction gui programming string xstr x xstr catch numberformatexception e string xstr legal number error message input focus xinput select text box illegal data x return stop processing error occurs try number second input box string ystr y ystr catch numberformatexception e illegal data y return perform operation based parameter op op x y op x y op x y x y op y t divide zero error message t divide zero x y end dooperation complete source code example gridpane tilepane consider gridpane subclass panethat lay child row column row column numbered starting zero illustration typical grid row column chapter introduction gui programming ý þ ßü ý þàü ý þáü ý þ â ã ä å æ ç ä å æ ç ä å æ ç ä å æ ç ä å æ ç note row necessarily height d column necessarily width possible leave gap row column background gridpane gridis thegridpane set size gap calling gapsize gap column gapsize gap row specify row column child placed add child thegridpane child column row note column number speciﬁed ﬁrst fact possible child span row column grid number column number row child occupy given additional parameter add method child column row columncount rowcount number row number column grid determ ined position child added agridpane resize child ﬁll position position t occupies grid minimum maximum size limit preferred wid th column just large accommodate preferred width childr en column similarly preferred height way tweak thi s behavior mention actual column width row height trolled agridpane set column constraint set row constraint determine column width row height computed t width column computed based width child default t set constant value computed percentage available space comput ation row height similar set constant row height gridpane row new rowconstraints row height pixel new rowconstraints row height pixel new rowconstraints row height pixel new rowconstraints row height pixel chapter introduction gui programming case total height gridpane m atter space available percentage used grid pane expand ﬁll av ailable space row height column width computed percentage example force column gridpane ﬁll available width force lumns size int columnconstraints constraint new columnconstraints constru ctor doe constraint percentage add creased proportionately example setting ﬁve percentage t eﬀect setting thing complicated probably common case example using gridpane source code subsection able read understand entire prog ram like grid rectangle sam e size use tilepane atilepane arranges tile row column tile h old child node way spread child tile atilepane tpane preferred number row preferred number colu mn set calling col preferred number column used tilepane shown preferred size usual case necessarily tru e shown diﬀerent size case number column determined w idth available space number row determined number child de added tilepane child laid order ﬁlling ﬁrst row fr om left right second row required row mpletely ﬁlled true orientation tilepane horizontal possible change orientation vertical case number preferred row spe ciﬁed instead number column little reason s common tilepane number preferred column case similar vbox common number column equal number child node case similar hbox preferred size width tile equal la rgest preferred width child node similarly height tilepane resize child completely ﬁll tile make child larger m aximum width height tilepane constructor parameter take list y number child added pane add child l ater using child specify size horizontal gap place d column vertical gap placed row backgroun d pane gap gap amount speciﬁed constructor optionally followed list child chapter introduction gui programming tilepane tpane new tilepane hgapamount vgapamount speciﬁed later h v example us tilepanes layout solution exercise complete program chapter covered basic aspect gui programming s lot learn return topic chapter know write interesting program section look complete program use learned gui programming c hapter learned programming general earlier chapter long way encounter new idea little card game ﬁrst program consider gui version c card game fromsubsection new version look playing card try predict card h igher lower value ace lowest value game gui version program click button make prediction predict wrong lose yo u make correct prediction win completing game click new game s tart game program look like middle game complete source code program ﬁl encourage compile run note program al o requires fromsection deﬁne class used program requires ﬁle card image used subsection layout program easy guess highlowgui us aborderpane root scene graph center position occupied canvason card message drawn position contains hboxthat turn contains button order make button ﬁll hbox set width discussed insubsection start method program public void start stage stage cardimages new image load card image board new canvas space introduction gui programming button higher new button higher create button e dohigher install event han dlers button lower new button lower e dolower button newgame new button new game e donewgame hbox buttonbar new hbox higher lower newgame make eac h button width borderpane root new borderpane create scene grap h root node board buttonbar donewgame set game scene scene new scene root finish setting scene stage scene game false end start note event handler method donewgame deﬁned program programming method nice exa mple thinking term state machine subsection important think term state game state change response t o event depend state approach produced original ted game subsection appropriate trying think game term process go beginning end likely confuse hel p state game includes card message c ards stored object typehand message string value stored instance variable obvious aspect state g ame progress user supposed make prediction card game user supposed click new game button s good id ea track basic diﬀerence state program us boolean instance vari able named gameinprogress purpose state game change user click b utton program method respond button click dohigher dolower andnewgame s method action ga take place wedon twanttolettheuserstartanewgameifagameiscurren tlyinprogress thatwould cheating response newgame method diﬀerent depending state variable gameinprogress true false game progress message instance variable set error message game n progress state variable set appropriate value beginn ing new game case board redrawn user stat e changed complete newgame method follows called start method called event handler ifchapter introduction gui programming user click new game button start new game private void donewgame gameinprogress current game error try start new game message finish game drawboard return deck new deck create deck hand use ga hand new hand deal card int o hand message card higher lower gameinprogress true drawboard end donewgame thedohigher anddolower method identical probably combined method parameter clever let s look dohigher routine called user click higher ton make sense game progress ﬁrst thing dohigher check value state variable gameinprogress value false thendohigher just set error message game progress new card sho uld added hand user s prediction tested user win lose time value state variable gameinprogress set falsebecause game case board redrawn new state dohigher method called event handler user click higher button check user s prediction game end user guessed wrong user correct prediction private void dohigher gameinprogress false game ended error click higher set error message abort processing message click new start new game drawboard return deal card hand int cardct card thiscard cardct card just dealt card prevcard cardct previous ca rd gameinprogress false message bad lose gameinprogress false message bad lose tie chapter introduction gui programming cardct gameinprogress false message win correct guess message got right try cardct drawboard end dohigher thedrawboard method responsible drawing content c anvas us value state variable decide di splay string stored message variable draw card hand little tricky bit game progress draw extra card s hand represent card deck technique drawing indiv idual card explained section source code method deﬁnition menu menubars second example program mosaicdraw kind drawi ng program source code program ﬁle program requires screenshot showing sample drawing program user mouse large drawing rea program leaf trail little colored square random variat ion color square meant make picture look little like real mosa ic picture small colored stone natural c olor variation program feature encountered menu bar drawing area control menu contains command ﬁlling cl earing drawing area option aﬀect appearance picture t color menu let user select color used user draw ols menu aﬀects behavior mouse using default draw tool mouse leaf trail single square usingchapter introduction gui programming draw tool mouse leaf swatch colored squa re square wide erase tool let user set square b ack default black color drawing area program panel belongs mosaiccanvas class subclass canvasthat deﬁned highly reusable class representing mosaic colored rectangle wa s used scene sample program subsection themosaiccanvas class doe directly support drawing mosaic doe support setting color dividual square mosaicdraw program installs mouse handler canvas handler respond mousepressed mousedragged event canvas applying currently selected tool canvas square contains mouse position nice examp le applying event listener object programmed obj ect urge study discussing aspect code able understand reading section us technique understand point encourage read comment ﬁle learn api mosaiccanvas mosaicdrawistheﬁrstexamplethatwehaveseenthatusesame nubar fortunately menu easy use javafx item menu represen ted object belonging classmenuitem subclass menuitem class menu item used exactly way button particular menuitem created using constructor speciﬁes text menu item menuitem fillcommand new menuitem menu item like button graphic text nd second constructor allows specify text graphic use r selects menuitem menu actionevent generated just button add action event listener menu item using setonaction handler method menu item setdisable disabled method used enable disable item asettext method changing text displayed item main diﬀerence menu item button course menu item meant appear menu actually menu item nodethat appear scene graph usual place menu menu javafx represented class menu fact menuis actually subclass menuitem mean add menu item menu menu add beco me submenu menu add menuhas speciﬁed constructor instance method getitems return list menu item contained menu add item menu need add list menu samplemenu new menu sample menuitem add menu ite m menu dd multiple item menu created added menu bar men u bar represented class menubar menu bar just container menu doe nam themenubar constructor called parameter parameter list containing menusto added menu bar instance method getmenus return list menu method add andaddall adding menu menu bar forchapter introduction gui programming example mosaicdraw program us menu controlmenu colormenu andtoolmenu create menu bar add menu state ments menubar menubar new menubar controlmenu colormenu lmenu list menu menu bar constructor menubar menubar new menubar controlmenu colormenu lmenu ﬁnal step using menu add menu bar progra m s scene graph menu bar actually appear typically s hould window program menu bar usually use borderpane root scene graph add menu bar component root pa ne rest gui program placed position bo rder pane using menu generally follows pattern create m enu bar create menu add menu bar create menu item add m enus set listening handle action event menu item place menu b ar borderpane root scene graph kind menu item deﬁned subclass menuitem added menu simple example separatormenuitem appears menu line menu item example contr ol menu mosaicdraw add separator menu menu just need say new separatormenuitem interesting subclass checkmenuitem andradiomenuitem acheckmenuitem represents menu item state select ed selected state changed user selects th e item menu contains checkmenuitem functionality used way checkbox seesubsection checkmenuitems used control menu mosaicdraw program used turn random color v ariation square oﬀ turn symmetry feature oﬀ symme try turned user s drawing reﬂected horizontally vertically produce symmetric pattern checkmenuitem show hide grouting mosaic grouting consists gray line drawn little square mosaic checkmenuitem corresponds use randomness option control menu set statement userandomness new checkmenuitem use randomness true randomness initi ally turned userandomness add menu item menu noactionevent handler added userandomness program simply check state coloring square decide add random variation color hand w hen user selects use grouting check box menu canvas immed iately redrawn reﬂect new state handler added checkmenuitem care calling appropriate method e dousegrouting usegroutin introduction gui programming color tool menu contain item type radiomenuitem used way radiobuttons discussed subsection aradiomenuitem like check box selected unselected se veralradiomenuitems added atogglegroup group member selected p rogram user selects tool want use tool menu tool selected time make sense use radiomenuitems represent available tool item togglegroup currently selected option tool menu marked selected user cho os new tool mark moved give user visible feedback tool currently selected use furthermore togglegroup observable property representing currently sele cted option subsection program add listener property event handler called user selects new ol code creates tool menu menu toolmenu new menu tool togglegroup toolgroup new togglegroup e dotoolchoice addradiomenuitem toolmenu draw toolgroup true addradiomenuitem toolmenu erase toolgroup false addradiomenuitem toolmenu draw toolgroup false addradiomenuitem toolmenu erase toolgroup fals e theaddradiomenuitem method used code utility method deﬁ ned program utility method create radio menu item add togglegroup add menu private void addradiomenuitem menu menu string command togglegroup group boolean selected radiomenuitem menuitem new radiomenuitem command group menuitem selected true complete code creating menu bar mosaicdraw method createmenubar encourage study source code scene stage ending brief introduction gui programming w e look fundamental class little scene package andstage package ascenerepresents content area window includi ng window s border title bar serf holder root sce ne graph sceneclass constructor require root sc ene graph parameter root null common constructor root parameter new scene root introduction gui programming scene width height speciﬁed param eters constructor new scene root width height typical case rootis apane size pane set match size scene pane wil l lay content based size size scene speciﬁed const ructor size scene set preferred size pane possibl e program set width height sceneafter created size stage tains scene changed size scene automatically chang ed match new size stage s content area root node scene pane resized ascenecan background ﬁll color actually paint speciﬁed constructor generally scene s background seen covered background root node default style set background root light gray set background color root transparent want scene background instead astage package represents window computer s screen javafx application stage called primary stage cre ated passed parameter application s start method seen example far textbook program use m ore window possible program create new stageobjects chapter stage contains scene ﬁlls content area sce ne installed stage calling instance method scene possible stage doe contain scene content area just blank r ectangle addition content area stage title bar content title bar contains title window decoration le control user click thing like close maximize window title bar provided operating java style set operating syst em instance method string set text shown title bar title ch anged time default stage resizable size windo w changed user dragging border corner prevent user c hanging window size false program change size stage instance method w h stage usually initial size stage determined size scene contains possible s et initial size showing window using setwidth andsetheight default stage resizable user make wi ndow arbitrarily small arbitrarily large possible limit re izability window instance method w w h h size limit apply user dragging border corner window possible change position stage scr een using instance method x y x y coordinate specify position left corner window coordinate scr een typically showing stage finally remember stage visible s creen calling instance method showing primary stage typically thing application s start introduction gui programming creating jar file java class resource ﬁles distributed jar java archive ﬁles program consists multiple ﬁles make sense pack single jar ﬁle topic chapter look program c run directly jar ﬁle unpacking javafx program th e user need access javafx sdk jar ﬁle executable meaning spe ciﬁes class contains themain routine run jar ﬁle executed ha ve executable jar ﬁle doe require javafx external resource run command line using command form java able run jar ﬁle g icon ﬁle browser window executable jar ﬁle requires javafx ne ed add option javacommand discussed subsection example java ja question create jar ﬁle answer depe nd programming environment using basic type programmin g line discussed section ide integrated development environment java command creating jar ﬁles eclip se ide example follows package explorer pane select pro gramming project just individual source resource ﬁles want include selection choose export menu pop window appears select jar ﬁle click window appears enter ful l path jar ﬁle box labeled jar ﬁle click browse button box select ﬁle using ﬁle dialog box ﬁle end ar creating regular jar ﬁle executable hit finish t point jar ﬁle created create executable ﬁle hit button twiceto jar manifest speciﬁcation screen screen inpu t box labeled main class enter class contains main routine run jar ﬁle executed hit browse button main class box select class list class contain main routine ve selected main class click finish button create ex ecutable jar ﬁle itisalsopossibletocreatejarﬁlesonthecommandline javadevelopmentkitincludes program named jarthat used create jar ﬁles class default package like example book jarcommand easy use create jar ﬁle command line change directory contains class ﬁles want include jar th en command jar wherejarfilename want use jar ﬁle used create jar ﬁle followed jar ﬁle created wildcard make match class ﬁle current directory mean class ﬁles director y included jar ﬁle want include certain class ﬁles th em individually separated space list class ﬁle name separately t program us resource ﬁles image listed command th ings complicated class resource default package case ﬁles inchapter introduction gui programming subdirectory directory issue jarcommand include path ﬁle example macos linux window making executable jar ﬁle command line litt le complicated way specifying class contains main routine adding command value giving class executed jar ﬁle run example class mymainclass jar ﬁle created jar mymainclass program deﬁned package main class deﬁned ﬁle package command jar s window slash replaced slash option abbreviation longer form create file use longer form prefer clarity bre vity jpackage collect class ﬁles resource ﬁles program jar ﬁle jar ﬁle like use program person need java installed tha t really likely day unless person java developer possible solu tion bundle java virtual machine program java development kit cludes jpackage command make possible thejpackage command create installer install progr java support needed run signiﬁcan t limitation make installer type computer operating th using example possible use jpackage linux make installer window ﬁles make large include large s java execution environment sojpackage really meant packaging large application want try basic example using option ar e available jpackage example installer network poker game subsection help understand work package general apply jpackage program us javafx make java package available jpackage command purpose t use javafx sdk instead need javafx jmods subsection discussion javafx sdk jpackage need download jmods operating syste m http computer extracted downloaded ﬁle jmods required include speciﬁc opera ting support sdk jar ﬁles usejpackage need jar ﬁle contains class resource ﬁle s program poker game us class package plus resource image ﬁle make jar ﬁle ﬁrst compiled java ﬁles program poker game us javafx included necessary option javaccommand used following command directory contained netgame directory typed line chapter introduction gui programming javac created jar ﬁle command typed line jar important include image resource ﬁle t class ﬁles note window slash replaced backslashes new directory working new directory used f ollowing long jpackage command typed line jpackage input netpoker phics value input option period represents current working dir ectory replaced path directory contains value option class contains main pro gram option needed jar ﬁle executable value nameoption used installer executable ﬁle inst refers directory contains javafx jmods added m odules just javafx module needed program used computer running linux mint produced ﬁle named netpoker install usual way installed po ker executable macos using jdk subsection jpackage installed jdk available able deﬁne alias alias type line used sam e command given appropriate directory name javafx sdk jmod result ﬁle containing program run jpackage command properly set newer version macos thejpackage command work window requires somethi ng called wix toolset addition jdk tried exercise chapter thefollowingcodewasgivenasanexample itinstallsa mousepressed solution event handler canvas handler let user draw red rectangle point user click mouse holding shift key d blue oval evt graphicscontext g write complete program doe addition program continue draw ﬁgures user drag mouse mouse w ill leave trail ﬁgures user drag user canv canvas simply cleared ﬁgures drawn use r drag mouse discussion dragging subsection picture solution note black border added shape ma ke distinct make problem little challenging drawing s hapes drag operation make sure shape drawn lea st say pixel apart implement track position wher e previous shape drawn quare theusershouldbe solution able drag square mouse ll need in tance variable remember square user dragging user drag squa window want disappear allow user squa re window add akeypressed event handler restore square origina l position whentheuserpressestheescapekey thekeycodefortheesca program show pair dice dice drawn acanvas solution assume size canvas pixel whe n user click canvas dice rolled dice sho uld assigned newly computed random value die drawn square showing dot draw dice good idea write subroutine void drawdie graphicscontext g int val int x int y draw die speciﬁed x y coordinate second parameter val speciﬁes number dot showing die picture canvas displayin g dice exercise wrote graphical program dice rolled solution user click canvas make progra m user roll dice clicking button button appear canvas show dice make following change dice rolle d instead just showing new value short animation value dice changed frame animation supposed make dice look m ore like actually rolling youdrewacheckerboard forthisexercise writeaprogramwheretheuser solution select square clicking highlight selected square drawing colored border program start square selec ted user click square currently selected select ed previously selected square unselected user click square t hat selected unselected assume size checkerboard exac tly pixel square checkerboard pixel c heckerboard square row column selected shown reduced size exercise modify subkiller game subsection solution start existing source code ﬁle modify game keep track number hit miss display thes e quantity time depth charge blow sub number hit go timeexercises depth charge fall oﬀ screen hit ting sub number miss go room canvas d isplay number exercise add line source code ﬁgure add ll read source code closely understand work involved class compute statistic set solution number write gui program us statcalc class compute display statistic number entered user program h ave instance variable typestatcalc doe computation program include textfield user enters number label disp lay statistic number entered number number su m mean standard deviation time user enters new number statistic displayed label change user enters number typin g textfield clicking enter button pressing turn enter key clear button clear data m eans creating new statcalc object changing text displayed label discussion default button end subsection way implementing response return key picture solution probl em getting interface look just like wanted har dest end used tilepanes subsection layout program textarea user enter text program solution button user click butt program count number line user s input number word user s input number character user s input informati displayed threelabels recall textinput atextarea content textarea calling function function return string containing text text area number char acters just length thisstring line stringare separated new line character number line just number new line character th estring plus word little harder count exercise advice abo ut ﬁnding word string essentially want count number character tha t ﬁrst character word picture solution exercise geometric ﬁgure sequence connected line se gments solution point line segment meet called vertex polygon subsection list method graphicscontext aremethodsforstrokingandforﬁllingpolygons xcoords ycoords n xcoords ycoords n command coordinate vertex polygon stored array xcoords andycoords typedouble number vertex polygon given par ameter n note ok side polygon cross int erior polygon exactly expect write program let user draw polygon user c lick sequence point canvas count point store array point vertex polygon user s creating polygon just connect point line segment wh en user click near starting point draw complete polygon draw red interior black border user completed polygon click c lear data start new polygon scratch picture solution user drawn fair ly complex polygon exercise gui blackjack program let user play game blackjack solution computer dealer program draw user s ca rds dealer s card just graphical highlow card game subsection use source code game idea write blackjack game structure highlow program th e blackjack program similar certainly want use drawcard method highlow program ﬁnd description game blackjack exercise add following rule description player take ﬁve card going player win immediately rule used casino program mean allow room ﬁve card make canv just wide ﬁve card tall user s hand d dealer s hand note design gui blackjack game diﬀerent f rom design program wrote exercise u ser play game clicking hit stand button new game button used start game game end d ecide happens button pressed don t cha nce getting right unless think term state game nd state change program need class deﬁned need image ﬁle contains picture card exercise picture blackjack game ca n use guide version exercise doe allow betting s ome aesthetic change gui blackjack program compared high low program blackjack game exercise user click o n hit stand solution newgame button doesn t make sense better button disabled appropriate time new game button disabled game progress hit stan d button disabled nota game progress instance variable gameinprogress tell game progress just m ake sure button properly enabled disabled var iable change value strongly advise writing method called tim e necessary set value gameinprogress variable method responsibility enabling disabling button long used con istently recall bttnis variable type button true disables button false enables button asasecond andmorediﬃcult improvement makeitpossible fortheusertoplacebets blackjack game program start user add textfield strip control panel use r enters bet textfield game begin check bet game begin end error occur content textfield legal number bet user place money user bet detect error error message instead starting game user s bet sh ould integral number good idea make textfield uneditable game progress ifbetinput thetextfield make editable uneditable user command true false thedrawboard method include command display money user left thing think ideally program start new game ﬁrst created user chance s et bet game start start method donewgame want display message welcome blackjack befo ﬁrst game start picture program quiz quiz chapter answer written graphical user interface deal explain meant term diﬀerent example event discus program respond event central concept javafx scene graph scene graph standard class called canvasandgraphicscontext explain purpose class canvasis variable type canvas write code segment draw green square centered inside red circle canvas il lustrated picture produced following forloop gi variable typegraphicscontext int int j j j j standard class called mouseevent purpose class doe object type mouseevent diﬀerence keypressed event keytyped event animationtimers used animation checkbox used doe diﬀer radiobutton meant layoutof gui component explain brieﬂy layout javafx doe borderpane arrange component contains preferred size component set used chapter array arraylists record computer lot power working data structure data structure organized collection related data obj ect data structure combined usually method type data onsisting fairly small number named instance just beginning n case programmer build complicated data structure hand linking objec t ll look data structure chapter chapter look basic data structure type data structure important basic built programming language array encountered array section andsubsection continue study array chapter including new detail o f use additional technique particular look t important topic algorithm searching sorting array section array ﬁxed size t changed array s created case useful data structure grow s hrink necessary section look standard class arraylist represents data structure array numbered sequence item type arecordis kind standard data structure like array record consists sequence item record item referred instead number item diﬀerent type object java thought record sense b ut java introduced record explicitly language special kind class c ertain restriction look record class section array detail array basic discussed previous chapter detail java syntax ﬁlled lot say using array section look syntactic detail information rray processing come rest chapter brieﬂy review basic array numbered sequence element element act like separate variable elemen t type called base type array array type base ty pe isbtype array type btype element array index just numerical position sequence element numberi ng starting zero array isa element number iof array number element array called array arraylists record itslength length array length array t changed array created element array aarea attempt refer array element index outside range zero cause arrayindexoutofboundsexception array java object array variable referto array doe contain array value array variable null case doe refer array attempt refer array elem ent cause nullpointerexception array created using special form newoperator example int new int creates new array base type intand length set variable ato refer newly created array loop array processed using forloops forloop make easy process element array beginning end example namelist array string value list printed using int namelist type processing common alternat ive form forloop make easier write alternative called loop probably easiest start example loop printing al l value array string string namelist meaning string namelist string array namelist following eﬀect variable nametakes value innamelist turn body loop executed v alues note array index loop loop control variable represents value array index value loop meant speciﬁcally processing th e value data structure section andchapter applies data structure array loop make possible process va lues data structure knowing detail data structured case array let avoid complication using array index loop perform operation valu e stored array itemarray array type basetype loop itemarray form basetype item itemarray process item usual brace optional stateme nt inside loop loop itemis loop control variable declared variable t ypebasetype wherebasetype base type array loop loop trol variable mustbe declaredchapter array arraylists record loop variable exists outsi loop loop executed value array assigned itemin turn body loop executed value loop exactly equi valent int index index basetype item item itemarray index value arr ay process item example ai array type int print value awith loop int item item add positive integer awith int sum sum positive number n int item item sum sum item note use varfor declaring local variable introduced subsection applies loop control variable loop instead basetype item itemarray wecouldwrite var item itemarray type variable deduced base type array syntax useful dealing complicated type loop appropriate example th ere simple way use process item just array process element reverse order doe make code little simpler wan t process value order eliminates need use array index s important note loop process valuesin array element element mean actual memory location pa rt array hold value example consider following ncorrect attempt ﬁll array integer s int intlist new int int item intlist incorrect doe modify array item assignment statement item assigns value loop control variable item array body o f loop executed value element array copied item statement item replaces copied value eﬀect array eleme nt copied value array changed loop equivalent int intlist new int int int item intlist item chapter array arraylists record certainly doe change value element th e array variable arity method java method java ﬁxed arity arityof method deﬁned number parameter method ﬁxed ari ty method number parametersmustbethesameineverycalltothemethodandmus tbethesameasthenumber formal parameter method s deﬁnition java introdu cedvariable arity method variable arity method diﬀerent call method hav e diﬀerent number parameter example formatted output method introduced subsection variable arity method ﬁrst parameter astring number additional parameter t ypes calling variable arity method diﬀerent calling ny sort method writing requires new syntax example conside r method compute average number value type double deﬁnition method begin public static double average double number type double make variable arity method indicates number value type doublecan provided subroutine called example average average average evenaverage legal call method note actual paramete r type intcan passed average integer usual automatically converted real number method called value actual parame ters correspond variable arity parameter placed array t array actually passed method body method variable arity p arameter type tactually look like ordinary parameter type t length array tell actual parameter provided method average example body method array named number typedouble number actual parameter method value actual parameter benumbers number complete deﬁnition method public static double average double number inside method number type double double sum sum actual parameter double average average actual parameter sum int sum sum number add actual parameter t average sum return average zero way possible pas single array variable rity method instead list individual value example suppose salesdata variable type double legal average salesdata compute average number array formal parameter list deﬁnition ty method include parameter applied formal array arraylists record example consider method draw polygon throu gh number point point given value type point object type pointhas instance variable xandy type double case method ordinary graphic context used draw addition variable arity parameter remember inside deﬁnition method parameter pointsbecomes array point public static void drawpolygon graphicscontext g point point need point draw anyt hing int draw line point point point point point point draw line starting point point point point point point method called subroutine statement mu st actual parameter typegraphicscontext followed number actual parameter t ypepoint ﬁnal example let s look method string togeth er value list string single long string example us ach loop process array public static string concat string value stringbuilder buffer use stringbuilder effici ent concatenation buffer new stringbuilder start stringb uilder string str value loop processing value str add string return return content buf fer given method deﬁnition method concat hello world return string helloworld concat wouldreturnanemptystring sinceavariablearitymethod accept array actual parameter ca llconcat line wherelines type string concatenate element array s ingle string array literal seen possible initialize array variab le list value time declared example int square initializes square refer newly created array contains seven valu e list list initializer form used onlyin declaration statement give initial value newly declared array variable b e used assignment statement assign value variable existed similar notation creating new array used place n otation us form newoperator create new array object ﬁll valu e odd syntax similar syntax anonymous inner class w ere discussed subsection example assign new value array variable cube type int use chapter array arraylists record cube new int assignment statement declaration s o array initializer syntax new int legal general syntax form thenew operator actually expression value reference newly created array object sense array literal yo u type program represent value mean used context o bject type legal example pas newly created array actual parameter subroutine consider following utility method crea ting menu array string menu discussed subsection creates menu name menuitems menu given array string param menuname menu created param itemnames array holding text appears e ach menuitem null value appears array correspo nding item menu separator menuitem return menu created filled item public static menu createmenu string menuname string temnames menu menu new menu menuname string itemname itemnames itemname null new separatormenuitem menuitem item new menuitem itemname item return menu second parameter createmenu array string array passed actual parameter created place using newoperator example use following statement create entire file menu menu filemenu createmenu file new string new open close null quit convince able create use rray place way convenient way anonymous inner clas s convenient example conveniently createmenu written variable arity method way perfectly legal use new basetype syntax instead array initializer syntax declaration array v ariable example instead saying int prime chapter array arraylists record say equivalently int prime new int fact use special notation work context declaration statement prefer use second form ﬁnal note historical reason array declaration int list written int list syntax used language c thi s alternative syntax doe really make sense context java probab ly best avoided intent declare variable certain type type int make sense follow syntax declaration array processing example array processing looked actually fairly straightforward processing element array der beginning end random access arbitrary element array section nd later chapter ll interesting thing array processing example begin s example remind careful voiding array index outside legal range suppose linesis array type string want know linescontains duplicate element consecutive location want know whetherlines line index failed attempt check condition boolean dupp false assume duplicate int line line error dupp true duplicate break thisforloop look like written s th e problem error occurs itakes ﬁnal value loop ii equal case equal element array index legal index mean reference line cause arrayindexoutofboundsexception easy ﬁx just need stop loop range boolean dupp false assume duplicate int line line dupp true duplicate chapter array arraylists record break type error insidious working wit h partially array subsection usually array use counter used track space array used partiall y array problem looking end array looking array use program try look end array program crash let know problem partially array problem undetected example let s continue partially arr ays seen add item partially array suppose wan t able remove item suppose write game program player jo game leave game progress good programmer probably class named player represent individual player game list player currently game stored array playerlist type player number player change follow partially array pattern d need variable playerct record number player currently game assumi ng player game declare variable s player playerlist new player player int playerct start player player joined game playerct greater player object representing player stored n array element playerlist playerlist playerlist note array mentplayerlist playerct isnotin use number item array playerct index open spot array proced ure adding new player newplayer game simple playerlist playerct newplayer new player available spot increment playerct count new playe deleting player game little harder y ou don t want leave hole array deleted player used suppose w ant delete player indexkinplayerlist number player go fewer space u sed array worried keeping player particular order way delete player number ki player occupied position array position kand decrement value playerct playerlist k playerlist playerct playerct player previously position khas replaced longer array deleted player list player previously p ositionplayerct array twice s occupied valid array playerct decreased remember element arra y hold value value position playerct looked processed way set playerlist playerct null free deleted playerobjectchapter array arraylists record garbage collection necessary correct ly delete player list active player way think ha ppens player deleted position list code doe stil l work case exactly happens suppose deleting player position k d like remaining player order maybe turn order stored array player position following position array player player k game player spot left open player moved code int playerct playerlist playerlist playerct illustration way deleting item fro m partially array player c deleted b c déêplayerlist playerct ëêì í î ï ð ï ñ ï ò ó ò ô õ í öñ ï ø õ õ ø ù ú û ð ø ù ï õ ó ñî õ í û ü ô õ í ö ý ñ í þø ÿ î ñ ï ö í o ï üi ÿ ñ í ñ ï ü û ø s ïw ï õ ï ó ü ï î ñ í e ï ï ü û ø s ï ñ ø ü ï î ñ í í ð î ñ ï ai ü ÿ í ð í ÿ ï õ ÿ ü ï ð ñ ï õ ÿ ø ñ o ï ð ù ú ø ð ðñ ï ñ ï ö ü ñ ø ñô í ð ð í w ó ÿ ñ ïø õ õ ø ù s ø ÿ ö í o û í ÿ ï ü û ø s ï õ ï û ð ø s ï ü ó õ ï û ð ø s ï ü d õ ï û ð ø s ï ü b c déêplayerlist playerct ë déê leaf open question happens partiall y array want add item t change size make new bigger array copy data old array th e new array doe mean copy array ﬁrst place suppose aandbare array variable base type aalready refers array suppose want bto refer copy ﬁrst thing note assignment statement b doesnotmake copy array object array variable hold poi nter array assignment statement copy pointer fro maintob result aandbnow point array example andb just diﬀerent name exactly array element make brefer copy need make entirely new array copy item aintob let s say aandbare type double make copy say double b b new double make new array len gth int b chapter array arraylists record solve problem adding partially array h just need make new array bigger existing array usual choice make new array twice big old need meet requi rement end variable referred old array point n ew array variable give access data end data ne w array fortunately simple assignment statement make variable point cor rect array let s suppose using playerlist andplayerct store player game example want add newplayer game playerlist array playerct number player equal size arr ay array make new array space player temp variable point new array temp new player twice big t old array int temp playerlist copy item old array new playerlist temp playerlist point new bigge r point know room array new player playerlist playerct newplayer new array created longer va riable point old array garbage collected standard array method copying array like common method migh t expect java method deﬁned fact java come sev eral standard method method deﬁned staticmethods class named array example array list list lengthofcopy function return new array length given lengthofcopy containing item copied list iflengthofcopy greater extra space new array default value zero numeric array nullfor object array iflengthofcopy equal item copied fromlistas ﬁt new array ai array b setsbto refer exact copy playerlist playerlist ngth used double space available ially array just line code use decrease size partially array want avoid having lot excess unused sp ace implement idea code deleting player number kfrom list player becomechapter array arraylists record playerlist k playerlist playerct playerct space cut array size h alf playerlist playerlist mention class arraysactually contains bunch copyofmethods primitive type object note array object copied pointer object copied new array content object copied usual rule assignment pointer want simple copy array size original easier way array instance method namedclone make copy array copy intarray example simply say int b thearraysclass contains useful method ll mention th em actually multiple version method s diﬀerent array type array value entire array speciﬁed value type ofvaluemust compatible base type array example assuming thatnumlist array type double set element numlist value array fromindex toindex value fill arraywith value starting index number fromindex ending index number note toindex included array function return stringcontaining value fromarray separated comma enclosed square bracket value array converted string way woul d printed array sort entire array sort array mean rearrange value array increasing order t method work array ofstringand array primitive type value boolean kind silly doe work array aningful compare value array discus s algorithm section array fromindex toindex sort just element array fromindex toarray array value search valuein thearray array sorted increasing order function return int value array return value index o f element contains value value doe occur array retur n value discus binary search algorithm section array arraylists record randomstrings revisited example subsection gui program show multiple copy message random position color d font user click button position color font changed new r andom value suppose want message string want run nimation string drift window case need store p roperties string needed redraw string frame nimation new version program doe string need store x y coordinate w string drawn color string font used str ing make string store velocity string represented num bersdxanddy frame dxfor string multiplied elapsed time pre vious frame added x coordinate string similarly dy data string stored array double x new double double y new double double dx new double double dy new double color color new color font font new font array ﬁlled random value method draw string string drawn point x y color given color drawn font font thedxanddywould used drawing used updating data frame accomplished code white background int color font message x y message x y approach said use parallel array data given copy message spread array think array s laid parallel arrayxin ﬁrst column array yin second array colorin array font data string row wrong using parallel array simple exam ple doe philosophy keeping related data o bject follow rule don t imagine relationship data data copy message physically place wrote pr ogram simple class represent data needed copy messa ge private static class stringdata info needed draw s tring double x y location string double dx dy velocity string color color color string chapter array arraylists record font font font used draw string store data multiple copy message use rray type stringdata array declared instance variable stringdata stringdata stringdata course value stringdata isnulluntil actual array created assigned array created ﬁlled data furthermo element array object type stringdata created used following subroutine creates array ﬁlls random data private void createstringdata stringdata new stringdata int stringdata new stringdata stringdata stringdata stringdata chance dx negative stringdata stringdata chance dy negative stringdata stringdata stringdata font int method called start method called make new random data user click button string drawn usi ng loop int stringdata color stringdata font message stringdata x stringdata y message stringdata x stringdata y fact program used equivalent loop easier understand stringdata data stringdata message message loop loop control variable data hold copy value array value reference object type stringdata instance variable named color font x andy use loop eliminated nee d work array array arraylists record animation check source code animation discussed subsection randomstringswitharray us array object font given copy th e message chosen random set ﬁve possible font n original version ﬁve variable type fontto represent font variable named select font random switchstatement used font randomfont font chosen random int rand random integer range fontnum int switch fontnum case randomfont case randomfont case randomfont case randomfont case randomfont new version program ﬁve font stored n array named font array declared static ﬁnal member variable typ efont private static final new font time new roman arial fontposture c verdana time new roman fontpostu make easier select font random statement font randomfont font chosen random int fontindex random number range fontindex int randomfont font fontindex fact preceding line replaced singl e line font randomfont font int theswitchstatement replaced single line code typical application array note example us rando m access property pick array index random directly array element t index example sort thing month o ften stored number number tran slated name january february december translation ea sily array array declared initialized static string monthname january february marc h april june july august september october november december chapter array arraylists record ifmnthis variable hold integer monthname corresponding month need month numbered starting array element numbered starting si mple array indexing doe translation dynamic array earlier discussed partially array used t o store list player game allowing list grow shrink course gam list dynamic sense size change program running dyn amic list common think trying write class represent c oncept writing class avoid having repeat code time want use similar data structure want like array size change think operation want perform dynamic array essenti al useful operation include item end array item speciﬁed position array value element array value element array number item currently array design class operation insta nce method class item dynamic array actually stored normal array using partially array pattern using know class diﬃcult write decide attempt access array element th doesn t exist natural throw exception c ase let s suppose item array type int import represents list int value grow shrink public class dynamicarrayofint private int item new int partially array hol ding ints private int itemct return item given index array throw arrayindexoutofboundsexception index t valid public int int index index index itemct throw new arrayindexoutofboundsexception illegal inde x index return item index set value array element given index throw arrayindexoutofboundsexception index t valid array arraylists record public void set int index int item index index itemct throw new arrayindexoutofboundsexception illegal inde x index item index item return number item currently array public int size return itemct add new item end array size increase o ne public void add int item itemct item item item itemct item remove item given index array size array decrease item following removed item d space array throw arrayindexoutofboundsexception index t valid public void remove int index index index itemct throw new arrayindexoutofboundsexception illegal inde x index int j j itemct item item j itemct end class dynamicarrayofint clear possibly ori ginal size itemsarray fact number arbitrary eﬀect functio nality class positive integer work doesn t make sense array start oﬀ big array grow needed number item turn large example used partially array intto print list input number reverse order nput program ordinary array length used hold number ny given run program size array large small resulting exception program written using dynamicarrayofint wh ich adapt reasonable number input program s silly program principle hold application wh ere data predicted advance size dynamic data structure ca n adapt data limited memory available pr ogram nice example real problem sup pose want dynamic array string t use dynamicarrayofint object hold string lookschapter array arraylists record like need write new class dynamicarrayofstring want dynamic array store player game need class dynamicarrayofplayer look like write dynamic array class possible type data t right fact java solution problem standard class th implement dynamic array work type data class called arraylist ll work section arraylist just seen insubsection easily encode dynamic array pattern class look like need diﬀerent class eac h data type fact java feature called parameterized type make possibl e avoid multitude class java single class named arraylist implement dynamic array pattern data type deﬁned class directly primitive type arraylist parameterized type java standard type odd arraylist string represents dynamic array string similarly type arraylist color used represent dynamic array color playeris class representing player game type arraylist player used represent dynamic array player look like multitude class b ut fact class thearraylist class deﬁned package butarraylist aparameterized type parameterized type type parameter t single class arraylist multitude type including arraylist string arraylist color fact arraylist t object type type parameter tmust object type class interface primitive type mean t hat unfortunately arraylist intor arraylist char consider type arraylist string type used declare variable arraylist string namelist used type formal parameter subrou tine deﬁnition return type subroutine used newoperator create object namelist new arraylist string object created way type arraylist string represents dynamic list string instance method str adding stringto list getting string index getting number item currently list use arraylist type playeris class representing player game create list player arraylist player playerlist new arraylist player add player plr game just say plr remove player number k furthermore playerlist local variable declaration abbreviated var playlerlist new arraylist player chapter array arraylists record usingthealternativedeclarationsyntaxthatwascoveredi thejavacompiler us initial value assigned playerlist deduce type arraylist player use type arraylist t compiler ensure object typetcan added list attempt add object typetwill syntax error program compile te object belonging subclass tcan added list object belonging subclas s oftare considered type class shapehas subclass rectangle ovalandrounrect variable type arraylist shape used hold object type rectangle oval androundrect course way array work array type t hold object belonging subclass similarly ti interface object implement interface tcan added list object type arraylist t instance method expect dynamic array implementation use ful suppose listis variable type arraylist t function return current size list number item currently list valid position l ist number range note size zero default construc tor new arraylist t creates list size zero obj add object end list increasing size b y parameter obj refer object type t null n function return value stored position nin list return type function integer range ifnis outside range error type indexoutofboundsexception occurs calling function similar referring n array t use n left assignment statement n obj assigns object obj position nin thearraylist replacing item previously stored position parameter objmust type integer nmust range function equivalent command n obj array remove item list setting size zero n integer n remove arraylist range item list come removed item moved position size list decrease method return removed item obj speciﬁed object occurs list moved list item list come remove d item moved position size arraylist decrease objoccurs list ﬁrst copy removed objdoes occur list happens error method return boolean value say item actually removed obj function search object obj list object list ﬁrst position number whe returned object returned method listed objis compared item list calling item unlessobjis null mean example string tested equality checking content string l ocation array arraylists record java come parameterized class representin g diﬀerent data structure class make java collection framework consider arraylist return important topic chapter way arraylist used type mean y ou declare variable create object type arraylist arraylist list new arraylist eﬀect similar declaring listto type arraylist object listcan hold object belongs subclass object class subclass object mean anyobject stored list wrapper class noted parameterized type don t work primitive type thing arraylist int limitation turn limiting wrapper class asintegerandcharacter brieﬂy encountered class doubleandintegerinsection class contain staticmethods used convert string numerical value y contain constant encountered character class example static method used test given value type chari letter similar class prim itive type long short byte float andboolean class wrapper class contain useful staticmembers use used repr esenting primitive type value object remember primitive type class value s primitive type object s useful treat primitiv e value object true example like store primitive t ype value arraylist t literally wrap primitive typ e value object belonging wrapper class example object type integercontains single instance variable type int object wrapper intvalue object wrap integer n value nhas information value type int object want retrieve intvalue wrapped object function similarly wrap doublein object type double aboolean value object typeboolean wrapper class static valueof method wrapping primitive type value object method astaticfactory method return object typeinteger theintegerclass constructor creating object deprecated meaning used new code rem oved languageinthefuture thestaticfactorymethodhastheadv antagethatif called parameter value option returning object time ok object type integerareimmutable content object modiﬁed object b een created get hand integerwill able change primitive intvalue represents saw similar colorclass insubsection static factory method creating immutable array arraylists record make wrapper class easier use autom atic conversion primitive type corresponding wrapper class exa mple use value type intin context requires object type integer theintwill automatically wrapped anintegerobject say integer answer computer silently read integer answer called autoboxing work direction example drefers object type double use din numerical expression thedoublevalue insidedis automatically unboxed multiplied autoboxing unboxing apply subroutine call example pas actual para meter type intto subroutine formal parameter type integer vice versa fact autoboxing unboxing make possible circumstance ignore diﬀeren ce primitive type object true particular parameterized type althoug h thing arraylist int arraylist integer anarraylist integer hold object type integer object type integerreally just represents intvalue wrapper suppose object type arraylist integer arraylist integer integerlist integerlist new arraylist integer example add object integerlist represents number autoboxing actually say compiler automatically wrap object ty peintegerbefore adding list similarly say int num value returned type integerbut unboxing compiler automatically convert return value nint said int num eﬀect pretty use integerlist dynamic array intrather dynamic array integer course similar statement hold list wrap class arraylist double andarraylist character issue cause problem list holdnullvalues null doe correspond primitive type value mean example statement int num produce null pointer exception case returnsnull unless sure value list need possibility array arraylists record programming arraylist simple ﬁrst example redo previous section using arraylist instead custom dynamic arra y class case want store integer list use arraylist integer complete program import import read list number user print input number reverse order entered limit number input public class reversewitharraylist public static void main string args arraylist integer list list new arraylist integer enter integer enter end true int number number break number number reverse int n illustrated example arraylists commonly pro cessed using forloops way array processed example foll owing loop print item variable namelist typearraylist string int string item item use loop arraylists exam ple written string item namelist item working wrapper class loop control variabl e loop primitive type variable work unboxing f example number type arraylist double following loop used add value list chapter array arraylists record double sum double num number sum sum num work long item list null possibility null value want use loop control variable ty pedoubleand test null example add value list double sum double num number num null sum sum num num safely unboxed complete useful example look pro thisisamuchimprovedversionof inthenewprogram user sketch curve drawing area clicking dr agging mouse user select drawing color using menu background col drawing area selected using menu control menu ntains command undo command remove recently drawn curve screen clear command remove curve use symmetry che ckbox turn symmetry feature oﬀ curve drawn user sy mmetry option reﬂected horizontally vertically produce symmetri c pattern symmetry just look pretty unlike original simplepaint program new version u s data structure store information picture drawn user user selects new background color canvas ﬁlled new backgroun d color curve previously redrawn new background d o need store data redraw curve similarly undo command implemented deleting data recently drawn curve redrawing en tire picture using remaining data data structure need implemented using arraylists main data individual curve consists list point curve data stored object typearraylist standard class package constructed doublevalues giving x y coordinate point object pt getter method return x y coordinate addition list point curve t o redraw curve need know color need know symmetry opt ion applied curve data needed redraw curve gr ouped object type curvedata deﬁned nested class program private static class curvedata color color color curve boolean symmetric horizontal vertical reflecti ons drawn arraylist point point curve chapter array arraylists record picture contain curve just t o store data necessary redraw entire picture need listof object type curvedata list program us anarraylist curve declared arraylist curvedata curve new arraylist curvedata list object object contains li st point data let s look example processing data structur user click mouse drawing surface s start new curve new curvedata object created represent curve instance variable t newcurvedata object initialized code mousepressed routine doe currentcurve global variable type curvedata currentcurve new curvedata create new curvedata ob ject currentcolor color curve s taken instance variable represents currently selected drawing color usesymmetry symmetric property curve copied current value instance variable usesymmetry new arraylist new p oint list object user drag mouse new point added currentcurve line segment curve drawn point added use r release mouse curve complete added list curve calling currentcurve user change background color selects command picture redrawn program redraw method completely redraws picture method us data list curvedata draw curve basic structure loop process data individua l curve turn form curvedata curve curve draw curve represented object curve type c urvedata body loop variable type arraylist hold list point curve curve obtained calling method list return value type getter method named getx andgety refer directly complicated s nice example o f complex speciﬁes path desired piece data object curve insidecurve topoints inside point item x coordinate calling getx method complete deﬁnition method red raw picture chapter array arraylists record private void redraw backgroundcolor curvedata curve curve int draw line segment point number point number double double double double drawsegment drawsegment method stroke line segment ﬁrst parameter true draw horizontal vertical reﬂections tha t segment interested discussing prog ram us arraylist encourage read source code try program addition serving example using parameterized t ypes serf example creating using menu able und erstand entire program record programming language basic kind data structure array record array consists sequence item indi vidual item referred numerical position sequence record hand position data structure name instead number item r ecord called ﬁelds name item ﬁeld ﬁeld accesse d using ﬁeld recognize record similar object ﬁelds r ecord playing role instance variable object record existed programming actual word record used programming language s pascal cobol c programming language us term struct ide record terminology originated database just large organized collection data record typically small set related data item database collection record java class used represent record ter m record traditionally used java record oﬃcial language form special kind class java record really equiva lent record language record java immutable content cann ot modiﬁed record created similar record t hey fairly simple container named ﬁelds basic java record java record object belongs special kind cla s record class simplest case record class speciﬁes set instance variable represent ﬁelds record example public record fullname string firstname string lastname chapter array arraylists record class deﬁnition record class named fullname instance variable typestringnamedfirstname andlastname instance variable fieldsof record end deﬁnition class body note t instance variable record class listed parenthesis t class syntax syntax list formal parameter method deﬁni tion meaning diﬀerent record type fullname instance record created usual way new operator example fullname fname new fullname jane doe statement call constructor parameter fo r ﬁeld record eﬀect simply provide value ﬁeld note thi s constructor explicitly deﬁned class called canonical constructor record class provided automatically compiler fact thing s added implicitly record class deﬁnition compiler simple record deﬁnitio n offullname given essentially equivalent following regular class deﬁn ition public final class fullname private final string firstname private final string lastname public fullname string firstname string lastname firstname lastname public firstname return firstname public lastname return lastname public string tostring return fullname firstname lastname public boolean equal object obj definition omitted public int hashcode definition omitted record class automatically final extended subclass furthermore record class extend class bu t subclass object true class instance variable record private andfinal accessor getter method instance variable automatically deﬁned stead using typical getxxx naming convention getter method name sa name instance variable forexample fnameisavariableoftype fullname thentheinstancevariableswould accessed instance variable final record immutable setter method deﬁned furthermore reasonable deﬁnitions automatically pro vided method inherited class object tostring equal andhashcode thetostring method return achapter array arraylists record string includes class name va lues ﬁelds equal method return trueif parameter object type value ﬁelds encounter hashcode method section record class deﬁnitions complex expect basic record class class body common s ince provide simple way group set related data item example th ecurvedata class example previous section created group togethe r data relevant single curve private static class curvedata color color boolean symmetric arraylist point nested class replaced nested record class private record curvedata color color boolean symmetric arraylist point note nested curvedata record class doe declared static nested record class automatically static change curvedata object created value provided ﬁelds example currentcurve new curvedata currentcolor usesymmetry new arraylist change curvedata object immutable happens ok s work case examp le class simple container xycoordinates record class point immutable record syntax possible add additional instance variable r ecord class deﬁned list class anythi ng added class body example record class contain staticitems kind deﬁne instance method including replacement def aulttostring equal hashcode method deﬁne constructor just restr ictions possible extend deﬁnition canonical con tructor deﬁned automatically using syntax parameter list constructo r omitted example canonical constructor fullname class throw exception firstname isnull public fullname canonical constructor fullname class firstname null throw new illegalargumentexception t n ull chapter array arraylists record thisextendsthecanonicalconstructor althoughtheparam eterlistisomittedinthedeﬁnition constructor requires parameter d us parameter initialize firstname andlastname code constructor deﬁnition executed additional constructor deﬁned al constructor begin constructor class using special va riablethisas discussed subsection mean canonical constructor called d irectly indirectly constructor example noting people use sing le want provide fullname constructor take just parameter representing tha t public fullname string onlyname onlyname null canonical constructor constructor call default constructor set firstname ﬁeld equal onlyname thelastname ﬁeld equal null want deﬁne natural version tostring thefullname record class class deﬁnition implement idea sample ﬁle ﬁnal syntax note record class extend ano ther class implement interface complex example acomplex number consists real number called real nd imaginary complex number knowing anyth ing mathematics complex number natural applic ation record represent complex number java need simple container val ues type double basic record class record complex double double im thing complex number s want include thing class truly sai d represent record class includes thing record type representing complex number complex number consists real number called real imaginary part class includes method doing arithmetic complex number public record complex double double im named constant common complex number public final static complex new complex public final static complex zero new complex public final static complex new complex constructor creates complex number given real imaginary zero array arraylists record public complex double creates string representation complex number public string tostring im return im return return im im return return im method doing arithmetic complex number public complex plus complex c return new complex im public complex minus complex c return new complex im public complex time complex c return new complex im im public complex dividedby complex c double denom double real im double imaginary im return new complex real imaginary end record complex class add static member variable constructor creates complex number single real number tostring method print complex number reasonable format instance variable implement arithme tic operation complex number course canonical constructor create s complex number real number sample program test worth thinking record class finaland record immutable reason finalis make possible complier apply certain kind optimization code t hat generates applies just record class ﬁnal class array arraylists record example common compute complicated arith metic expression involving complex number consider quadratic formula b c x object typecomplex value expression computed x x x c check deﬁnitions time andplus method time method called creates new complex object quadratic formula example ﬁve new object generated interested o ne represents ﬁnal answer object just scratch work ar e created used brieﬂy immediately eligible garbage collection c reating garbage collecting large number object ineﬃcient case t compiler able avoid creating extra object replacing call plus andtimes code performs operation directly using temporary loca l variable type doubleinstead object know exactly m ethod case complex class ﬁnal case b c x actually refer object belonging subclass complex redeﬁned plus andtimes checked run time compile time class ﬁnal compiler way know ing call plus andtimes program run immutability help optimization s ince compiler sure calling method object modify instance var iables object probably important immutability make ea ier reason program prove property immutable object tru e point time sure won t false later objec t modiﬁed searching sorting array processing technique particularly common searching sorting searching refers ﬁnding item array mee t speciﬁed criterion sorting refers rearranging item th e array increasing decreasing order meaning increasing decreasing pend context seen insubsection java method searching sortin g array computer science student familiar algorithm used method section learn algorith m searching sorting sorting searching discussed theoretical sort way using array number example practical situation mor e interesting type data usually involved example array mailing l ist element array object containing address given na person want look person s address example se arching want ﬁnd object array contains given useful able sort array according various criterion example sort ing ordering element array name alphabetical order anot example order element array according zip code printi ng set mailing label example generalized abstract situation array contains object want search sort array based value instance variable object case use terminology record ﬁelds originated work database discu ssed previous section inchapter array arraylists record mailing list example array record wh ere record contains ﬁrst street address state city zip code ﬁelds purpose searching sorting ﬁelds designated keyﬁeld searching mean ﬁnding record array speciﬁed value key ﬁeld s orting mean moving record array key ﬁelds record creasing decreasing order section example follow tradition u sing array number ll example using object remind t practical application searching obvious algorithm searching particular item array look item array turn check item e looking search ﬁnished look item ﬁndin g want sure item array s easy write subroutine implement algorithm let s say array want search ar ray ofints method search array speciﬁed integer inte ger method return index location array integer array method return value signal integer search array integer n array returned n array return valu e integer satisfies static int int int n int index index index n return index n index far n array return value return method searching array looking item tu rn called linear search known order item array t hen really better alternative algorithm element array k nown increasing decreasing order faster search algorithm used array element order said sorted course take work sort array array searched time work sorting really pay oﬀ binary search method searching given item sortedarray implementation trivial basic idea simple searching item sorted list possible eliminate half ite m list inspecting single item example suppose looking numbe r sorted array integer let s assume array sorted increas ing order suppose check item number array ﬁnd item element array increasing order conclud e occurs array occur location location numbered orchapter array arraylists record contain value greater equal se location eliminated possible location number know ﬁrst half array th e obvious step check location number location say eliminate location limit search location test limit search location ab just step location left lot better look ing element array million item step binary search search array mathematically number step approxim ately equal logarithm base number item array order make binary search java subroutine sea rches array item n just track range location coul d possibly contain step eliminate possibility reduce size th range basic operation look item middle range item grea ter n second half range eliminated n ﬁrst half range eliminated number middle just happens nexactly search ﬁnished size range decrease zero n umberndoes occur array subroutine implement idea search array integer precondition sorted increasing order postcondition n array return value satisfies n array return value static int binarysearch int int n int lowestpossibleloc int highestpossibleloc highestpossibleloc lowestpossibleloc int middle lowestpossibleloc highestpossibleloc middle n n index return middle middle n eliminate location middle highestpossibleloc middle eliminate location middle lowestpossibleloc middle point highestpossibleloc lowestpossibleloc mean n known array return indicate n array return chapter array arraylists record association list particularly common application searching association list standard example association list dictionary dictionary associate deﬁnitions word givenaword youcanusethedictionarytolookupitsdeﬁniti wecanthinkofthedictionary list pairsof form w d wherewis word dis deﬁnition general association list list pair k v wherekis key value vi value associated key general want assume pair t list key basic operation association list given key k ﬁnd value vassociated withk given key k value v add pair k v association list replacing pair key value operation usually called getandput association list widely used computer science example compiler track location memory associated v ariable association list key variable ssociated value address thatvariableinmemory anotherexamplewouldbeamailingl ist ifwethinkofitasassociating address list related example con ider phone directory associate phone number ll look highly simpliﬁed version example notmeant realistic way implement phone directory item phone directory s association list object belonging class class phoneentry string string phonenum data phone directory consists array type phoneentry integer variable track entry actually store d directory technique dynamic array subsection used order avoid putting arbitrary limit number entry phone directory hold phonedirectory class include instance method implement operati ons possible simple deﬁnition class import phonedirectory hold list name phone number fo r possible number associated given specify phone number given public class phonedirectory object type phoneentry hold pair private static class phoneentry string string number associated phone private phoneentry data array hold ber pair private int datacount number pair stored ar ray chapter array arraylists record constructor creates initially directory public phonedirectory data new phoneentry datacount look pair given index pair data array returned pair contains given return value private method used internally getnumber putnumber private int string int datacount data return position return doe exist find phone number given return phone number associated na doe occur phone directory return value nu ll public string getnumber string int position position return null phone entry given return data position associate given given phone number nam e exists phone directory new number r eplaces old new pair added number illegalargumen texception thrown case public void putnumber string string number null number null throw new illegalargumentexception number cann ot null int exists position array just replace old number position new data number add new pair array array create new larger array datacount data data chapter array arraylists record phoneentry newentry new phoneentry create new pair number data datacount newentry add new pair array end class phonedirectory class deﬁnes private instance method us linear search ﬁnd position given array pair th efind method used getnumber method putnumber method note particular putnumber number check phone directory just change number existing entry t o create new phone entry add array class written using arraylist section instead dynamic array nested phoneentry class natural candidate record class section version us idea phone directory implementation improved ing binary search instead simple linear search method list phoneentries sorted alphabetical order according fa ct s really hard list entry sorted order l l subsection mention association list called map java standard parameterized type named mapthat implement association list key value type implementation eﬃcient c basic array encounter class section insertion sort ve seen good reason sorting array th ere algorithm available doing easiest understand insertion sort algorithm technique applicable problem keeping list sorted order add new item list let s consider case ﬁrst suppose sorted list want add item tha t list want make sure modiﬁed list sorted item inserted right location smaller item coming bigger item mean moving bigger item space make room f new item precondition itemsinarray number item stored item increasing order array size greater itemsinarray postcondition number item increased newitem added array item array increasing order note complete process inserting item array variable count number item array incremented calling array arraylists record static void insert int int itemsinarray int newitem int loc itemsinarray start end array item bigger newitem space stop smaller item encountered beginning array loc reached loc loc newitem loc loc bump item loc loc loc loc newitem newitem vacated conceptually extended sorting method w e item unsorted array insert ar ray keeping list sorted order insertion using th einsertroutine given actual algorithm don t really item fr om array just remember array sorted static void insertionsort int sort array increasing order int itemssorted number item sorted f ar itemssorted itemssorted assume item sorted insert itemssorted sorted list int temp itemssorted item inserted int loc itemssorted start end list loc loc temp loc loc bump item loc loc loc loc temp temp vacated illustration stage insertion sort sho w happens execution forloop method itemssorted chapter array arraylists record sorted item item start partially sorted list item temp copy unsorted item temp leaving hole array item unsorted array make room item item sorted sorted list increased size item selection sort typical sorting method us idea ﬁnding bi ggest item list moving belongs list creasing order biggest item correct location apply id ea remaining item ﬁnd item space forth algorithm called selection sort s easy write static void selectionsort int sort increasing order using selection sort int lastplace lastplace lastplace largest item lastplace position lastplace swapping number currently position lastplace int maxloc location largest item seen far int j j lastplace j maxloc j bigger maximum ve seen far j new location maximum value ve seen far maxloc j int temp maxloc swap largest item lastplace maxloc lastplace lastplace temp end loop chapter array arraylists record avariationofselectionsortisusedinthe handclassthatwasintroducedin way ﬁnally position fully understand t source code handclass section note us arraylist source ﬁle thehandclass hand playing card represented arraylist card object stored list type card acardobject contains instance method getsuit getvalue thatcanbeusedtodeterminethesuitandvalueofthecard mysortingmethod actually create new list card fro m old list new list card selected old list increasing order end new list hand old list discarded eﬃc ient procedure hand card small ineﬃciency negligible code sorting card suit sort card hand card suit grouped suit card sorted v alue note ace considered lowest value public void sortbysuit arraylist card newhand new arraylist card int po position minimal card card c minimal card int card e po update minimal card location c po remove card original hand c add card new hand newhand example illustrates fact comparing item l ist usually simple using operator case consider card suit ﬁrst card suit second suit value second card value ﬁrst second test ensures card suit end sorted value sorting list stringsraises similar problem operator deﬁned string stringclass doe deﬁne compareto method type string return intthat equal greater example test equal testing chapter array arraylists record deﬁnition precedes follows string us w hat called lexicographic ordering based unicode value character string lexicographic ordering alphabetical ordering s trings consist entirely letter lexicographic ordering upper c ase letter come lower case letter word consisting strictly th e lower case letter english alphabet lexicographic alphabetic ordering sa hold true string consist entirely uppercase letter method compare string converting character th contain lower case insertion sort selection sort suitable sorting f airly small array element say complicated sorting algorithm faster insertion sort selection sort large array t degree binary search faster linear search standard method us fast sorting algorithm ll discus algorithm chapter unsorting t resist ending section sorting related p roblem common bit fun problem putting elemen t array random order typical case problem shuﬄing deck ca rds good algorithm shuﬄing similar selection sort instead moving biggest item end list item selected random moved end o f list subroutine shuﬄe array ints postcondition item rearranged ra ndom order static void shuffle int int lastplace lastplace lastplace choose random location lastplace int randloc int swap item location randloc lastplace int temp randloc randloc lastplace lastplace temp array array introduced subsection haven t array type int orstring pair square bracket element array arranged ro w column new operator array speciﬁes number row th e number column example int new int chapter array arraylists record creates array intthat element arranged row column althoug h haven t mentioned initializers array example statement creates array shown picture int array initializer array contains row sep arated comma enclosed brace row turn list value separat ed comma enclosed brace array literal similar synta x used just declaration example new int extends naturally imensional dimensional array used pract ice truth array farther little surprise java doe actually dimensional array true array element th e array occupy continuous block memory s true java syntax array ty pe clue type basetype able form type basetype meaning array basetype useint base type type int meaning array int array array fact s happens element array typeint variable type int remember variable type int hold pointer array int array really array pointer poin ter refer array array t row array picture help explain consider array adeﬁned create array new int t hink t m row hold r eference array item item reference array arraylists record ignore reality pict ure grid mind need remember row grid really array array referred anda row fact value typeint example passed subroutine asks fo r parameter type int consequence structure little subtl example thinking array array array make sense equal number row ifahas usual shape array number column nawould number element ﬁrst row rule say row amust length array created withnew basetype row column form row array separate array array c diﬀerent length fact s possible row null example statement new int number second set bracket creates array element element null place row actual row created create row anda individually example consider symmetric matrix symmetric matrix m dimensional array number row equal n umber column satisfying m j equalsm j alliandj equality really need store m j fori store data triangular matrix symmetric matrix element diagonal shown red duplic ate element di agonal blue symmetric matrix stored triangular matrix row diﬀerent length s easy make triangular array create row separately create triangular array double use code segment double matrix new double row bee n created int matrix new double create row element just remember want know value matrix j j actually value matrix j triangular matrix similarly setting value s easy write class present symmetric matrix represents symmetric matrix real number public class symmetricmatrix private double matrix triangular matrix hold th e data creates symmetric matrix entry array arraylists record public symmetricmatrix int n matrix new double n int n matrix new double return matrix entry position row col row l value actually stored position col row public double int row int col row col return matrix row col return matrix col row set value matrix entry row col row col value actually stored position col row public void set int row int col double value row col matrix row col value matrix col row value return number row column matrix public int size return size number end class symmetricmatrix class ﬁle small program test way standard function t make copy array single step need copy row separate ly make copy array int example int b new int b row int b copy row conway s game life example typical array processing let s look example conway s game life invented mathematician john horto n conway game life really game s referre d game play s cellular automaton just mean s grid ofchapter array arraylists record cell content change time according deﬁnite deterministic rule life cell possible content alive dea use array represent grid element array represent ing content cell grid game initial grid set cell s marked alive dead game play grid evolves throug h series time step content grid time step completely determined content previous time step according simple rule cell grid look t neighbor horizontal vertical diagonal count neighbor alive state cell step determined rule cell alive current time step cell ha s living neighbor cell remains alive time step dy living cell dy loneliness living neighbor overcrowdi ng living neighbor cell dead current time step cell living neighbor cell alive time step remai n dead living cell birth new living cell s picture life board showing boar d rule applied rule applied cell grid picture show apply cell l neighbor come lifel l l l l neighbor l l l l neighbor l l l l neighbor l s game life interesting give rise nteresting surprising pattern look wikipedia just intere sted writing program simulate game complete program ﬁl program life grid shown grid square dead square s black living square white program us fromsection represent grid need ﬁle compile run program program ﬁll life board randomly dead alive cell use mo use set game board step button compute th e game start button run time step animation ll look array processing involved implem enting game life program cell alive dead natu ral use array boolean represent state cell array named alive alive r c true cell row r column ci alive number row number column equal given constant gridsize example ﬁll life grid random value program us simple ne tedforloops int r r grid size int c c grid size chapter array arraylists record use probability cell alive alive r c note expression value assigned aboolean array element array used set color ce lls screen grid cell displayed screen mosaiccanvas setting color using mosaiccanvas api note actual drawing mosaiccanvas class array type color track color cell life program jus t set color mosaic using mosaiccanvas ap program method named showboard called time board change simple nestedforloops used set color square grid int r r grid size int c c grid size alive r c r c r c null show background colo r course interesting program comput ing new state board applying rule current state rule apply individual cell use nested loop work cell bo ard time processing complicated note ﬁrst t make change t value array work need know old state cell wh en processing neighboring cell fact program us second array hold new board created new board ﬁnished substituted ol d board algorithm go like pseudocode let newboard new boolean array row r column c let n number neighbor cell r c alive arra y n n alive r c newboard r c true newboard r c false alive newboard note end process aliveis pointing new array doesn t matter long content array represent new state game old array garbage collected test newboard r c trueorfalsemight obvious implement rule correctly sti ll need work counting neighbor consider cell row rand column s edge board s clear neighbor chapter array arraylists record r ccolumn column row row number ri row number row similarly column just look value alive alive c alive alive r alive r alive alive c alive count number true make sure understand array indexing work problem cell edge grid case array element list don t exist attempt t o use cause exception avoid exception special consideratio n cell edge idea referencing array element check array element actually exists case code neighbor counting alive cell position exists alive alive c cell position c exists alive grid size alive cell position exists alive possible exception avoided program actually common computer pretend left edge th e board attached right edge edge edge example fo r cell row say row actually row row number use variable represent position left right given cell t code turn simpler code shown complete method com puting new board private void doframe compute new state life b oard boolean newboard new boolean grid size grid size int r r grid size int row considered row numb er r int left right column considered left right colu mn c r grid subsection r grid int c c grid size left c grid right c grid int n number alive cell neighboring cell alive left alive c alive right alive r left chapter array arraylists record alive r right alive left alive c alive right n alive r c n newboard r c true newboard r c false alive newboard urge check source code try program don t forget need checker ﬁnal example chapter ll look substa ntial example using array longest program encountered s o far line code program let user play checker checker game played board based example subsection player called red black color checker m going explain rule checker possibly learn trying p rogram program player move clicking piece th ey want clicking square moved ai d player square current player legally click given time hi ghlighted brightly colored border square containing piece selected moved surrounded yellow border piece legally moved surrounded border piece selected moved square legally highlighted green border game enforces rule current player jump opponent s piece player jump player s piece king reaching opposite end boar d big white k drawn piece picture program early game s black s turn black selected piece square mo ved black click square outlined green complete click o ne square outlined cyan select diﬀerent piece array arraylists record cover programming example encourage read complete source code s long complex study understand technique us program g ood example programming data piece board stored nsional array complexity program wanted divide seve ral class addition main class nested class classe s ischeckersdata handle data board directly responsible par t graphic provides method called class th handle graphic event mainly class want talk thecheckersdata class instance variable named boardof typeint value board set new int grid integer value stored grid deﬁned constant representing possible content square checkerboard static final int value representing square red regular red piece redking red king black regular black piece blackking black king constant redandblackare used program misused represe nt player game game started value array set represent initial state board grid value look likechapter array arraylists record c f g h ic regular black piece grid t row number square move greater row number square come regular red piece grid king color direction function checkersdata class care change data structure need user move checker stance method named makemove provided player move piece squ value element array changed s jump piece jumped removed board method check jump checking square piece mo ving row away square start furthermore redpiece move row blackpiece move row king putting subr outine good programming rest program doesn t worry thes e detail just call makemove method make fromrow fromcol torow tocol assumed legal jump jumped piece removed board piece move row opponent s board piece king void makemove int fromrow int fromcol int torow int toco l board torow tocol board fromrow fromcol t piece board fromrow fromcol square moved fro m fromrow torow fromrow torow jump remove jumped piece board int jumprow fromrow torow row jumped piece int jumpcol fromcol tocol column jumped pie ce board jumprow jumpcol torow board torow tocol red board torow tocol red king red piece king torow board torow tocol black board torow tocol black king black piece end makemove important function checkersdata class ﬁnd legal move board program checker game represented object belonging following class chapter array arraylists record checkersmove object represents game checker hold row column piece moved row column square moved class make guarantee legal private static class checkersmove int fromrow fromcol position piece moved int torow tocol square checkersmove int int int int constructor set value instance variable fromrow fromcol torow tocol boolean isjump test jump assumed legal jump piece move row regular move row return fromrow torow fromrow torow end class checkersmove thecheckersdata class instance method ﬁnds legal move th currently available speciﬁed player method f unction return array typecheckersmove array contains legal move represented checkersmove object speciﬁcation method read return array containing legal checkersmoves specified player current board player legal move null returned value player constant red black null returned returned value consists entirely jump move entirely regular move player jump jump legal move checkersmove getlegalmoves int player brief pseudocode algorithm method start list move legal jump add list jump legal move add list list return null return listchapter array arraylists record list return legal move n array array ﬁxed size t create array know mo f don t know near end method ve alread y list neat solution use arraylist instead array hold move ﬁnd fact u se object deﬁned parameterized type arraylist checkersmove list restricted holding object type checkersmove add move list grow just large necessary end method create array really want copy data let move arraylist checkersmove legal jump add move legal jump legal move add move legal move return null let movearray array checkersmoves length ize copy content move movearray return movearray ﬁnd legal jump legal move infor mation need boardarray take work extract look thr ough position array ﬁnd piece belong current play er piece check square conceivably chec k legal looking legal jump want look squa re row column away piece square sider line algorithm say legal jump add s expands row board column board player s piece location legal jump row column add move legal jump row column add move legal jump row column add move legal jump row column add move line say legal move add m oves expands similar look squ are column row away piece testing player legally given square given square square p layer moving actually board furthermore regular red nd black piece direction wrote following utility method che ck player make given called getlegalmoves method determine player legally assumed contains player s piece neighboring array arraylists record private boolean canmove int player int int int nt return false board board return false contains piece player red board red return false regular red piece return true board black return false regular black piece return true end canmove method called getlegalmoves method check possible move actually legal similar met hod called check jump legal case pas method square ntaining player s piece square player square betwe en player jumping square jumped ntain opponent s piece method speciﬁcation called method check player legally jump assumed player piece position row column distant square private boolean canjump int player int int int int int int given position understand c ompletegetlegalmoves method s nice way ﬁnish oﬀ chapter comb ines topic ve looked array arraylists array checkersmove getlegalmoves int player player red player black return null happen correct program int playerking constant king belonging pl ayer player red playerking red king playerking black king arraylist checkersmove move new arraylist checkersm ove move stored array arraylists record check possible jump look square board square contains player s piece look possible jump direction tha t square legal jump direction move arraylist int row row int col col board row col player board row col player king canjump player row col new checkersmove row col canjump player row col new checkersmove row col canjump player row col new checkersmove row col canjump player row col new checkersmove row col jump move user jump don t add regular move jump check legal regular move look square board square contains player s piece look possible direction square legal direction move arraylist int row row int col col board row col player board row col player king canmove player row col new checkersmove row col canmove player row col new checkersmove row col canmove player row col new checkersmove row col canmove player row col new checkersmove row col legal move return null create array just big hold legal move copy legal move arraylist array return array return null chapter array arraylists record checkersmove movearray new checkersmove int movearray return movearray end getlegalmoves checker program complex sure di dn t just fall took good deal design work decide class ob jects used method written algorithm method s hould use complete source code ﬁle look exercise exercise chapter subroutine creates arraylist containing sev eraldiﬀerent random integer solution range speciﬁed maximum number ntegers maximum allowed value integer parameter subroutine write main routine test subroutine mi array rrows ccolumns solution transpose ofmis deﬁned array tthat crow rcolumns t j m j eachiandj write function take array type int parameter return transpose array as ume parameter typical array row length lso write subroutine print array integer neat row column incl ude amain routine test work mentioned standard sorting method solution faster eﬃcient selection sort write program test claim speciﬁc program create large array ﬁlled random real number use andselectionsort sort array time long take perform sort furthermore s hould thing large array random string ﬁnd time use subsection example exercise wrote program dragtwosquares allows user drag red solution square blue square canvas write impro ved version user add square canvas drag parti cular user click canvas user trying drag square ﬁnd square contains mouse position er drag mouse click add square place center new square current mouse position make picture visually appealing square random color draw square draw black outline eac h square program give square random alpha value write class represent data needed drawing squ use arraylist store data square picture use r drag square completely oﬀ canvas delete list program read sequence positive real num bers entered user solution print number sorted order smallest largest user input zero mark end input assume positive number entered notuse function sorting andwillmakeanalphabetical solution list diﬀerent word ﬁle word converted lower case duplicate eliminated list list shou ld written output ﬁle selected user discussed subsection use textioto read write ﬁles use variable type arraylist string store word easy separate ﬁle word reading especially want allow apostrophe middle word use following method r program exercise read word textio skip p ast input encounte red word return null read return word word defined sequence letter word clude apostrophe apostrophe surrounded letter return word textio null encountered private static string readnextword char ch look character input ch ch skip past read character ch look ch encountered return null point know character letter rea d word string word word read true word append letter word ch look character ch character apostrophe read following character letter add apostrophe letter word continue reading word character apostrophe letter word break loop read apostrophe ch look char follows apostrophe ch word ch look break ch character letter word finished break loop break haven t broken loop char return word return word note method return nullwhen ﬁle entirely read use signal stop processing input ﬁle game moku known pente stone simi lar solution played larger board object s ﬁve square aexercises row board row col umns square player turn placing piece board piece placed ny square ﬁrst player ﬁve piece vertica lly square ﬁlled player win game draw write program let player play moku program simpler checker program subsection play alternate strictly player need highlight legal move need nested subclass subclass canvasto draw board work game like nested checkersboard class checker program probably want look source code checker program idea general outline program hardest program checking t hat player make winning look p ossible direction square user placed piece count piece player row direction number ﬁve mo direction player win hint code pro gram code count number piece user row speciﬁed dir ection direction speciﬁed integer dirxanddiry value variable example look ho rizontal direction dirxis anddiryis int ct number piece row belonging player int r c row column examined r row dirx look square specified direction c col diry r r c c board r c player square board contains player s piece r dirx square direction c diry r row dirx look opposite direction c col diry r r c c board r c player r dirx square direction c diry picture program just black won ga quiz quiz chapter answer meant basetype array purpose following method value andsame static double int value int value value return false return true doe mean sort array main advantage binary search linear searc h main disadvantage meant dynamic array advantage dynamic array regular array doe mean say arraylist parameterized type variable strlsthas declared arraylist string strlst new arraylist string assume list item l ist write code segment ﬁnd print string list tha t come ﬁrst lexicographic order exact output produced following code segment char pic new char int int j j j pic j pic j int int j j pic j quiz complete static method ﬁnds largest value array ints method parameter array type int largest number array returned value method temperature measurement day city measurement stored array int temp new int wheretemps c d hold measurement city number thedthday year write code segment print average temperat ure course year city average temperature city obtained adding measurement city dividing answer class employee deﬁned follows class employee string lastname string firstname double hourlywage int yearswithcompany suppose data employee stored array employee employeedata new employee write code segment output ﬁrst hourly wage employee company year wr ite version code segment us regular forloop us loop convert employee class previous question record class change need previous question s solution writearecordclasstorepresentdates wherea dateobjectcontainsthreeintegerﬁelds giving month day year date canonical structor throw exception value month day legal al include tostring method print date form purpose following subroutine m eaning value return term value parameter static double sum double data double answer new double int double sum int j j data sum sum data j answer sum return answer chapter correctness robustness eﬃciency previous chapter covered programming fundamental chapter tha t follow cover advanced aspect programm ing idea presented generally complex program use little complicated relatively short chapter kind turning point w e look problem getting complex program right computer program fail common program ar e fragile tiny error cause program misbehave crash famil iar experience computer ve heard story abou t software glitch cause spacecraft crash web site oﬄine telephone servic e fail case people die program don t bad im possible guarantee program careful programming d programming tool help problem minimum chapter loo k issue correctness robustness program section discusses think analyze program make program write likely possibly provably correct section look closely exception try catch statement section introduces assertion tool java provides aid writing c orrect program insection look issue important program th e real world eﬃciency completely correct program usef ul take unreasonable time run section chapter introd uces technique analyzing run time eﬃciency algorithm topic chapter topic advanced c ourses computer science brief overview given lea rn useful rest book introduction correctness robustness aprogram iscorrect accomplishes task designed perform t isrobust handle illegal input unexpected situati ons reasonable way example consider program designed read number user print number sorted order program correct wor k set input number robust deal input example printing error message ignoring bad input program crash nonsensical output correctness robustness efficiency circumstance program correct sorting program doe sn t sort correctly pretty useless s case program need com pletely robust depends use used example small uti lity program write use doesn t particularly robust question correctness actually subtle m ight appear programmer work speciﬁcation program supposed d programmer s work correct program meet speciﬁcation doe mean program correct speciﬁcation incorrect incomplet e correct program correct implementation complete correct speciﬁcat ion question speciﬁcation correctly express intention desire s people program written question lie largely outsid e domain computer science horror story computer user personal experience program don t work crash case problem just annoyance p ersonal computer consequence lost work lost money w hen computer given important task consequence failure proport ionately year ago failure ion dollar space mission mar prominent news failure probably software problem case problem incorrect program n september mar climate orbiter burned martian atmosphere data expressed english unit measurement foot pound en tered computer program designed use metric unit centimeter d gram month later mar polar lander probably crashed software turned oﬀ landing engine soon program supposed detect bump spa cecraft landed turn oﬀ engine determined deployment o f landing gear jarred spacecraft activate program causi ng turn oﬀ engine spacecraft high ground unpowere d spacecraft fallen martian surface robust hav e checked altitude turning oﬀ engine equally dramatic story problem caused b y incorrect poorly written software let s look incident recounted book computer ethic tom forester perry morrison book cover various ethical issue s computing like essential reading student computer sci ence person killed injur ed excess radiation undergoing radiation treatment compu terized radiation machine case period ending almos t cancer patient received radiation dosage prescrib ed programming error computer bank new york started destroying record security transaction error program ok hour ﬁx program time bank overnight payment fund borrow cover problem programming inertial guidance ﬁ ghter plane turned plane crossed equator problem beenchapter correctness robustness efficiency discovered simulation mariner space probe los t error line program gemini v space capsule missed sched uled landing target mile programmer forgot acc ount rotation earth t s telephone service disrup ted united state newly loaded computer program proved contai n bug course recent problem example computer software error contributed northeast blackout lar gest power outage history airbus delayed software incompatibili ty problem cost billion dollar software problem grounded th ousands plane los angeles international airport ﬂaw automatic t rading program apparently resulted drop dow jones industrial ave rage just example software problem c ommon programmer need understand true abou t java rescue partoftheproblem accordingtotheinventorsofjava canb etracedtoprogramminglanguages java designed provide protection ag ainst certain type error language feature help prevent error let s look fe w example programming language require variable clared language variable used program variable crea ted automatically consider convenient having declare v ariable explicitly unfortunate consequence inadvertent spelling error mi ght introduce extra variable intention creating type error respo nsible according famous story lost spacecraft fortran programming language command ﬁrst statement counting loop space in igniﬁcant fortran equivalent hand command period instead comma assignment statement sign value variable supposedly inadvertent substitution period comma statement type caused rocket blow fortran doesn t require variable declared compiler happy accept statemen t just create new variable named iffortran required variable declared compiler complained variable undeclared programming language today require variable s declared otherfeaturesincommonprogramminglanguagesthatcancau seproblems javahaseliminated feature people complain make java eﬃcient powerful justice criticism increase security robustness probably worth cost circumstance best defe nse type error design programming language error im possible case error t completely eliminated language b e designed error doe occur automatically detected l east prevent error causing harm alert programmer bug need ﬁxing let s look case designer java taken app roach array created certain number location numbe red zero speciﬁed maximum index error try use array lo cation outside speciﬁed range java attempt detected auto matically somechapter correctness robustness efficiency language c s programmer t o make sure index legal range suppose array location anda thena refer memory location end arra java attempt store data detected program terminated unless error caught discussed section c computer just ahead store data memory array sinc e telling memory location used result unpredi ctable consequence terminated program exa mple discussion buﬀer overﬂow error later section pointer notorious source programming error ja va variable object type hold pointer object special value null attempt use null value pointer actual object detect ed language s programmer avoid nul l pointer error ﬁrst macintosh computer long time ago nullpointer actually implemented pointer memory location zero program use null po inter change value stored memory near location zero unfortunately macintosh stored important data location changing data cause sy stem crash consequence severe single failed program type pointer error occurs pointer value p ointing object wrong type segment memory doe hold va lid object type oferrorsareimpossibleinjava doe allowp rogrammers tomanipulate pointer directly language possible set pointer point essentially location memory incorrectly using pointe r unpredictable result type error occur java memory lea java longer pointer refer object object garbage collected memorythatitoccupiedcanbereused inotherlanguages istheprogrammer sresponsibility return unused memory programmer fail s unused memory build leaving memory program data ther e story common program older window computer memory leak s computer run memory day use re tarted program suﬀer buﬀer overﬂow error buﬀer overﬂow error make news responsible m network security problem computer receives data computer network data stored buﬀer buﬀer just segment memory ocated program hold data expects receive buﬀer overﬂow occurs m ore data received ﬁt buﬀer question happens err detected program networking software thing ha ppened failed network data transmission real problem occurs softwar e doe properly detect buﬀer overﬂows case software continues store data memory buﬀer ﬁlled extra data go memory wa s allocated program buﬀer memory use purpose contain important data contain program elf real security issue come suppose buﬀer overﬂow cause p rogram replaced extra data received network computer go execute program replaced s actually executing data rec eived computer data program crash computer take malicious programmer ﬁnds convenient buﬀer overﬂow er ror networking software canchapter correctness robustness efficiency try exploit error trick computer execu ting program software written completely java buﬀer overﬂow erro r impossible language simplydoesnotprovideanywaytostoredataintomemorythat hasnotbeenproperlyallocated need pointer point unallocate d memory refer array location lie outside range allo cated array explained possible java conceivably error java s standard class method c lass actually written c programming language java fact java s nternal security error time problem language s clear language design help prevent error tect occur doing involves restricting programmer allowed t o requires test checking pointer null extra processing time programmer feel sacriﬁce power eﬃciency high pric e pay extra security application true sit uations safety security primary consideration java designed situa tions problem remain java thereisoneareawherethedesignersofjavachosenottodete cterrorsautomatically numerical computation java value type inti represented binary number bit s possible represent little billion d iﬀerent value value type int range happens result computation lie outsidethisrange forexample whatis andwhatis mathematically correct result case repres ented value type int example integer overﬂow case integer overﬂow considered error java doe automatically detect err or example compute value negative number happens extra bit bit correct answer discarded value greater wrap negative value math ematically speaking result correct modulo example consider program discussed insubsection starting positive integer n program computes certain sequence integer n n n n n n n n thereisaproblem nistoolarge thevalueof bemathematically correct integer overﬂow problem arises whenn foracompletelycorrectprogram weshouldcheckforthisp ossibility beforecomputing n n n n n n chapter correctness robustness efficiency sorry value n large computer break n n n sure understand t just test problem original algorithm computin wrong problem just t correctly implemented using integer program ignore type problem integer overﬂow error responsible share computer failure completely robust progr possibility integer overﬂow account infamous bug start year fact just sort error number type double problem overﬂow error s occur result computation outside ra nge value represented value type double range extends time power number range wrap n egative value instead represented special value real numerica l equivalent special value infinity infinity represent number outside range legal value example computed infinity special value type double represents illegal undeﬁned result nan stand number example result dividing zero zero taking square root negative number test number xi special value calling function x real number added complication r eal number represented approximately computer real number h ave inﬁnite number digit decimal point value type doubleis accurate digit real number example repeating decimal way represent exactly using ﬁnite number digit computa tions real number generally involve loss accuracy fact care exercised result large number computation completely wrong ﬁel d computer science known numerical analysis devoted studying algorithm manipulate al number possible error avoided detecte d automatically java furthermore error detected automatically s default response report error terminate program hardly robust behavior java programmer need learn technique avoiding dealing error main topic section writing correct program correct program don t just happen take planning attention avo id error program technique programm er use increase likelihood program correctness robustness efficiency provably correct program case possible provethat program correct possible demonstrate mathematically sequence computati ons represented program produce correct result rigorous proof di ﬃcult practice applied fairly small program furthermore pends fact correct result speciﬁed correctly completely ve pointed program correctly meet speciﬁcation useful sp eciﬁcation wrong everyday programming apply idea nd technique used proving program correct fundamental idea process andstate state consists information relevant execution program given moment durin g execution state includes example value variable program output produced input waiting read record position program computer working process sequence st ate computer go executes program point view t meaning statement program expressed term eﬀect execut ion statement computer s state simple example meaning as ignment statement x statement executed value varia blexwill absolutely sure fact build pa rt mathematical proof fact possible look program deduce th fact true given point execution program example consider doloop enter positive integer n n loop end absolutely sure value variable ni greater zero loop end condition satisﬁed t fact meaning thewhileloop generally whileloop us test breakstatements loop loop end sur e false use fact draw deduction happens execution program continues loop th e way worry question loop end s omething veriﬁed separately precondition postconditions fact proven true given program segme nt executed called apostcondition program segment postconditions known fact upo n build deduction behavior program postcondition program simply fact proven true p rogram ﬁnished executing program proven correct showing postc onditions program meet program s speciﬁcation consider following program segment varia bles type double disc b b c x disc chapter correctness robustness efficiency quadratic formula mathematics assu re value assigned x solution equation b x c provided value discis greater equal zero value ai zero ifwe guarantee b c fact xi solution equation postcondition program segment say condition b c aprecondition program segment condition precondition precondition deﬁned condition true given point th e execution program order program continue correctly precondition want true s check force true want program correct ve encountered precondition postconditions b efore subsection section introduced precondition postconditions w ay specifying contract subroutine term used preconditio n subroutine just precondition code make deﬁnition su broutine postcondition subroutine postcondition code se ction generalized term make useful talking program corre ctness general let s work considering longer program segm ent enter b b c b b c c b b c input illegal try b b c disc b b c x disc loop end sure b c precondition line fulﬁlled postcondition tha txis solution equation b x c valid program segment correctly provably c omputes solution equation actually problem wi th representing real number computer true algorithm correct program perfect implementation algorithm discussion subsection variation precondition chec ked ifstatement ﬁrst ifstatement solution computed printed know precondition fulﬁlled part know precondition fails hold case program correct enter value b b b c c chapter correctness robustness efficiency b b c disc b b c x disc solution x x b x c x value zero b b c zero th e equation x x b x c solut ion write program s good idea watch precondition think program handle precondition c oﬀer clue write program example array reference precondition index range legal index array precondition thecomputerwillcheckthisconditionwhenitevaluates andifthecondition satisﬁed program terminated order void need make sure index legal value actually p recondition ai null let s leave aside moment consider fol lowing code search number xin array aand set value ito index array element contains x x program segment stand precondition namel y thatxis actually array precondition satisﬁed loop end x value iwhen loop end position xin array xi array value iwill just increasing equal time reference illegal program terminated avoid add test make sure precondition referring satisﬁed x loop deﬁnitely end end iwill satisfy eitheri x anifstatement used loop test ditions caused loop end x x array x position chapter correctness robustness efficiency invariant let s look loop work consider subrou tine ﬁnding sum element array int static int arraysum int int total int total total return total note way requirement ai notnullis precondition subroutine violated code subroutine throw nullpointerexception sure subroutine work need prove return statement executed value totalis sum element way think problem term loop invariant loop invariant roughly statement remains true s loop executed precisely statement invariant l oop following hold long statement true beforethe code inside loop executed trueafterthe code inside loop executed loop inv ariant precondition postcondition body loop loop invariant loop subroutine totalis equal sum ﬁrstielements suppose true beginning whileloop statement total total executed totalis sum ﬁrst ielements array througha aftera added total totalis sum ﬁrst array point loop invariant nottrue soon statement executed replacing loop invariant true checked loop invarian t true start body loop true end note loop invariant necessarily true everypoint execution loop executing statement loop make false temporarily long later statement loop make true proved subroutine arraysum correct quite thing check need make sure loop invariant true ﬁrst time loop executed point ii zero totalis equal zero correct sum zero element loop invaria nt true loop know know remains true executio n loop s invariant particular know t rue loop end good need check loop act ually doe end execution loop value igoes mean eventually point condition whileloop false loop end loop end know know loop invariant true point loop invariant say totalis sum element includes allof element loop invariant give exactly wanted totalis returned subroutine equal sum element array chapter correctness robustness efficiency lot work prove tha t s obvious try explain whyit s obvious arraysum work ll probably ﬁnd using logic loop invariant don t use term let s look quickly similar example consider subr outine ﬁnds maximum value array int assume array length static int maxinarray int int max int max max return max case loop invariant say maxi largest value ﬁrst element statement true loop start ii maxisa suppose true start loop ifstatement ifstatement max greater equal postcondition ifstatement greater equal througha truth loop invariant fact maxi largest value ﬁrst ofa wheniis replaced statement loop invariant true loop end loop invariant tell exactly need know maxi largest value array loop invariant just useful proving program s correct thinking term loop invariant useful trying develo p algorithm example let s look insertion sort algorithm discusse d insubsection suppose want sort array end algorithm want true question procedure use ma ke statement true come loop invariant end beco statement want true want element sorted end loop invariant say element ﬁ rstielements sorted lead outline algorithm loop invariant code add sorted portion array point loop invariant true whileloop loop end loop invariant precisely statement want true end algorithm know complete algorithm develop code inside loop preserve truth loop invariant tha t loop invariant assurechapter correctness robustness efficiency algorithm developed correct lgorithm adding sorted portion array require loop s loop invariant ll leave think kind invariant useful thinkin g program class invariant class invariant roughly statement tr ue state class object created class exam ple suppose pairofdice class value shown dice stored insta nce variable seesection variety class like class variant say value range statement object created pairofdice class class statement true pair dice order class invariant statement gu aranteed true time variable guarantee possible sin ce way control value program us class m ight assign led make private just make sure code class deﬁnition respect class invariant th ﬁrst pairofdice object constructed variable initialized range furthermore method class preserve tru th class invariant case mean method assigns value ensure value range example setter method check legal value assigned general say class invariant postconditi constructor precondition postcondition method th e class writing class class invariant want true time write method need make sure code method resp ect invariant assuming class invariant true method called yo u need ensure true code method executed kind t hinking useful tool class design example consider dynamic array class like insubsection class us ordinary array store value counter k eep track item added dyanmic array private int item new int private int itemcount class invariant include fact itemcount number item itemcount item array element item throughitems keeping invariant mind helpful writi ng class writing method adding item ﬁrst nvariant reminds mentitemcount order ensure invariant remains true secon d invariant tell new item stored invarian t tell ingitemcount make equal need avoid violating invariant itemcount incremented invariant mean make array bigger future chapter occasionally point b e useful think term precondition postconditions invariant note reasoning invariant m ore complicated parallelchapter correctness robustness efficiency program thread running t ime accessing data issue encounter thread chapter robust handling input place correctness robustness nd especially processing input data data typed user read ﬁle received network file networking covered chapter make essential use material covered section thi s chapter let s look example processing user input example textbook use textioclass reading input user class error handling example function guaranteed return legal value type double user type illegal value textiowill ask user response program see illegal value approach clumsy unsatisfactory especially user entering complex data following example ll s useful able look ahead s comi ng input actually reading example program need kno w item input number word purpose textioclass includes function function return charwhich character user s input doe actually read character g input return character really need know character user s input test need skip past space ta b function doe ituses tolookahead anditreadscharactersuntilthenextcharact erinthe thefunction read return character user s input eve n character space contrast common skip blank read return character t use object skip blank reading character read past blank tab input postcondition character input character static void skipblanks char ch ch ch ch character space tab read look character follows ch ch end skipblanks fact operation common built textio method doe essentially thing skipblanks method presented chapter correctness robustness efficiency example subsection allowed user enter length measurement mile convert measurement nches foot yard mile people commonly use combined measurement fee t inch let s improve program allows input form speciﬁcally user input line containing o r measurement foot mile yard foot legal unit measure inch foot yard mile program recognize plural inch foot yard s mile abbreviation ft yd mi let s write subroutine read line form compute equivalent number inch main program us nu mber inch compute equivalent number foot yard mile e rror input subroutine print error message return value subroutine assumes input line main program test ing subroutine us line signal ending program ignoring possibility illegal input pseudocode al gorithm subroutine inch total number inch input line read numerical measurement read unit measure add measurement inch return inch test input line checking character character test p recondition make sure character input fact ensure need skip blank character algor ithm inch skipblanks read numerical measurement read unit measure add measurement inch skipblanks return inch note skipblanks end whileloop skipblanks ensures precondition test true genus lly test whileloop precondition make sure precondit ion hold endof loop computer jump test start loop error checking reading numerical mea surement make sure really number read readi ng unit measure test read number mig ht thing line input unit measure t acceptable check unit measure valid unit inche s foot yard mile algorithm includes inch skipblanks chapter correctness robustness efficiency character digit report error return let measurement skipblanks precondition test character report error return let unit unit inch add measurement inch unit foot add measurement inch unit yard add measurement inch unit mile add measurement inch report error return skipblanks return inch add signiﬁcantly compl exity algorithm fairly simple example doesn t han dle possible error example user enters numerical measurement outside legal range value type double program fall default ng intextio interesting happens measuremen t mile legal corresponding number inch outside t legal range value type double mentioned previous section computer value infinity whenitdoesthecomputation youmightwanttoruntheprogra m try subroutine written java read user s input measurement line input precondition input line postcondition user s input legal measureme nt converted inch returned input legal value returned read routine static double readmeasurement double inch total number inch user s measureme nt double measurement measurement mile string unit unit specified measurement mile char ch used peek character user s input inch inch read skipblanks chapter correctness robustness efficiency ch long input line read measuremen t add equivalent number inch variable inch error detected loop end subroutine immedi ately returning ch measurement unit reading make sure legal value read ch error expected number ch return measurement skipblanks error missing unit measure end line return unit unit convert measurement inch add total inch inch inch measurement foot foot ft inch measurement yard yard yd inch measurement mile mile mi inch measurement error unit legal unit measure return look ahead thing line skipblanks ch chapter correctness robustness efficiency end return inch end readmeasurement source code complete program ﬁl exception try catch getting program work ideal circumstance usually lot easier makin g program robust robust program survive unusual exceptional circ umstances crashing approach writing robust program s anticipate problem arise include test program possi ble problem example program crash try use array element wheniis declared range index array robust program anticipate possibility bad dex guard way write program way ensures postcondition code precedes array reference index legal range way test index value legal using array ifstatement handle index process array element problem approach diﬃcult impossible anticipate possible thing wrong s clear error detected furthermore trying anticipate possible problem turn straightforward algorithm messy tangle ifstatements exception exception class seen section java provides neater structured alternative technique dealing error occur prog ram running technique referred exception handling word exception meant general includes circumstance arises pro gram executed meant treated exception normal ﬂow control p rogram exception error just special case ra ther clutter elegant algorithm exception occurs execution program w e say exception isthrown happens normal ﬂow program thrown oﬀ program danger crashing crash av oided exception caught handled way exception thrown program caught diﬀerent exception caught gener ally cause program crash exactly thread throw exception cra sh multithreaded program possible thread continue cr ash cover thread inchapter correctness robustness efficiency chapter particular gui program multithreaded part o f program continue function part nal exception way java program executed java interpr eter having program crash simply mean terminates abnormally premat urely doesn t mean java interpreter crash eﬀect interpreter c atches exception caught program interpreter responds terminat ing program programming language crashed program cr ash entire freeze computer restarted java cr ash mean happen satisfaction bla ming program exception introduced section try catch statement used catch handle exception section d id cover complete syntax oftry catch complexity exception section cov er topic exception occurs thing actually thrown object object carry information instance variable p oint exception occurs point caught handled information al way includes subroutine stack list subroutine executed w hen exception thrown subroutine sub routine active time typically exception object includes erro r message describing happened cause exception contain data exception object belong subclass standard class general diﬀerent type exception represented subclass throwable subclass arranged fairly complex class hierarchy show relationshi p various type exception throwable direct subclass errorandexception subclass turn predeﬁned subclass addition programmer create new exception class represent new type exception subclass class errorrepresent error java virtual machine ordinarily cause program termination b ecause reasonable way handle general try catch han dle error example aclassformaterror occurs java virtual machine ﬁnds kind illegal data ﬁle supposed contain compiled java class t hat class loaded program really way progra m proceed hand subclass class exception represent exception meant caught case exception n aturally called error error program input data programm er anticipate possibly respondtoinsomereasonableway youshouldavoi dthetemptationofsaying ll just thing catch error oc cur program won t don t reasonable way respond error s best just let program crash trying probably lead wors e thing worst case program give incorrect answer giving indication answer wrong class exception subclass runtimeexception class group common exception including c overed previous section example illegalargumentexception andnullpointerexception subclass runtimeexception aruntimeexception generally indicates bug program programm er shouldchapter correctness robustness efficiency anderrorsshare property program simply ignore possibility occur ignoring mea n content let program crash exception occurs example program doe time us array reference like making arrangement catch possible arrayindexoutofboundsexception exception class error runtimeexception subclass mandatory sense ll discus following diagram class hierarchy showing class throwable just subclass class require mandatory handling shown red throwable error exception interruptedexception arrayindexoutofboundsexceptionioexception eofexception socketexceptionruntimeexception illegalargumentexception numberformatexceptionthe class throwable subclass class throwable includes instance method used e xception object eis type throwable subclass function thatreturnsa stringthatdescribestheexception thefunction whichisusedby thesystemwheneveritneedsastringrepresentationoftheo bject returnsa stringthatcontains class exception belongs string returned method writes stack trace standard output tell subroutine active wh en exception occurred stack trace useful trying determine c ause problem information stack trace tell exactly program th e exception occurred note exception notcaught program default response excep tion print stack trace standard output try statement catch exception java program need trystatement using statement section syntax trystatement complicated presented trystatements used far syntax similar following example try double determinant m m m m determinant m determinan t catch arrayindexoutofboundsexception e chapter correctness robustness efficiency m wrong size determina nt computer try execute block statement f ollowing word try exception occurs execution block th e catch statement simply ignored exception type arrayindexoutofboundsexception occurs computer jump immediately catchclause trystatement block statement said exception handler forarrayindexoutofboundsexception handling exception way prevent crash ing program body thecatchclause executed object represents exceptio n assigned variablee used example print stack trace syntax trystatement option thing try catch statement catchclause make possible catch diﬀerent type exc eption trystatement example addition possible arrayindexoutofboundsexception possible nullpointerexception occur value misnull handle possible exception adding second catchclause trystatement try double determinant m m m m determinant m determinan t catch arrayindexoutofboundsexception e m wrong size determina nt catch nullpointerexception e programming error m doesn t exist thecomputertriestoexecutethestatementsinthe tryclause ifnoerroroccurs thecatchclauses skipped arrayindexoutofboundsexception occurs computer executes body ﬁrst catchclause skip second nullpointerexception occurs jump second catchclause executes note arrayindexoutofboundsexception andnullpointerexception subclass runtimeexception s possible catch runtimeexceptions single catchclause example try double determinant m m m m determinant m determinan t catch runtimeexception err sorry error occurred error err thecatchclause trystatement catch exception belonging class ceptionor subclass show exception class organized class hierarchy allows option casting net narro wly catch speciﬁc type exception cast net widely catch wide cl as exception subclassing multiple catchclauses trystatement possible given exception match catchclauses example exception typechapter correctness robustness efficiency nullpointerexception match catchclauses nullpointerexception runtimeexception exception orthrowable case ﬁrstcatchclause match exception executed course catching runtimeexception catch type exception interested possible combine sever al speciﬁc exception type singlecatchclause example try double determinant m m m m determinant m determinan t catch nullpointerexception err sorry error occurred error err exception type combined vertical line character used boolean oroperator example catch error type nullpointerexception arrayindexoutofboundsexception type example ve using realistic yo u likely use guard null pointer bad rray index case careful programming better exception handling jus t sure program assigns reasonable nullvalue array certainly resent designer java forced set try catch statement time wanted use array handling potential runtimeexceptions mandatory just thing wrong show doe solve problem program robustness just give tool th case let approach problem organized way completely speciﬁed syntax trystatement variation possibility ﬁnally clause end trystatement addition syntax trystatement described try note catchclauses listed optional trystatement include zero morecatchclauses optionally finally clause trystatement mustinclude trystatement finally clause catch clause syntax catchclause catch syntax finally clause finally chapter correctness robustness efficiency semantics finally clause block statement finally clause guaranteed executed step execution try statement exception occurs exception e occur caught handled thefinally clause meant doing essential cleanup cir cumstances omitted example type cleanup closing ne twork connection don t know networking look actu al programming case consider pseudocode try open network connection communicate connection catch ioexception e report error finally connection successfully opened close connection thefinally clauseensuresthatthenetworkconnectionwilldeﬁnitelyb eclosed whetherornot error occurs communication pseudocode example follows general pattern used robustly obtain resource use th e resource release resource pattern obtaining resource using resource releasing resource isverycommon notethat resourcecanonly bereleasedif noerroroccurredwhileobtaining successfully obtained cl osed error occurs using pattern common lead l ast option trystatement syntax option need code obtain re ource don t need worry releasing happen automatically end trystatement order work resource represented object implement interface named autocloseable deﬁnes single method named close parameter standard java class represent thing li ke ﬁles network connection implement autoclosable doe scanner class introduced subsection section showed use scanner read didn t section s considered good form close scanner using example us pattern trystatement make sure scanner closed automatically try scanner new scanner use scanner read standard input catch exception e error occurred using scanner statement allocates scanner go parenthesis word try statement form variable declaration ncludes initialization variable variable local trystatement actually declare variable parenthesis separated semicolon examp le sure chapter correctness robustness efficiency deﬁnitely called end trystatement long scanner successfully initialized getting quite complicated won t continue t discussion sample program demonstrates trystatement option includes lot comment help understand hap pen run program throwing exception time make sense program deliberat ely throw exception case program discovers sort exception al error condition reasonable way handle error point problem discovered program throw exception hope par t program catch handle exception throw statement seen example subsection section cover throwstatement fully syntax throwstatement object belonging subclass throwable usually fact belong subclass exception case newly constructed object created newoperator example throw new arithmeticexception division zero parameter constructor error message n exception object e refers object error message retrieved ca ﬁnd example bit odd expect throw arithmeticexception attempt divide zero progr ammer bother throw exception recall number tha t divided type int division zero throw arithmeticexception arithmetic operation number produce exception instead special used represent result illegal operation situation prefer throw arithmeticexception real number divided zero exception thrown throwstatement exception processed exactly way case suppose t hat exception thrown inside atrystatement trystatement catchclause handle type exception computer jump catchclause executes exception beenhandled handling exception computer executes finally clause thetrystatement continues normally t rest program follows trystatement exception immediately caught ha ndled processing exception continue exception thrown execution subrout ine exception handled subroutine subroutine t erminated execution pending finally clause routine called subroutine get chance handle exception subroutine calle d inside trystatement appropriate catchclause thatcatchclause executed program continue normally second routin e doe handle exception terminated routine called get shot exception exception crash program pa ss entire chain subroutine call handled called u nwinding chapter correctness robustness efficiency subroutine generate exception announce t fact adding clause header routine example return larger root quadratic equatio n x x b x c provided root discriminant b b c negative excep tion type illegalargumentexception thrown static public double root double double b double c throw illegalargumentexception throw new illegalargumentexception t zero double disc b b c disc throw new illegalargumentexception discriminant zero return disc discussed previous section computation thi s subroutine ditions c subroutine throw exception type galargumentexception precondition violated ille gal condition subroutine throwing exception rea sonable response program called subroutine know good way handle e rror catch exception program programmer know t hat program need ﬁxed athrowsclause subroutine heading declare diﬀerent type exception separated comma example void processarray int throw nullpointerexception arrayindexoutofboundsexception mandatory exception handling intheprecedingexample declaringthatthesubroutine root canthrowan ceptionis just courtesy potential reader routine handling legalargumentexceptions routine throw illegalargumentexception announcing possibility program s routine free catch ignore exception just programmer choose ei ther catch ignore exception type nullpointerexception exception class require mandatory handlin g situation diﬀerent subroutine throw exception fact mustbe announced throwsclause routine deﬁnition failing syntax error reported compiler exception require mandatory handling called checked exception compiler check exception handled program suppose statement body subroutine ge nerate checked exception onethatrequiresmandatoryhandling thestatementcouldb eathrowstatement whichthrows exception directly subroutine t hat throw exception inchapter correctness robustness efficiency case exception mustbe handled way ﬁrst way place statement trystatement catchclause handle exception case exception handled subroutine caller subroutine exception second way declare t subroutine throw exception adding throw clause subroutine heading alert caller possibility exception ge nerated subroutine executed caller turn forced handl e exception trystatement declare exception throwsclause header mandatory exception class th isnota subclass errororruntimeexception checked exception generally represent condition outside control programmer example mig ht represent bad input illegal action taken user way avoidsuch error robust program prepared handle design java make mpossible programmer ignore possibility error checked exception occur using java s routine mean t use routine u nless understand chapter deal us checked exception extensively programming exception exception used help write robust program pr ovide organized structured approach robustness exception p rogram cluttered ifstatements test various possible error condition exception possible write clean implementation algorithm tha t handle normal case exceptional case handled catchclause trystatement program encounter exceptional condition n o way handling immediately program throw exception ca e make sense throw exception belonging java s predeﬁned class s uch asillegalargumentexception ioexception standard class adequately repr esents exceptional condition programmer deﬁne new exception class t new class extend standard class throwable subclass general programmer doe notwant require mandatory exception handling new class extendruntimeexception subclass create new checked exception class whichdoesrequire mandatory handling programmer extend subclas s ofexception extend exception example class extends exception requires mandatory exception handling used public class parseerror extends exception public parseerror string message create parseerror object containing given message error message super message class contains constructor make possible create parseerror object containing given error message statement super message call constructor superclass exception seesubsection course class inherits getmessage andchapter correctness robustness efficiency printstacktrace routine superclass erefers object type parseerror function retrieve error message speciﬁed constructor main point parseerror class simply exist object typeparseerror thrown indicates certain type error occur red parsing way refers ﬁguring syntax string parseerror indicate presumably string processed program doe n ot expected form athrowstatement used program throw error type parseerror constructor parseerror object specify error message example throw new parseerror encountered illegal negative num ber throw new parseerror word word valid file sinceparseerror deﬁned subclass exception checked exception throw statement doe occur trystatement catch error subroutine contains throwmust declare throw parseerror adding clause throw parseerror subroutine heading example void getuserdata throw parseerror required parseerror deﬁned subclass runtimeexception instead ofexception case parseerrors checked exception routine want handle parseerrors use trystatement catchclause catch parseerrors example try getuserdata processuserdata catch parseerror pe handle error note parseerror subclass exception acatchclause form catch exception e catch parseerrors object type exception s useful store extra data exception ob ject example class shipdestroyed extends runtimeexception ship ship ship destroyed int x y location ship destroyed shipdestroyed string message ship s int x int y constructor creates shipdestroyed object carrying error message plus information ship s destroyed location x y screen super message ship s wherex x wherey y chapter correctness robustness efficiency ashipdestroyed object contains error message information ship destroyed used example statemen t throw new shipdestroyed ve hit usership xpo s ypos note condition represented shipdestroyed object considered error just expected interruption mal ﬂow game exception used handle interruption neatly ability throw exception particularly useful wr iting method andclassesthataremeanttobeusedinmorethanoneprogram inthiscase thepersonwriting method class reasonable way handling th e error person way knowing exactly method class used circumstance novice programmer tempted print error message ge ahead satisfactory lead unpredictable resul t line printing error message terminating program bad t give program chance handle error program call method us class need kn ow error occurred language support exception o nly alternative return special value set value global variable dicate error occurred example readmeasurement function subsection return value user s input illegal doe good t main program bother test return value easy lazy checking special return value time subroutine called case using signal error occurred make impossible allow negative measurement exception cleaner way subroutine react encounter error easy modify readmeasurement function use exception instead special return value signal error modiﬁed subroutine throw s aparseerror user s input illegal parseerror subclass exception deﬁned arguably reasonable avoid deﬁning new class using th e standard exception class illegalargumentexception instead change original version shown italic read user s input measurement line input precondition input line postcondition user s input legal measureme nt converted inch returned throw parseerror user s input legal static double readmeasurement throw parseerror double inch total number inch user s measureme nt double measurement measurement mile string unit unit specified measurement mile char ch used peek character user s input inch inch correctness robustness efficiency skipblanks ch long input line read measuremen t add equivalent number inch variable inch error detected loop end subroutine immedi ately bythrowing parseerror ch measurement unit reading make sure legal value read ch throw new parseerror expected number ch measurement skipblanks throw new parseerror missing unit measure end line unit unit convert measurement inch add total inch inch inch measurement foot foot ft inch measurement yard yard yd inch measurement mile mile mi inch measurement throw new parseerror unit legal unit measure look ahead thing line skipblanks ch end return inch end readmeasurement chapter correctness robustness efficiency main program subroutine called trystatement form try inch readmeasurement catch parseerror e handle complete program ﬁle user s point view program exactly behavior t program previous section internally progra m signiﬁcantly diﬀerent us exception handling assertion annotation short section look brieﬂy feature java covered used elsewhereinthistextbook assertionsandannotations th eyareincludedhereforcompleteness meant advanced programming notation particular don t really belong chapter ﬁnd better pla ce short introduction topic assertion recall precondition condition true certain point program execution program continue correctly point case chance precondition exa mple depends input s good idea insert ifstatement test question arises precondition doe hold opt ion throw exception terminate program unless exception cau ght handled program case course instead using ifstatement testwhether precondition hold programmer try write program way wi llguarantee precondition hold case test nece ssary ifstatement avoided problem programmer perfect spite programmer s intention program contain bug screw precondition maybe s good idea check precondition durin g debugging phase program development similarly postcondition condition true ce rtain point program consequence code executed p oint assuming code correctly written postcondition guaranteed tr ue testing desired postcondition actually true way checking bug screwed postcondition desira ble debugging thing applies loop invariant class invar iants thing shouldbe true certain point program true t hose point mean program contains bug programming language c facilit y adding calledassertions program assertion form assert expression condition express preconditi orchapter correctness robustness efficiency postcondition hold point program computer encounter assertion execution program evaluat e condition condition false program terminated program ntinues normally allows programmer s belief condition true tested true indicates program preceded assertion containe d bug nice thing assertion c turned oﬀ compi le time program compiled way assertion inclu ded compiled code program compiled way assertion cluded debugging ﬁrst type compilation used assertion turned release version program compiled assertion turned oﬀ release version w ill eﬃcient computer won t evaluate assertion early version java did assertion ssertion facility similar available java version w ith version java assertion turned debugging turned oﬀ du ring normal execution java assertion turned oﬀ run time th compile time assertion java source code included compiled cla s ﬁle program run normal way assertion ignored th e condition assertion evaluated case little performance pen alty having assertion program program debugged run assertion enabled discussed assertion great help n locating identifying bug anassertion statement java take following form expression string expression type string word assert reserved word java used identiﬁer assertion statement used anyp lace java statement legal program run assertion disabled assertion st atement equivalent statement eﬀect assertion enable d assertion statement encountered program assertion evaluated value true program proceeds normally value condition isfalse exception thrown program crash unless error caught trystatement assertstatement includes error message string message assertionerror statement similar false throw new assertionerror ifstatement executed program run assert statement executed program run asser tions enabled question use assertion instead exception s general rule use assertion test condition deﬁnitely true program written correctly assertion useful testing program correct ﬁnding error incorrect program testing debugg ing program used inchapter correctness robustness efficiency normal way assertion program ignored problem turn later assertion program u sed help locate error writes say program doesn t work wh en doe run program assertion enabled ch hope assertion program help locate point program wh ere go wrong consider example root method subsection calculates root quadratic equation believe program lways method legal argument make sense write method using assertion instead exception return larger root quadratic equatio n x x b x c precondition b b c static public double root double double b double c assert leading coefficient quadratic equation ca nnot zero double disc b b c assert disc discriminant quadratic equation canno t negative return disc assertion checked program run n ormal way correct belief method called illegal argu ments checking condition assertion unnecessary belief correct problem turn testing debugging program run t assertion enabled theroot method software library expect peo ple use situation clear oracle s java documentation ad vise assertion notbe used checking contract public method er method violates contract bypassingillegalparameters thenanexceptionshouldbet hrown thiswillenforcethecontract assertion enabled s true java programmer expect contract method enforced exception ther e reasonable argument using assertion instead case say assertion help debugging code exception people u se code alert misusing ontheotherhand itneverhurtstouseanassertiontochecka postconditionoraninvariant condition deﬁnitely expected true n program assertion natural way check condition deb ugging imposing eﬃciency penalty program executed normally t postcondition invariant false bug need testing debugging phase programming eﬀect assertion enabled program run depends programming environment using section discussion programmingenvironments intheusualcommandlineenvir onment assertionsareenabledby adding option thejavacommand used run program example class contains main program rootfinder command java rootfinder run program assertion enabled option abbreviated command alternatively written aschapter correctness robustness efficiency java rootfinder fact possible enable assertion just p rogram option form enables assertion speciﬁed class note tha t space class enable assertio n package subpackages use option fo rm enable assertion default package clas s speciﬁed belong package like class book use example run java program named megapaint assertion enabled y class package named paintutils drawing use command java paintutils drawing megapaint using eclipse integrated development environ ment specify option creating run conﬁguration main program class package explorer pane select run nu run submenu open dialog box manage r conﬁgurations project main class ﬁlled click argument tab box vm argument content box dded java command used run program enter op tions box including complicated enableassertions option paintutils click run button option applied furthermore y applied run program unless change run conﬁguration add n ew conﬁguration note possible make run conﬁgurations class assertion enabled assertion disabled annotation term annotation commonly refers note added wr itten alongside main text help understand appreciate text annotation mi ght note make margin book footnote added t o old novel editor explain historical context event annotatio n metadata metatext text written aboutthe main text ofthe main text comment program actually kind annotation sinc e ignored compiler eﬀect meaning program th ey explain meaning human reader possible course anot computer program compiler process comment s ca e javadoc comment processed program us create api docume ntation comment type metadata added program java new feature called annotation added java language make easier create new kind metadata java program t possible programmer devise new way annotating program t o write program read use annotation java annotation direct eﬀect program y annotate potential us someannotations areused tomakethepr ogrammer sintent moreexplicit annotation checked compiler make sure t hat code consistent programmer s intention example override standard annotation used annotate method deﬁnitions mean method intended override replace method signature deﬁned n superclass compiler check superclass method actually exists inform programmer anchapter correctness robustness efficiency annotation used way aid writing correct progr am programmer warned potential error advance instead havi ng hunt later bug annotate method deﬁnition override annotation simply place deﬁnition syntactically annotation modiﬁers th used way modiﬁers like public example override public void windowclosed windowevent evt windowclosed windowevent method superclass compiler issue error fact example based d bug introduced trying override method named windowclosed method called windowclosed upper case w override annotation existed used compiler reject ed code saved trouble tracking bug annotation fairly advanced feature h ave mentioned textbook notation override code generated eclipse integrated development environment standard annotation deprecated used mark deprecated class method variable deprecated item considered obsolete java language backward s compatibility old code use annotation allow compiler generate warning deprecated item used standard annotation surpresswarnings used compiler turn oﬀ warning message ordinarily generat ed class method compiled suppresswarnings example annotation parameter parameter tell class warning suppressed example class method annotated suppresswarnings deprecation warning use deprecated item emi tted class method compiled type warning supp ressed unfortunately list warning name standardized vary fr om compiler note way syntax annotation especially annotation accepts multiple synt ax method parameter won t cover annotation syntax programmer deﬁne new annotation use code annotation ignored standard compiler programming tool s possi ble write program understand annotation check presence s ource code possible create annotation retained bec ome running program case program check annotation actua l compiled code executed action depend presence annotation value parameter annotation help programmer write correct program use example java documentation help creation boil erplate code standardized format generated mech anically boilerplate code generated based code doing hand tedio process simple example code save certain aspect pro gram s state ﬁle restore later code reading writing value relevant state variable highly repetitious instead writing code hand p rogrammer use annotation mark variable state sa ved program bechapter correctness robustness efficiency used check annotation generate restore code fact possible code altogether progra m check presence annotation run time decide variable save r estore analysis algorithm chapter concentrated correctness program practice issue important eﬃciency analyzing program term eﬃciency want look question long doe th e program run approach answer quickly eﬃciency important correctness don t care prog ram work correctly make run quickly think s n achievement hand program give correct answer thousan d year isn t useful eﬃciency important issue term eﬃciency refer eﬃcient use re ource including time computer memory disk space network bandwidth s ection deal exclusively time eﬃciency major question want ask program long doe perform task really make little sense classify individual progr eﬃcient make sense compare correct pr ograms perform task ask eﬃcient wh ich performs task quickly diﬃculties r unning time program run time diﬀerent depending th e number speed processor computer run case o f java design java virtual machine used interpret program depend detail compiler used translate program vel language machine language furthermore run time program depends size t problem program solve take sorting program longer sort tems take sort item run time program compared oft en happens program solves small problem faster program b program b solves large problem faster program simply case progr faster case spite diﬃculties ﬁeld computer scie nce dedicated analyzing eﬃciency program ﬁeld known analysis algorithm focus algorithm program avoid ha ving deal multiple implementation algorithm written diﬀerent l anguages compiled diﬀerent compiler running diﬀerent computer analysis lgorithms mathematical ﬁeld abstract away detail sti ll theoretical ﬁeld working programmer aware technique result section brief introduction techniq ues result mathematics book treatment informal main technique analysis algorithm asymptotic analysis term asymptotic mean basically tendency long run size input asymptotic analysis algorithm s run ti look question run time depends size problem analysis s asymptotic considers happens run time size probl em increase limit concerned happens problem small size fact problem anychapter correctness robustness efficiency ﬁxed ﬁnite size happens long run prob lem size increase limit important showing algorithm asymptotic ally faster algorithm b doesn t necessarily mean algorithm run faster th algorithm b problem size size size mean increasing problem size eventually come point algorithm faster algorithm asymptotic analysis ﬁrst approximation pra ctice give important useful information central asymptotic analysis notation using notation say example algorithm running time o oro n oro log n notation read n squared n log n log logarithm function generally refer o f n f n f n function assigns positive real number po sitive integer n notation refers size problem eve n begin asymptotic analysis need way measure problem size usually t big issue example problem sort list item problem size ca n taken number item list input algorithm integer case algorithm check given positive integer prime ual measure size problem number bit input integer inte ger generally number bit input problem good measure size problem say running time algorithm o f n mean large value problem size n running time algorithm bi gger constant time f n rigorously number c positive int eger m n greater m run time equal c f n constant take account detail speed computer algorithm run use slower computer use bigger constant t formula changing constant won t change basic fact run time o f n constant make unnecessary say measuring time second s year cpu cycle unit measure change unit measure ano ther just multiplication constant note o f n doesn t depend happens small proble m size happens long run problem size increase limit look simple example consider problem adding number array problem size n length array using aa array algorithm expressed java total int n total total algorithm performs operation total total n time total time spent operation n time s perform operation thing algorithm t value ii incremented compared n time loop add ad ditional time b n run time constant furthermore iandtotalboth initialized zero add constant c running time exac t running time constant b c depend factor s uch code compiled computer run using fact c tha n equal c n positive integer n say run time equal chapter correctness robustness efficiency run time equal constant time deﬁn ition mean run time algorithm o n explanation mathematical just n ote large value n c formula insigniﬁcant compared term say c lower order doing asymptotic anal ysis lower order term discarded rough correct asymptotic analysis t algorithm like iteration forloop take certain constant time n iteration loop total run time constant ti me n plus lower order term account initialization disregarding lower der term run time o n note say algorithm run time o f n say run time bigger constant time f n large value n o f n put upper limit run time run time smaller muc h smaller example run time o n correct say run time o o run time constant time n certain ly constant time course s useful lower limit run time want able say run time greater equal constant time f n large value n notation ω f n read om ega f n big omega f omega letter greek alphabet d ω upper case version letter technical saying run time n algorithm ω f n mean positive number c positive integer m n greater m run time greater equal c f n o f n tell maximum time wait algor ithm ﬁnish ω f n tell minimum time algorithm adding number array run ti ω n o n algorithm run time ω f n o f n run time said θ f n read theta f n big theta f th eta letter greek alphabet say run time algorithm s θ f n mean large value n run time f n b f n b constant b greater greater let s look example consider algorithm c expressed java following method sort n array element incr easing order public static void simplebubblesort int int n int n n pass array int j j j j order swap int temp j j temp chapter correctness robustness efficiency theparameternrepresentstheproblemsize theouter forloopinthemethodisexecuted n time time outer forloop executed inner forloop executed time theifstatement executed n time lower order term signiﬁcant asymptotic analysis s good sa y ifstatement executed particular test j executed fact say run time algorithm ω run time constant time furthermore look assignmen t statement incrementing iandj executed run time o run time constant time ω ando run time simplebubblesort algorithm θ aware people use notation o f n meant θ f n say run time algorithm o f n mean say run time equalto constant time f n use θ f n p roperly speaking o f n mean run time constant time f n possibly far analysis ignored important l ooked run time depends problem size fact run time usually d epends just size problem speciﬁc data processed f example run time sorting algorithm depend initial order item s sorted just number item account dependency consider worst case run time analysis theaverage case run time analysis algorithm worst case run time alysis consider possible problem size n look longest possible run time problem average case analysis consider poss ible problem size n look theaverage run time problem usually average c ase analysis assumes problem size n equally likely encounter ed possible case inﬁn ite number diﬀerent problem given size case average worst case run time constant multiple mean far asymptotic analysis ncerned average case run time o f n θ f n worst case later n book encounter case average w orst case asymptotic analysis diﬀer possible talk best case run time analysis look shortest possible run time input given size st case analysis occasionally useful really know analysis algorith m read rest book rigorous mathematical analysis able follow informal discussion simple case example tha t looked section important feeling exactl y mean say running time algorithm o f n θ f n common function f n main point notation tell t actual numerical value thechapter correctness robustness efficiency running time algorithm particular case d o tell running time small value tell rate growth running time size problem increase suppose compare algorithm solve probl em run time algorithm θ run time second algorithm θ doe tell want know algorithm faster som e particular problem size say certain far tell just t asymptotic analysis algorithm faster particular anyparticular case say sure look larger larger problem come point θ algorithm faster θ algorithm furthermore continue increase problem size relative advantage θ algorithm continue grow value n θ algorithm thousand time faster million time faster billion time faster positive constant b function faster function b n get larger mathematically limit ratio b inﬁnite n approach inﬁnity mean large problem θ algorithm deﬁnitely faster θ algorithm just don t asymptotic ana lysis large large practice fact likely tha t θ algorithm faster fairly small value n absent informati generally prefer θ algorithm θ algorithm understand apply asymptotic analysis essen tial idea rate growth common function power funct ion n larger exponent greater rate growth function exponential function n exponent growth rate fast er power function fact exponential function grow quickly th algorithm run time grows exponentially certainly impractical rel atively modest value n running time just long function tu rn asymptotic analysis logarithm function log n actually diﬀ erent logarithm function usually used computer science logarithm base deﬁned fact log x number x usually function written log n leave subscript use b logarithm book logarithm function grows slowly growth rate log n smaller growth rate growth rate n log n little large r growth rate n smaller growth rate following table help understand diﬀerences rate growth various function log n n log n n n log n reason log n show asso ciation multiplying dividing suppose start number n divid e divide number equ al number division equal nearest integer log n correctness robustness efficiency example consider binary search algorithm subsection algorithm search item sorted array problem size n ca n taken length array step binary search algorithm divide t number item consideration algorithm stop number o f item consideration equal sooner follows number step array length n log n mean run time binary search θ log n average case run time θ log n comparison linear search algorithm presented subsection run time θ n θ notation give quantitative way express understand fact binary search faster linear search binary search step algorithm divide prob lem size happens operation algorithm necessarily singl e step divide problem size happens logarithm function likel y asymptotic analysis run time algorithm analysis algorithm large fascinating ﬁeld use basic idea ﬁeld helpful derstanding diﬀerences exercise chapter program us following subroutine subsection solve solution equation speciﬁed user return larger root quadratic equatio n x x b x c provided root discriminant b b c negative excep tion type illegalargumentexception thrown static public double root double double b double c throw illegalargumentexception throw new illegalargumentexception t zero double disc b b c disc throw new illegalargumentexception discriminant zero return disc program allow user specify value b andc subroutine compute solution equation error occurs print root error occurs program catch error print error message processing equation program ask user want enter equation program continue unti l user answer discussed section value type intare limited bit integer solution large represented bit stored intvariable java standard class address problem object type biginteger integer arbitrarily large maximum siz e limited memory available java virtual machine sin cebigintegers object manipulated using instance method biginteger class example t add bigintegers instead nandmare variable refer tobigintegers compute sum nandmwith function m value returned function new biginteger object equal sum nandm thebiginteger class constructor new biginteger str wherestris string thestringmustrepresentaninteger suchas ifthestring doe represent legal integer constructor thr ows anumberformatexception instance method biginteger class ﬁnd useful exercise assume nandmare variable type biginteger m function return biginteger representing sum nandm m function return biginteger representing result multiplying m function return biginteger representing result dividingnbym discarding remainder int thereturnedvaluerepresents sign integer returned value ni greater zero ni zero ni zero m function return boolean value trueifnandmhave integer value function return stringrepresenting value k function return boolean value parameter ki integer return value trueif bit ni false bit bit numbered right left starting wi th testing easy way check ni odd istrueif ni odd number exercise write program print starting value speciﬁed user version program y ou use bigintegers represent term sequence read user s input stringwith function nextline function scanner use input value create biginteger object represents starting point sequence don t forget catch handle numberformatexception occur user s input legal integer program t end happens just output error message check input number greater zero user s input legal print count number term sequence print count end sequence exit program user input line roman numeral represents integer using letter exampl e xvii represent solution mcmliii mmmccciii contrast ordin ary number called arabic numeral following table sh ows arabic equivalent roman numeral m x d v c l letter strung value letter just added following exception letter smaller value follo wed letter larger value smaller value subtracted larger value ex ample iv represents mcmxcv interpreted m cm xc v standard roman numeral tha n consecutive copy letter used following rule ev ery number represented roman numeral follo wing combination m x cm ix d v cd iv c xc l xl write class represent roman numeral class h ave constructor construct roman numeral string xvii mcmxcv throw numberformatexception string legal roman numeral constructor construct roman numeral int throw numberformatexception theintis outside range addition class instance method methodtostring return string represents roman numeral thodtoint return value roman numeral int point class convert intinto string represents corresponding roman numeral way appr oach gradually value arabic numeral roman numeral beginning routine numberis theintthat converted string roman int n number n n roman roman m n n n roman roman cm n continue value table save lot typing routine e array clever way represent data table ve written class use main program w ill read arabic numeral roman numeral entered user user e nters arabic numeral print corresponding roman numeral user enters r oman numeral print corresponding arabic numeral tell diﬀerence b y peek ﬁrst character user s input subsection ﬁrst character digit user s input arabic numeral otherw ise s roman numeral program end user input line source code ﬁle deﬁnes class expr used represent solution mathematical expression involving variable expression use operator operation raising number power use mathematical function sin co ab andln source code ﬁle detail exprclass us advanced technique covered textbook interface easy u nderstand contains constructor public constructor new expr def creates exprobject deﬁned given sion parameter def string contains deﬁnition example new expr ornew expr sin x x parameter constructor doe represent legal expression constructor throw ception message exception describes error iffuncis variable type exprandnumis type double num function return value expression th e number numis substituted variable xin expression example exprrepresents expression expression undeﬁned speciﬁed value ofx special value returned exception thrown finally return deﬁnition expression just string used constructor created expr ession object exercise write program let er enter expression theexpressioncontainsanerror printanerrormessage ot herwise lettheuserentersome numerical value variable print value expression number user enters expression undeﬁned t speciﬁed value x print message eﬀect use function val check number val user able enter value xas desired user able enter new expression exercise us class expr described exercise deﬁned solution source code ﬁle exercise write gui program graph function f x deﬁnition entered user program box user enter expression nvolving variable x expression deﬁnition function u ser click enter button press return program shou ld use content text input box construct object type expr error deﬁnition program display error message display graph function recall make button default b utton window pressing return equivalent clicking button s ee end subsection program need canvasfor displaying graph thing simple canvas represent ﬁxed region ﬁned x y draw graph compute large number point conne ct line segment method doe handle discon tinuous function properly doing hard shouldn t try exe rcise program divide interval x subintervals us endpoint subintervals drawing graph note func tion undeﬁned case skip point point graph form x y whereyis obtained evaluating user s expression given value convert x y value range onthecanvas theformulas conversion double x width double b y height whereaandbare horizontal vertical pixel coordinate va value ofwidthandheightgive size quiz chapter answer programming language require variable decl ared used doe correctness robustness precondition example precondition used aid writing cor rect program useful loop invariant whileloop binary search algorithm tion predeﬁned class called throwable doe class represent doe exist method print starting given integer starting value parameter method par ameter equal zero throw illegalargumentexception number sequence large represented value type int throw arithmeticexception method previous question using assertstatements instead exception check error diﬀerence betwee n version method program run class exception checked exception require mandatory exception handling explain mean subroutine processdata header static void processdata throw ioexception write atry catch statement call subroutine print error me sage anioexception occurs subroutine throw exception encounter s error just terminate program choice algorithm perform task run time θ run time second algorithm run time θ n log n suppose need process input size n algorithm choose ce rtain choosing fastest algorithm input intend process run time following algorithm ﬁnd function f n run time algorithm o f n better θ f n assume ai array integer use length array input size int total int total total chapter linked data structure recursion chapter look advanced programming technique recursion linked data structure application te chniques related seemingly paradoxical idea deﬁning term th turn remarkably powerful idea subroutine said recursive call eithe r directly indirectly mean subroutine used deﬁnition rec ursion used solve complex problem reducing simpler problem type reference object stored instance variabl e object object said complex data structure s built linking object especially interesting case occurs obj ect contains link object belongs class case class used deﬁnition important type data structure built using class o f kind recursion time ve probably told t deﬁne term s right deﬁning s omething partially term powerful technique recursive deﬁnition us concept thing deﬁned deﬁnition exa mple ancestor parent ancestor parent sentence thing sentence joined conjunction directory disk drive hold ﬁles anddirectories mathematics set collection element c set statement java whilestatement word condition statement recursive deﬁnitions complex situation just word deﬁnition term ancestor using recursion mi ght like parent grandparent grandparent saying rigorous ve thought rec ursion really just rigorous way saying run problem try deﬁne directory ﬁle list ﬁles ﬁles li t ﬁles ﬁles list ﬁles trying java statement look like using recursion deﬁnition diﬃcult nd probably pretty comical linked data structure recursion recursioncanbeusedasaprogrammingtechnique recursive subroutine orrecursive method call directly indirectly say subroutine call directly mean deﬁnition contains subroutine cal l statement call subroutine deﬁned say subroutine call directly mean call second subroutine turn call ﬁrst subroutine d irectly indirectly recursive subroutine deﬁne complex task just line code rest section ll look variety example ll example rest book recursive binary search let s start example ve seen bina ry search algorithm subsection binary search used ﬁnd speciﬁed value sorted list item doe occur list determine fact dea test element middle list element equal speciﬁed va lue speciﬁed value middle element list sho uld search value ﬁrst half list search value n second half list method used search value ﬁrst second half o f list binary search look middle element half list s consideration ve value looking apply binary search half remaining element recursive description write recursive subroutine implement consideration t hat need account illustrates important general fac t recursive subroutine binary search algorithm begin looking middle element list element list impossible look middle element terminology subsection having list precondition looking middle element s clue modify algorithm precondition account s hould ﬁnd searching speciﬁed value list answer easy list sure value doe occur list answer work list base case binary search algorithm base case recursive algorithm case handled directly pplying algorithm recursively binary search algorithm actually type ba e case ﬁnd element looking middle list need recursion second consideration parameter subroutine problem phrased term searching value list orig inal binary search subroutine list given array cursive approach able apply subroutine recursively just partof original list original subroutine designed search entire array recur sive subroutine able search array parameter subroutine mu t tell array search illustrates general fact order lve problem recursively necessary generalize problem slightly recursive binary search algorithm search fo r given value array integer search array position numbered loindex hiind ex inclusive specified value value r eturn index array occurs value fou nd chapter linked data structure recursion return precondition array sorted incr easing order static int binarysearch int int loindex int hiindex int value loindex hiindex starting position come final index actually element specified range value doe occur list return look middle position list value occurs position return position search recursively half second half list int middle loindex hiindex value middle return middle value middle return binarysearch loindex middle value value middle return binarysearch middle hiindex value end binarysearch routine parameter loindex andhiindex specify array searched search entire array necessar y binarysearch value base element speci ﬁed range index value middle th e subroutine return answer immediately using recursion t case us recursive compute answer return answer people ﬁnd diﬃcult ﬁrst convince tha t recursion actually work key note thing true recursion work properly base case handled using r ecursion recursion applied solution problem applie d problem sense closer base ori ginal problem idea solve small problem reduce big probl em smaller problem solve problem size ultimately course th e big problem reduced possibly step smallest problem base case doing involve immense detailed bookkeeping c omputer doe bookkeeping programmer lay big picture base case reduction big problem smaller problem computer take care detail involved reducing big problem step way base case tr ying think reduction likely drive crazy pro bably make think recursion hard fact recursion elegant powerfu l method simplest approach solving complex problem common error writing recursive subroutine violat e rule base case subroutine appl ied recursively applied problem smaller original proble rule violated thechapter linked data structure recursion result inﬁnite recursion subroutine keep calling reaching base case inﬁnite recursion simi lar inﬁnite loop recursive subroutine us th e computer s memory program stuck inﬁnite recursion run memory d crash long java program crash exception type stackoverflowerror tower hanoi studying algorithm binary search e asily implemented whileloop instead recursion turn problem th easy solve recursion diﬃcult solve standard example known tower problem involves stack dis k piled base order decreasing size object stack base subject rule disk moved time disk plac ed smaller disk base used st arting situation stack disk shown half following picture situation number move shown half picture illustration sample program chapter display animation solution problem pro gram us technique haven t learned problem disk stack stack subjec t rule given stack used spare location reduce sm aller problem type possibly generalizing problem bit make po ssible natural consider size problem number disk moved ndisks stack know eventually disk fr om stack stack according rule ﬁrst stack ve moved disk stack stack stack complete solution moving type problem moving ndisks s smaller version problem exa ctly need recursion problem generalized bit smaller p roblems involve moving diskschapter linked data structure recursion stack stack stack stack instead fro m stack stack recursive subroutine solves problem stack th serve source destination disk speciﬁed s convenient spec ify stack used spare ﬁgure parameter base case disk moved solution ca se trivial just disk step version subroutine prin t instruction solving problem solve problem moving number disk specified parameter stack specified second parameter stack specified parameter stack specified fourth parameter available use spare stack specified number static void towersofhanoi int disk int int int s pare disk disk moved just disk stack d stack d n disk spare stack disk disk towersofhanoi spare disk d stack d stack d n disk towersofhanoi spare subroutine just express natural recursive solut ion recursion work recursive involves smaller number disk t problem trivial solve base case disk solve level problem moving ndisks stack stack subroutine called command towersofhanoi subroutine used sample program example output program ru n number disk set equal disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack disk stack stack linked data structure recursion disk stack stack disk stack stack disk stack stack output program show mass d t really want think diﬃculty following detail contrast shar ply simplicity elegance recursive solution course really want leav e detail computer think happens precondition th e number disk positive violated result example inﬁnite recursion way story explains pro blem according story ﬁrst day creation group monk isola ted tower near hanoi given stack disk assigned task moving dis k day according rule tower hanoi problem day comp lete task moving disk stack universe come end don t worry number step required solve problem ndisks day year long way terminology section tower hanoi algorithm run time θ n number disk moved th e exponential function quickly tower hanoi problem solved practice small number disk way addition graphical tower hanoi progr mentioned demo program want look program provides visual demonstration recursive algorithm recursion used solve maze used solve kind puzzle littlepent requires ﬁle useful run program watch source code us technique tha t won t covered chapter maze program ﬁrst creates random maze try s olve maze ﬁnding path maze upper left corner lower right corner problem actually similar problem s considered later section recursive routine start given squa visit neighboring square call recursively recursi end routine ﬁnds lower right corner maze t ﬁnd solution fr om square back square try common techniq ue referred recursive backtracking littlepentominos program implementation clas sic puzzle pentomino connected ﬁgure ﬁve square exactly ﬁgures way counting possible rotatio n reﬂections basic ﬁgures problem place pentominos board square marked ﬁlled recursive solution look board partially ﬁlled pentominos subro utine look remaining piece turn try place piece availab le place board piece ﬁts call recursively try ﬁll re t solution fails subroutine go exampl e recursive backtracking generalized version pentominos program mo feature http linked data structure recursion recursive sorting algorithm turningnexttoanapplicationthatisperhapsmorepractica l lllookatarecursivealgorithm sorting array selection sort insertion sort lgorithms covered section fairly simple slow applied l arge array faster sorting algorithm available quicksort recursive algorithm turn fastest sorting algorithm situation quicksort algorithm based simple clever idea given list item select item list item called pivot practice ll just use ﬁrst item list item smaller pivot t o beginning list item larger pivot end t list pivot group item put pivot po ition occupy ﬁnal completely sorted array moved ag ain ll refer procedure quicksortstep quicksortstep recursive used subroutine quicksort speed quicksort depends having fast implementation quick ortstep s main point discussion present comment apply quicksortstep list item location lo thr ough hi array value returned routine fina l position pivot item array static int quicksortstep int int lo int hi int pivot lo pivot value number hi lo mark endpoint range number tested decrease hi increase lo equal moving number bigger pivot lie hi moving number pivot lie lo begin lo available space value moved local variable pivot hi lo loop invariant subsection subsection pivot lo pivot linked data structure recursion hi lo hi pivot hi past number greater pivot number moved hi hi lo break number hi pivot available space lo leaving available space hi lo hi hi lo lo pivot lo past number pivot number moved hi lo break number lo greater pivot available space hi leaving available space lo hi lo hi end point lo equal hi available space position position lie number pivot number greater pivot pivot space return location lo pivot return lo end quicksortstep subroutine hand quicksort easy quickso rt algorithm sorting list consists applying quicksortstep list applyi ng quicksort recursively item lie left new position pivot tems lie right position course need base case list o ne item item list sorted quicksort doesn t ha ve case apply quicksort array element position lo position hi increasing order static void quicksort int int lo int hi hi lo list length zero need just return subroutine return chapter linked data structure recursion apply quicksortstep new pivot position apply quicksort sort item precede pivot item follow int pivotposition quicksortstep lo hi quicksort lo pivotposition quicksort pivotposition hi usual generalize problem original prob lem sort array recursive algorithm set sort speciﬁed array sort entire array using quicksort subroutine quicksort quicksort interesting example point view analysis algorithm section average case run time diﬀers greatly w orst case run time informal analysis starting average c ase note application quicksortstep divide problem t average subproblems approximately size problem size n divid ed problem roughly size divided problem s roughly size problem size divided level approximately log n level subdivision processing ea ch level proportional level element array looked possi bly moved second level subproblems element array subproblems looked possibly moved t total n step subproblems combined similarly level subproblems total n step subproblems lev el total n step level approximately log n level average case average case run time quicksort θ n log n analysis assumes qu icksortstep divide problem approximately equal part worst case e ach application quicksortstep divide problem size n problem size proble m size happens pivot element end beginning end ar ray worst case n level subproblems run time θ worst case depends item array arranged v ery special way average performance quicksort good t good certain rare case rare case original array alrea dy sorted sorted really rare practice applying quickso rt algorithm given large sorted array long time way avoid high pick pivot quicksort step random alwa y using ﬁrst item sorting algorithm average case nd worst case run time θ n log n example fairly easy understand s mergesort look interested blob counting look counting number square group connected square groupofconnectedsquaresa blob andthesampleprogramt hatwewillconsideris program display grid small white gray red squa re screenshot program showing grid square cont rols chapter linked data structure recursion gray red square considered ﬁlled wh ite square purpose example deﬁne blob consist ﬁlled square ﬁlled square reached moving l eft right ﬁlled square user click ﬁlled square pr ogram computer count square blob contains clicked square change color square red picture blob shown red program control new blob button clicking butto n create new random pattern grid menu speciﬁes approximate percenta ge square ﬁlled new pattern ﬁlled square larger blo b button labeled count blob tell diﬀerent blob t pattern recursion used program count number squar e blob recursion diﬃcult thing implement r ecursion make relatively easy requires new technique useful number application data grid square stored dimensional array boolean value boolean filled value filled r c true square row rand column cof grid ﬁlled number row grid stored instance v ariable named row number column stored column program us recursive instance method named getblobsize r c count number square blob parameter randctell blob count blob includes square row rand column ﬁlled square position r c answer zero getblobsize count ﬁlled square reached square position r c idea use getblobsize recursively number ﬁlled square rea ched neighboring position c c r r add number add count square r c total number ﬁlled square reached r c implementation algorithm stated unfortunately ﬂaw lead inﬁnite recursion int getblobsize int r int c buggy incorrect version incorrect method try count filledchapter linked data structure recursion square reached position r c grid r r row c c column position grid blob position return blob size zero return filled r c false square blob return zero return int size count square position count t blob connected square horizontally vertically size getblobsize c size getblobsize c size getblobsize r size getblobsize r return size end incorrect getblobsize unfortunately routine count square fact square blob try count square inﬁnitely think standing position r c trying follow instruction ﬁrst instructi tell row apply procedure step procedure downone row apply procedure put position r c row row forth forever w e make sure square counted processed don t end g oing circle solution leave trail compute r trail boolean mark square ve visited square s marked visited won t processed remaining unvisited square redu ced number deﬁnite progress reducing size problem inﬁnite rec ursion avoided second boolean array visited r c used track square visited processed assumed value array set false getblobsize called getblobsize encounter unvisited square mark visited setting corresponding entry visited array totrue whengetblobsize encounter square visited doesn t c ount process technique marking item encountered t hat used programming recursive algorithm corrected version getblobsize change shown italic count square blob position r c grid square counted filled unvisited routine called position visited return value zero int getblobsize int r int c r r row c c column position grid blob position return blob size zero return chapter linked data structure recursion filled r c false visited r c true square blob counted return zero return visited r c true mark square visited won t count following recursive call int size count square position count t blob connected square horizontally vertically size getblobsize c size getblobsize c size getblobsize r size getblobsize r return size end getblobsize program method used determine size b lob user click square getblobsize performed task square blob marked visited method draw grid square s hows visited square red make blob visible thegetblobsize method used task pr ogram counting blob following method includes comment explain work user click count blob button number blob grid report number message label void countblobs int count number blob clear visited array getblobsize meth od mark filled square find setting corresponding element array true square marked visited stay marked blob counted prevent blob counted int r r row int c c column visited r c false position grid getblobsize th e size blob position size zero count blob note come position previously counted blob getblobsize return d blob counted int r r row int c c column getblobsize r c chapter linked data structure recursion draw redraw entire grid square note filled square red visited number blob count end countblobs linked data structure useful object contains instance variable type instance va riable given class interface variable hold ref erence object reference called pointer say varia blepoints object course variable contain reference objec t contain special value null point object contains insta nce variable point object think object linked t pointer data structure great complexity constructed linking object toge ther recursive linking interesting happens object contains stance variable refer object type case deﬁnitio n object s class recursive recursion arises naturally case f example consider class designed represent employee company suppose empl oyee bos supervisor employee company employee class naturally contain instance variable type employee point employee s supervisor object type employee hold data employee public class employee string employee employee supervisor employee s supervisor instance variable method end class employee ifempis variable type employee variable type employee ifemprefers bos value nullto indicate fact bos supervisor wante d print employee s supervisor example use follow ing java statement null bos super visor supervisor chapter linked data structure recursion suppose want know level superviso r given employee bos just follow chain o f command series supervisor link count step take bos null bos employee runner running chain command runner null report directly bo s int count null count supervisor level runner count supervisor bos thewhileloop executed runnerpoints turn original employee emp toemp ssupervisor supervisor emp ssupervisor count variable incremented time runner visit new employee loop end isnull indicates runnerhas reached bos point counthas counted number step empand bos inthisexample supervisor variableisquitenaturalanduseful infact datastructur e built linking object useful major topic study computer science ll looking typical exampl e section ll looking linked list linked list consists chain object type linked pointer object like chain supervisor empand bos example s possible m ore complex situation object contain link object ll look example section linked data structure recursion null null null null null nullnull nullnull nullwhen object contains reference object type object linked list object refers object thing interesting object contains reference object type case complicated data structure constructed linked list example rest section linked li sts constructed object belonging class nodewhich deﬁned follows class node string item node term nodeis used refer object linked data str ucture object typenodecan chained shown il lustration node hold stringand pointer node list nod e list identiﬁed fact instance var iablenextin node hold value nullinstead pointer node purpose chain node represent list string ﬁrst string list sto red ﬁrst node second string stored second node pointer object used build structure data want represent li st string course just easily represent list integer list colorsor list type data changing type itemthat stored node nodesin example simple use illustrate common operation linked list typical operation incl ude deleting node list inserting new node list searching speciﬁ edstringamong itemsin list look subroutine perform oper ations linked list used program program need v ariable refers ﬁrst node list need pointer ﬁrst node s ince node list accessed starting ﬁrst node following lin k list node example use variable named head type node point ﬁrst node linked list list value ofheadis linked data structure recursion nullfor list useful variable point node list variable named head serf purpose fred jane joe mary head basic linked list processing common want process item linked li st way common pattern start head list node following pointer node stopping nullthat mark end list reached headis variable type nodethat point ﬁrst node list general form code processing item linked list node runner pointer used traverse li runner head start runner pointing head list runner null continue null encountere process item c urrent node runner node access list variable head start getting copy value inheadwith assignment statement runner head need copyofheadbecause going change value runner t change value head lose access list variable runnerwill point node list turn whenrunnerpoints node list pointer node list assignment statement runner move pointer list node know ve reached end list runner equal null note code work l ist list value headisnulland body loop executed example print string list stringsby saying node runner head runner null runner thewhileloop way rewritten forloop remember loop control variable forloop numerical requirement loop equivalent whileloop node runner head runner null runner similarly traverse list integer add number list linked list integer constructed using class public class intnode int item integer list intnode pointer node list chapter linked data structure recursion ifheadis variable type intnodethat point linked list integer ﬁnd sum integer list using int sum intnode runner head runner null sum sum add current item sum runner sum list item sum possible use recursion process linked list recursion rarely natural way process list s easy use loop traver se list understanding apply recursion list help understanding t recursive processing complex data structure linked list thou ght consisting part theheadof list just ﬁrst node list tailof list consists remainder list head note tha t tail linked list shorter original list node s natural setup recursion problem processing list divided pro cessing head recursively processing tail base case occurs case emp ty list case list length example recursive algo rithm adding number linked list integer list return number added let listsum number head node let tailsum sum number tail list recursi vely add tailsum listsum return listsum remaining question tail y linked list headis variable point head node list variable point second node node fact ﬁrst tail view pointer tail list special case th e original list consists single node case tail list isnull list represented null pointer represents tail list special case allows write recursive ng function java compute sum integer linked list intege r param head pointer node linked list public static int additemsinlist intnode head head null base case list sum zero return recursive case list sum tail list add item head node note case written simply return additemsinlist int listsum chapter linked data structure recursion int tailsum additemsinlist listsum listsum tailsum return listsum ﬁnish presenting problem easy solve recursion quite tricky solve problem print ll string linked list string reverse order occur list note d o item head list printed item tail list lead following recursive routine convince rself work think trying thing using recursi public static void printreversed node head head null base case list print return recursive case list printreversed print string tail r everse order print string head rest section ll look advanced o perations linked list string subroutine consider instance meth od class wrote named stringlist object type stringlist represents linked list string class private instance variable named headof typenodethat point ﬁrst node list null list instance method class stringlist accessheadas global variable source code stringlist ﬁle used sample program named look code context want method stringlist class search list looking speciﬁed string string looking searchitem compare searchitem eachitemin list example basic list traversal pro cessing case stop processing ﬁnd item look ing search list specified item param searchitem item searched return true searchitem item list f alse searchitem doe occur list public boolean string searchitem node runner pointer traversing list runner head start looking head list head instance variable runner null list looking string node string looking chapter linked data structure recursion return true string list searchitem return true runner point looked item list finding searchitem return false indicate tha t item doe exist list return false end possible list value o fheadisnull careful case handled properly code ifheadisnull body thewhileloop executed node processed th e return value false exactly want list searchitem t occur list inserting linked list problem inserting new item linked list d iﬃcult case item inserted middle list fac t s probably diﬃcult operation linked data structure ll encounter n chapter stringlist class itemsin node linked list kept increasing order w hen new item inserted list inserted correct p osition according ordering mean usually insert new item s omewhere middle list existing node s convenien t variable type node refer existing node lie new node following illustration variable previous andrunner variable newnode refers new node order insertion link previous torunnermust broken new link previous tonewnode newnode torunnermust added j k mno pq k t new node middle list fred u v w x y u u v z y u mary previous runner newnode larry previous andrunner pointing right node command newnode used make point new linked data structure recursion command runner set point correct place use command need s et uprunnerandprevious shown illustration idea start ﬁrst n ode list list past item new ite doing aware danger falling oﬀ end t continue runner reach end list null ifinsertitem item inserted assume doe fact belong middle list following code correctly position previous andrunner node runner previous previous head start beginning list runner runner null insertite m previous runner previous work runner us compareto instance method stringclass test item node item inserted subsection ﬁne assumption new node serted middle list valid insertitem ﬁrst item list case new node inserted head li instruction head make point old ad head newnode make newnode new head list possible list case newnode ﬁrst node list accomplished simply setting head newnode following insert method stringlist class cover possibility insert specified item list keeping list der param insertitem item inserted public void insert string insertitem node newnode node contain new item newnode new node insertitem null head null new item list set head point head newnode insertitem new item item list inserted head list head head newnode new item belongs item list search proper position insert linked data structure recursion node runner node traversing list node previous point node preceding runner runner start looking second positio previous head runner null insertite m previous runner list runner fall end hit list element greater equal insertitem loop end previous indicates position insertitem inserted previous runner runner runner insert newnode previous newnode end insert paying close attention discussion y ou noticed special case mentioned happen s new node inserted endof list happen item list le s new item fact case handled correctly s ubroutine ifstatement insertitem greater item list whileloop end runnerhas traversed entire list null happens previous left pointing node list setting newnode addsnewnode end list runnerisnull command tonull exactly needed mark end list deleting linked list delete operation similar insert little simpler special case consider ﬁrst node list deleted th en value headhas changed point previously second node list refers second node list setting head check work isnull second node list case list node deleted middle list t hen set previous runnerwithrunnerpointingtothenodethatistobedeletedandwith previous pointingtothe node precedes node list th e command delete node deleted node garbage coll ected encourage draw picture illustrate operati complete code delete method delete specified item list item presen multiple copy item present list come list deleted param deleteitem item deleted return true item deleted false th e item list linked data structure recursion public boolean delete string deleteitem head null list certainly doesn t contain deletes tring return false deleteitem string item list remove head return true string occurs element list search list node runner node traversing list node previous point node preceding runner runner start looking second list nod previous head runner null deleteite m previous runner list runner fall end hit list element greater equal deleteitem loop end runner indicates position deleteitem list previous runner runner runner null deleteitem runner point node deleted remove changing pointer previous node return true item doe exist list return false end delete stack queue adts alinked list particular type data structure object lin ked pointer previous section used linked list st ore ordered list string implemented insert delete andfindoperations list easily stored list stringsin array arraylist instead linked list implemented operation list implem entations operation diﬀerent interface logical behavio r term abstract data type oradt refers set possible value set operation value speciﬁcation value represented operation implemented ordered list string deﬁned anchapter linked data structure recursion abstract data type sequence stringsthat arranged increasing order possible value data type operation data type inclu inserting new string deleting string ﬁnding string list seve ral diﬀerent way implement abstract data type example ordered list st ring adt implemented linked list array program depends t abstract deﬁnition adt use implementation interchangeably particular implementation adt changed aﬀecting program le make program easier debug maintain adts importan t tool software engineering abstraction important general concept computer sci ence seen example control abstraction subsection procedural abstraction section considering data abstraction section ll look common abstract data type stacksandqueues stack queue implemented linked list possible implementation think rest section partly discussion stack queue partly case study adts stack stack consists sequence item thoug ht piled like physical stack box cafeteria tray o nly item stack accessible given time removed stack operation called pop item lower stack removed th e item popped oﬀ stack new item added sta ck operation called push make stack type item example tems value type int push pop operation implemented insta nce method push int newitem add newitem stack pop remove int stack return error try pop item stack mportant able tell stack need stack operation d o test implemented instance method isempty return true stack deﬁnes stack ints abstract data type adt implemented way implemented behavior corre spond abstract mental image linked data structure recursion original stack pop push stack operation place stack push operation add item stack pop operation remove item stack return linked list implementation stack st ack actually node head list easy add remove node linked easier inserting deleting node middle list h ere class implement stack ints adt using linked list us static nest ed class represent node linked list private implementati adt public class stackofints object type node hold item linked li t represents stack private static class node int item node private node pointer node stack null stack add n stack public void push int n node newtop node hold new item newtop new node n store n new node new node point old newtop new item remove item stack return throw illegalstateexception stack method called public int pop null throw new illegalstateexception t pop s tack chapter linked data structure recursion int topitem item popped previous second item return topitem return true stack return false item stack public boolean isempty return null end class stackofints make sure understand pushandpopoperations operate linked list drawing picture help note linked list private implementation stackofints class program us class doesn t need know linked list used aside nested nodeclass instackofints record class section node don t need modiﬁed created t implementation push changed use record class constructor us approach s pretty easy implement stack array instead linked list number item stack varies time counter nee ded track space array actually use counter cal ledtop item stack stored position array item position stack item position stack pushing item stack easy item position topand value don t want limit number item stack hold use dynamic array technique subsection note typical picture array stack upside stack array doesn t matter array just implementation abstract idea s tack long stack operation work way supposed s second implementation thestackofints class using dynamic array import metho public class stackofints alternate version using rray private int item new int hold item st ack private int number item currently sta ck add n stack public void push int n array make new larger array copy current stack item item item item n n available linked data structure recursion number item go remove item stack return throw illegalstateexception stack method called public int pop throw new illegalstateexception t pop s tack int topitem item item stack number item stack go return topitem return true stack return false item stack public boolean isempty return end class stackofints implementation stack array p rivate class version stackofints class used interchangeably public inter face fact attempt pop e mpty stack result illegalstateexception s interesting look run time analysis stack ope ration section measure size problem number item stack linked list implementation stack worst case run tim e pushand pop operation θ just mean run time th constant independent number item stack easy lo ok code operation implemented simple assignment statement d number item stack eﬀect array implementation hand special ca se occurs pushoperation array case new array created stack item copied new array take time propor tional number item stack run time pushis usually θ worst case run time θ n n number item stack th e worst case occurs rarely natural sense averagecase run time array implementation θ queue queue similar stack queue consists sequ ence item restriction item added removed list queue end called queue item added queue removed queue operation o f adding removing itemschapter linked data structure recursion called enqueue anddequeue book name completely standardized way push pop example operati ons called item added queue remain queue item removed sound f amiliar queue like line queue customer waiting service customer s erviced order arrive queue b cd b f b g h j b j b k m k n p k f q r b k t b urom frontvfter d x y z x z x en y z x z x f k h j b j b k r r b g k d k p b r k n b k b b fd th b h j b j b b f h j b j b g k add item m k n u b h j b j q b h j b j b g k g b t b d item return aqueuecanholditemsofanytype foraqueueof ints theenqueueanddequeueoperations implemented instance method queueofints class need instance method checking queue enqueue int n add n queue dequeue remove item return isempty return true queue aqueuecanbeimplementedasalinkedlistorasanarray aneﬃ cientarrayimplementation trickier array implementation stack won t linked list implementation ﬁrst item list th e queue dequeueing item queue just like popping item oﬀ stack t queue end list enqueueing item involves setting pointe r node current list point new node contains item w e ll need command like newnode tailis pointer node list headis pointer ﬁrst node list possib le pointer node list saying node tail point node list tail head start node null tail point null tail point node list ineﬃcient ev ery time item enqueued sake eﬃciency ll use instance variabl e store pointer node complicates class somewhat careful update value variablechapter linked data structure recursion new node added end list given th writing queueofints class diﬃcult public class queueofints object type node hold item linked list represents queue private static class node int item node private node head null point node queue queue head null private node tail null point node queue queue add n queue public void enqueue int n node newtail new node node hold new item n head null queue new node node list node head tail point head newtail tail newtail new node new tail list head list unaffected newtail tail newtail remove return item queue throw illegalstateexception queue public int dequeue head null throw new illegalstateexception t dequeue em pty queue int firstitem head previous second item just removed item head null head null queue node deleted tail head thechapter linked data structure recursion list tail actually class work fine step tail null return firstitem return true queue boolean isempty return head null end class queueofints help follow tailpointer help think term class invariant subsection queue tailpoints node invariant true beginning end method example applying enqueue method case list invariant tell new node added list simply saying newnode tell value tailmust set returning method set point node jus t added queue queue typically used computer real life item processed time item waiting processing fo r example java program multiple thread thread want processing time cpu kept queue new thread started dded queue thread removed queue gi ven processing time sent qu eue wait turn keystroke mouse click stored que ue called event program remove event event queue process t hem s possible event occur event process ed event stored queue processed order n occurred web server program receives request web brow sers easy fornewrequeststoarrivewhilethewebserverisstillfulﬁl lingapreviousrequest request arrive web server busy placed queu e await processing using queue ensures request processed order n received queue said implement fifopolicy commonly expressed ﬁrst come ﬁrst served stack o ther hand implement lifo policy item come stac k just like queue stack used hold item waiting processing application queue typically used stack wou ld considered unfair better handle diﬀerence stack que ues consider sample program suggest try program program show grid square initially square white click white square square marked turning red program st art marking square connected horizontally vertically square hav e marked processchapter linked data structure recursion eventually process square grid underst program work think place program user click square handed index card location row writt en card card pile contains just card y ou repeat following pile remove index card f rom pile index card speciﬁes square look horizontal vertical neig hbor square neighbor encountered write location new index card card pile index card waiti ng pile processed program square pile waiting pro cessed colored red red square encountered processed square taken pile processed color change gray squa colored gray program consider neighb or accounted eventually square processed squ are gray procedure end index card analogy pile card emp tied program use choice method stack queu e random case general procedure used diﬀerence pile index card managed stack card added removed pile queue card added pile removed random case card processed picked random card th e pile order processing diﬀerent case picture s program using diﬀerent processing method case process s tarted selecting square near middle grid stack used picture le ft queue picture middle random selection picture right pattern produced diﬀerent using stack program explores far possible start backtracking look t previously encountered square queue square processed roughly order th eir distance starting point random selection used result irregu lar blob connected blob square encountered previo usly encountered square experiment program work try understand stack queue used try starting corner square process going click white square added list encountered square stack shoul d notice square click processed immediately red square waiting processing wait hand queue square click wait turn square pi le processed source code program linked data structure recursion queue natural occur real l ife time stack appropriate essential example sider happens routine call subroutine ﬁrst routine suspended s ubroutine executed continue subroutine return suppose tha t subroutine call second subroutine second subroutine call o subroutine suspended subsequent subroutine executed compute r track subroutine suspended doe stack subroutine called activation record created subroutine activation record contains information relevant exe cution subroutine local variable parameter return address th e point program computer return subroutine end act ivation record subroutine placed stack removed stack dest royed subroutine return subroutine call subroutine ac tivation record second subroutine pushed stack activation record ﬁrst subroutine stack continue grow subroutine called d shrink subroutine return inthecaseofarecursivesubroutine whichcallsitself th erecanbeseveralactivationrecords stack subroutine computer keep track recursive call time diﬀerent activation record fo r postﬁx expression example stack used evaluate postﬁx expression ordinary mathematical expression called inﬁx expression inﬁx expression operator come operand s postﬁx expression operator come operand inﬁx expression written postﬁx form operator expression applies operand precede t operator applies operand precede operator applies computation original inﬁx expression suppose want process expression left right ﬁnd value ﬁrst item encounter point don t know operator app lied operand remember later processing pushing stack moving item pushed stack added stack come operator operation applies operand preceded expression saved operand stack process operator pop number compute answer remembered used later processing push stack o f waiting item expression processed pushing stack process item pop number stack number represents value number multiplied pushed stack item expression operator processed popping stack adding pushing result stack finally ve come end expression t number stack thechapter linked data structure recursion value entire expression pop nswer stack value expression s easier people work inﬁx expression s postﬁx expression advantage thing postﬁx expression don t requir e parenthesis precedence rule order operator applied determined entir ely order occur expression allows algorithm evalu ating postﬁx expression fairly straightforward start stack item expression item number push number stack item operator pop operand stack generate error apply operator operand push result stack error expression pop number stack generate error stack error expression number popped value expression error expression detected easily example expression operand operation detected algorithm attempt pop second operand stack stack opposite problem occurs operator number detected left sitting stack end algorithm algorithm demonstrated sample program program let type postﬁx expression real n umber operator represents exponentiation evaluated program print message process item expression stack class used program deﬁned ﬁle thestackofdouble class identical ﬁrst stackofints class given modiﬁed store value type doubleinstead value type int interesting aspect program method tha t implement postﬁx evaluation algorithm direct implementation p seudocode algorithm given read line input process postfix expression input legal postfix expression error message displayed value expressi displayed assumed character input line private static void readandevaluate stackofdouble stack evaluating expression stack new stackofdouble make new stack chapter linked data structure recursion item input number read save stack double num num pushed constant num item number thing legally operator operator perform operation char op operator double x y operand stack operatio double answer result pushed stack op op op op op op character acceptable operation operator input op return stack trying evalua te op number expression return y stack trying evalua te op number expression return x switch op case answer x y case answer x y case answer x y case answer x y default answer x y op answer evaluated op pushed answe r end point input read successfull y expression legal value expressi stack thing stack impossible input really n expression provided chapter linked data structure recursion return double value value expression popped value end expressio false stack operator nu mbers return value end readandevaluate postﬁx expression used internally computer fact java virtual machine stack machine us approach e xpression evaluation discussing algorithm easily extended han dle variable constant variable encountered expression value o f variable pushed stack work operator fewer operand operand areneededarepoppedfromthestackandtheresultispushed b ackontothestack forexample theunary minus operator used expression single operand continue look expression expression evaluat ion section binary tree seen previous section object linked li sts object contains pointer object type str uctures created complicated linked list section ll look basic useful structure type binary tree object binary tree contains pointer typically called leftandright addition pointer course node contain type data example binary tree integer object following type class treenode int item data node treenode left pointer left subtree treenode right pointer right theleftandrightpointers treenode benullor point object typetreenode node point node said parentof node node point called child binary tree child left child right child node right child left c hild picture example node parent node node chi ldren node linked structure tree node binary tree bina ry tree following property exactly node tree parent node called rootof tree node tree exactly paren finally loop binary tree possible follow c hain pointer starting node arriving linked data structure recursion null null null null node child called leaf leaf node recognized fact left right pointer node null standard picture binary tree root node shown leaf node botto doesn t respect analogy real tree branching structure give binary tree tree traversal consider node binary tree look node descendant child child child th set node form binary tree called subtree original tree example picture node form subtree subtree called left subtree root similarly node make right subtree root consider binary tree ma root node left subtree right subtree o r subtrees recursive deﬁnition matching recursiv e deﬁnition treenode class surprise recursive subroutine used process tree consider problem counting node binary tree s exercise try come algorithm counting shouldn t expect ﬁnd easily heart problem keeping track node remain counted s easy fact s possible witho ut auxiliary data structure stack queue recursion algori thm trivial tree consists root subtrees t ree number node zero base case recursion use recursion count node subtree add result subtrees d add count root give total number node tree written jav count node binary tree root point return answer root null answer zero static int countnodes treenode root root null base case tree return tree contains recursive case root node plus subtrees int count start counting linked data structure recursion count countnodes add number node left subtree count countnodes add number node right subtree return count return end countnodes consider problem printing item binary tre tree tree consists root subtrees print item root use recursion print item sub tree subroutine print item line output print item tree root point item root printed followed item left subtree item right subtree static void preorderprint treenode root root null s print print root item preorderprint print item left subtree preorderprint print item right subtre end preorderprint routine called preorderprint us preorder traversal tree preorder traversal root node tree processe d ﬁrst left subtree traversed right subtree postorder traversal left subtree traversed right subtree root node processed aninorder traversal left subtree traversed ﬁrst root node processed t hen right subtree traversed subroutine use postorder inorder traversal pri nt content tree diﬀer preorderprint placement statement output root tem print item tree root point item left subtree printed followed item right subtree item root node static void postorderprint treenode root root null s print postorderprint print item left subtree postorderprint print item right subtr ee print root end postorderprint print item tree root point item left subtree printed followed item root node item right linked data structure recursion static void inorderprint treenode root root null s print inorderprint print item left subtree print root item inorderprint print item right subtree end inorderprint subroutine applied binary tree sh illustration beginning section order item pr inted diﬀers case preorderprint output postorderprint output inorderprint output inpreorderprint example item root tree output preorder printing applies su btrees root root item left subtree printed item subtree right subtree root output preorder traversal applies level tree traversal order analyzed similarly binary sort tree example section linked list string string kept increasing order linked list work smal l number string ineﬃcient large number item inserting item list searching item s position requires looking average half em list finding item list requires similar time string sto red sorted array instead linked list searching eﬃcient bi nary search used inserting new item array ineﬃcient t mean moving average half item array make space new item binary tree used store ordered list way make searching insertion eﬃcient binary tree used way called binary sort tree orbst binary sort tree binary tree following propert y node tree item node greater equal item t left subtree node equal item right subtree node example binary sort tree containing item type string picture haven t bothered draw pointer variable pointer shown ar row chapter linked data structure recursion mary alice fred binary sort tree useful property inorder trav ersal tree process item increasing order fact really just anoth er way expressing deﬁnition example inorder traversal used print item s tree shown item alphabetical order deﬁnition inor der traversal guarantee item left subtree judy printed ju dy item right subtree judy printed judy binary rt tree property guarantee item left subtree judy precisely th precede judy alphabetical order item right subtree follow judy alphabetical order know judy output proper alphabetical position b ut argument applies subtrees output alice fred descendant fred output dave jane joe s o suppose want search given item binary sear ch tree compare item root item tree equal t item looking root item need search left subtre e right subtree eliminated contains item gre ater equal root similarly item looking greater tem root need look right subtree case procedu applied search subtree inserting new item similar start search ing tree position new item belongs position create ne w node attach tree position searching inserting eﬃcient operation binary s earch tree provided tree close balanced binary tree balanced node left subtree o f node contains approximately number node right subtree perfectly balanced tree number diﬀer bi nary tree balanced tree created inserting item random order ther e high probability tree approximately balanced order insertion random s quite possible tree unbalanced search bin ary sort tree comparison eliminates subtrees consideration tree balanced mean cutting number item consideration hal exactly binary search algorithm result similarly eﬃcie nt algorithm term asymptotic analysis section searching inserting deleting binary search tree average case run time θ log n proble m size n number item tree average taken diﬀerent ord er item inserted tree long actual insertion o rder random actual run time expected close average w orst case run time binarychapter linked data structure recursion search tree operation θ n worse θ lo g n worst case occurs particular insertion order example item inserted tree order increasing size item inserted move alwa y right move tree result tree look like linked l ist consists linear string node strung rightchild pointer operation tree performance operation linked list data structure similar simple binary sort tree insertion nd deletion node implemented way tree balanced bal anced data structure searching inserting deleting average case nd worst case run time θ log n look simple ver sion inserting searching sample program demonstration binary sort tree program includes subroutine implement inorder trave rsal searching insertion ll look subroutine main routine test subroutine letting type string inserted tree insorttreedemo node binary tree represented using followin g static nested class includes simple constructor make creating node easier object type treenode represents node binary tr ee string private static class treenode string item data node treenode left pointer left subtree treenode right pointer right subtree treenode string str constructor make node containing str note left right pointer null item str end class treenode static member variable type treenode point binary sort tree used program private static treenode root pointer root node t tree tree root null recursive subroutine named treecontains used search given item tree routine implement search algorithm binary tree th outlined return true item item binary sort tree root point return false static boolean treecontains treenode root string item root null tree certainly doesn t contain item return false yes item root node return true chapter linked data structure recursion item occurs left subtree return treecontains item item occurs right subtree return treecontains item end treecontains routine called main routine ﬁrst parameter static member variableroot point root entire binary sort tree s worth noting recursion really essential t case simple algorithm searching binary sort tree follows rule start root tree ﬁnd item reach null pointer t search follows single path tree implemented whileloop version search routine private static boolean treecontainsnr treenode root str ing item treenode runner running tree runner root start root node true runner null ve fallen tree finding item return false ve item return true item occurs left subtree advance runner level left runner item occurs right subtree advance runner level right runner end end treecontainsnr subroutine inserting new item tree turn ou t similar search routine recursive in ertion routine handle case tree case value rootmust changed point node contains new item root new treenode newitem mean eﬀectively root t passed parameter subroutine impossible subroutine change value stored actual parameter note ispossible language recursion us parameter essential way ugly way work ar ound problem easiest thing just use insertion routi ne access static memberchapter linked data structure recursion variablerootdirectly diﬀerence inserting item searc hing item careful fall oﬀ tree ha ve stop searching just runnerbecomes null spot tree s t o insert new node add item binary sort tree global varia ble root refers note root t passed paramete r routine value root change ch ange value formal parameter doe change actual parameter private static void treeinsert string newitem root null tree set root point new node containing new item node tree root new treenode newitem return treenode runner run tree place newi tem runner root start root true new item item runner belongs left subtree runner open space add new node advance runner level left null new treenode newitem return new item added runner new item greater equal item runner belongs right subtree runner open space add new node advance runner level right null new treenode newitem return new item added runner end end treeinsert expression tree application tree store mathematical expre ssions sqrt convenient form let s stick moment expressio n number operator consider expression linked data structure recursion expression subexpressions combined operator expression represented binary tree ro ot node hold operator subtrees root node represent subexpres node tree hold number operator node hold number leaf node tree node hold operator subtrees representing operand operator applies tree shown illustration refer tree type expression tree given expression tree s easy ﬁnd value exp ression represents node tree associated value node leaf n ode value simply number node contains node contains operat associated value computed ﬁrst ﬁnding value child node applying operator value process shown arrow n illustration value computed root node value expression w hole us expression tree example postorder traversal tree output postﬁx form expression tree t ª ª µ º ª à á à á g arrow value à com â expression tree contains type node node ntain number node contain operator furthermore want add t ypes node make tree useful node contain variable want work expression tree java deal variety node h frowned include instance variabl e node object record type node enum nodetype number operator possible kind node class expnode node expression tree nodetype kind type node double number value node type number char op operator node type operator expnode left pointer subtrees expnode right node type operator expnode double val chapter linked data structure recursion constructor making node type number kind number val expnode char op expnode left expnode right constructor making node type operator kind op left right end class expnode given deﬁnition following recursive subroutine w ill ﬁnd value expression tree static double getvalue expnode node return value expression represented tree node refers node value number node number hold return kind operator value operand combine using operator double leftval getvalue double rightval getvalue switch case return leftval rightval case return leftval rightval case return leftval rightval case return leftval rightval default return bad end getvalue approach work appro ach note aretwotypesofnodes thereshouldbetwoclassestoreprese ntthem perhapsnamed constnode andbinopnode represent general idea node expression tree need class expnode bothconstnode andbinopnode subclass expnode actual node constnode abinopnode expnode abstract class seesubsection thing want node ﬁnd v alues class instance method ﬁnding valu e abstract class expnode represents node type expression tree abstract double value return value end class expnode class constnode extends expnode represents node hold linked data structure recursion double number number node constnode double val constructor create node hold val number val double value value just number node hold return number end class constnode class binopnode extends expnode represents node hold operator char op operator expnode left left operand expnode right right operand binopnode char op expnode left expnode right constructor create node hold given data op left right double value value compute value left right operand combine operator double leftval double rightval switch op case return leftval rightval case return leftval rightval case return leftval rightval case return leftval rightval default return bad end class binopnode note left right operand binopnode type expnode notbinopnode allows operand constnode binopnode type expnode eventually create expnode avalue method compute value left operand leftis fact constnode value method constnode class fact binopnode value method binopnode class node know compute value complicated ﬁrst oriented approach real advantage thing doesn t waste memory t original expnode class instance variable node actually use d needed extra instance variable track type node important th ough fact new typeschapter linked data structure recursion node added cleanly crea ting new subclass expnode modifying existing class ll return topic expression tree sect ion ll create expression tree represent given expression simple recursive descent parser ihave fascinated natural language like en glish artiﬁcial language used computer ma ny diﬃcult question language convey information structured processed natural artiﬁcial language similar study programming language whichareprettywellunderstood cangivesomeinsightinto themuchmorecomplexanddiﬃcult natural language programming language raise th interesting issue make worth studying right aft er computer understand relatively simple language t hat used write program computerscanonlydirectlyuseinstructionsexpressedinv erysimplemachinelanguage higher level language translated machine language b ut translation compiler just program translati program written form natural artiﬁcial language similar hav e structure known grammar syntax syntax expressed set rule descr ibe mean legal sentence program programming language syntax rul e expressed bnf form developed computer scientist john backus peter naur late interestingly equivalent s ystem developed independently ataboutthesametimebylinguistnoamchomskytodescribeth egrammarofnaturallanguage bnf express possible syntax rule example t t express fact variable deﬁned used furthermore sa y meaning semantics language problem specifying sem antic artiﬁcial programming far fro m completely solved bnf doe express basic structure language p lay central role design compiler variety diﬀerent notation used bnf use fairly common notation used express concept english term noun transitive verb pr epositional phrase syntactic category building block sentence similarly st atement number loop syntactic category scribe building block java program bnf syntactic category written word en closed example noun arulein bnf speciﬁes structure item given syntactic category term syn tactic category basic symbol language example bnf rule eng lish language sentence thesymbol isread canbe sothisrulesaysthata sentence canbea followed term rule specify possible form sentence rule thought achapter linked data structure recursion recipe sentence want make sentence make follow turn deﬁned bnf rule bnf choice alternative represented s ymbol read example rule saysthata canbean os followed note parenthesis used grouping expr es fact item optional enclosed optional item repeated number time enclosed symbol actual language described encl osed quote example say optionally followed literal word followed zero s obviously complex structure way real power come fact bnf rule recursive fact preceding rule taken recursive deﬁned partly term deﬁned partly term example rat ate cheese ate cheese recursively make complex cat caught rat ate cheese cat word caught rat ate cheese building make dog chased cat caught rat ate ch eese recursive structure language fundament al property language ability bnf express recursive structure ma kes useful bnf used syntax programming langua ge java formal precise way example deﬁned condition statement say consists word followed left parenthesis followed condition followed right parenthesis followed statement course remains deﬁne meant condition statement statement thing whileloop recursive structure java language exact speciﬁcation ifstatement hard express clearly word given condition statement condition statement statement rule make clear optional optionally part recursive descent parsing rest section bnf grammar l anguage used guide constructing parser parser program determi ne grammatical structure achapter linked data structure recursion phrase language ﬁrst step determining t meaning programming language mean translating machin e language look simple example hope convince y ou compiler fact written understood mortal idea parsing method use called recursive descent parsing possible parsing method eﬃcient t suited writing compiler hand help called par ser generator program recursive descent parser rule bnf grammar th e model subroutine bnf grammar suitable recursive descent parsing grammar satisfy certain property essentially parsing phrase m ust possible tell syntactic category coming just looking item t input grammar designed property mind try parse phrase contains syntax error n eed way respond error convenient way doing throw exce ption ll use exception class called parseerror deﬁned follows object type parseerror represents syntax error foun d user s input private static class parseerror extends exception parseerror string message super message end nested class parseerror general point bnf rule don t say anythin g space item reality want able insert space item s allow ll routine trying look ahead s coming input skip past whitespace space tab input stop character input ei ther character foradiscussionofrobusthandlin goftextioinput let s start simple example fully parenthesiz ed expression speciﬁed bnf rule expression number expression operator expression operator number refers real number example fully parenthesized expression operator corresponds pair parenthesis ambiguity order t operator applied suppose want program read evaluate exp ressions ll read expression standard input using textio apply recursive descent parsing need subroutine rule grammar corresponding th e rule operator subroutine read operator operator choi ce thing input error character input legal operator chapter linked data structure recursion read return throw parseerror static char getoperator throw parseerror char op look ahead char witho ut reading op op op op read operator remove fro m input return op op throw new parseerror missing operator end line throw new parseerror missing operator op instead end getoperator ve tried reasonable error message depending w hether character use look ahead character read testing order ignore blank separate item follow pattern n case come subroutine expression thing little interesting rule say expression number expre ssion enclosed parenthesis tell looking ahead character character digit read number character ad followed expression followed operator followed ex pression followed character error note need recursion read nested expression routine doesn t just read expre ssion computes return value requires semantical information speciﬁed bnf rule read expression current line input return value throw parseerror input contains syntax error private static double expressionvalue throw parseerro r item input number expression consist just number read return number return expression form expression operator expression read item perform operation return result read double leftval expressionvalue read evaluate fi rst operand char op getoperator read operator double rightval expressionvalue read evaluate s econd operand according rule linked data structure recursion s missing throw parseerror throw new parseerror missing right parenthesis read switch op apply operator return result case return leftval rightval case return leftval rightval case return leftval rightval case return leftval rightval default return t occur op java syntax requires return value character legally start expression throw new parseerror encountered unexpected character input end expressionvalue hope routine corresponds bnf rule rule us choice alternative ifstatement routine determine choice rule contains seq uence item expression operator expression sequence statement subroutine ad item turn whenexpressionvalue called evaluate expression see beginning input elsepart ifstatement executed read ﬁrst recursive expressionvalue read evaluates subexpression getoperator read operator second recursive expressionvalue read evaluates second subexpression finally end expression read cours e reading ﬁrst subexpression involves recursive call expressionvalue routine s better think deeply rely recursion ha ndle detail ll ﬁnd complete program us routine fully parenthesized expression aren t natural pe ople use ordinary expression worry question operator precedence tell example expression applied complex expression seen term combined operator term hand factor combined operator example contains example show factor number o r expression parenthesis complicate thing bit allow leading minus sign expression number positive number way negative number s way avoid example structure expressed bnf rule expression term term term factor factor factor number expression chapter linked data structure recursion theﬁrstruleusesthe notation whichsaysthattheitemsthatitenclosescanocc ur zero time rule mean expression begin optionally term optionally followed operator term optionally followed operator term subroutine read evaluates expressio n repetition handled awhileloop ifstatement used beginning loop test leading minus sign present read expression current line input return value throw parseerror input contains syntax error private static double expressionvalue throw parseerro r boolean negative true leading minus sign negative false read minus sign negative true double val value expression val termvalue read evaluate term negative val apply leading minus sign term read term add subtract value previous term expression char op read operator double nextval termvalue read evaluate t erm op val nextval val nextval return val end expressionvalue subroutine term similar subroutine factor similar example given fully parenthesized e xpressions complete program read evaluates expression based bnf r ules ﬁle building expression tree far ve evaluated expression doe tha t translating program machine language instead actually e valuating expression easy generate machine language instructi ons needed evaluate expression working stack machine se instruction stack operation push number apply program linked data structure recursion evaluate expression print list stack mac hine operation evaluating expression s quite jump program recursive descent par ser read program written java generate equivalent machine languag e conceptual leap huge program doesn t actually generate stack operation dir ectly parses expression instead build expression tree discussed subsection represent expression expression tree used t o ﬁnd value generate stack operation tree node belonging t o class constnode binopnode similar given subsection subclass expnote unaryminusnode introduced represent unary minus operation ve added method printstackcommands class method responsible printing stack operation necessary evaluate expre ssion example new binopnode class private static class binopnode extends expnode char op operator expnode left expression left operand expnode right expression right operand binopnode char op expnode left expnode right construct binopnode containing specified data assert op op op op assert left null right null assert statement subsection op left right double value value obtained evaluating left right operand combining value operator double x double y switch op case return x y case return x y case return x y case return x y default return bad operator void printstackcommands evaluate expression stack machine necessary evaluate left operand leavi ng answer stack thing second operand apply operator mean popp ing operand applying operator pushing resu lt linked data structure recursion operator op s interesting look new parsing subroutine instead computing value subroutine build expression tree example subroutine corresponding rule expression static expnode expressiontree throw parseerror read expression current line input return expression tree representing expression return value pointer root tree boolean negative true leading minus sign negative false negative true expnode exp expression tree expression exp termtree start tree term negative build tree corresponds applying unary minus operator term ve just read exp new unaryminusnode exp read term combine previous term bigger expression tree char op expnode nextterm termtree create tree applies binary operator previous tree term just read exp new binopnode op exp nextterm return exp end expressiontree real compiler parser creates tree represen t program parsed tree called parse tree orabstract syntax tree parse tree somewhat diﬀerent form expression tree purpose th e tree number thing thing t used generate machine language code technique exa mining tree detecting certain type programming error attempt ference local variable assigned value java compiler course w ill reject program contains error s possible manipulate th e tree optimize linked data structure recursion optimization tree transformed make program eﬃcient code generated started chapter looking programming language compiler machine language looking hope lot understanding wider exercise chapter theﬁrstexamplesofrecursionarethemat hematicalfunctions factorial solution andﬁbonacci function deﬁned integer usin g following recursive formula factorial factorial n n factorial n fibonacci fibonacci fibonacci n fibonacci fibonacci n write recursive function compute factorial n andfibonacci n given negative integer n write main routine test function consider using biginteger class exercise fact factorial andﬁbonacci really good example recursion natural way compute use simple forloops furthermore ﬁbonacci particularly bad example natural recursive pproach computing function extremely ineﬃcient asked read ﬁle make alphabetical li t word occur solution ﬁle write list ﬁle exercise asked use arraylist string store word write new version program tha t store word binary sort tree instead arraylist use binary sort tree routine discussed subsection linked list integer object b elonging class solution class listnode int item item list listnode pointer node write subroutine make copy list ord er item list reversed subroutine parameter type listnode return value type listnode original list modiﬁed write main routine test subroutine explains use recursion print item binar y tree solution various order section note e subroutine used print item provided stack queue used au xiliary data structure assuming queue used algorithm s ubroutine add root node queue queue node queue print item node null add queue null add queueexercises write subroutine implement algorithm writ e program test subroutine note need queue treenodes need write class represent queue note order item printed algori thm diﬀerent order considered subsection say binary sort tree created inserting item solution random order high probability tree app roximately exercise experiment test true thedepthof node binary tree length path root tree node root depth child d epth grandchild depth balanced tree leaf th e tree depth example perfectly balanced tree de leaf depth approximately balanced tree node t average depth leaf bigger hand tree approximately balanced leaf larger depth average mig ht want look maximum depth leaf tree exercise create random binary sort tre e node item tree real number create tr ee generating random real number inserting tree using t usual treeinsert method binary sort tree tree shou ld compute output average depth leaf tree maximum dep th leaf need recursive subroutine unt leaf ﬁnd sum depth leaf ﬁnd maximum d epth subroutine parameter depth tell deep tree ve gone routine main program thedepthparameter routine recursively parameter incr eas parsing program section work expression number solution operator make thing little interesting al lowing variable x occur allow expression example make new version sample program work expression program main routine t simply print value expression sinc e value expression depends value instead print value expression original program modiﬁed way currently program us class constnode binopnode andunaryminusnode represent node expression tree expression include x need new class variablenode represent occurrence xin expression original program node class insta nce method double value return value node program th e value depend x replace method form double value double xvalue parameter xvalueis value finally parsing subroutine program t o account fact expression contain just small change bnf rule expression factor allowed variable x factor number expression exercise lower case upper case x change t bnf requires change factortree subroutine exercise build previous exercise exercise understand solution background calculus derivative expre ssion involves variablexcan deﬁned recursive rule derivative constant derivative xi expression let dabe derivative derivative expression let dabe derivative aand letdbbe derivative ofb derivative derivative derivative bisa db b da derivative b da db b b exercise modify program pr evious exercise compute derivative expression thi s adding computing method node class add anot abstract method expnode class abstract expnode derivative thenimplementthismethodineachofthefoursubclassesof expnode alltheinformation need rule given main program instead printing stack operation original expression pr int stack operation deﬁne derivative note formula derivative complicated need example rivative computed x correct s kind ugly b e nice simpliﬁed simplifying expressio n easy alternative printing stack operation migh t want print derivative fully parenthesized expression t adding printinfix routine node class nice leave unnec essary parenthesis problem deciding parenthesis left altering meaning expression fairly diﬃcult don t advise attempt curious thing happens apply th e rule given expression tree result longer tree sam e subexpression occur multiple point derivative example build node represent b bby saying new binopnode b b left right child new node actually node allowed tree diﬀerence harmless case like tree structure loop loop hand disaster recursive processing subroutine written lead inﬁnite recursion th e type structure built derivative function technically referred t o adirected acyclic graph quiz quiz chapter answer meant recursive subroutine following subroutine static void printstuff int level level printstuff level printstuff level output produced subroutine sprintstuff printstuff printstuff andprintstuff linked list formed object belong class class listnode int item item list listnode pointer item write subroutine count number zero oc cur given linked list ofints subroutine parameter type listnode return value type int deﬁned previous problem suppose headis variable typelistnode point ﬁrst node linked list write code segm ent add number new node endof list assume list tail pointer list node used build linked data structure form linked list consider list node class shown left c ode shown right class listnode listnode new listnode int item listnode new listnode listnode listnode new listnode listnode int listnode new listnode item null draw data structure constructed code happens try print item data structure using usual code trave rsing linked list quiz listnode runner runner null runner operation stack basic diﬀerence stack queue activation record role doe stack activation record play computer binary tree integer formed object belonging class class treenode int item item tree treenode left pointer left subtree treenode right pointer right write recursive subroutine ﬁnd sum n ode tree subroutine parameter type treenode return value typeint class previous problem write recursiv e subroutine make copy binary tree subroutine parame ter point root tree copied return type treenode return value pointer root copy copy sist newly created node exactly structure iginal tree postorder traversal binary tree binary sort tree integer initially empt y following integer inserted tree order shown draw binary sort tree result list integer s order produced traversal tree multilist deﬁned bnf rule multilist word multilist word sequence letter ﬁve diﬀerent multilist s generated rule rule way almos t entire syntax programming language lisp lispis known simple syntax elegant powerful semantics meant parsinga computer generic programming collection class avoid reinventing wheel data structure algorithm chapter studied programmed gener ations computer science student valuable learning expe rience unfortunately programmed generation wo rking computer professional taking time devoted new creative wor programmer need list binary tree shouldn t data st ructures scratch programmed thousand time s problem make robust data structure available prog rammer chapter ll look java s attempt address problem seen solution section section introduced parameterized type arraylist class parameterized type make possible class work diﬀerent kind data idea code used variety data called generic programming generic programming generic programming refers writing code work type data w e encountered alternative generic programming subsection looked dynamic array integer source code presented working dynamic array integer work data type int source code dynamic array double string color type identical s ubstitution type silly write essentially th e code java s approach problem parameterized type saw section parameterized classarraylist implement dynamic array parameterized ther e type arraylist string represent dynamic array string arraylist color dynamic array color generally arraylist t object type just class source code work diﬀerent type generi c programming thearraylist class just standard class used ge neric programming java spend section lo oking class used ll generi c method generic interface class interface discussed section d eﬁned package need import statement beginning p rograms access generic programming collection class insection possible deﬁne new generic class interface method stick using java s predeﬁned generic section look stream relatively new feature java make extensive use generic easy task design library generic programming java s solution nice feature certainly possible approac certainly best feature opinion ed bizarre context overall design java close optimal perspective generic programming general useful look brieﬂ y approach generic programming generic programming smalltalk smalltalk ﬁrst programm ing language used today use common achieved anythi ng like popularity java source idea used language smalltalk essentially programming generic basic property t language variable smalltalk typeless data val ue type integer string variable type variable hol d data type parameter typeless subroutine applied paramete r value type similarly data structure hold data value type example ve deﬁned binary tree data structure smalltalk use binary tr ee integer string date data type simply need write new c ode data type secondly data value object operation object deﬁned method class true type primitive java integer operator used add integer operation perfo rmed calling method integer class deﬁne new class deﬁne operator able add object belonging class saying b just adding number suppose write subroutine us t operator add item list subroutine applied list inte gers applied automatically data type deﬁned similarly subroutine us operator sort list applied list containing type data deﬁned need write diﬀerent sorting subro utine type data feature language data structure algorithm work type data make s ense appropriate operation deﬁned real generic pro gramming sound pretty good asking programming la nguages don t work way type freedom make easier write program fortunately make harder write program correct robust chapter data structure contain data type hard ensure th hold type data want hold subroutine sort type data s hard ensure applied data th e operator deﬁned particularly way compiler ensure thing problem run time attempt apply operation t o data type deﬁned program generic programming collection class generic programming unlike smalltalk strongly typed language eve ry variable type hold data value type mean kind generic programming used smalltalk impossible ha s powerful ﬂexible generic programming possible language fea ture known template instead writing diﬀerent sorting subroutine ea ch type data write single subroutine template template subroutin e s like factory making subroutine look example syntax similar java s template class itemtype void sort itemtype int count sort item array increasing order item position sorted algorithm used selection sort int int position ofmax int j j j position ofmax position ofmax j itemtype temp position ofmax position ofmax temp thispieceofcodedeﬁnesasubroutinetemplate ifyouremov etheﬁrstline template class itemtype substitute word int word itemtype th e rest template subroutine sorting array ints say class itemtype actually substitute type itemtype including th e primitive type substitute string itemtype subroutine sorting ar ray string pretty compiler doe template program say s sort list array ints compiler us template generate subroutine s orting array ofints say sort card array object type card compiler generates subroutine sorting array card try template us operator compare value operator deﬁned v alues type card compiler successfully use template generate subroutine sorting card deﬁned card compiler happen compile time smalltalk run time make program cr ash way possible write deﬁnitions operator like type possible work value type card inadditiontosubroutinetemplates formakingclasses ifyouwrite template binary tree class use generate c lass binary tree ints binary tree string binary tree date template modern come large number template called th estandard template library stl stl quite complex people say s complex interesting feature generic programming collection class generic programming java java s generic programming feature gone seve ral stage development early version java did parameterized type d id class represent common data structure class designed work withobjects hold object type way restrict t ypes object storedinagivendatastructure forexample arraylist wasnotoriginallyaparameterizedtype arraylist hold type object mean s iflistwas anarraylist return value type object programmer actually using list store string value returned treat string string item string kind generic programming class c work kind object closer spirit smalltalk t way type check compile time unfortunately smalltalk result category error run time compile time programmer assumes item data structure string try process item s string error occur type data inadvertently added da ta structure java error likely occur program retrieves objectfrom data structure try type string object actually type string illegal throw error type classcastexception java introduced parameterized type poss ible create generic data structure compile time t han run time example listis type arraylist string compiler allow object type stringto added list furthermore return type isstring necessary java s parameterized class similar template class implementation diﬀerent introducti move java s generic programming model closer farther smalltalk chapt er use parameterized type exclusively remember use mandatory legal use parameterized class type plain arraylist case type object stored data structure really want preferable use type arraylist object notethatthereisasigniﬁcantdiﬀerencebetweenparameter izedclassesinjavaandtemplate class template class really class s kind factory generating class time template used new type new compiled class created java parameterized class o nly compiled class ﬁle example compiled class ﬁle parameterized classarraylist parameterized type arraylist string andarraylist integer use compiled class ﬁle doe plain arraylist type type string tell compiler limit type object b e stored data structure type parameter eﬀect run time d known run time type information said erased run ti type erasure introduces certain weirdness example c t test list instanceof arraylist string instanceof operator evaluated run time run time plain arraylist exists similarly t type arraylist string worse t create array base type arraylist string using new operator new arraylist string n newoperator evaluatedchapter generic programming collection class run time run time thing arraylist string parameterized type arraylist exists run time t arra y ofarraylist string youcanhave arraylist arraylist string type written arraylist arraylist string just good better fortunately programmer don t deal p roblems turn fairly advanced programming people use p arameterized type encounter problem beneﬁts type generic programming little diﬃculty s worth noting type parameter parameteriz ed type deduced compiler type parameter omitted example word string optional constructor following statement b ecause arraylist created arraylist string match type variable arraylist string word new arraylist java collection framework ve said java come number parameterized type implement common data structure collection data structure class nterfaces referred java collection framework orjcf spend section learning jcf generic data structure java collection framewor k divided category collection andmaps collection sound like collection object map associate object set wi th object set way dictionary associate deﬁnitions word phon e book associate phone number name map similar called association l ist insubsection java collection map represented parameter ized interface collection t map t s t s stand type primitive t s example parameterized type type paramete r tands deal possibility look map clos ely insection section look collection type collection listsandsets list collection object arranged linear sequence list ﬁrst item sec ond item item list item direct ly follows collection set deﬁning property object occur m ore set element set necessarily thought y particular order idea list set represented parameterized interface list t andset t interface collection t object implement interface list t orset t automatically implement collection t interface collection t speciﬁes general operation applied collection list t andset t add additional operation appropriate list set respecti vely course actual object collection list se t belong concrete class implement corresponding interface example class arraylist t implement interface list t implement collection t mean method deﬁned list collection interface s used arraylist look various class implement list se t interface section ll look brieﬂy general operation available generic programming collection class interface collection t speciﬁes method performing basic operation y collection object collection general concept operation applied collection general generic op erations sense applied various type collection containing vario type object suppose collis object implement interface collection t speciﬁc typet following operation speciﬁed nterface collection t deﬁned coll return intthat give number object collection return boolean value trueif size collection remove object collection tobject addstobject collection parameter type t syntax error occurs compile time remember iftis class includes object belonging subclass t iftis interface includes object implement theadd method return boolean value tell operation actually modiﬁed collection example ad ding object sethas eﬀect object set object return boolean value true objectis collection note objectisnotrequired type t make sense check objectis collection matter type objecthas testing equality nullis considered equal criterion testin g object equality diﬀer kind collection seesubsection object objectfromthecollection ifitoccursinthecollection return boolean value tell object object required type test equality test used contains return boolean value true objectin coll parameter collection add object parameter collection type collection t general example ti class si t type collection s make sense object type si automatically type tand legally added coll remove objectfromcollthat occurs collection collection remove objectfromcollthatdoes occur collection retains object occur collection return array type object contains item collection note return type object nott version method take array type t parameter tarray return array type t containing item collection array parameter tarrayis large hold entire collection item stored tarrayandtarrayis return value collection tarrayis large new array created hold thechapter generic programming collection class item case tarrayserves specify type array example new string used collis collection stringsand return new array type string method collection t interface deﬁned object implement interface problem wi th example size collection changed created method add remove object don t make sense collection whil e legal method exception thrown evaluated run t ime type exception isunsupportedoperationexception furthermore collection t interface concrete class actual implementation method l eft class implement interface mean semantics method described guaranteed valid collection object v alid class java collection framework thereisalsothequestionofeﬃciency evenwhenanoperatio nisdeﬁnedforseveraltypesof collection equally eﬃcient case ev en method simple size vary greatly eﬃciency collection computing t hesize involve counting item collection number step proce s equal number item collection instance variable tra ck size evaluating size just mean returning value variable case th e computation take step matter item working collect ion s good idea eﬃcient operation choose collection operation need implemented eﬃciently ll speciﬁc ex amples section iterators loop interface collection t deﬁnes basic generic algorithm suppose want t o write generic algorithm suppose example yo u want simple printing item collection gene ric way need way going arbitrary collection accessing item turn seen speciﬁc data structure array use forloop iterate array index linked list use loop n advance pointer list binary tree use recursive subr outine inorder traversal collection represented form variety traversal mechanism hope come single generic method work collection stored wildly diﬀe rent form problem solved byiterators iterator object used traverse collec tion diﬀerent type collection iterators implemented diﬀerent way iterators usedin way algorithm us iterator travers e collection generic technique applied type colle ction iterators strange encountering generic programming ﬁrst time understand solve diﬃcult problem elegant wa interface collection t deﬁnes method used obtain iterator collection collis collection return iterator used traverse collection think iterator kind generalized pointer start beginning collection t collection item iterators deﬁned parameterized interface nam editerator t ifcollimplementschapter generic programming collection class interface collection t speciﬁc type t return iterator typeiterator t type ta type parameter interface iterator t deﬁnes just method iterrefers object implement iterator t return item advance iterator retur n value typet method let look item collectio note way look item advancing iterator past t hat item method called item remain throw nosuchelementexception return boolean value telling item processed general test callin calling remove item just saw collection note method h asno parameter remove item recently returned produce anunsupportedoperationexception collection doe support removal item using iterators write code printing item inanycollection suppose example collis type collection string case value returned type iterator string say iterator string iter declare iterator variable iter iterator collectio string item item item general form work type processing example following code remove nullvalues collection type collection color long collection support removal value iterator color iter color item item null note way collection t iterator t parameterized type used actual code used actual type su ch asstringorcolorin place formal type parameter iterator type iterator string used iterate collection string iterator type iterator color used iterate collection ofcolor iterator used apply operation th e element collection case s possible avoid use iterators th purpose using loop loop discussed subsection use array subsection use arraylists fact loop ed iterate collection collection collof typecollection t loop take form t x coll object x type t coll process x chapter generic programming collection class xi loop control variable object collwill assigned xin turn body loop executed object objec t incollare type t xi declared type example namelist type collection string print name collection string namelist ofcourse bewrittenasa whileloopusinganiterator loop easier follow equality comparison method collection interface test object equality example method object object look item collection equal object equality simple matter obvious applied object test object identical sen e share location memory usually howeve r want consider object equal represent value di ﬀerent thing value typestringshould considered equal contain sequence character question character stored l ocation memory irrelevant value type dateshould considered equal represent time seen objectclass deﬁnes method equal object testing object equal method s used collection class deciding object b e considered object class deﬁned object deﬁnition reasonable overridd en thestring class example override equal stringstr value obj istruewhenobjis stringandobjcontains sequence character str write class want deﬁne equal method class correct behavior object tested equalit example cardclass work correctly used collection deﬁned public class card class represent playing card private int suit number code suit spade diamond club heart private int value number represents v alue public boolean equal object obj try card card obj obj card suit value card suit value card considered equal return true return false chapter generic programming collection class catch exception e catch nullpointerexception occurs o bj null classcastexception occurs obj type card case obj equal card return false return false method constructor equal method class method contains andremove interface collection card work expected similar concern arises item collection sorte sorting refers arranging sequence item ascending order according cri terion problem natural notion ascending order arbitrary object object sorted method deﬁned comparing object meant compared implement interface fact comparable deﬁned parameterized interface comparable t represents ability compared object type interface comparable t deﬁnes method public int compareto t obj value returned negative object arranged ascending order positive return value zero mean object considered purpose comparison doe ne cessarily mean object equal sense true general class implement comparable try deﬁne andcompareto value class jcf use compareto equal test object equality thestringclass implement interface comparable string deﬁnes compareto reasonable way case return value compareto zero string compared equal deﬁne class want able sort object belonging class e xample represents consisting n ame public class fullname implement comparable fullname private string firstname lastname l ast name public fullname string string constructo null null throw new illegalargumentexception name ll firstname lastname public boolean equal object obj try chapter generic programming collection class fullname fullname obj obj type ful lname return catch exception e return false obj null type fullname public int compareto fullname int comparelast comparelast lastname come object fullname come fullname return negative value indicate return comparelast lastname come object fullname come fullname return positive value indicate return name base comparison name using compareto class string return method ﬁnd little odd class declared class fullname implement comparable fullname fullname repeated type parameter interface doe make sense mean g oing compare object belong class fullname object type reasonable thing fact obvious java type parameter incomparable fullname compiler previously encountered fullname record class subsection remember record class implement interface ﬁne afullname record class implement comparable fullname record class equal method deﬁned appropriately way allow comparison object jav provide separate object capable making comparison t object implement interface comparator t wheretis type object compared interface comparator t deﬁnes method public int compare t t chapter generic programming collection class method compare object type tand return value negative positive zero depending come considered purpose comparison comparators useful comparing object implement comparable interface deﬁning diﬀerent ordering collection object comparator functional interface comparators deﬁned lambda expression section note make sense use comparator doe value compare example sorting address zip code use comparator look zip code ﬁeld address compare section ll comparable andcomparator used context collection map generic wrapper class noted section aboutarraylists java s generic programming doe apply primitive type generic data structure ca n hold object value primitive type object wrapper cla ss introduced subsection make possible restriction great ext ent recall primitive type associated wrapper cl as class integerfor type int classbooleanfor type boolean classcharacter type char object type integercontains value type int object serf wrapper primitive type value allows used text object required generic data structure example list integerscan stored variable typearraylist integer interface collection integer andset integer deﬁned furthermore class integerdeﬁnesequals compareto andtostring method expect compare write corresponding primitive type value usual way similar remark apply wr apper class recall java doe automatic conversion p rimitive type corresponding wrapper type conversion called autoboxing unboxing introduced subsection mean created generic data structure hold object belonging wrapper cla ss use data structure pretty actually contained primitive type value example number variableoftype collection integer itislegaltocall t literally add primitive type value number java automatically convert corresponding wrapper object wrapper object added collection creation o bject doe add time memory overhead operation mind situation eﬃciency important array inti eﬃcient arraylist integer list set previous section looked general property collection class n java section look speciﬁc collection class nd use class divided main category list set li t consists sequence item arranged linear order list deﬁnite order n ot necessarily sorted set collection duplicate entry element s et arrangedchapter generic programming collection class deﬁnite order brieﬂy discus ca tegory collection known priority arraylist linkedlist obvious way represent list dynamic ar ray linked list ve encountered section andsection option available generic form collection class theseclassesarepartofthejavacollectionframework eac himplementstheinterface list t interface collection t object type arraylist t represents ordered sequence object type t stored array grow size necessary new item added object type linkedlist t represents ordered sequence object type t object stored node linked w ith pointer list class support basic list operation deﬁned interface list t abstract data type deﬁned operation t representation class single list class single representa tion problem single representation list list operati ons eﬃcient operation linked list eﬃcient array array s eﬃcient particular application list s likely operation used frequently want choose representation frequently used o perations eﬃcient possible broadly speaking linkedlist class eﬃcient application item added removed beginning list middl e list array operation require moving large number item o ne position array make space new item ﬁll hole left remov al item term asymptotic analysis section adding element beginning middle array run time θ n n number item ar ray linked list node added removed position changing pointer v alues operation run time θ operation take constan t time independent item list hand arraylist class eﬃcient random access item required random access mean accessing item list integer random access used change value stored spec iﬁed position list trivial array run time θ linked list mean starting beginning list moving node node list k ste p operation run time θ k operation eﬃciently type list include sorting adding item end list list implement method interface collection t discussed subsection method include size isempty add t remove object clear theadd t method add object end list remove object method involves ﬁrst ﬁnding object us linear se arch eﬃcient list involves going item list beginning end object interface list t add method accessing list item according numerical position list suppose listis object type list t method index return object type tthat position indexin list chapter generic programming collection class whereindexis integer item numbered parameter range indexoutofboundsexception thrown index obj store object objat position number indexin list replacing object previously object objmust type doe change number element list o f element index obj insert object objinto list position number index whereobjmust type number item list increase item come position indexmove position make room new item value indexmust range inclusive indexis equal thenobjis added end list index remove object position number index return object return value method item po ition space list ﬁll hole size list decrease o ne value indexmust range obj return intthat give position objin list occurs doe occur return value object objcan type just typet ifobjoccurs list index ﬁrst occurr ence returned method deﬁned class arraylist t class linkedlist t eﬃcient arraylists class linkedlist t add additional method deﬁned arraylist iflinkedlist object type linkedlist t return object type tthat ﬁrst item list list modiﬁed list method called exception typenosuchelementexception thrown true method return object type tthat item list list modiﬁed remove ﬁrst item list return object type ta return value function deﬁned meaning removefirst remove item list return object typetas return value obj add obj type t beginning list function obj meaning obj add object obj type t end list exactly obj deﬁned naming consistent redundancy apparently make easy u se alinkedlist stack queue section example use linkedlist stack using method named push andpop queue using add andremove implement enqueue dequeue operation iflistis object type list t method deﬁned interface collection t return iteratorthat used traverse list beginningchapter generic programming collection class end list special type iterator called listiterator oﬀers additional capability listiterator t interface extends interface iterator t method return object type listiterator t alistiterator usual iteratormethods hasnext andremove method hasprevious previous add obj andset obj make possible backwards list add item current po ition iterator replace item list understand w ork s best think iterator pointing position list element beginning end list diagram item list represented s quares arrow indicate possible position iterator ifiteris type listiterator t move iterator space right list return item iterator pa ss move method move iterator space left list ret urn item pass method remove item list item removed item iterator passed recently method obj work similarly replaces item removed method obj add speciﬁed object list current position ite rator objmust type t existing item beginning o f list end list way list used class linkedlist t aredoubly linked list node list contains th e node list previous node make possible eﬃciently implement andprevious method listiterator make addlast andgetlast method linkedlist eﬃcient class linkedlist t includes tail pointer point node list example using listiterator suppose want maintain list item sorted increasing order adding tem list use listiterator ﬁnd position list item added position use list iterator place item position idea start beginning list iterator ward past item smaller item inserted point t iterator s add method used insert item deﬁnite suppose stringlist variable type list string assume string list stor ed ascending order newitem string like insert list foll owing code placenewitem list correct position modiﬁed list s ascending order listiterator string iter iterator point position newitem inserted list newitem bigger item list loop end false iterator reached end generic programming collection class string item item newitem come item list iterator space point correct insertion point end loop break newitem stringlist type arraylist string type linkedlist string algorithmthatisusedtoinsert newitem intothelistwillbeaboutequallyeﬃcientforbothtypes list work class impleme nt interface list string probably ﬁnd easier design insertion algorith m us indexing method index andadd index obj algorithm horribly ineﬃcient linkedlists random access ineﬃcient linked list t way insertion algorithm work list w orks new item inserted beginning end list useful think true sorting sorting list fairly common operation really sorting method thelistinterface presumably make se nse sort list certain type object method sorting list ava ilable asstaticmethods class class contains variety static utility method working collection method generic wil l work collection object various type seen similar method ar ray arraysclass suppose thatlistis type list t command list used sort list ascending order item list implement interface comparable t seesubsection method work example list stringand list wrapper class integerand double sorting method take comparator second argument list comparator method comparator used compare item list mentioned previous section comparator object deﬁnes compare method used compare object ll example using comparator insection sorting method used merge sort algorithm run t imes θ n log n list size average run time mergesort s little slower quicksort performance better q uicksort s quicksort covered mergesortalsohasanicepropertycalled stability tha twewillencounter end subsection generic programming collection class thecollections class useful method modifying li t list rearrange element list random order list reverse order element eleme nt moved beginning list element second position eﬃcient sorting method provided list need write treeset hashset set collection object object occurs set implement method interface collection t way ensures element occurs twice set example setis object type set t obj eﬀect set objis element set java class implement interface set t addition set atreesethas property element set arranged ascending sorted order iterator loop treeset visit element set ascending order atreesetcannot hold arbitrary object way termine sorted order object contains ordinarily mean tha t object set type treeset t implement interface comparable t deﬁned reasonable way object set alternatively object type comparator t provided parameter constructor treesetis created case compare method comparator used compare object added set atreesetdoes use equal method test object instead us compareto orcompare method problem recall subsection thecompare method comparator consider object purpose comparison obj ect equal likely possible properly deﬁned compareto method treesetthat us thecomparator mean oneof object set example treesetcontains mailing address compare method address just compare zip code set contain address e ach zip code clearly right mean aware s emantics treesets need make sure compare orcompareto deﬁned reasonable way object treeset true way string integer type compareto method type considers object actually equal implementation treeset element stored similar binary sort tree subsection data structure used balanced sense left right subtrees node tree size ensures basic deleting eﬃcient run time θ log n n number item set fact treesetsorts element remove duplicate make usef ul application exercise asked write program read ﬁle output alphabetical list word occurred ﬁle duplicate removed word stored arraylist make sure list sorted contained duplicate task prog rammed easily using atreesetinstead list treesetautomatically eliminates duplicate iteratorchapter generic programming collection class set automatically visit item set rted order algorithm program using treeset treeset string word new treeset string data input file let word word file convert word lower case word add word present string w word string w word output w word output sorted order like complete working program ﬁ nd ﬁle example suppose collis anycollection ofstrings work type compareto properly deﬁned use treesetto sort item colland remove duplicate simply saying treeset string set new treeset string coll second statement add element collection set s set duplicate ignored s treeset element set sorted like data type data structure s ea y copy data set example place answer arraylist say treeset string set new treeset string coll arraylist string list new arraylist string set fact java s collection class structor take collection argument item collection added new collection created collis type collection string new treeset string coll creates atreesetthat contains element coll duplicate removed sorted order mean abbreviate line example single command arraylist string list new arraylist new treeset c oll make sorted list element collwith duplicate nice example power generic programming note type parame ter string optional constructor example deduced t compiler ahashset store element hash table type data structure discus section operation ﬁnding adding moving element implemented eﬃciently hash table treesets element hashset stored particular order need imple ment comparable interface need deﬁne proper hash code l l section theequals method used determine object hashset considered iteratorfor ahashset visit element completely arbitrary order s possible o rder change new element added use hashset instead treesetwhen element contains comparable order important small advantag e eﬃciency generic programming collection class note mathematics set mathematical set ory item set calledmembers orelements set important operation include adding element set removing element set testing given entity element set operation performed set include union intersection andset diﬀerence operation deﬁned java object type set diﬀerent name suppose aandbaresets x addsthe element xto set x remove element xfrom set x testswhetherxis element set b computes unionofaandb b computes intersection ofaandb b computes set diﬀerence thereareofcourse diﬀerencesbetweenmathematicalsetsa ndsetsinjava mostimportant set java ﬁnite mathematics mo st fun set theory come working inﬁnity mathematics set contain arbitrary element java set type set t contain element type operation b act modifying value mathematics operation aunionbcomputes new set changing value aorb exercise example mathematical set operation java priority queue apriority queue abstract data type represents collection item s item assigned priority allows item b e compared operation priority queue include add add item collection remove remove return item collection minimum p riority item currently collection maximum priority possible java s version remove operation remove minimum priority item simple implementation priority queue achieved using linked list store item queue order increasing priority tha t case removewould simply remove return ﬁrst item list addwould insert new item correct position list operation average run t ime θ n n number item list fact priority queue implemente d addandremovehave run time θ log n eﬃcient eﬃcient implementation us called heap confused heap wher e object created discus implementation parameterized class priorityqueue t implement priority queue object type class implement interface collection t ifpqis apriorityqueue method deﬁned interface essential prio rity queue operation obj addsobjto priority queue objmust object type t remove return item minimal priority return value object type throw exception queue test priority queue generic programming collection class ve probably noticed haven t mentioned priority item priority queue determined situation like rting need able compare item queue sorting solution item implementthe comparable interface thentheycanbecomparedusingthe compareto method interface alternatively comparator object provided parameter priorityqueue constructor case comparator s compare method used compare item classessuchas string integer anddatethatimplement comparable canbeusedinapriority queue example priorityqueue string used sort string lexicographicorder justaddall string priority queue removethem item removedfromthequeueinorderofpriority theywillberemo vedinlexicographicorder earlier showed use treesetto sort remove duplicate collection priorityqueue used similar way sort collection remov ing duplicate example collis type collection string following code segment print item fro m collin order including duplicate priorityqueue string pq new priorityqueue coll note way t use iterator lo op print item example iterators loop traverse priority queue ascending order sample program make sorted list word ﬁle removing duplicate using priority queue hold word minor modiﬁcation priority queue used sorting o ther natural application example consider problem scheduling job exe cuted computer job assigned priority job lower priority shoul d executed job higher priority job placed priority queu e created computer remove job queue execution wil l removed order increasing priority map array n element thought way associating item integer ifiis integer s possible getthe item associated withi s possible puta new item position operation deﬁne mean array amapis kind generalized array like array map deﬁned b y operation map operation deﬁned arbitrary object speciﬁed type associated object type tare object possibly diﬀerent type fact programming language use term associative array instead map use notation associative array regul ar array language example notation fred used indicate item associated string fred associative array java doe use array notation map unfortunately idea map like array index map object notchapter generic programming collection class integer map object serf index ed akey object associated key called value note key associated value value associated diﬀerent key map considered set association association ue pair map interface java map deﬁned interface includes putandgetmethods general method working map ma p interface map k v parameterized twotypes ﬁrst type parameter k speciﬁes type object possible key map second type parameter v speciﬁes type object possible value map example map type map date color associate value type colorto key type date map type map string string key value type string suppose mapis variable type map k v speciﬁc type kandv following method deﬁned map key return object type vthat associated map key map doe associate value key return value null note s possible return value nullwhen map explicitly associate valuenullwith key referring key similar referring key array note like indexoutofboundsexception map key value associate speciﬁed valuewith speciﬁed key wherekey type kandvaluemust type map associated value key new value replaces old o ne similar command key value array map type map k v copy association map key ifmapassociates value speciﬁed key association removed map key return boolean value trueif map associate value speciﬁed key value return boolean value trueif map associate speciﬁed valueto key return intthat give number association map return boolean value trueif map contains association remove association map leaving theputandgetmethods certainly commonly used method n themap interface application method needed case map really diﬃcult use standard array java includes class implement interface map k v treemap k v hashmap k v atreemap association stored sorted tree w hich theyaresortedaccordingtotheir key forthistowork itmustbepossibletocomparethekeys mean key implemen t interface comparable k chapter generic programming collection class comparator provided comparing key comparator provided parameter treemap constructor note treemap treeset compareto orcompare method used decide key considere d undesirable consequence comp arison method doe agree usual notion equality mind using treemaps ahashmap doe store association particular order k eys used ahashmap comparable key class ha ve reasonable deﬁnitions equal method hashcode method discussed later section java s standard class deﬁne thods correctly operation little faster hashmaps treemaps general use hashmap unless particular need ordering proper ty atreemap particular using putandgetoperations safely use hashmap let s consider example map useful subsection presented simple phonedirectory class associated phone number name class d eﬁned operation addentry number andgetnumber nameandnumberare given string fact phone directory acting just like map t headdentry method playing role putoperation getnumber playing role real programming application need deﬁne ne w class simply use map type map string string directory deﬁned map string string directory new treemap usingtreemap entry kept sorted order number record phone number directory retrieve phone number associated given view subset submaps amapis acollection map implement operation deﬁned colle ctions particular iterators map t hough s useful able iterate association map java make thi s possible roundabout clever way mapis variable type map k v method return set object occur key associat ion map value returned method object implement interface set k element set map s key obvious way implement keyset method create new set object add key map return set s s value returned independent object called viewof actual object stored map view o f map implement set k interface doe way method deﬁned interface refer directly key map example remove key fr om view associated actually removed map s legal add object view doesn t make sense add key map wit hout specifying value associated key doe create new set s eﬃcient large map thing setis iteratorfor use iterator visit element set turn use iter ator key set map traverse map example mapis type map string double write chapter generic programming collection class set string key set key map iterator string keyiter map contains following assoc iations string key key double value key value key key value thing easily avoiding explic use iterator loop map contains following assoc iations string key key map s key set double value key key value map treemap key set map sorted set iterator wi ll visit key ascending order hashmap key visited arbitrary unpredictable order themapinterface deﬁnes view mapis variable type map k v method return object type collection v contains value association stored map return value collection setbecause contain duplicate element map associate value number key method return set contains association map element set object type k v k v deﬁned static nested interface inside interface map k v contains period u sed way type return type m written set k v type parameter case parameterized type look confusing s just java s w ay saying element set type k v information set returned actually diﬀerent information map set provides diﬀerent view information diﬀerent operation object contains pair anddeﬁnesmethods getkey andgetvalue forretrievingthekeyandthevalue method setvalue value setting value calling method object modify map just map s putmethod called example use entry set map print pair s map eﬃcient using key set print information did example don t use method look value associated key suppose mapis type map string double write set string double entry iterator string double entryiter entry map contains following assoc iations chapter generic programming collection class string double entry string key key entry double value value key value using loop avoid ugly type name map contains following assoc iations string double entry value certainly place convenient use varto declare variable seesubsection withvar example using iterator varentries varentryiter map contains following assoc iations map place java s generic programming fra mework view used example interface list t deﬁnes sublistas view list list implement interface list t method fromindex toindex wherefromindex andtoindex integer return view list consistin g list element position fromindex andtoindex including fromindex excluding toindex view let operate sublist using op erations deﬁned list sublist independent list change sublist actually original list similarly possible obtain view represent cer tain subset sorted set setis type treeset t fromelement toelement return set t contains element setthat fromelement andtoelement including fromelement excluding toelement parameter fromelement andtoelement object type example wordsis set type treeset string element string lower case letter m n contains element wordsthat begin letter m subset view original set creating subset doe involve copying el ements change subset adding removing element actuall y original set toelement consists element set strictly toelement fromelement view contains element set greater equal fromelement class treemap k v deﬁnes submap view submap similar subset submap mapthat contains subset key original map associated value mapis variable type treemap k v iffromkey andtokey type k fromkey tokey return view contains pair mapwhose key fromkey andtokey including fromkey excluding tokey view tokey fromkey deﬁned analogously headset andtailset suppose example phonebook mapchapter generic programming collection class typetreemap string string key name value phone number print entry phonebook begin m follows map string string em m n submap contains entry key greater equal m strictly n entry beginning entry beginning m var entry note type entry string string s easier user var declare variable alue subset submaps probably best thought generali zed search operation make possible ﬁnd item range value rath er just ﬁnd single value example suppose database scheduled eve nt stored map type treemap datetime event key give date time event suppo se want listing event scheduled ti july just make submap containing key range july july output entry submap type o f search known subrange query quite common hash table hash code hashsets andhashmaps implemented using data structure known hash table don t need understand hash table use hashsets orhashmaps computer programmer familiar hash table w ork hash table elegant solution search problem h ash table like hashmap givenakey youhavetosearchtheta pair hash table used implement set value question key occurs set se arch key check search algorithm order ﬁnd item int erested look bunch item don t ﬁnd unsorted list item come t looking binary sort tree start root dow n tree ﬁnd item want search pair hash ta ble directly location contains item want don t t o look item quite true hash table working prope rly s close location pair computed key just look k ey directly location stored work key integer range store pair array element pair key kwould stored ina k key take directly location pa ir problem usually far diﬀerent possible key t o able use array withchapter generic programming collection class location possible key example key ca n value type int need array billion e waste space going store say thousand item key st ring length number possible key inﬁnite using array e location possible key simply impossible hash table store data array t array index key stored based key index equal key bu t computed key array index key called hash code key function computes hash code given key called hash function ﬁnd key hash table just compute hash code key directly array location given hash code hash code look array location number fewer array location po sible key s possible try store key array locatio called collision collision error t reject key just key happened hash code hash table able handle collisi ons reasonable way type hash table used java array locatio n actually hold linked list pair possibly list item hav e hash code linked list structure hash table look like item item item item item item itemitemitem item diagram item hash code item hash code item hash code properly designed hash table linked list length zero average length list hash code key doesn t necessarily directly key th ere probably item look ﬁnding key want work properly number item hash table somewhat number location array java s implementation whenev er number item exceeds array size array replaced larger item old array inserted new adding new item wil l cause ordering item hash table change completely question hash code come eve ry object java hash code objectclass deﬁnes method hashcode return value type int object obj stored hash table nlocations hash code needed hash code computed n remainder absolute value divided necessary negative integer need generic programming collection class number use array index hashing work properly object equal acco rding equal method hash code objectclass condition satisﬁed equal andhashcode based address memory location obje ct stored noted subsection class redeﬁne equal method class redeﬁnes equal method object class used key hash table class redeﬁne hashcode method example stringclass equal method redeﬁned object type stringare considered equal contain sequence character t hehashcode method redeﬁned stringclass hash code string computed ch aracters string location memory ja va s standard class expectequals andhashcode correctly deﬁned need deﬁne method class write writing good hash function art order t o work hash function spread possible key fairly evenly hash tab le item table concentrated subset available location nd linked list location grow large size destroy eﬃciency major reason hash table exist ﬁrst place won t cover tech niques creating good hash function book programming java collection framework section ll look programming example use class fro m java collection framework collection framework easy u se especially compared diﬃculty programming new data structure scratch symbol table begin straightforward important application o f map compiler read source code program encounter deﬁnitions var iables subroutine class name thing used later program compiler remember deﬁnition recognize pply deﬁnition encountered later program natural ap plication map used key map value associated key s deﬁnition encoded object map used way c alled asymbol table compiler value symbol table quite compli cated compiler deal name various sort thing need d iﬀerent type information diﬀerent type thing simple look ing symbol table context suppose want program evaluate exp ressions entered user suppose expression contain variable ddition operator number parenthesis make sense need way assig ning value variable variable used expression need retrieve va riable s value symbol table used store data need key symbol t able variable name value associated key value variable whi ch type double symbol table object type map string double remember primitive type doublecan t used type parameter wrapper class doublemust used instead seesubsection chapter generic programming collection class demonstrate idea ll use pr ogram user type command let x print print x let rate print program interpreter simple language command program understands print let print command executed computer evaluates expression display value f expression contains variable computer look value variable sy mbol table let command used value variable computer store value variable symbol table note variable talking h ere variable java program java program executing sort program type d user talking variable user s program user get make u p variable name way java program know advance variable insubsection saw write program evaluate expression contain variable disc us example program based older program talk part relevant symbol table program us hashmap symbol table treemap used program doe need access variable alphabet ical order don t need key stored sorted order symbol table progr represented variable namedsymboltable typehashmap string double beginning program symbol table object created command symboltable new hashmap creates map initially contains asso ciations execute let command program us symbol table s method associate value variable suppose variable given astring varname value variable stored variable val type double following command set value associated variable symbol table varname val program ll ﬁnd method named doletcommand actual value stored symbol table objec t type double use doublevaluevalin putbecause java doe automatic conversion type double todoublewhen necessary just fun decided variable named pi e value usual mathematical constant πande java value constant given make variable available user program added symbol table command pi e program encounter variable evaluating e xpression symbol table s method used retrieve value function varname return value type double possible return value null happen valuechapter generic programming collection class assigned varname symbol table s important check possibilit indicates user trying use variable user deﬁned program considers error processing look someth ing like double val varname val null throw exception undefined value associated varname ﬁnd code method named primaryvalue example mapsare useful really quite easy use set inside map object collection map type e ven collection s example s natural store set value object map consider problem making index book index nsists list term appear book term list page term appears represent index program need data structure th hold list term list page term adding new data shoul d easy eﬃcient s time print index easy access te rms alphabetical order way d like use java s gen eric data structure let work possible think index mapthat associate list page reference term term key value associated given key s list page reference term mapcan treemap ahashmap treemap make easy access term sorted order value associate d term list page reference represent value think ab s really list sense java s generic class lo ok index ll list page reference duplicate s really se t list furthermore page reference given term printed reasing order want sorted set mean use treesetto represent list page reference value really want set type int deal fact generic data structure hold obje ct use wrapper class integer object set summarize index represented treemap key map term type string value map treesets contain integersrepresenting page number parameterized type s hould use set treeset integer treemap represents index key type string value type treeset integer mean index type treemap string treeset integer just usual treemap k v integer type complicated look intimidating t hink data structure want represent make sense make index need start treemap work book insert map reference want t o index need print data map let s leave aside q uestion ﬁnd thechapter generic programming collection class reference index just look treemap used created command treemap string treeset integer index declare v ariable index new treemap create map object note complex type type parameter ca n omitted constructor suppose ﬁnd reference term type string pagenum typeint need insert information index thi s look term index using term return value nullor set page reference previously term return value null ﬁrst page reference term add term index new set contains page reference ve just ret urn value null set page reference just add new pa ge reference set subroutine doe add page reference index void addreference string term int pagenum treeset integer reference set page reference far term reference term reference null reference term make new set containing page number add index term key treeset integer firstref new treeset pagenum pagenum autoboxed n integer term firstref reference set page reference previously term add new page number set set associated term index pagenum thing need index print want iterate index print term s et page reference term use iteratorto iterate index s easier wit h loop loop iterate entry set o f map subsection entry pair map key term value associated set page reference inside loop hav e print set integer loop examp le nested loop try thing entirely iterators d oing appreciation loop subroutine th print index chapter generic programming collection class print entry index void printindex string treeset integer entry ntryset string term treeset integer pageset term int page pageset page hardest thing type string treeset integer remember entry map type map k v type k v type parameter string treeset integer simply copied declaration ofindex thing note used loop control variable page type intto iterate element pageset type treeset integer expected pageto type integer notint fact integerwould worked just intdoes work automatic type conversion s legal assign value typeintegerto variable type int honest sort surprised worked ﬁrst tried lot code considering complexity op erations written complete indexing program exercise present pr oblem identical indexing problem way printindex method used varto declare local variable avoided complex type name b ut need aware type know method used variable way example prefer print list o f page reference integer separated comma printindex method given separated space extra space page referen ce list doe harm s invisible printout extra comma en d list annoying list form problem leave comma unfortunately ea sy loop fun look way solve problem alt ernative use iterator iterator integer iter int firstpage program know s et element firstpage int nextpage nextpage chapter generic programming collection class possibility use fact treesetclass deﬁnes method return ﬁrst item set small est term ordering used compare item set deﬁnes method solve problem using method loop int firstpage page n umber set int page pageset page firstpage output comma t page page finally elegant solution using subset view th e tree subsection actually solution bit extreme int firstpage item know exists firstpage print item comma int page process r emaining item page using comparator thereisapotentialproblemwithoursolutiontotheindexin gproblem ifthetermsintheindex contain upper case lower case letter t erms notbe alphabetical order ordering stringis alphabetical based unicode code character string code upper case let ters code lower case letter example term beginning wit h z come term beginning term restricted use lower case letter s upper case ordering alphabetical suppose allo w upper lower case insist alphabetical order case index t use usual ordering string fortunately s possible specify diﬀerent method used comparing key map typical use comparator recall object implement interface comparator t deﬁnes method comparing object type t public int compare t t method return integer negative zero positive depending equal greater want compare stringsignoring case stringclass includes method doe comparetoignorecase use comparison treemap need object type comparator string sincecomparator functional interface easy way specify compara tor use lambda expression b b solve indexing problem just need pas compa rator parameter treemap constructor index new treemap b b fact lambda expression just calling method exists string class actually given method reference subsection index new treemap string chapter generic programming collection class doe work technicality suppose f example indexing program call addreference aardvark later call addreference aardvark word aardvark aardvark diﬀer begin upper case letter converted t o lower case insert index count diﬀere nt term term answer depends way treemap test object equality fact treemaps treesets use comparator object compareto method test equality notuse theequals method purpose comparator used treemap example return value zero used compare aardvark aardvark thetreemap considers page reference aardvark aardvark combined single list index printed w ill contain ﬁrst version word encountered program proba bly acceptable behavior example technique used sort term alphabetical order word counting ﬁnal example section deal storing info rmation word problem make list word occur ﬁle number time word occurs ﬁle selected user program consist list list contains word ﬁle al ong number time word occurred list sorted alphabetically th e sorted according number occurrence common word nd common problem generalization exercise asked make alphabetical list word ﬁle counting number occurrence word counting program ﬁle program read input ﬁle track time encounter s word simply throw word duplicate list count th em later require lot extra storage space eﬃcient tter method counter word ﬁrst time word encountered counter initialized subsequent encounter counter incremented ke ep track data word program us simple class hold word count er word class astaticnested class represents data need word word number time encountered private static class worddata string word int count worddata string w constructor creating worddata object encounter new word word w count initial value count end class worddata program store worddata object sort data structure want able add new word eﬃciently given word need c heck worddatachapter generic programming collection class object exists word doe need ﬁnd object increment counter mapcan used implement operation given word want look worddata object map mean word key theworddata object value strange key instance variable value object fact v ery common situation value object contains information entity t key piece information partial information key used trieve information value object reading ﬁle want output wo rds alphabetical order use treemap hashmap program convert word lower case default ordering string word alphabetical order data stored variable named wordsof typetreemap string worddata variable declared map object created statement treemap string worddata word new treemap program read word ﬁle call word ﬁnd word map return value null ﬁrst time word encountered new worddata object created inserted map command word new worddata word word notnull value worddata object word program increment th e counter object program us method readnextword given exercise read word ﬁle method retur nsnullwhen end ﬁle encountered complete code segment read ﬁle collect data string word readnextword word null word convert word lower case worddata data word data null word new worddata word word readnextword reading word printing alphabetica l order program sort word frequency print s orting using generic algorithm copy worddata object list use generic method list comparator speciﬁes comparator second parameter want sort data decreasing order count want comparator worddata valuesaandbthat put check following lambda expression deﬁnes comparator wi ll work b theworddata object need value map word recall returnsa collection thatcontainsallthevaluesfromthemap theconstructor thearraylist class let specify collection copied list created use following command create list type arraylist worddata containing word data sort list according frequency arraylist worddata wordsbyfrequency new arraylist wordsbyfrequency b count chapter generic programming collection class notice line replace lot code t requires practice think term generic data structure algorithm p ayoﬀ signiﬁcant term saved time eﬀort remaining problem print data pri nt data worddata object twice ﬁrst alphabetical order sorted ac cording frequency count data alphabetical order treemap precisely value thetreemap use loop print data collection word appear alphabetical order loop used print data list wordsbyfrequency word printed order decreasing frequency code doe list word alphabetical order count parenthesis worddata data word frequency occurrenc e worddata data wordsbyfrequency ﬁnd complete program ﬁle note reading writing ﬁles us ﬁle capability discussed insubsection way run wordcount program reasonably la rge ﬁle look output illustrate method second list word output ordered frequency look group word frequency word gr oup alphabetical order method applied sort word frequency applied word alphabetical order rearranged word did change ordering word th e frequency alphabetical order group word th frequency algorithm used astablesorting algorithm sorting algorithm said stable satisﬁes following condition whe n algorithm used sort list according property item list s ort doe change relative order item value property item b come item list sort item val ue property used basis sorting item b come afte r item sorting selectionsort quicksort stable s orting algorithm insertion sort stable fast merge sort sorting algorit hm used stable fast hope programming example section vinced usefulness java collection framework writing generic class method far chapter learned using generic class method java collection framework s time l earn write new generic class method scratch generic programming prod uces highly general reusable s useful people write reusable softwar e library know generic programming enables write code u sed diﬀerent generic programming collection class programmer need write reusable software libra ries programmer know little fact just read t javadoc documentation java s standard generic class need know syntax introduced section cover generic programming java n section material presented suﬃcient cover common ca s simple generic class let s start example illustrates motivation generic programming subsection remarked easy use linkedlist implement queue queue introduced subsection ensure operation performed list queue operation enqueue dequeue andisempty create new class contains linked list private instanc e variable implement queue string example deﬁne class class queueofstrings private linkedlist string item new linkedlist public void enqueue string item item public string dequeue return public boolean isempty return ﬁne useful class write queu e class want queue integersordoublesorcolorsor type write diﬀerent class type code class lmost identical like lot redundant programming avoid redundancy ca n write generic queueclass used deﬁne queue type object syntax writing generic class straightforward replace speciﬁc type stringwith type parameter t add type parameter class class queue t private linkedlist t item new linkedlist public void enqueue t item item public t dequeue return public boolean isempty return chapter generic programming collection class note class type parameter ti used just like regular type s used declare return type dequeue type formal parameter itemin enqueue actual type parameter linkedlist t given class deﬁnition use parameterized type queue string andqueue integer andqueue color queueclass used exactly way generic clas s likelinkedlist andhashset note don t use t type param eter deﬁnition generic class type parameter like formal paramete r subroutine make like deﬁnition class deﬁnition replaced actual type class used declare variable s create object prefer use meaningful type parameter migh t deﬁne queueclass class queue itemtype private linkedlist itemtype item new linkedlist public void enqueue itemtype item item publicitemtype dequeue return public boolean isempty return changing t itemtype absolutely eﬀect meaning class deﬁnition way queueis used generic interface deﬁned similar way s e asy deﬁne generic class interface type parameter ne standard interface map k v typical example deﬁnition pair contains object possibly diﬀerent type simple version class deﬁn ed public class pair t s public t public s second public pair t s b constructor second b class used declare variable create object s pair string color colorname new pair red ed pair double double coordinate new pair note deﬁnition constructor class t pair doesnothave type parameter expected pair t s class pair pair t s deﬁnition class t s used name speciﬁc actual type note case type par ameters neveradded name method constructor name classe s interface record class generic example generic cord class version paircould deﬁned simply aschapter generic programming collection class public record pair t s b simple generic method addition generic class java generic method example method sort collection object type write generic method let s start method c ounting number time given string occurs array string return number time itemtocount occurs list item list tested equality using special case itemtocount null public static int countoccurrences string list string itemtocount int count itemtocount null string listitem list listitem null string listitem list listitem return count code work type string imagine writing identical code work type object writing generic method write single method deﬁnition work object type need replace speciﬁc type stringin deﬁnition method type parameter s change make compiler wil l think t actual type mark undec lared identiﬁer need way telling compiler t type parameter s t doe deﬁnition generic class class queue t generic method t go just return type method public static t int countoccurrences t list t itemtoc ount int count itemtocount null t listitem list listitem null t listitem list listitem return count chapter generic programming collection class t mark method generic speciﬁes th e type parameter used deﬁnition course t ype parameter doesn t t t look little strange position know s just designer jav decided given generic method deﬁnition apply object s type wordlist variable type string andwordis variable type string int ct countoccurrences wordlist word count number time wordoccurs wordlist ifpalette variable type color andcoloris variable type color int ct countoccurrences palette color count number time coloroccurs palette ifnumbers variable type integer int ct countoccurrences number count number time number example us autoboxing automatically converted value type integer note generic programming java applies object usecountoccurrences count number occurrence array type int generic method type parameter t countoccurrences note generic method used function ca ll countoccurrences wordlist word explicit mention type stituted type parameter compiler deduces ty pe type actual parameter method wordlist type string compiler tell countoccurrences wordlist word type replaces tisstring contrast use generic class queue string type parameter speciﬁed explicitly thecountoccurrences method operates array write similar met hod count occurrence object collection public static t int countoccurrences collection t col lection t itemtocount int count itemtocount null t item collection item null t item collection item return count sincecollection t generic type method general o perate anarraylist ofintegers atreesetofstrings alinkedlist ofbuttons chapter generic programming collection class wildcard type limitation sort generic class metho d looked far type parameter example usually named t type ok case mean thing withtare thing everytype thing object type tare thing everyobject technique covered far t example write generic method compare object compareto method method deﬁned object compareto method deﬁned thecomparable interface need way specifying generic c lass method applies object type comparable arbitrary object restriction free use compareto deﬁnition generic class method diﬀerent related syntax putting rest rictions type used generic programming bounded type parameter used formal type parameter generic class method deﬁnit ion bounded type parameter used place simple type parameter tin class genericclass t public static t void genericmethod second syntax wildcard type used type parameter declaration vari ables formal parameter method deﬁnitions wildcard type used place o f type parameter string declaration statement list string list formal parameter list void concat collection string c look wildcard type ﬁrst return topic bounded type later section let s start simple example wildcard type u seful suppose shape class deﬁnes method public void draw suppose shapehas subclass asrectandoval suppose want method draw shape collection shape try public static void drawall collection shape shape shape s shape method work ﬁne apply variable type collection shape raylist shape collection class type parameter shape suppose list rectsstored variable named rectangle typecollection rect sincerectsareshapes expect able drawall rectangle nately work collection rectsisnotconsidered collection shape variable rectangle assigned formal parameter shape solution replace type parameter shape declaration shapeswith wildcard type extends shape public static void drawall collection extends shape shape shape s shape wildcard type extends shape mean roughly type equal shape subclass shape formal parameter shape declared type collection extends shape possible drawall method actual parameter type collection rect sincerectis subclass shapeand match wildcard wecouldalsopassactualparametersto drawall oftypearraylist rect orset oval chapter generic programming collection class orlist oval pas variable type collection shape orarraylist shape class shapeitself match extends shape greatly increased usefulness method using wildcard type essential interested kno wingwhyjava doe allow collection rectsto used collection shape rectis considered ashape consider silly legal method add oval list shape static void addoval list shape shape oval oval oval suppose rectangle type list rect s illegal addoval rectangle oval rule list rectsis list shape dropped rule addoval rectangle oval legal add ovalto list rects bad ovalis subclass rect anovalisnotarect list rects able contain oval method addoval rectangle oval doe make sense shouldbe illegal example consider method addall interface collection t description method subsection say collection coll type collection t add object parameter collection type collection t general example ti class si subclass t type collection s make sense object type si automatically type tand legally added think moment ll m describi ng little awkwardly use wildcard type don t want requir collection object type t want allow collection subclass speciﬁc let s look similar addall method added generic queueclass deﬁned earlier section class queue t private linkedlist t item new linkedlist t public void enqueue t item item public t dequeue return public boolean isempty return public void addall collection extends t collection add item collection end queue t item collection enqueue item ti type parameter generic class deﬁnition com bining wildcard type generic class inside generic class deﬁnition t used speciﬁc unknown type wildcard type extends t mean type equal extends speciﬁc type create queue type queue shape t refers shape wildcard type extends t class deﬁnition mean extends shape thischapter generic programming collection class ensures addallmethod queue applied collection rectsandovals collection shape loop deﬁnition addalliterates collection using variable item type collection type collection s wheresis subclass oft sinceitemis type t nots problem problem long si subclass t value type scan assigned variable type restriction wildcard type make work nicely theaddallmethod add item collection queue supp ose wantedtodotheopposite addalltheitemsthatarecurrentl yinthequeuetoagivencollection instance method deﬁned public void addallto collection t collection work collection base type exactly th e restrictive need sort wildcard extends t won t work suppose try public void addallto collection extends t collection remove item currently queue add coll ection isempty t item dequeue remove item queue item add collection illegal problem t add itemof typetto collection able hold item belonging subclass s oft containment going wrong direction itemof typetis necessarily type example queue typequeue shape doesn t make sense add item queue collect ion type collection rect shapeis arect hand queue rect make sense add item queue collection shape collection collection s wheresis asuperclass ofrect express type relationship need new kind typ e wildcard super t wildcard mean roughly titself class superclass example collection super rect match type collection shape arraylist object andset rect need addallto method change complete generic queue class class queue t private linkedlist t item new linkedlist t public void enqueue t item item public t dequeue return public boolean isempty return public void addall collection extends t collection add item collection end queue t item collection enqueue item chapter generic programming collection class public void addallto collection super t collection remove item currently queue add coll ection isempty t item dequeue remove item queue item add wildcard type extends t tcan interface instead class note term extends implement used wildcard type ti interface example seen runnable aninterface deﬁnes method public void run method run object collection runnables executing run method runnable object public static runall collection extends runnable runn ables runnable runnable runnables wildcard type used onlyas type parameter parameterized type collection extends runnable place wildcard type likely occur fa r formal parameter list wildcard type used declaration type formal parameter used oth er place example used type speciﬁcation variable declaratio n statement ﬁnal remark wildcard type equivalent extends object match possible type example removeall method generic interface collection t declared public boolean removeall collection c just mean removeall method applied collection type object bounded type wildcard type don t solve problem allow generalize method deﬁnitions work collection object various t ypes just single type allow restrict type al lowed formal type parameter generic class method deﬁnition bounded type exist f purpose start small realistic example suppose th like create group gui component using generic class named controlgroup example parameterized type controlgroup button represent group button controlgroup slider represent group slider class include method called apply certain operation component n group example instance method form public void disableall true control c gro chapter generic programming collection class problem setdisable method deﬁned controlobject object arbitrary type wouldn t make sense allow ty pe controlgroup string orcontrolgroup integer sincestringsandintegers don t setdisable method need way restrict type parameter tincontrolgroup t controland subclass controlare allowed actual type parameter using bounded type t extends control instead plain t deﬁnition class public class controlgroup t extends control private arraylist t component storing compon ents group public void disableall control c component c null true public void enableall control c component c null false public void add t c add value c type t group c additional method constructor restriction extends control ontmakes illegal create parameterized type controlgroup string andcontrolgroup integer actual type parameter replaces t required controlitself subclass control restriction important compiler obje ct group type control operation deﬁned cin group general bounded type parameter t extends sometype mean roughly type t equal sometype subclass sometype upshot object typetis type sometype operation deﬁned object type sometype deﬁned object type type sometype doesn t class represents actual object type exa mple interface parameterized type bounded type wildcard type clearly related used diﬀerent way bounded type used formal type parameter deﬁnition generic method class interface wildcard type u sed declare type formal parameter method used formal type parameter diﬀerence way contrast wildcard type bounded type parameter use extends super bounded type parameter used declaring generic m ethods example alternative generic controlgroup class write generic static method disable collection control follows public static t extends control void disableall collect ion t comp control c comp chapter generic programming collection class c null true using t extends control formal type parameter mean method called collection base type control subclass control buttonorslider note don t really need generic type parameter thi s case write equivalent method using wildcard type public static void disableall collection extends contr ol comp control c comp c null true situation version us wildcard type preferred implementation simpler situati ons generic method bounded type parameter rewritten using wildcard type note generic type parameter give t unknown type wildcard type doe unknown type make possible refer unknown type body method deﬁned generic metho d deﬁnition us generic type us outside formal paramet er list method generic type parameter replaced wildcard ty pe let s look generic method bounded type paramet er essential subsection presented code segment inserting string sort ed list string way modiﬁed list sorted order code time form method deﬁnition comment static void sortedinsert list string sortedlist strin g newitem listiterator string iter string item item break newitem method work ﬁne list string nic e generic method applied list type object pro blem course code assumes compareto method deﬁned object list method work list object implement comparable interface t simply use wildcard type enforce restriction suppose try t o replacing list string withlist extends comparable static void sortedinsert list extends comparable sort edlist newitem listiterator iter chapter generic programming collection class weimmediatelyrunintoaproblem becausewehavenonamefor theunknowntyperepresented bythewildcard needanameforthattypebecausethetypeof newitem andofitershould type item list problem s olved write generic method bounded type parameter nam e unknown type write valid generic method static t extends comparable void sortedinsert list t s ortedlist t newitem listiterator t iter t item item break newitem technicality cover example comparable parameterized type used type parameter legal compiler warning using raw fact object list implement parameterized interface comparable t compared item type just mean instead using comparable type bound use comparable t static t extends comparable t void sortedinsert list t sortedlist introduction stream api new feature java introduced stream api represents new way expressing operation collection data major mot ivation new approach make possible java compiler parallelize c omputation break piece run simultaneously proces sors doing signiﬁcantly speed computation chapter discus parallel programming java using thread using thread directly diﬃcult s tream api oﬀers possibility parallelizing kind computation automatically safely surprising generated lot ground class interface deﬁne stream api deﬁn ed package interface package represents stream d ﬁnes basic operation stream astream simply sequence data value stream created fr om acollection array variety data source str eam api provides set operator operate stream api covered thi s chapter make extensive use generic programming parameterized typ e perform computation using stream api mean creating stream data fr om source applying sequence stream operation produce t result want stream used way reused cours e usually make stream data source want use anothe r computation expressingacomputationasasequenceofstreamoperations requiresanewkindofthinking take getting used let s start example suppose stringlist achapter generic programming collection class largearraylist string element null want know average length string list easily loop int lengthsum string str stringlist lengthsum lengthsum double average double lengthsum thing stream api use int lengthsum str double average double lengthsum version creates stream consisting element ofthelist thefactthatitisa parallelstream makesitpo ssibletoparallelizethecomputation method maptoint applies mapoperation stream string take string stream applies function th case function computes length string giving value type int result map operation produce new stream time stream integer consisting al l output function ﬁnal operation sum add number stream integer return result net result ve added length str ings list potential parallelization stream version migh t substantially faster loop version practice signiﬁcant overhead inv olved setting manipulating stream list fairly large w ould speedup fact small list stream version certainly l onger loop thestreamapiiscomplex andicanonlygiveabasicintroduc convey spirit generic functional interface stream operator parameter n lambda expression maptoint operator example take parameter representin g function stringtoint type parameter given parameterized func tional interface tointfunction t package interface represents general idea function take input type tand output int look deﬁnition interface like public interface tointfunction t public int applyasint t x stream t parameterized interface example stringlist type arraylist string stream created typestream string maptoint operator applied stream expects parameter type tointfunction string lambda expression str map astringto anint represents value correct type fortunately y ou don t need think use stream api ne ed know convert stream string stream integer using maptoint need provide function thatchapter generic programming collection class map string ints want read api docu mentation deal parameter type similar tointfunction package contains large number generic functional interface like tointfunction parameterized type generic th ey represent generic function set meaning e xample functional interface doubleunaryoperator represents general idea function doubletodouble interface essentially example fromsubsection function deﬁnes irrele vant interface used specify parameter type stream operator function java api certainly use specify parameter type subroutine discus variation one cover general term predicate refers function return type boolean functional interface predicate t deﬁnes function test t parameter type interface used example parameter type f method removeif p deﬁned collection example strlist type linkedlist string remove nullvalues list simply saying s s null parameter predicate string test input s isnull theremoveif method remove element list value predicate true predicate testing intvalues represented type predicate integer introduces overhead autoboxing intin wrapper type integer avoid overhead package functional interface intpredicate deﬁnes function test n wherenis type int similarly deﬁnes doublepredicate andlongpredicate typical stream api deal primitive type example deﬁnes intstream represent stream intsas eﬃcient alternative stream integer functional interface supplier t deﬁnes function parameter return type represents source value type companion interface consumer t deﬁnes voidfunctionaccept t parameter type specialized version primitive type including intsupplier intconsumer doublesupplier anddoubleconsumer example using supplier consumer function t r representsfunctionsfromvaluesoftype ttovaluesoftype interface deﬁnes function apply t wheretis type tand return type interface unaryoperator t essentially function t t represents function input output type note doubleunaryoperator specialized version ofunaryoperator double course intunaryoperator finally mention binaryoperator t specialization intbinaryoperator interface binaryoperator t deﬁnes function apply typetand return type binary operator include thing like addition number concatenation string making stream use stream api start creating stream t way make generic programming collection class basic type stream sequential stream andparallel stream diﬀerence operation parallel stream poten tially parallelized value sequential stream processed sequentially n single process aforloop clear sequential stream ex ist operation safely parallelized possible convert s tream type type ifstreamis astream represents stream value converted parallel stream paralle l similarly sequential stream value stream seen ci anycollection stream value value collection suspect parallel stream method creates sequential stream value work fo r collection including list set parallel stream calling array doe stream method create stream array using astaticmethod class arraysfrom package ifais array sequential stream containing value array parallel stream use work array object array primitive type int double andlong ifais type t wheretis object type stream type stream t ifais array int result intstream similarly fordoubleandlong supposesupplier type supplier t possible create stream value typetby calling stream fact created using supplier stream sequential eﬀectively inﬁnite continue produce value forever trying produce error similarly s create stream intvalues intsupplier s creates stream double adoublesupplier example creates inﬁnite stream random number fact similar stream random value variable rand type random seesubsection inﬁnite stream random number range onl y want ﬁnite number random number use count therandomclass method creating stream random doublesandints ﬁnd method create stream various standard class theintstream interface deﬁnes method creating stream containing given range integer value stream start end sequential stream containing value start note endis included additional method making stream introd uced newer version java example java scanner input method creates stream consisting string returned b y calling string str contains multiple line text java added creates stream consisting line string generic programming collection class operation stream operation stream produce stream referred intermediate operation resulting stream produce ﬁnal result terminal operation hand apply t o stream produce result stream general pattern working str eams create stream possibly apply sequence intermediate operation apply terminal operation produce desired ﬁnal result example begi nning section maptoint intermediate operation converted stream st ring stream ints sum terminal operation sum number th e stream ints basic intermediate operation ﬁlterandmap ﬁlter applies predicate stream creates new stream consisting valu e original stream predicate true example function isprime n test integer ni prime n isprime n create stream containing prime number range m saying goodway produce number map applies function value stream creates stream consisting t output value example suppose strlist anarraylist string like stream consisting string list nverted lower case s s null s wercase specialization maptoint maptodouble andmaptolong exist map stream intstreams doublestreams andlongstreams hereareafewmoreintermediateoperationsonastream s thatcanbeuseful n wherenis integer creates stream containing ﬁrst nvalues ifshas fewer thannvalues n creates stream value sby omitting duplicate value value diﬀerent creates stream containing value s sorted order sort item natural ordering provide comparator parameter sorted comparators discussed subsection note n especially useful truncating inﬁnite stream stream generated supplier actually stream need apply terminal operation end operator foreach c applies consumer c element stream result stream consumer produce value eﬀect c stream si simply value stream ex ample new way print string list string s s parallel stream consumer function guarante ed applied value stream order occur stream y ou want guarantee useforeachordered c instead foreach c want print string say length want sorted order apply ﬁlters chapter generic programming collection class s s s terminal operation output single value example return number value stream andintstreams longstreams anddoublestreams terminal operation sum compute sum value stream suppose f example like test random number genus tor generating random number counting long half math x x note count return longrather int note ve used method encemath instead equivalent lambda expression seesubsection having trouble reading thing like mind pattern create stream apply intermediate operat ion apply terminal operation inﬁnite stream random number generated cal operation limit truncates stream value fact value generated filter operation let number xsuch x true ﬁnally count return number item resulting stream astream t terminal operation min c andmax c return smallest largest value stream parameter c type comparator t used comparing value return type min andmax little peculiar return type optional t represents value type tthat exist problem stream doe largest s mallest value minimum maximum stream exist optional aget method return value optional throw exception optional example wordsis acollection string longest string collection string longest throw exception collection method ispresent anoptional used test value exists similarly intstream longstream anddoublestream provide terminal operation min max return value type optionalint optionallong andoptionaldouble class average method return optionaldouble terminal operator allmatch p andanymatch p predicate parameter compute boolean value value allmatch p true predicate p true value stream applied value anymatch p true value stream pi true note anymatch stop processing return trueas output ﬁnds value satisﬁes predicate andallmatch stop processing ﬁnds value doe match predicate terminal operation compute single value e xpressed term general operation reduce reduce operation combine value stream using binaryoperator example sum computed reduce operation binary operation addition binary operator associ ative mean order inchapter generic programming collection class operator applied doesn t matter bui terminal operator compute product value stream direct ly withreduce suppose example ai array double want product element ina double multiply x x x y x y binary operator map pair number x y product x ﬁrst parameter reduce identity binary operation val ue x x anyx maximum stream doublecould computed reduce using reduce infinity math major terminal operation collect c general operation collect value stream data structure singl e summary result type parameter ci called collector collector ordinar ily given thestaticfunctions collector class complicated couple example function return collector used collect value stream list example suppose thatais array string want list string athat begin substring fred list string freds s fred s actually pretty easy useful collector s group item stream according criterion collector f take parameter f type speciﬁed functional interface function t s representing function value type tto value type used collect f operates stream type stream t separate item stream group based value function fwhen applied item item x given group value f x result map s list t map key function value f x associated value key list containing al l item stream fassigns function value example clarify thing suppose array pe ople person ﬁrst suppose want p eople group group consists people given person represented object type personthat contains instance variable named ﬁrstname andlastname let s say population variable type person population stream person group people stream following code map string list person family family population person ame thelambdaexpression person deﬁnesthegroupingfunction function take persona input output stringgiving person s resulting map family key name personsin array value associated listcontaining personswith print group follows chapter generic programming collection class string lastname people lastname person lastname explanation bit result sh ould reasonably easy understand experiment example using stream given far practical case asimpleforloopwouldhavebeenjustaseasytowritea ndprobablymoreeﬃcient s especially true ve used sequential stream example eﬃciently parallelized notable exception redu ce operation important precisely parallelizes let s look ex ample stream api applied long computation real speedup pa rallelization problem compute riemann sum calculus y ou don t need understand mean traditional met hod computing desired sum use basic loop compute riemann sum param f function summed param left endpoint interval f sum med param b right endpoint param n number subdivision interval return value computed riemann sum private static double riemannsumwithforloop doubleunaryoperator f double double b int n double sum double dx b n int n sum sum dx return sum dx type ﬁrst parameter functional interface method example reimannsumwithforloop x x apply stream api problem imitate forloop start generating integer na stream using n give sequential stream enable parallelism conver t parallel stream applying operation compute value want sum apply map operation map stream intsto stream double mapping integer dx finally apply sum terminal operation version riemann sum method us parallel strea m chapter generic programming collection class private static double riemannsumwithparallelstream doubleunaryoperator f double double b int n double dx b n double sum n dx return sum dx wrote version riemannsumwithsequentialstream leaf operator version sample progr main routine program call meth od using various value time long method take compute sum port result expected version us sequ ential stream uniformly slower version sequential stream versi doe essentially thing loop version extra overhead involved creating manipulating stream situation parallel stream interes ting result depend machine program executed old machine w ith processor loop version faster parallel version faster item machine parallel version f aster item note limit faster parallel vers ion machine k processor parallel version k time faster sequential version probably reality somewhat slower e ncourage try sample program computer conceivable goal stream api machine java run parallel code graphic card mak ing use processor contains happens large s exercise chapter phonedirectory class subsection us treemap store solution directory entry instead array doing sugg ested subsection write short program test class mathematics operation deﬁned set unionof set b solution set contains element wit h element intersection b set contains element diﬀerence b set contains element element suppose aandbare variable type setin java mathematical operation onaandbcan computed using method setinterface particular b computes unionofaandb b computes intersection ofaandb b computes diﬀerence ofaandb operation change content set mathematical operation create new set changing diﬀerence relevant exercise exercise write program used set calculator negat iveintegersarenotallowed input output set integer written li st integer separated comma optionally space enclosed square brack ets example thecharacters intersection diﬀerence operation user program type n line input containing set separated operator program perfo rm operation print resulting set example input output represent set integer use set type treeset integer read user s input create treesets use appropriate treesetmethod perform requested operation set program ble read process number line input line contains syntax error program crash report error line o f input note print aset ofintegers just say ve chosen syntax set used outputtin g set fact java hashmap class mean java programmer write solution implementation hash table urse programmer computer science student exercise write hash table key value type string exercise generic programming try t o write generic class write implementation hash table scratch deﬁne following method key key value remove key containskey key andsize remember object obj method used computing hash code object don t hav e deﬁne hashexercises function use anyof java s generic type create linked li t using node covered subsection notrequired increase size table write short program test solution function parameter java th e parameterized solution functional interface predicate t package represent predicate deﬁnition predicate t public interface predicate t public boolean test t obj idea object implement interface kno w test object typetin way java method use predicate s removeif p method deﬁned collection seesubsection exercise asks write similar method yoursel deﬁne class contains following generic static method working predi cate object class predicate analogy standard class collection provides variousstaticmethods working collection notuse stream api exercise public static t void remove collection t coll predica te t pred remove object obj coll o bj true doe thing pred public static t void retain collection t coll predica te t pred remove object obj coll obj false retain object predicate true public static t list t collect collection t coll pre dicate t pred return list contains object obj collection coll obj true public static t int arraylist t list predicate t pred return index item list predicate true item return short exercise using stream api suppose class scoreis deﬁned solution data student score test private record scoreinfo string lastname string firstname int score exercise deﬁned record class convenience section suppose scoredata array scoreinfos containing information score student test use stream api following task number student using average score student number student got score greater o r equal thecollect stream operation create list string contains name student score name n form ﬁrst followed name listthat generated previous task student name score ordered nam e student name score ordered score code main routine include scoreinfo nested class useanyfor loop control structure using t stream api testing code use array private static scoreinfo scoredata new scoreinfo new scoreinfo smith john new scoreinfo doe mary new scoreinfo page alice new scoreinfo cooper jill new scoreinfo flintstone fred new scoreinfo rubble barney new scoreinfo smith judy new scoreinfo dean james new scoreinfo rus joe new scoreinfo wolfe new scoreinfo dart mary new scoreinfo rogers chris new scoreinfo toole pat new scoreinfo khan omar new scoreinfo smith ann example subsection concern problem making index book solution related problem making concordance document concordance list word occurs document word give th e line number line document word occurs subroutin e creating index presented subsection used create concordance real diﬀerence integer concordance line number page number write program create concordance document s hould read input ﬁle concordance data written output ﬁle use indexing subroutine subsection modiﬁed write data textio instead need make subroutine static input output ﬁles selected user progra m run sample program fromsubsection used model use ﬁles program useful subroutine read e word read ﬁle want word encount er add concordance current line number keeping tra ck line number trickiest part problem input ﬁle end line ﬁle marked newline character time encounter character add line number ignores end line need ﬁnd count character program ca nnot process input ﬁle exactly way doe n eed detect end ﬁle function used look ahead character input return value character ﬁle read common don t include word c oncordance include word length sample program fromsubsection carry solution mands form let variable expression print expre ssion program handle expression contain variable number opera tor parenthesis extend program handle standard mathemati cal function sin co tan ab sqrt andlog example program able evaluate expre sion sin sqrt y assuming variable xandyhave given value note function followe d expression enclosed parenthesis original program symbol table hold value variable deﬁned program add type symbo l table represent standard function use following nested enumer ated type class purpose private enum function sin co tan ab sqrt log object class represents standard funct ion private static class standardfunction tell function function functioncode constructor creates object represent standard function param code function represented standardfunction function code functioncode code find value function specified parameter value x double evaluate double x us switch expression syntax exercise return switch functioncode case sin x case co x case tan x case ab x case sqrt x default x end class standardfunction add symbol symbol table represent function t key function value object type standardfunction represents function example sin new standardfunction function sin symbol table map type hashmap string double s legal use standardfunction value map change type map map hold diﬀerent type ob jects easy way make possible create map type hashmap string object better way create general type represent object va lues symbol table deﬁne subclass class represent va riables represent standard function exercise t easy way parser encounter word able t o tell s variable standard function look word symbo l table associated object type double word variable type standardfunction word function remember test ty pe object using instanceof operator example obj instanceof double quiz chapter answer meant generic programming alternative t make object type linkedlist int instead iteratorand iterators necessary generic programming integer variable type collection integer write code segment us iterator compute sum integer val ues collection write second code segment doe thing using h loop list set andmapdeﬁneabstract data type explain mean fundamental property distinguishes setsfrom type collection essential diﬀerence functionality treemap ahashmap meant hash code following dateclass implement interface comparable date ordering object type dateshould natural chronological ordering class date int month month number range int day day number range int year year number date int m int d int y month m day d year y rewrite resulting dateclass record class section syllabus variable type treemap date string wheredateis class preceding exercise write code segment w rite value string key month december generic class stack t used represent stack object type class include method push pop andisempty inside class use anarraylist hold item stack usingagenerictypeparameter t thatreplaceseveryoccurrence anarraylist t speciﬁed item speciﬁed replacement item list item parameter method item type account fact item replaced null item use equal comparison wordsis array string explain following code quiz long n word w w null w stream api print integer s tart apply filteroperation countif c t withtypeparameter t wheretheﬁrstparameter c type collection t second parameter p type predicate t method return number item collection fo r predicate true version using loop using str eam stream file networking computer program useful interact rest world way interaction referred pronounced book concentrated just type inte raction interaction user graphical user interface command interface user possible source information possibl e destination information encountered type si ncetextiocan read data ﬁles write data ﬁles java fra mework provides power ﬂexibility doe textio cover kind addition ﬁles important aside ﬁles support communication network connection java common type nvolving ﬁles network based stream object support command simila r used fact standard output standard input example stream note stream notstreams sense stream api covered section working ﬁles network requires familiarity ex ceptions covered section subroutine used throw checked exce ptions require mandatory exception handling generally mean callin g subroutine try catch statement deal exception occurs eﬀe ctive network communication requires use thread covered chapter look basic networking api chapter return topi c thread networking section stream reader writer ability interact rest world program usel es interaction program rest world refe rred historically hardest part programming langu age design coming good facility doing input output computer connected diﬀerent type input output device programming language deal type device special case complexity overwhelmi ng major achievement history programming come good ab traction representing device java main abstraction called stream abstraction stream file networking ﬁles channel exist section look stream stream represents source input destination t o output sent character byte stream dealing mind broad category data data text m data represented binary form way data represe nted inside computer string zero one data fo rm character read number reading sequence character interpreting t hem number number represented compu ter ﬁnd unrecognizable deal broad category data representation java broad category stream byte stream data character stream readable data predeﬁned class rep resent stream type object output data byte stream belongs subclass abstract class outputstream object readdata byte stream belong subclass abstract class inputstream write number outputstream won t able read resulting data data read b ack computer aninputstream writing reading data eﬃcient sin ce translation involved bit used represent th e data inside computer simply copied stream reading writing character data main class abstract classesreaderandwriter character stream class subclass number written writerstream computer translate readable sequence character represents numbe reading number reader stream numeric variable involves translation character sequence appropriate bit string data working wit h consists character ﬁrst place word text editor s ome translation character stored computer unicode value people w ho use english alphabet character data generally stored ﬁles ascii code whi ch us bit character thereaderandwriterclasses care translation handle alphabet character written langua ge chinese byte stream useful direct mmunication useful storing data ﬁles especially whe n large amount data need stored eﬃciently large database bina ry data fragilein sense meaning faced long serie s zero one know information meant represent formation encoded able interpret course true extent character data character like kind data code d binary number stored processed computer binary encoding charac ter data standardized understood data expressed character form meaningful human reader current trend increased use character data represented way make meaning possible ll look way insection note original version java did ch aracter stream bytestreamsarelargelyint erchangeablewithcharacterstreams fact standard input output stream byte streamschapter stream file networking character stream prefer reader andwritersrather inputstreams andoutputstreams working character data working standard ascii character set edeﬁnedinthepackage supporting class importthe class package want use program mean importing individual class putting directive import beginning source ﬁle stream used working ﬁles doing communication netw ork used communication concurrently running thread s stream class reading writing data stored computer s memory note java api provides additional support th e package subpackages buttheyarenotcoveredinthistextbook inge neral givesprogrammers eﬃcient access advanced technique beauty stream abstraction easy wr ite data ﬁle send data network print information screen basic class reader writer inputstream andoutputstream provide primitive operation example inputstream class declares abstract instance method public int read throw ioexception reading byte data number range f rom input stream end input stream encountered read method return value instead error occurs input attempt ex ception type ioexception thrown ioexception checked exception mean t use read method inside trystatement subroutine declared throw ioexception clause checked exception mandatory exception hand ling covered subsection theinputstream classalsodeﬁnesmethodsforreadingmultiplebytesofdata inonestepinto array byte lot eﬃcient reading individual byte inputstream provides convenient method reading type da ta intor double stream problem rarely u se object type inputstream instead ll use subclass inputstream add convenient input methodsto inputstream s ratherprimitivecapabilities similarly outputstream classdeﬁnes primitive output method writing byte data ou tput stream method deﬁned public void write int b throw ioexception parameter type intrather byte parameter value type bytebefore written eﬀectively discard ei ght low order bit practice use output operation deﬁned subclass ofoutputstream thereaderandwriterclasses provide analogous readandwritemethods byte stream class parameter write c method writerand return value read method readerare type int class operation read write character byt e return value read end input stream reached th e return value bechapter stream file networking type charto obtain character read practice o rdinarily use higher level operation provided readerandwriter discussed printwriter neat thing java s package let add capability stream wrapping stream object provides tho e capability wrapper object stream read write using fancier operation available basic stream example printwriter subclass writerthat provides convenient method outputting character representation ll java s basic data type object belonging writerclass subclass like use printwriter method output data writer wrap writerin printwriter object constructing new printwriter object using writeras input constructor example charsink type writer say printwriter printablecharsink new printwriter charsin k fact parameter constructor outputstream afile constructor build printwriter write output destination file covered section output data printwriter printablecharsink using output method printwriter data exactly place data written directly charsink ve just provided better interface output destination example allows use printwriter method send data ﬁle network connection record outis variable type printwriter following method deﬁned x print value x represented form string character output stream xcan expression type including primitive ty pe object type object converted string form using itstostring method nullvalue represented string null output output stream x output value x followed equivalent x followed formatstring doe formatted output output stream ﬁrst parameter string speciﬁ e format output number additional parameter type type parameter match formatting directive form string formatted output standard output stream introduced subsection functionality ensures character written abo ve method actually sent output destination case n otably writing ﬁle network necessary method force output actually appear destination note method throw ioexception instead printwriter class includes method public boolean checkerror chapter stream file networking return trueif error encountered writing stream printwriter class catch ioexceptions internally set value internal error ﬂag occurs checkerror method used check error ﬂag allows useprintwriter method worrying catching exception hand write fully robust program checkerror test possible error use printwriter data stream use printwriter output data stream data converted sequ ence character represents data fo rm suppose want output data form package includes stream class dataoutputstream used writing data value stream intern al format dataoutputstream bear relationship outputstream printwriter bear writer outputstream method outputting byte dataoutputstream method writedouble double x outputting value type double writeint int x outputting value type int furthermore wrap outputstream adataoutputstream use higher level output method example bytesink type outputstream say dataoutputstream datasink new dataoutputstream bytesi nk wrapbytesink adataoutputstream input data created w riting dataoutputstream provides class datainputstream wrap inputstream putstream object provide ability read data various t ypes stream method datainputstream reading binary data called readdouble readint data written dataoutputstream guaranteed format read datainputstream true data stream created type computer read type computer cro compatibility binary data major aspect java s platform independenc circumstance need read character data aninputstream write character data outputstream problem character like data ultimately represented binary number cha racter data convenient use readerandwriterinstead inputstream andoutputstream make possible wrap byte stream character stream bytesource variable type inputstream bytesink type outputstream statement reader charsource new inputstreamreader bytesource writer charsink new outputstreamwriter bytesink create character stream used read character d ata write character data byte stream particular standard input s typeinputstream historical reason wrapped readerto make easier read character data standard input reader charin new inputstreamreader application input output stream ar e associated network connectionarebytestreamsratherthancharacterstreams butthebytestreamscanbewrapped character stream make easy send receive chara cter data network encounter network section stream file networking various way character encoded binary data particular encoding known charset orcharacter set charsets standardized name character encod ed unicode value character set used internally java utf way encoding unicode character using bit common ascii character long er code character known encoding th includes ascii character certain accented character used european language readersand writersuse default charset computer run ning unless specify diﬀerent example constructo r writer charsink new outputstreamwriter bytesink certainly existence variety charset encoding h text processing esse ntial people use character set ordinarily don t worry th s good idea aware diﬀerent charsets exist case run textual dat encoded way reading text form character view surprising java doe notprovide standard character input class read chara cter data manner reasonably symmetrical character o utput capability printwriter thescanner class introduced brieﬂy subsection covered come pretty close scanneris subclass stream class mean doesn t ﬁt neatly stream framework basic case easily handled standard class buﬀeredreader method public string readline throw ioexception read line text input source end stream reached return value null line text read marker read fr om input stream string returned diﬀe rent input stream use diﬀerent butthe readline methodcandealwithallthecommoncases traditionally unix computer including linux macos use line feed character mark end line classic macintosh used carriage retu rn character window us sequence general modern computer deal correctly possibility buﬀeredreader deﬁnes instance method line return value type stream string used stream api section convenient way process line buﬀeredreader reader use foreachordered operator stream line action whereactionis consumer string usually given lambda expression processing common readercan wrapped buﬀeredreader make easy read line text readeris type reader buﬀeredreader wrapper created readerwith bufferedreader new bufferedreader reader combined inputstreamreader class mentioned read line text inputstream example apply chapter stream file networking bufferedreader bufferedreader reading stan dard input new bufferedreader new inputstreamreader try string line line null processonelineofinput line line catch ioexception e code segment read process line standard encountered possible intera ctive input example somecomputers typinga thetry catch statementisnecessarybecausethe readline methodcanthrowanexceptionof typeioexception requires mandatory exception handling alternat ive totry catch declare method contains code throw ioexception remember buﬀeredreader inputstreamreader andioexception imported note main purpose buﬀeredreader simply make easier read line text device work eﬃciently data read o r written large chunk instead individual byte character buﬀeredreader read chunk data store internal memory internal memory known buﬀer read buﬀeredreader data buﬀer possible input source data buﬀer emptied buﬀeredwriter class buﬀered stream class byte stream previously book used class textiofor input user ﬁles advantage textiois make fairly easy read data value primitive type disadvantage include fac t thattextiocan read input source time doe follow p attern java s class like style input used textio look implement similar style input riented way textreader used previous version textbook used version scanner class introduction java notable lack support basic input reliance fairly advanced technique t support doe oﬀer opinion scannerclass introduced make easier read basic data type character input source doe opinion solve problem completely big improvement scannerclass package introduced subsection seen use textbook example use scannerinstead textio input routine deﬁned instance method scannerclass use class need create scanner object constructor speciﬁes source characte r thescanner read scanner act wrapper input source source areader aninputstream astring afile possibility stringis used aschapter stream file networking input source scanner simply read character string beginning end way process sequence character stream example use scannerto read standard input saying scanner standardinputscanner new scanner ifcharsource type reader create scanner reading charsource scanner scanner new scanner charsource processing input scanner usually work token token meaningful string character purpose hand b e broken smaller meaningful piece token example individua l word string character represents value type double case scanner token separated default delimiters whitespace ch aracters space tab marker normal processing whitespace charact er serve simply separate token discarded scanner scanner instance meth od reading token various type suppose scanner object type scanner read token input source return string read token input source try convert value type int double method reading value primitive type read entire line input source end line return line value type string marker read return value note method notbased token entire line read returned including whitespace character n line return value string method generate exception attempt s read past end input exception type nosuchelementexception thrown method throw exception type inputmismatchexception token input doe represent value requested type exception generated require mandatory exception handling thescanner class nice capability query scanner determine token available token given type scanner type scanner return boolean value true token input source boolean value true token input sou rce token represents value requested type return boolean value true line input source insistence deﬁning token term limiter limit usability scanner extent easy use suitab le application input class buﬀeredreader textio trouble deciding use general recommend usin g ascannerunless somechapter stream file networking particular reason preferring input buﬀeredreader used lightweight alternative want read entire line o f text input source possible change delimiter used scanner syntax us called regular unfortunately t syntax regular expression complicated covered book ho wever example suppose want token word consist entirely letter o f english alphabet case delimiters include character want scanner scnr use kind delimiter say token returned consist entirely letter string regular expression regular expression important tool working programmer chance learn serialized object class printwriter scanner datainputstream anddataoutputstream allow easily input output java s primitive data type happens want read write object traditionally come way enc oding object sequence data value belonging prim itive type output byte character called serializing object input read serialized data reconstitute copy t original object complex object major chore ja va lot work using class objectinputstream andobjectoutputstream subclass inputstream andoutputstream used reading writing serialized object objectinputstream andobjectoutputstream arewrapperclassesthatcanbewrappedaround arbitrary inputstreams andoutputstreams thismakesitpossibletodoobjectinputandoutput byte stream method object readobject inobjectinputstream andwriteobject object obj inobjectoutputstream method throw ioexceptions note readobject return value type object generally actual type object read objectoutputstream method writeint writedouble outputting primitive type value stream objectinputstream corresponding method reading primitive type value primitive type value interspersed object data ﬁle primitive type represented internal binary format object stream byte stream object represente d binary form good eﬃciency doe suﬀer fra gility seen binary data suﬀer additional problem binary format java object speciﬁc java data object stream easi ly available program written programming language reason object s treams appropriate storage object transmitting obje ct network connection java program storage mmunication program approach object serialization usu ally better section approach subsection example us object stream network communication objectinputstream andobjectoutputstream work object implement interface named serializable furthermore instance variable object mu st serializable little work involved m aking object serializable serializable interface doe declare method exists ma rker compiler chapter stream file networking tell object meant writable readable need add word implement serializable class deﬁnitions java s standard class declared serializable warning using objectoutputstreams stream optimized avoid writing object object enco untered second time reference ﬁrst occurrence written unfortunatel y object modiﬁed meantime new data written mo diﬁed value written correctly stream objectoutputstreams meant mainly use immutable object t changed cre ated stringsare example need write mutable object objectoutputstream possible write object ensure correct version object written calling s tream sreset method writing object stream file data program computer s main memory survive long power permanent storage computer use ﬁles collection data stored hard disk usb memory stick oth er type storage device file organized directory called folder directory hold directory ﬁles directory ﬁles name used identify program read data existing ﬁles create ne w ﬁles write data ﬁles java input output using st ream character data read ﬁle using object belongin g class filereader isasubclassof reader similarly rmatthrough object type filewriter subclass writer ﬁles store data machine format appropriate class fileinputstream andfileoutputstream section discus ﬁle using filereader andfilewriter class fileinputstream andfileoutputstream used exactly parallel fashion class deﬁned package reading writing file thefilereader class constructor take ﬁle param eter creates input stream used reading ﬁle thi s constructor throw exception type filenotfoundexception ﬁle doesn t exist example suppose ﬁle named want program read data ﬁle cou ld following create input stream ﬁle filereader data declare variable try statement variable local try block won t able use later program try data new filereader create stream catch filenotfoundexception e handle error end prog ram chapter stream file networking thefilenotfoundexception class subclass ioexception acceptable catchioexceptions try catch statement generally just error occur operation caught acatchclause handle ioexception successfully created filereader start reading data sincefilereaders primitive input method inherited ba icreaderclass probably want wrap filereader ascanner abuﬀeredreader wrapper class previous section discus ion ofbuﬀeredreader andscanner create buﬀeredreader reading ﬁle named say bufferedreader data try data new bufferedreader new filereader catch filenotfoundexception e handle exception wrapping readerin abuﬀeredreader let easily read line text ﬁle buﬀering make input eﬃcient use scanner read ﬁle construct scanner simila r way common construct directly object type file covered scanner try new scanner new file catch filenotfoundexception e handle exception working output ﬁles diﬃcult sim ply create object belongingtotheclass filewriter youwillprobablywanttowrapthisoutputstreaminanobjec t typeprintwriter example suppose want write data ﬁle named constructor filewriter throw exception type ioexception use atry catch statement printwriter result try result new printwriter new filewriter catch ioexception e handle exception aswith scanner itismorecommontouseaconstructorthattakesa fileasparameter automatically wrap file filewriter creating printwriter printwriter result try result new printwriter new file chapter stream file networking catch ioexception e handle exception use just stringas parameter constructor interpret ed ﬁle remember stringin thescannerconstructor doe ﬁle instead scanner read character stri ng ﬁle named exists new ﬁle created ﬁle exists t hen current content ﬁle erased replaced wi th data program writes ﬁle warning av oid overwriting ﬁle exists check ﬁle al ready exists trying create stream discussed later section ioexception occur printwriter constructor example trying create ﬁle disk protected meaning modiﬁed ﬁnished printwriter flush method make sure output sent destina tion forget ﬁnd data h ave written ﬁle output stream actually shown ﬁle ﬁnished using ﬁle s good idea closethe ﬁle tell operating ﬁnished using close ﬁle cal ling theclose method associated printwriter buﬀeredreader orscanner ﬁle closed longer possible read data write data unles s open new stream note stream class including buﬀeredreader theclose method throw ioexception handled printwriter andscanner override method throw exception f orget close ﬁle ﬁle ordinarily closed automatically program te rminates ﬁle object garbage collected better depend n ote calling close automatically flush ﬁle closed seen fail recen tly complete example program read number s ﬁle named write number reverse order nother ﬁle named assumed contains real number input ﬁle read using ascanner used check problem way application particularly useful program d emonstrates basic working ﬁles import import import read number file named writes file named reverse order input file ntain real number public class reversefilewithscanner public static void main string args scanner data reading data printwriter result character output stream writing stream file networking arraylist double number arraylist holding data number new arraylist double try create input stream data new scanner new file catch filenotfoundexception e t file return end program returning main try create output stream result new printwriter catch filenotfoundexception e t open file error e close input file return end read double inputnumber inputnumber output number reverse order int end main end class reversefilewithscanner note program simply stop reading data ﬁle encounter number input considered t o error mentioned end subsection pattern creating opening resource using closing resource common nd pattern supported syntax try catch statement file resource sense scanner printwriter java s stream thing deﬁne close method good form close ﬁnished using s ince implement theautocloseable interface resource sense required try catch try catch statement used automatically close resource thetrystatement end eliminates need close hand finally clause assumes open resource use try catch example sample program version example looking case try catch statement using resource pattern used read data ﬁle write dat ﬁle originalchapter stream file networking program opened ﬁle trystatement used trystatement resource pattern requires try requires reorganization code make harder determine exact caus e exception try catch statement sample program open input ﬁle r eads close automatically try scanner data new scanner new file read number adding arraylist read double inputnumber inputnumber catch filenotfoundexception e caused file doe exist t read t open input file error e return return main error resource data constructed ﬁrst line syntax requires decla ration resource initial value parenthesis wor d s possible resource declaration separated semicolon closed order opposite order declared file directory subject ﬁle name actually complicated ve let far fully specify ﬁle ﬁle th e directory ﬁle located simple ﬁle like result dat taken refer ﬁle directory called current directory known default directory working directory current directory perman ent thing changed user program file current directory mu st referred path includes ﬁle information abou t directory complicate matter type pa th name absolute path namesandrelative path name absolute path uniquely identiﬁes ﬁle ﬁles available computer contains info rmation directory ﬁle ﬁle s relative path tell computer locate ﬁle starting current directory unfortunately syntax ﬁle name path name varie s somewhat type computer example computer ﬁle named c urrent directory absolute path unix operating including linux macos refers ﬁle named directory named example turn directory na med java absolute path window computer relative path unix example directory contained current director y ﬁlechapter stream file networking directory corresponding relative path window relative path unix mean directory contains current directory director y named example inside directory look ﬁle named gener al mean corresponding path window working command line s safe say s tick using simple ﬁle name ﬁles stored directory program use later section ll look convenie nt way letting user specify ﬁle gui program allows avoid issue pa th name altogether possible java program ﬁnd absolute path n ames important directory current directory user s home dire ctory name directory aresystem property read using function call return absolute path current directory string shome directory string avoid problem caused diﬀerences path nam e platform java class object belonging class doe actually represe nt ﬁle precisely speaking object type filerepresents ﬁle namerather ﬁle ﬁle refers exist dire ctories treated way ﬁles fileobject represent directory just easily repr esent ﬁle afileobject constructor new file string creates fileobject path simple relative path abso lute path example new file creates fileobject refers ﬁle named current directory constructor new file file string parameter ﬁrst fileobject refers directory second o f ﬁle directory relative path directory ﬁle fileobjects contain useful instance method assuming thatfileis variable typefile method available function return trueif ﬁle named fileobject exists use method want void overwriting content existing ﬁle create new output strea theboolean function return true ﬁle exists program permission read ﬁle true program permission write ﬁle function return trueif thefileobject refers directory return falseif refers regular ﬁle ﬁle given exists ifitexists returnsa boolean valuetoindicatewhether ﬁle successfully deleted fileobject refers directory function return array typestring containing name ﬁles directory otherwis e return null method similar return array file instead array stream file networking example program list name ﬁles directory speciﬁed user example used scannerto read user s input import import program list file directory specified user user asked type directory entered user directory message printed program end public class directorylist public static void main string args string directoryname directory entered user file directory file object referring directory string file array file name directory scanner scanner reading line input user scanner new scanner scanner read sta ndard input enter directory directoryname directory new file directoryname false false directory file directory file file directory directory int file end main end class directorylist class used reading data ﬁles wr iting data ﬁles constructor fileobject parameter example fileis variable type file want read character data ﬁle cre ate afilereader saying new filereader file file dialog box program want user able select ﬁle going used input output program let user type ﬁle n ame just assume user understands work ﬁles dir ectories graphical user interface user expects able select ﬁles usi ng aﬁle dialog box window program open want user select ﬁle input stream file networking javafx includes technique usin g ﬁle dialog box form class called filechooser package ﬁle dialog box show user list ﬁles y directory make easy user specify ﬁle directory t user navigate easily directory constructor filechooser parameter constructing afilechooser object doe make dialog box appear screen h ave method object showing dia log box instance method filechooser object set property dialog box example set ﬁle shown user default initi al value ﬁle ﬁle dialog box owner window java fx mean object typestage dialog box dismissed canc eling dialog selecting interaction owner window blo cked owner speciﬁed parameter method open dialog owner c benull mean window blocked type ﬁle dialog open ﬁle dialog allows user specify existing ﬁle opened reading data program nd asave ﬁle dialog let user specify ﬁle exist opened output filechooser instance method showing kind dialog b ox screen suppose filedialog variable type filechooser following method available window show open ﬁle dialog box screen parameter speciﬁes owner dialog box meth od doe return user selected ﬁle canceled dialog sel ecting ﬁle method return value type file return value nullif user canceled dialog box return fileobject representing selected ﬁle window show save ﬁle dialog box owner equal towindow parameter return value showopendialog user selects ﬁle exists au tomatically ask user want replace ﬁle safely ahead save speciﬁed ﬁle title speciﬁes title appear title bar dialog box parameter string method called bef ore showing dialog box input box ﬁle parameter string parameter null input box default met hod called showing dialog box directory set directory shown dialog box ﬁrst appears parameter type file parameter null initial directory default possibly directory program run parameter null fileobject represents directory regular ﬁle error oc cur method called showing dialog box typical program save open command working ﬁles user selects ﬁle saving opening good idea t o store selected fileobject instance variable later ﬁle used initia lize directory possibly ﬁle time ﬁle dialog box created editfile instance variable thatchapter stream file networking record selected ﬁle astringgiving ﬁle afilerepresenting directory contains ﬁle leaf open question error occurs reading writing selected ﬁle error caught user sho uld informed error occurred gui program natural way nother dialog box show error message user ok button dismiss ing dialog dialog box covered chapter common simple dialog box shown using object type alert package seesubsection alert error message user alert erroralert new alert mess age putting look typical subroutin e save data ﬁle ﬁle selected using filechooser example data written text form using printwriter private void dosave filechooser filedialog new filechooser editfile null file edited set file set directory user s home directory new file file directory dialog file currently edited le select file saved file selectedfile mainwind ow selectedfile null return user did select file note user selected file file exists confirmed ok erase exiting file printwriter try filewriter stream new filewriter selectedfile new printwriter stream catch exception e likely user doesn t permission write fil alert erroralert new alert sorry error occurred trying open file output return try chapter stream file networking write text file using printwriter needed s probably se need check error printw riter throw new ioexception error check failed editfile selectedfile catch exception e alert erroralert new alert sorry error occurred trying write data file general outline easily adapted ﬁles b y using diﬀerent type output stream reading data ﬁle similar won t corres pondingdoopen method ﬁnd working subroutine saving opening text ﬁles sample program let user edit small text ﬁles ﬁle subroutine program adapted gui program work ﬁles programming file section look programming example work ﬁles using technique introduced section andsection copying file ﬁrst example look simple program th make copy ﬁle copying ﬁle pretty common operation ope rating command doing instructive loo k java program doe thing ﬁle operation similar copying ﬁle data input ﬁle processed way written o utput ﬁle operation program general form subsection included program copying text ﬁles using textio example section work ﬁle program able copy ﬁle t assu data ﬁle form use byte stream inputstream andoutputstream operate ﬁle program simply copy data f rom inputstream outputstream byte time sourceis variable refers inputstream function used read byte function return value byte input ﬁle read sim ilarly copyrefers outputstream b writes byte output ﬁle heart program simple whileloop usual operation throw exception t try catch statement true int data data chapter stream file networking break data command operating unix us command line argument specify name ﬁles example user s ay copy copy existing ﬁle ﬁle named line argument used java program command line argument stored array string args parameter main routine program retrieve argument array subsection example program named copyfile user run program command java copyfile program args string andargs string value tell program argument speciﬁed user program get name ﬁles argument print error message exit ﬁle name sp eciﬁed add little therearetwowaystousetheprogram thecommandlinecansim plyspecifythetwoﬁlenames case output ﬁle exists program wi ll print error message end make sure user won t accidently overwrite important ﬁle command line argument ﬁrst argument mu t second argument ﬁle name option meant modify behavior program program interprets mean s ok overwrite existing program f stand force fo rces ﬁle copied spite considered error source code command line argument interpreted program import make copy file original file copy given argument addition argument present pr ogram overwrite existing file program port error end output file exists numbe r byte copied reported public class copyfile public static void main string args string sourcename source file specified command line string copyname copy specified command line inputstream source stream reading source fi le outputstream copy stream writing copy boolean force set true option specified command line int bytecount number byte copied source file file name command line check presence option command line onechapter stream file networking possible legal form print error message end program args sourcename args copyname args force true sourcename args copyname args force false usage java copyfile java copyfile return create input stream error occurs end progra try source new fileinputstream sourcename catch filenotfoundexception e t file sourcename return output file exists option specified print error message end program file file new file copyname force false output file exists use option replace return create output stream error occurs end progr try copy new fileoutputstream copyname catch ioexception e t open output file copyname return copy byte time input stream output stream ending read method return signal end stream reached error occurs print error message print message file copied successfully stream file networking bytecount try true int data data break data successfully copied bytecount byte catch exception e error occurred bytecount byte copied error e end main end class copyfile actually quite ineﬃcient copy byte time eﬃci ency improved using alternative version read andwrite method read write multiple byte api detail alternatively input outp ut stream wrapped object type buﬀeredinputstream andbuﬀeredoutputstream automatically read data write data ﬁles larger block requi changing line program create stream example input s tream created using source new bufferedinputstream new fileinputstream urcename buﬀered stream used exactly way s unbuﬀered stream sample program doe thing copyfile us resource pattern try catch statement make sure stream closed case discussion end ofsubsection persistent data program end data stored variable object program gone case useful data stic k available program run problem t o make data persistent run program answer course stor e data ﬁle application data database elf stored ﬁles consider phone book program allows user t rack list name associated phone number program make sense user create list scratch time program run wo uld make sense think phone book persistent collection data k program interface collection data program allow user l ook name phone book add new entry change pre served program stream file networking sample program simple implementation idea meant example ﬁle use phone book t hat implement toy version notmeant taken seriously program store phone bo ok data ﬁle named user s home directory ﬁnd user s home directo ry us method mentioned subsection program start check ﬁle exists ﬁle exists contain user s phone book saved previous run program case data ﬁle read entered treemap namedphonebook represents phone book program running subsection order store phone book ﬁle decision data phon e book represented example chose simple representation ea ch line ﬁle contains entry consisting associated phone number percent sign separate number following code beginning program read phone book data ﬁle exists correct format file userhomedirectory new file u file datafile new file userhomedirectory bookdata file named bookdata user s home directory phone book data file new e created add entrie file path reading phone book data try scanner scanner new scanner datafile read line file containing pa ir string phoneentry int separatorposition separatorposition throw new ioexception file phonebook data file separatorposition number number catch ioexception e error phone book data file file path program continue program let user various thing phon e book including making modiﬁcations change treemap hold data program end phone book data written ﬁl e change program running using following cod e changed saving phone directory change fi le stream file networking printwriter try new printwriter new filewriter datafile catch ioexception e error t open data file outpu return string string entry t error error occurred wri ting data file net eﬀect data including chang e time program run ve shown code program like rest program source code storing object file data stored ﬁles deﬁnite format dopted representing data long output routine writes data th e input routine read data use format ﬁles usable usual correctness end story representation used data ﬁ le robust section mean look diﬀerent way s representing data example build example fromsubsection want run remind n program user use mouse draw simple sketch add ﬁle capability program allow user save sketch ﬁle later read sketch ﬁle program user continue w ork sketch basic requirement relevant data sketch b e saved ﬁle sketch exactly restored ﬁle read prog ram new version program source code ﬁ file menu added new version implement s save open command writing program data ﬁle reading saved data program data sketch consists background color p icture list curve drawn user curve consists list o pt instance method return coordinate point plane value type double curve diﬀerent color furthermore curve symmetric mean addition curve elf horizontal vertical reﬂections curve drawn data curv e stored object type curvedata deﬁned program object type curvedata represents data required redraw onechapter stream file networking curve sketched user private static class curvedata color color color curve boolean symmetric horizontal vertical reflecti ons drawn arraylist point point list type arraylist curvedata used hold data curve user drawn let s think data sketch saved t ext ﬁle basic idea data necessary reconstitute sketch save d output ﬁle deﬁnite format method read ﬁle follow exactly format read data use data rebuild data structure t hat represent sketch program running writing character data data express ed ultimately term simple data value string primitive type value color example expressed term number giving red green d blue component color ﬁrst good idea come mind jus t dump necessary data deﬁnite order ﬁle suppose outis aprintwriter used write ﬁle say write backgr ound color file write number curve curvedata curve curve curve write color cu rve curve s symmet ry property number point s curve pt coordinate p oint work sense method read t data rebuild data structure suppose input method us scanner namedscanner read data ﬁle say color newbackgroundcolor read background color double red double green double blue newbackgroundcolor red green blue arraylist curvedata newcurves new arraylist int curvecount number curve read int curvecount curvedata curve new curvedata chapter stream file networking double r read curve s color double g double b r g b int symmetrycode read curve s s ymmetry property symmetrycode new arraylist int pointcount number point curve int j j pointcount int x read coordinate point int y new x y curve curve newcurves install new data structure backgroundcolor newbackgroundcolor note piece data written output met hod read order input method doe work data ﬁle just long string number doesn ormatﬁlewould furthermore fragile sense small change t data representation program adding new property curve render data ﬁle useless unless happen remember exactly version program crea ted ﬁle decided use complex meaningful data form text ﬁles created program instead just writing number add wordsto say number mean short complete data ﬁle program just l ooking probably tell going simplepaintwithfiles background startcurve color symmetry true coords coords coords endcurve startcurve color symmetry false coords coords endcurve ﬁrst line ﬁle identiﬁes program created th e data ﬁle user selects ﬁle opened program check ﬁrst word ﬁle simple test make sure ﬁle correct type ﬁrst line tains version number ﬁle format change later version program hig version number used program see version number ﬁle t program understandschapter stream file networking version program explain user newer v ersion program needed read data ﬁle second line ﬁle speciﬁes background color th e picture number specify red green blue component color word background beginning line make meaning clear remainder ﬁle consists data curve appear picture data curve c learly marked startcurve data consists color symmetry p roperties curve point curve meanin g clear file format easily created edited hand fact data ﬁle n actually created text editor program furthermore s e asy extend format allow additional option future version program coul d add thickness property curve make possible curve diﬀering line w idths shape rectangle oval easily added outputting data format easy suppose outis aprintwriter used write sketch data ﬁle output wit h simplepaintwithfiles version num ber background ue curvedata curve curve startcurve color symmetry pt coords endcurve program code used dosave method similar presented subsection method us ﬁle dialog box allow user select output ﬁle reading data somewhat harder input routine deal extra word data input routine decided allow variation order data occurs ﬁle example background color speciﬁed end ﬁle instead beginning left altog ether case white used default background color possible becau se item data labeled word describes meaning label used dr ive processing input complete method read data ﬁles created thedosave method us scannerto read item ﬁle private void doopen filechooser filedialog new filechooser select file opened null file initi ally selected editfile null new file operty le file selectedfile window selectedfile null chapter stream file networking return user canceled scanner scanner try scanner new scanner selectedfile catch exception e alert erroralert new alert sorry error trying open file return try string programname simplepaintwithfiles throw new ioexception file simplepaintwithfiles data file double version version throw new ioexception file requires newer version sim plepaintwithfiles color newbackgroundcolor arraylist curvedata newcurves new arraylist curvedat string itemname background double red double green double blue newbackgroundcolor red green blue startcurve curvedata curve new curvedata false new arraylist itemname endcurve color double r double g double b r g b symmetry coords double x double y new x y throw new exception unknown term input itemname chapter stream file networking curve throw new exception unknown term input backgroundcolor newbackgroundcolor curve newcurves redraw editfile selectedfile simplepaint catch exception e alert erroralert new alert sorry error occurred read data e main reason long discussion ﬁle format en think problem representing complex data form suitable f storing data ﬁle problem arises data transmitted netw ork correct solution problem solution certainly tter section look solution data representation probl em increasingly common addition able save sketch data text form simplepaintwithfiles save picture image ﬁle exam ple printed web page preview technique c overed subsection us technique covered networking far program concerned network just possible source input data place data output doe oversim plify thing network easy work ﬁles java n etwork communication using input stream output stream just use str eams communicate user work ﬁles opening network nnection computer bit tricky computer involved th ey agree open connection computer send data synchronizing communication problem fundamental othe r form standard java package called package includes class used networking diﬀerent style network supported fairly based worl d wide web provides sort network communication capability used b browser downloads page view main class style netwo rking object type urlis abstract representation achapter stream file networking universal resource locator address html document resource aurlconnection represents network connection resource second style general import ant view network lower level based idea socket socket used program establish connection program network communicatio n network involves socket computer involved communi cation java us class called represent socket used network communicatio term socket presumably come image physically plugg ing wire computer establish connection network important derstand socket term used simply object belonging class socket particular program socket time connecting nother program running computer running com puter connection use physical network connection section give brief introduction basic netwo rking class show relate input output stream url urlconnections theurlclass used represent resource world wide web ev ery resource address identiﬁes uniquely contains formation web browser ﬁnd resource network retrieve address ca lled url universal resource url actually refer resource s ources web example represent ﬁles o n computer object belonging urlclass represents address url object use open urlconnection resource address url ordinarily speciﬁed string http alsorelative url s relative url speciﬁes location resource relative location url called baseorcontext relative url example context given url http incomplete relative url really refer http object class urlis simply string constructed string representation url urlobject constructed urlobject representing context plus string speciﬁes url rel ative context constructor prototype public url string urlname throw malformedurlexception public url url context string relativename throw malfo rmedurlexception note constructor throw exception type malformedurlexception speciﬁed string don t represent legal url s malformedurlexception class subclass ioexception requires mandatory exception handling valid urlobject openconnection method set connection method return urlconnection theurlconnection object turn used create inputstream reading data resource represented url calling getinputstream method example url url new url urladdressstring urlconnection connection inputstream chapter stream file networking theopenconnection andgetinputstream method throw exception type ioexception inputstream created read usual way including wrapping input stream type buﬀeredreader using scanner reading stream course generate exception useful instance method urlconnection class isgetcontenttype return stringthat describes type information available ur return value nullif type information known possi ble determine type type available fter input stream created generally getcontenttype aftergetinputstream string returned getcontenttype format called mime type mime type include nd mime type contain part general type text image speciﬁc type general category html png onl y interested text data example check string returned getcontenttype start text mime type ﬁrst introduced content e mail message stand multipurpose internet mail u sed universally specify type information ﬁle resource let s look short example us read dat url subroutine open connection speciﬁed url check type d ata url text copy text screen operation n subroutine throw exception handled declaring subrouti ne throw ioexception leaving main program decide er ror occurs static void readtextfromurl string urlstring throw ioe xception open connection url input stream reading data url url url new url urlstring urlconnection connection inputstream urldata check content type text note method called getinputstream string contenttype stream opened content type c ontenttype contenttype null text false throw new ioexception url doe refer text fi le fetching content urlstring copy line text input stream screen unti l encountered error occurs bufferedreader reading connection s inp ut stream new bufferedreader new inputstreamreader urldata true string line line null break chapter stream file networking line end readtextfromurl complete program us subroutine t run program specify url command lin e prompted enter url program url begin wi th http http url refers resource web ﬁle fo r url refers ﬁle computer ftp url us file t ransfer doe start http added sta rt url try program url fetch page textbook website try bad input various error o ccur communication internet based pair protoco l called transmission control protocol theinternet protocol collectively referred fact basic communication protocol calle d udp used instead tcp certain application udp supported java discussion ll stick provides reliable communication bet ween networked computer program communicate using program m ust create socket discussed earlier section socket connected connection communication take place using input stream o utput stream program input stream output stream data writt en program output stream transmitted computer enter s input stream program end network connection program read data input stream receiving data transmitted ov er network hard making network connection ﬁrs t place socket involved thing started program create cket wait passively connection request come socket waiti ng socket said listening connection program creates socket sends connection request listening socket listening socket receives connection request responds connection e stablished program obtain input stream output stream se nding data connection communication take place stream p rogram closesthe connection program creates listening socket said t o aserver socket called aserver socket program connects server called client socket us make connection called client socket idea server network waiting connection req uest client server thought oﬀering kind service clie nt get access service connecting server called model network communication actual application server program provide nnections client time client connects listening socket server type socket doe stop listening instead continues listening fo r additional client connection request time client serviced allo w multiple client connected time necessary use thread ll look work stream file networking theurlclass discussed beginning section use s client socket scene necessary network communication connection server program accepts connection request urlobject read request object particular ﬁle server computer nd responds transmitting content ﬁle network urlobject transmitting data server close connection client program way specify compute r network want communicate computer internet ip address identiﬁes computer referred domain name section traditional ip address integer usually written ed dotted decimal form number address represents integer range new version internet protoco l introduced address integer usually written hexadecimal form colon maybe extra information thrown migh t ip address form computer ip address ip address usually loopback address used program want communicate program computer loopback address address general referred ing domain localhost addition ip address associated wi th physical network connection computer probably utility displaying computer s ip address written small java program doe thing run showmynetwork computer output lo lo ﬁrst thing line network interface really meaningful computer s operating line contains th e ip address interface example lorefers loopback address address usual important number address used communication network slash star t address actual address number output ip address address easier human use single computer program doing net work communication time program communicating c omputers allow possibility network connection actually port number combination ip address port number just positive integer se rver doe simply listen listens connection particular port potential client know internet address domain computer whic h server running port number server listening web server example generally listens connection port standard internet service s standard port number standard port number re erved particular service create server program use port numb er greater chapter stream file networking socket java implement connection package provides class serversocket andsocket aserversocket represents listening socket wait connection req uests client socketrepresents endpoint actual network connection socket client socket sends connection request ser ver socketcan created server handle connection request clie nt allows server create multiple socket handle multiple connection serversocket doe participate connection just listens connection request createssocketsto handle actual connection construct serversocket object specify port number server listen speciﬁcation constructo r public serversocket int port throw ioexception port number range shoul d generally greater constructor throw securityexception port number smaller speciﬁed ioexception occur example speciﬁed port number al ready use parameter value method tell server socket listen available port soon serversocket created start listening connection request th e accept method serversocket class accepts request establishes connection client return socketthat used communication client accept method form public socket accept throw ioexception accept method return connection request recei ved error occurs method said blockwhile waiting connection method blocked exactly thre called method t thread program proceed callaccept repeatedly accept multiple connection request serversocket continue listening connection closed usin g itsclose method error occurs program terminated way suppose want server listen port want continue accept connection long program running suppos e ve written method provideservice socket handle communication client basic f orm server program try serversocket server new serversocket true socket connection provideservice connection catch ioexception e server shut error e client client socket created using constru ctor socketclass connect server known computer port use constructor public socket string computer int port throw ioexcepti onchapter stream file networking ﬁrst parameter ip number domain constructor block connection established error occurs connected socket matter created use socket method getinputstream andgetoutputstream obtain stream used communication connection method return ob jects type inputstream outputstream respectively keeping mind outline method working client connection open client connection specified server computer port number server communication throug h connection void doclientconnection string computername int server port socket connection inputstream outputstream try connection new socket computername serverport catch ioexception e attempt create connection failed error e return use stream communicate serve try catch ioexception e end doclientconnection make network communication sound easier ally think sounded hard s harder network compl etely reliable thing easy ve described problem w rite robust program deal network human error won t ve covered basic idea network programming t write simple network application let s look working example o f programming trivial ﬁrst example consists program source code ﬁl e program simple network client matching server client make connection server read e line text server display text screen text sent server c onsists current date time computer server running order o pen connection client know computer server running p ort stream file networking server listens port number port number coul d long server client use por port number reserved standard service use d server ip number computer server running speciﬁed argument example server running computer named run client command java dateclient computer speciﬁed command line user prompted enter complete client program import import import program open connection computer specified argument argument given prompt user computer connect connection port specified listening port program read line text connection close connection display text read standard output program meant used server program dateserver sends current date time computer server running public class dateclient public static final int listening port public static void main string args string hostname server computer connect socket connection socket communicating serve bufferedreader incoming reading data conne ction computer command line hostname args scanner stdin new scanner enter computer ip address hostname make connection read display line text try connection new socket hostname listening port incoming new bufferedreader new inputstreamreader string linefromserver linefromserver null null indicates encountered throw new ioexception connection opened stream file networking server did send data linefromserver catch exception e error e end main class dateclient note communication server try catch statement catch ioexceptions generated connection opened closed data read input stream connection s input stream wrapped buﬀeredreader readline method make easy read line text method return null probably mean server closed connection wit hout sending data order program run error server pro gram running computer client try connect way s possible run client server program computer example open command window start server window run clien t window make thing like easier computer recognize d omain localhost ip number referring mean command java dateclient localhost tell dateclient program connect server running computer command doesn t work try java dateclient server program corresponds dateclient client program called dateserver thedateserver program creates serversocket listen connection request port listening socket created server enter inﬁnite loop accepts process connection continue progra m killed example bytypinga inthecommandwindowwheretheserverisrunning whenaconn ection request received client server call subrout ine handle connection subroutine exception occurs caught crash server ju st connection client failed reason doe mean server shut error fault client subroutine creates printwriter sending data connection writes current d ate time stream close connection s tandard class used obtain current time object type daterepresents particular date time default constructor new date creates object represents time object created complete server program fol low import import import program server take connection request onchapter stream file networking port specified constant listening port connection opened program sends current time connected socket program continue receive process connection killed example note server process connect ion received creating separate thread process connection public class dateserver public static final int listening port public static void main string args serversocket listener listens incoming connection socket connection communication connectin g program accept process connection forever err occurs note error occur communicating conn ected program caught handled senddate routine crash server try listener new serversocket listening port listening port listening port true accept connection request handle connection senddate connection catch exception e sorry server shut error e return end main parameter client socket connecte d program output stream connection send c urrent time close connection private static void senddate socket client try connection date new date current date time printwriter outgoing stream sending data outgoing new printwriter make sure data actually sent catch exception e chapter stream file networking error e end senddate class dateserver run dateserver interface sit wait connect ion request report received make dateserver service permanently available computer program run daemon daemon program run continually computer independently user t computer conﬁgured start daemon automatically soon computer boo t run background evenwhile computer isbeingused p urposes example acomputer make page available world wide web run daemon listens request web page responds transmitting page s ju st analog dateserver program question set program d aemon want testing purpose s easy start program hand case example really robust f run server way word daemon just lternative spelling demon usually pronounced way note calling send line data client server program call theflush method available output stream class calling ensures data written t stream actually sent destination generally function time use output stream send data network connection don t s p ossible stream collect data reasonably large batch data send thi s eﬃciency impose unacceptable delay client waiting th e transmission possible data remain untransmitted soc ket closed especially important flush closing connection unfortun ate case diﬀerent implementation java behave diﬀerent ly fail ﬂush output stream possible network application w ork type computer simple network chat thedateserver example server transmits information client ad s possible communication client s erver ﬁrst example ll look client server allow user end c onnection send message user program work enviro nment user type message example server wait conne ction single client close listener client connect client server connected end connection work w ay user client end type message transmitted server di splay user end user server type message transmitte d client client user type message continues o ne user enters quit prompted message happens connecti closed program terminate client program server program ver y similar technique opening connection diﬀer client programmed send ﬁrst message server programmed receive ﬁrst message cli ent server program bechapter stream file networking ﬁles clchat stand source code server client similar import import import program end simple interface c hat program act server wait connection clch atclient program port server listens specifi ed argument port specifie d constant default port used note port number zero specified server listen available por program support connection soon conn ection opened listening socket closed end connection send handshake string end c verify program end right type th e connected program alternate sending message cli ent sends message user end close conne ction entering string quit prompted message e character string sent connection character interpreted command public class clchatserver port listen specified command line static final int default port handshake string end connection sends str ing just connection opened nfirm program connection clchat pr ogram static final string handshake clchat character prepended message sent static final char message character sent connected program use r quits static final char close public static void main string args int port port server listens serversocket listener listens connection request socket connection communication client bufferedreader incoming stream receiving data client printwriter outgoing stream sending data stream file networking string messageout message sent client string messagein message received client scanner userinput wrapper reading line input user port number command line use default port specified port default port try args port port throw new numberformatexception catch numberformatexception e illegal port number args return wait connection request arrives close listener create stream communication exchange handshake try listener new serversocket port listening port calport connection incoming new bufferedreader new inputstreamreader outgoing new printwriter handshake send handshake client messagein receive handshake fro m client messagein throw new exception connected program clchat connected waiting me sage catch exception e error occurred opening conn ection return exchange message end connection unt il close connection server program wait s message client message alte rnate strictly forth try userinput new scanner chapter stream file networking note enter quit end program true waiting messagein character message command command close connection closed remove command character message proceed close connection closed end break messagein received messagein send messageout quit user want quit inform connection close connection close make sure data sent connection closed break message messageout make sure data sent throw new ioexception error occurred transmitting message catch exception e sorry error occurred connec tion lost error e end main class clchatserver program little robust dateserver thing us handshake make sure client trying connect really clchatclient program handshake simply information sent client server pa rt setting connection actual data sent case c onnection sends string identify handshake th eprotocol communication clchatclient andclchatserver protocol detailed speciﬁcation data message exchanged connection represented chapter stream file networking order sent design rver application design protocol important consideration aspe ct clchatprotocol handshake line text sent c onnection begin character act command character rest li ne message user character line indicates use r entered quit command connection shut remember want try program single mputer use window command java clchatserver start server use command java clchatclient localhost connect server running machine server s listening default port add port number second command line opti program specify connection information command lin e asked enter brief introduction xml data saved ﬁle transmitted network represented way allow data rebuilt later whe n ﬁle read transmission received seen good asons prefer textual based representation case way represent given collection data text section ll brief look type data representation increasingly common xml extensiblemarkuplanguage isasyntaxforcreatingdatar epresentationlanguages aspect level xml ﬁrst level xml s peciﬁes strict relatively simple syntax sequence character follows syntax xml document second level xml provides way placing f urther restriction appear document associating dtd document type deﬁnition xml document dtd essentially list thing tha t allowed appear xml document xml document associa ted dtd follows rule dtd said validxml document idea xml general format data representation dtd speciﬁes use xml represent particular kind data alternative dtds xml schema deﬁning valid xml document let s ignore scertainlynotperfe saveryverboselanguage people think s ugly hand s ﬂe xible used represent type data built start support language alphabet important accepted standard support just programminglanguageforprocessingxmldocuments therea restandarddtdsfordescribing diﬀerent kind data way design da ta representation language xml happened come widespread use n fact way corner information technology exa mple xml language representing mathematical expression mathml musical notation musicxml molecule chemical reaction cml vector graphic svg ma ny kind information xml used openoﬃce recent version microsoft oﬃce document format oﬃce application word processing spreadsheet s presentation xml site syndication language rss atom make possible web s ites newspaper blog make list recent headline available standard forma t used web site web browser format used publish p odcasts xml commonchapter stream file networking format electronic exchange business information purpose tell know bout xml just explain way used program particular say dtds valid xml purpo s suﬃcient use xml document associated dtds basic xml syntax know html language writing web page xml look familiar xml document look lot like html document html xml language doe follow strict xml syntax rule basic idea similar short xml document xml simplepaint background curve color symmetric false point point point point point point point point curve color symmetric true point point point point point point ﬁrst line optional merely identiﬁes xml document line specify information character encod ing used encode character document binary form documen t associated dtd speciﬁed doctype directive line ﬁle aside ﬁrst line document element attribute textual content element start tag curve end matching tag content element consist text nested element example onl y textual content trueor falsein symmetric element element content opening tag combined single tag point ﬁnal abbreviation point tag include attribute xandyin point theversionchapter stream file networking simplepaint document include thing comment discus author xml document get choose tag name attribute name meaningful name chosen dat human reader valid xml document us dtd s author dtd w ho get choose tag name xml document follows strict syntax e important syntax rule tag name attribute name xml case sensitive begin letter contain letter digit c ertain character space signiﬁcant textual content ev ery tag tag matching matching mean tha t element properly nested tag inside element matching end inside element document root element contains element root element example tag simplepaint attribute value value enclosed quotation mark e ither single quote double quote used special character appear attribute value textual content written lt amp lt amp example ofentities entity gt quot apos deﬁned representing double quote single quote additional entity deﬁned dtd description enable understand eve rything encounter xml document allow design wel xml document represent data structure used java program working dom sample xml ﬁle shown designed store informat ion simple drawing user drawing question one using sample program lllookatanotherversionofthatprogram save user s drawing using xml format da ta ﬁle new version sample xml document shown earlier section used program designed format documen t represent data needed reconstruct picture document encodes background color picture list curve curve element contains data object typecurvedata easy write data customized xml format alt hough careful follow syntax rule simplepaintwithxml writes data picture printwriter produce xml ﬁle structure example shown xml simplepaint background ed backgroundcolo curvedata c curve curve color symmetric pt point chapter stream file networking readingthedatabackintotheprogramisanothermatter tor econstructthedatastructure represented xml document necessary parse document extract data diﬃcult hand fortunately jav standard api parsing processing xml document actually w ill look xml document certain structure consist ing element containing attribute nested element textual content s po sible build data structure computer s memory corresponds structure tent document course way common standar d representation known thedocument object model dom dom speciﬁes build data structure represent xml document speciﬁes standard thods accessing data structure data structure kind tree s tructure mirror structure document tree constructed nodesof various type node represent element attribute text tree al o contain type node representing aspect xml ignore attrib ute text processed directly manipulating corresponding node concerned entirely element node sample program let experiment xml dom text area enter xml document initially th e input area contains sample xml document section click button named parse xml input program attempt read xml input box bui ld dom representation document input xml error m essage displayed legal program traverse dom representation displa y list element attribute textual content encounter program us fe w technique processing xml won t discus java dom representation xml document ﬁle c reated just statement selectedfile variable type filethat represents xml ﬁle xmldoc type document documentbuilder docreader ilder xmldoc selectedfile open ﬁle read content build dom repres entation class builderanddocumentbuilderfactory deﬁned package doe actual work throw exception t ad ﬁle ﬁle doe contain legal xml document t succeeds value returned object represents entire xml document complex task coded method used easily java program beneﬁt using standa rdized syntax structure dom data structure deﬁned packa contains data type represent xml document s individual node document refers wo rld wide web consortium standard organization web dom like x ml general standard just java standard data type need document node element nodelist deﬁned interface class fact relevantchapter stream file networking use method deﬁned data type t o access data dom representation xml document object type document represents entire xml document return value type document need method class xmldocis type document return value type element represents root element document recall th element contains ele ments sample xml document fromearlierinthissection therootelementconsistsofth etag simplepaint element nested in ide root element represented node ar e said child root node object type element contains useful method element type element return stringcontaining used element s tag example curve element string curve attrname ifattrname attribute element method return value attribut element point x return string note return value string attribute supposed represent numerical value element attribute sp eciﬁed return value string return stringcontaining textual content contained element note includes text tha t contained inside element nested inside element return value type nodelist contains node child element list includes node rep resenting element textual content directly nested element w ell type node don t care getchildnodes method make possible traverse entire dom data structure starting root eleme nt looking child root element child child similar method return attribute element won t using tagname return nodelist contains node representing element nested inside element given tag note includes element nested level just element directly contained inside element thegetelementsbytagname method allows reach document pull speciﬁc data y ou interested object type nodelist represents list node unfortunately doe use api deﬁned list java collection framework inste ad value nodelist type nodelist method return number node list return node position position numbered note return value type node speciﬁc node type b efore used knowing just common type pro cessing dom representation let s look code fragment suppos e course processing document come element node represents elementchapter stream file networking background thiselementmightbeencounteredeitherwhiletraversingt hedocumentwith getchildnodes result getelementsbytagname background goal reconstruct data structure represented document ele ment represents data case element represents color red gre en blue component given attribute element element variable refers node color obtained saying double r d double g gr een double b bl ue color bgcolor r g b suppose element refers node represents element symmetric true case element represents value boolean variable value encoded textual content element recover valu e element string bool boolean symmetric true symmetric true symmetric false consider example us nodelist suppose encounter element represents list pointlist point point point point suppose element refers node represents pointlist element goal build list type arraylist represented element traversing nodelist contains child node element arraylist point new arraylist nodelist child int node child child node el ement child instanceof element element pointelement element child point element double x e x double y e y pt new x y create point represent ed pointelement pt add point list chapter stream file networking nested point element child pointlist element ifstatement code fragment necessary element hav e child addition nested element example want process child element technique employed write ﬁle input thod sample program building data structure represented xml ﬁle approach start default data structure modify add traverse dom representation ﬁle s trivial process hope follow color newbackground arraylist curvedata newcurves new arraylist element rootelement simplepaint throw new exception file simplepaint file string version version try double versionnumber version versionnumber throw new exception file requires newer version simpl epaint catch numberformatexception e nodelist node int instanceof element element element element background double r d double g gr een double b bl ue newbackground r g b curve curvedata curve new curvedata new arraylist curve nodelist curvenodes int j j j instanceof element element curveelement element j color double r e red double g e green double b e blue r g b point double x e x double y e y new x y symmetric string content chapter stream file networking true true backgroundcolor newbackground curve newcurves ﬁnd complete source code xml developed extremely important technology nd application complex core simple idea ea sily applied java knowing just basic make good use xml java pr exercise chapter sample program given example subsection solution print list ﬁles directory speciﬁed user ﬁles directory directory subdire ctories contain directory write modiﬁed version directorylist list ﬁles directory subdirectory level o f nesting need recursive subroutine listing subroutine pa rameter type file need constructor fileclass form public file file dir string filename construct file object representing file named filename directory specified dir program count number line ﬁle speciﬁed solution commandline assumethattheﬁlesaretextﬁles notethatmu ltipleﬁlescanbespeciﬁed java linecounts write ﬁle number line ﬁle standard output error occurs trying read ﬁles sho uld print error message ﬁle process remaining ﬁ le use textioto process ﬁles use scanneror abuﬀeredreader process ﬁle exercise write network server program t program simple ﬁle solution server make collection ﬁles available transmi ssion client server start need know directory cont ains collection ﬁles information provided argument assume directory contains regular ﬁles doe ntain assume ﬁles text ﬁles client connects server server ﬁrst read o command client command string index case server responds sending list name ﬁles available th e server command form filename filename ﬁle server check requested ﬁle actually exists ﬁrst sen d word ok message client sends content ﬁle close connection sends line beginning word error client nd close connection error response include error message rest o f line program use subroutine handle request t hat server receives stop handling request rema open continue accept new request directorylist example subsection help problem getting list ﬁles directory client program server exercise de ign user interface solution let user thing list ﬁles available server display list standard output copy speciﬁed ﬁle server save local ﬁle computer cli ent running sample program subsection store solution pair simple phone book text ﬁle u ser s home directory modify program us xml format data signiﬁcant change make part progr read write data ﬁle use dom read data discussed subsection use xml format illustrated following sample phone directory ﬁle xml phonedirectory entry barney entry fred directory just short exercise basic xml processing bef ore program exercise meant useful phone directory program sample program fromsubsection let player play checker solution nice middle game state gam e saved ﬁle later ﬁle read ﬁle restore ga allow player continue add ability save load ﬁles checker s program design simple format ﬁles picture soluti exercise showing load save button added s little tricky restore complete state game af ter reading data ﬁle program variable boardof typecheckersdata store current content board variable currentplayer typeintthat indicates red black currently moving data st ored ﬁle ﬁle saved ﬁle read program ad data local variable newboard typecheckersdata andnewcurrentplayer typeint successfully read data ﬁle use t following code set remaining program state correctly code assumes th introduced twoexercises new variable savebutton andloadbutton typebuttonto represent save game load game button board newboard set game data read file currentplayer newcurrentplayer legalmoves currentplayer selectedrow gameinprogress true true true false false currentplayer game loaded s red s game loaded s black s drawboard quiz quiz chapter answer java using stream stream anabstraction explain mean important type stream character stream byte s treams diﬀerence type stream ﬁle ﬁles necessary point following statement new printwriter new filewriter need statement involves diﬀerent str eam class printwriter andfilewriter package includes class named url doe object type url represent used purpose filechooser class meant client server model network communication socket serversocket used meant element xml document xml make suitable representing lmost type data complete program display ﬁrst line text ﬁle line shouldbewrittentostandardoutput line argument args assume ﬁle contains line don t bother make program robust use textioto process ﬁle read ﬁle using method covered thread multiprocessing classic programming model single central processing unit read instruction memory carry purpose program provide list instruction processor ex ecute type programming considered far model programming limitation modern computer multiple processor making possible perform t asks time use potential processor need writ e program parallel processing java programmer mean learning thread single thread similar program writing w thread running time make thi ng programming fact thread parallel program rarely completely independent t hey usually need cooperate communicate learning manage control cooperatio n thread main hurdle face chapter reason use parallel programming s simply computation quickly setting processor work si multaneously just important use thread deal blocking operation s process t proceed event occurs previous chapter exampl e saw program block waiting data arrive network connection t hreads make possible program continue useful work anot blocked waiting event occur context thread vital prog ramming tool computer single processing unit java developed new feature added lan guage make possible parallel programming using thread directly seen parallel stream stream api section encounter chapter use higher level language feature saf ely eﬃciently need know hazard beneﬁts thread introduction thread like people computer canmultitask working diﬀerent task time computer just single centr al processing unit t literally thing time person t switch attention forth task furthermore compu ters mobile device thread multiprocessing processing unit computer ca n literally work task simultaneously likely rease computing power come adding additional processor computer increasing speed individual processor use power multip rocessing computer programmer parallel programming mean writing program set task executed simultaneously computer parallel programming technique useful problem tackled naturally breaking solution set simultaneous task cooperate s olve problem java single task called thread term thread refers thread control thread execution meaning sequence instruction t hat executed thread extends time connecting instructi multithreaded program thread control weaving throu gh time parallel forming complete fabric program ok meta phor java program thread java virtual machin e run program creates thread responsible executing mainroutine program main thread turn create thread continue main thread terminated gui program additional thread s responsible handling event drawing component screen javafx thread application thread unfortunately parallel programming diﬃcult t han ordinary programming thread working problem new category oferrorsispossible thisjustmeansthattechniquesforwr itingcorrectandrobustprogramsare important parallel programming f normal programming hand fortunately java nice thread api make s basic us thread reasonably easy variety standard class help tricky part hide entirely won t midway section ll learn technique necessary handle trick iest part parallel programming fact programmer lot thread le arning stuﬀ creating running thread java thread represented object belonging subclass class purpose threadobject execute single method execute just method represents task ca rried thread method executed thread control run parallel thread execution thread s method ﬁnished method terminates normally uncaught exception thread sto p running happens way restart thread use threadobject start thread way program thread create subcl as ofthreadand deﬁne method public void run subclass run method deﬁnes task performed thread thread starte d run method executed thread example simple useless class deﬁnes thread doe print message stand ard output public class namedthread extends thread private string thread public namedthread string constructor give nam e thread public void run run method print message stand ard thread multiprocessing greeting thread use namedthread course create object belonging class example namedthread greeting new namedthread fred creating object doe automatically start t thread running cause run method executed start method thread object example statement purpose start method create new thread control execut e threadobject srun method new thread run parallel thread whi ch start method called thread existed start method return immediately starting new thread control waiting thread terminate mean code thread s run method executes time statement follow start method consider code segment namedthread greeting new namedthread fred thread started executed thread print th read started want print greetin g thread fred important note message printed order thread run simultaneously compete access standard outp ut print message whichever thread happens ﬁrst acce s ﬁrst print message normal program thing happ en deﬁnite predictable order beginning end program fundamental indeterminacy t sure order thing happen indet erminacy make parallel programming diﬃcult note calling isverydiﬀerent calling execute run method thread creating new thread mean work run method computer move statement follow t parallelism thread multiprocessing time ã ä å æ ç è ofé ê ë ì å ê í ã ä å æ ç è ofé ê ë ì å ê íî ï ð ðñ ò ó ôoutine returnî ï ð ðñ ò ó ôoutine return ñ õ ïô õõ öô ï øñ õ ïô õõ öô ï øñ õ ïô õõ öô ï øùú ûùú û ùú ûwhen thread start thread new thread control run parallel original thread control continue original thread thread call subroutine thread control subroutine time subroutine return discussion assumed computer pr ogram running processing unit possible origi nal thread newly created thread literally executed time s possible create multiple thread computer processor m ore generally possible create thread processor mputer case thread compete time processor indeterminacy processor switch thread unpred ictable time fact point view programmer diﬀerence bet ween programming omputer andwewillmostlyignore distinction mentioned way program thread ﬁr st way deﬁne subclass thread second deﬁne class implement interface therunnable interface deﬁnes single method public void run given runnable possible create threadwhose task execute runnable s run method thethreadclass constructor take runnable parameter object implement runnable interface passed constructor run method thread simply run method runnable calling thread s start method create new thread control runnable s run method executed example alternative namedthread class deﬁne class public class namedrunnable implement runnable private string runnable public namedrunnable string constructor give n ame object public void run run method print message stand ard output greeting runnable use version class create namedrunnable object use object create object type thread chapter thread multiprocessing namedrunnable greeting new namedrunnable fred thread greetingsthread new thread greeting advantage doing thing way anyobject implement runnable interface contain run method executed separate thread run method access class including private variable method disadvantage way doing thing obje violates principle object single respo nsibility instead making random object runnable just use make thread consider ﬁning thread using nested class subclass threadclass section finally ll note runnable functional interface runnable object given lambda expression particular parameter t onew thread r lambda expression example thread greetingsfromfred new thread greeting fred help understand multiple thread executed p arallel consider sampleprogram thisprogramcreatesseveralthreads eachthreadperform s exactly task task count number integ er prime particular task important purpose long take time demo program silly real program multiple thread sa thing method used counting prime ineﬃcient comp utation second modern computer thread perform t task deﬁned following static nested class maxi thread belonging class run count number prime max print result standard output id number elapsed time start end computation private static class countprimesthread extends thread int id id number thread specified const ructor public countprimesthread int id id public void run long starttime int count countprimes max count prime long elapsedtime starttim e thread id counted count prime second main program asks user thread run n creates start speciﬁed number thread chapter thread multiprocessing public static void main string args int numberofthreads numberofthreads numberofthreads thread want use numberofthreads numberofthreads numberofthreads enter number numberofthreads thread countprimesthread worker new countprimesthread numb erofthreads int numberofthreads worker new countprimesthread int numberofthreads worker thread created starte good idea compile run program computer processor ran program computer using thread took second ran using thread output creating thread thread created started thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second thread counted prime second second line printed immediately ﬁrst th point main program ended thread continued run pau se second thread completed time order t thread complete order started order ndeterminate program run order thread complete probably diﬀerent computer thread took twice long o ne thread computer processor thread runnin g processor thread actively ex ecuted half time took twice long ﬁnish task computer thread time long thread computer wi th processor thread time single thread beca use overhead reason actual speedup probably little smalle r analysis indicates multiprocessor machine deﬁnite speedu happens run program computer processor h ave thread run proce ssors run computer divide attention runnable threa d switching rapidly onechapter thread multiprocessing thread processor run thread fo r switch thread run typically se context switch occur time second result comp uter make progress task look user task executed simultaneously sample program thread work thread complete time time iod longer fraction second computer s time divided approximately equa lly thread operation thread java s thread api threadclass ll start method runtime class allows java program information environment running parallel p rogramming order spread work processor want int o account number available processor example want create threa d processor java ﬁnd number processor calling function return intgiving number processor available jav virtual machine insomecases thismightbelessthantheactualnum berofprocessorsinthecomputer athreadobject contains useful method working thr eads important thestart method discussed thread started continue run tsrun method end reason s useful thread ble tell thread terminated thrdis object type thread function used test thrdhas terminated thread alive time started time terminates thread terminated said gruesome metaphor used refer killing aborting thread remember thread term inated restarted static method millisecond cause thread executes method sleep speciﬁed number millisecond sleeping thread alive running thread sleeping compute r work runnable thread program used insert pause execution thread sleep method throw exception type interruptedexception checked exception requires mandatory exception hand ling practice mean thesleep method usually called inside try catch statement catch potential interruptedexception try lengthofpause catch interruptedexception e thread interrupt thread wake sleeping paused c ertain reason thread thrd interrupted calling method doing convenient way send signal threa d thread know interrupted catch interruptedexception outside catchhandlerchapter thread multiprocessing exception thread check terrupted calling static method tell current thread executes interrupted t unusual property clearing interrupted status thread chan ce check interruption program thread going interru pted unless youinterrupt likely need resp onse interruptedexception catchit s necessary thread wait thread die thejoin method threadclass suppose thrdis athread thread call thread sleep thrdterminates thrdis dead called simply eﬀect join method throw interruptedexception handled usual example following code start thread wait terminate output elapsed time countprimesthread worker new countprimesthread numb erofthreads long starttime int numberofthreads worker new countprimesthread worker int numberofthreads try worker wait worker finish h asn t catch interruptedexception e point worker thread terminated long elapsedtime starttim e total elapsed time elapsedtime second observant reader note code assumes interruptedexception occur absolutely sure thread worker terminated environment interruptedexceptions possible like worker try worker catch interruptedexception e version join method take integer parameter speciﬁes maximum number millisecond wait m wait thrd terminated mmilliseconds elapsed waiting thread terrupted used allow thread wake occasionally pe rform task waiting example code segment start thread thrd output period second long thrdcontinues run running thread chapter thread multiprocessing try catch interruptedexception e thread property occasionally useful daemon status priority athreadthrdcan designated daemon thread calling true thread started thro w exception type securityexception calling thread allowed modify thrd sproperties eﬀect java virtual machine exit soon t thread alive fact daemon t hread alive java virtual machine running daemon thread mig ht exist example provide service thread t thread daemon thread s service program shut force jvm terminate thread running thepriorityofathreadisamoreimportantproperty everyt hreadhasa priority speciﬁed integer thread greater priority value r preference thread smaller priority example computation don e background important thread work run low priority section useful gui program thrdis type thread return integer speciﬁes thrd s priority p used set priority given integer priority arbitrary integer throw mentexception speciﬁed priority legal range thre ad range legal priority value diﬀer computer r ange legal value speciﬁed constant priority priority given thread restricted value priority default priority given priority setthrdto run priority value just normal priority priority note throw exception type securityexception thread call method allowed set prio rity ofthrdto speciﬁed value finally ll note static method return current thread return value method thread executed method allows thread reference ca n modify property example determine priority currently running thread calling mutual exclusion synchronized s pretty easy program thread carry comp letely independent task real diﬃculty arises thread interact way e way thread interact ischapter thread multiprocessing sharing resource thread need access sam e resource variable window screen care taken don t try use resource time situation somethin g like imagine cook sharing use just measuring cup imagine ok ﬁlls measuring cup milk cook b grab cup cook ch ance milk bowl way cook claim exclu sive right cup performs operation similar happens thread somethin g simple adding counter statement count count actually sequence operation step value count step add value step store new value count suppose thread performs st eps remember s possible thread run time onl y processor s possible processor switch thread point suppose thread step step thread start exe cuting sequence step ﬁrst thread stored new value ncount second thread read oldvalue ofcountand add old value thread computed new value count thread store value count executing step thread valu e ofcounthas gone instead type problem called race condition occurs thread middle operation anothe r thread change value condition ﬁrst thread depending ﬁrst t hread race complete step interrupted thread example race condition occur ifstatement consider following statement meant avoid error b c suppose statement executed thread th e variable ai shared thread guard race condition possible thread change valu e ofato zero time ﬁrst thread check condition time doe division mean thread end dividing zero just checked awas zero ﬁx problem race condition way f thread exclusive accessto shared resource trivial thing implement java provides level relatively approach exclusive acc es s synchronized method synchronized statement used protect shared resource makingsurethat onethread atimewill try toaccess resource synchronization javaactually provides mutual exclusion mean exclusiveaccesstoaresource guaranteed everythread need access resource us synchronizat ion synchronization like cook leaving note say m using measuring thischapter thread multiprocessing cook exclusive access t cook agree check note trying grab cup diﬃcult topic start simple exa mple suppose want avoid race condition occurs thread want add counter deﬁning class represent counter u sing synchronized method class method declared synchronized adding reserved word synchronized modiﬁer deﬁnition method public class threadsafecounter private int count value counter synchronized public void increment count count synchronized public int getvalue return count iftscis type threadsafecounter thread add counter completely safe way fact issynchronized mean thread method time thread st art executing method guaranteed ﬁnish executing thread allowed access count possibility race condition note gua rantee depends fact countis aprivate variable force allaccess occur synchronized method provided class countwerepublic possible thread bypass synchronization example sayin change value countwhile thread middle remember synchronization doe notguarantee exclusive access guarantee mutual exclusion thread synchronized threadsafecounter class doe prevent possible race condition arise using counter consider ifstatement dosomething wheredosomething method requires value counter race condition occurs second thread ncrements counter time ﬁrst thread test time executes dosomething ﬁrst thread need exclusive access counter execution statement synchronization threadsafecounter class give exclusive access time evaluating solve race condition putting theifstatement synchronized statement synchronized tsc dosomething note synchronized statement take tscin kind parameter syntax synchronized statement chapter thread multiprocessing synchronized java mutual exclusion associated objec t say synchronization object example ifstatement synchronized synchronized instance method class threadsafecounter synchronized object contains instance method fact addin g thesynchronized modiﬁer deﬁnition instance method pretty equivalent putting body method asynchronized statement form synchronized possible synchronized static method synchronized static thod synchronized special class object represents class containing stati c method real rule synchronization java thread synchronized object time simultaneously executing code segment synchronized object th read synchronized object second thread try synchronize sameobject second thread forced wait ﬁrst thread ﬁnished object m eans true thread executing synchronized m ethod time fact thread executing diﬀerent method time method synchronized object impleme nted using called synchronization lock object synchronization lock lock b e held thread time enter synchronized statemen t synchronized method thread obtain associated object s lock lock available thread obtains lock immediately begin executing synchronized code release lock ﬁnishes executing synchronized code thread try t o obtain lock held thread b thread wait thread b release t lock fact thread sleep awoken lock available discussion invariant subsection mentioned reasoning invariant becomesmuchmorecomplicatedwhenthreadsareinvolved th eproblemisraceconditions wouldlikeour threadsafecounter classtohavetheclassinvariantthat thevalueof countisthe number time increment program true synchronization multith readed program synchronization needed ensure class invariant really invari ant simple example shared resource return prim problem case instead having thread perform exactly sam e task ll real parallel processing program count prime number giv en range integer dividing work thread thre ad assigned range integer count prime assigned end computation thread add count overall tal prime entire range variable represents total shared th read thread add number total thread just say total total count small chance thread try t time ﬁnal total wrong prevent race condition acc es tototalhas synchronized program us synchronized method add count total method called thread method valu e oftotalis changed chapter thread multiprocessing synchronized private static void addtototal int x total total x total prime far source code program program count prime range number s arbitrary main routine program creates thread sign job thread wait thread ﬁnish using th ejoin method described report total number prime alon g elapsed time note thatjoin required doesn t make sense report nu mber prime thread ﬁnished run program mul tiprocessor computer time program run use thread synchronization help prevent race condition introduces possibility type error deadlock deadlock occurs thread wait forever resource kitchen deadlock occur cook want measure cup milk time ﬁrst coo k grab measuring cup second cook grab milk ﬁrst cook need m ilk t ﬁnd second cook second cook need measuring cu p t ﬁnd ﬁrst cook cook continue mo get deadlock exactly thing happen program example thread like cook need obtain lock ob jects like milk measuring cup proceed deadlock easil y occur unless great care taken avoid volatile variable synchronization way controlling communicati thread cover technique later chapter ﬁn ish section technique volatile variable atomic variable general thread communicate sharing variable ac cessing variable synchronized method synchronized statement synchronization fairly expensive computationally excessive use avoided case make sense thread refer shared variable synchroniz ing access variable subtle problem arises value shared va riable set thread used way thread imple mented java second thread changed value variable immedi ately possible thread continue oldvalue shared variable time value variable changed thread cause thread allowed cacheshared data thread local copy o f shared data thread change value shared variable local c opies cache thread immediately changed thread contin ue old value brieﬂy safe use shared variable synchronized method statement long access variable synchronized using sync hronization object case precisely thread access variable synch ronized code guaranteed seechapter thread multiprocessing change thread long change s code synchronized object possible use shared variable safely outside synchronized code case variable declared volatile thevolatile keyword modiﬁer added global variable declaration private volatile int count variable declared volatile thread local copy variable cache instead thread use oﬃcial main c opy variable mean change variable immediately visible thread make safe thread refer volatile shared variable outside synchronized code access volatile variable eﬃcient acce s variable eﬃcient using synchronization remember th using volatile variable doe solve race condition occur example v alue variable incremented increment operation interrupted thread volatile modiﬁer applied object variable variable tself declaredtobevolatile notthecontentsoftheobjectthatt hevariablepointsto forthisreason volatile isusedmostlyforvariablesofsimpletypessuchasprimitiv etypesorimmutabletypes likestring typical example using volatile variable send sig nal thread tell second thread terminate thread wo uld share variable volatile boolean terminate false run method second thread check value terminate frequently end value terminate true public void run terminate false work thread run thread set value terminate true like really clean way thread cause nother thread die way wondering thread use loc al data cache ﬁrst place complicate thing unnecessarily c aching allowed structure multiprocessing computer multiproc essing computer processor local memory directly connected proce ssor thread s cache stored local memory processor threa d running access local memory faster access main memory sh ared processor eﬃcient thread use local copy shared vari able master copy stored main memory atomic variable problem statement like count count parallel programming take step execute statement statement correctly executed step completed thread multiprocessing anatomicoperation interrupted aﬀair partly completed computer operatio n atomic machine language level example machine langua ge instruction atomically increment value memory location instructio n used fear race condition program operation atomic liter ally atomic machine language level operation considered atomic c seenby thread partly completed example say threadsafecounter class deﬁned atomic increment operation synchronization c seen way ensuring operation eﬀectively atomic nice atomic operation don t r equire synchronization especially operation implemented eﬃciently hardware level java package deﬁnes class implement atomic operation simple variable type look class atomicinteger deﬁnes atomic operation integer value luding atomic add increment decrement suppose example want add integer value produced number diﬀerent thread natomicinteger private static atomicinteger total new atomicinteger total created initial value zero thre ad want add value total use method x add xto total return new value total xhas added atomic operation interrupted sure value total c orrect end sample program small variation us atomicinteger instead synchronization safely add value seve ral thread atomicinteger similar method adding total subtracti ng total method x set value total xand return previous value xi replacing operation atomically eit use atomic machine language instruction use synchronization internally close usual warning using atomic variabl e doe automatically solve race condition involving variable exam ple code int currenttotal x current total currenttotal possible time output statement execut ed total changed thread currenttotal longer current value total programming thread thread introduce new complexity programming important t ool essential future prog rammer know fundamental design pattern used thread t section look basic technique come chapter progresse thread versus timer basic us thread perform period ic task set interval fact basic specialized class perfo rming ve alreadychapter thread multiprocessing worked animationtimer class package introduced subsection animationtimer call handle method periodically program animation overriding method subclass animationtimer timer introduced thread used impl ement similar functionality suppose wanted similar thread like subroutine periodic interval say mil liseconds run method thread execute loop thread sleep millisecond wake subroutine implemented nest ed class follows using discussed subsection private class myanimator extends thread public void run true try catch interruptedexception e callsubroutine use class create object belonging nd start method stand way stop thread st arted way make possible end loop volatile boolean variable terminate true discussed subsection thread object executed order restart animation stopped way necessary create new thread section ll versatil e technique controlling thread subtle diﬀerence using thread using t imers animation thread used javafx aniamtiontimer doe handle routine repeatedly method actually executed javafx pplication thread handle repainting component response user acti ons important javafx doe use synchronization avoid race condi tions amongthreadstryingtoaccessguicomponentsandtheirstat evariables aslongaseverything application thread problem prob lem arise thread try manipulate component variable al o used gui thread using synchronization solution case best s olution probably use animationtimer possible really need use separate t hread able use r isastaticmethodinclass platform frompackage parameter object type runnable interface used creating thread r called thread purpose submit rto run javafx application thread r return immediately waiting rto run called application thread future time mean fraction second lmost immediately unless computer excessively busy runnables executed order submitted runnable called application thread safely operate gui synchronization convenient specify para meter achapter thread multiprocessing lambda expression type runnable use example chapter example sample program us thread drive simple animation example thread doe hing redraw methodeverytwoseconds themethodredrawsthecontentofa used execute redraw application thread user click button star t stop animation new thread created time anim ation started volatile boolean variable running set falsewhen user stop animation signal thread stop discussed subsection thread deﬁned following class private class runner extends thread public void run running redraw try wait second catch interruptedexception e recursion thread reason use separate thread drive animation wh en thread running recursive algorithm want redraw display time course recursion recursion covered section s diﬃcult break recursive algorithm series method call timer s natura l use single recursive method recursion s easy thread example program us animation illustrate recursive quicksort algorithm sorting array case array contains color goal sort color standard spectrum d violet program user click start button start process ord er color randomized quicksort called sort showing process s low motion sort start button change finish button used t o abort sort ﬁnishes s interesting program watch migh t help understand quicksort better try running program picture canvasneeds change time algorithm make changetothearray thearrayischangedintheanimationthr ead butthecorrespondingchange canvas javafx application thread discussed time call animation thread sleep millisecond allow time application threa d run runnable user change longer delay s econd just array randomized sorting start delay o ccur point code quicksortthreaddemo deﬁnes delay method make thread call sleep speciﬁed period interesting question implement finish ton abort sort terminate thread pressing button cause t value volatile booleanchapter thread multiprocessing variable running set false signal thread terminate problem button clicked time wh en algorithm level recursion thread terminate o f recursive method call return nice way cause throw exception quicksortthreaddemo deﬁnes new exception class threadterminationexception purpose delay method check value signal variable running ifrunning isfalse thedelay method throw exception cause recursive algorithm tually animation thread terminate delay method private void delay int millis running throw new threadterminationexception try millis catch interruptedexception e running check case changed sl eep period throw new threadterminationexception thethreadterminationexception caught thread s run method class defines thread run recursive quicksort algorithm thread begin randomizing hue array call quicksort sort entire arra y quicksort aborted threadterminationexceptio n caused user clicking finish button thread restore array sorted order befor e terminating quicksort aborte d array end sorted case end reset text button start private class runner extends thread public void run int hue array index order hue int randomize order hue int r int int temp hue r hue r hue assignment need loop hue temp value hue change assignment calling method sethue temp change value array use change color color bar canvas sethue temp try chapter thread multiprocessing delay wait second starting sort quicksort sort catch threadterminationexception e user aborted qui cksort color sorted order drawsorted method draw color bar sorted order drawsorted finally running false make sure running false really necessary thread terminated normally start program us variable runner type runnerto represent thread doe sorting user click start button follow ing code executed create start thread finish runner new runner running true set signal starting thread note value signal variable running set truebefore starting thread ifrunning werefalsewhen thread started thread value s soon start interpret signal stop doing nything remember called runnerstarts running parallel thread called user click finish button value running set tofalseas signal thread terminate thread slee ping finish button pressed case thread wake t act signal make thread little responsive program call wake thread sleeping subsection doesn t practical eﬀect program doe make program respond noticeabl y quickly user press finish immediately pressing start thr ead sleeping second thread background computation order gui program respon d event soon s important method program ﬁnish work quickly remember event queue generated computer respond event met hod previous event work mean event handler e xecuted event wait event handler take run user inte rface eﬀectively freeze time annoying delay mor e fraction second fortunately modern computer awful lot computa tion fraction second somecomputationsaretoobigtobedoneineventhan dlers orin runnables passed solution case computation anothe r thread run parallel thread m akes possible computerchapter thread multiprocessing respond user event computation ongoi ng say computation note application thread diﬀerent t previous example thread used drive simple animation actually doe v ery little work thread wake time second computation s update state variable frame animation arrange fra drawn leaf plenty time animation thread sleeping betwee n frame javafx application thread necessary redrawing gui handle ny event thread used background computation w e want computer busy possible working computation thread wi ll compete processor time thread careful fortunately youcanuset hreadprioritiestoavoidtheproblem setting computation thread run lower priority t han thread youmakesurethat event willbeprocessedasquicklyasposs ible whilethe computation thread extra processing time event handling generally us little time mean processing time go background computation interface responsive thread priority discusse d insubsection sample program example background processing program creates image take compute take computation compute color pixel ima ge image piece mathematical object known mandelbrot set use image example chapter outline backgroundcomputationdemo similar quicksortthreaddemo discussed computation thread deﬁned nested c lass runner avolatile boolean variable running used control thread value running set false thread terminate sample program butto n user click start abort computation diﬀerence t thread case meant run continuously sleeping allow user s ee progress computation good idea time thread c omputes row pixel us copy pixel image shown screen user see image built computation thread created response st art button need set run priority lower javafx application thre ad code creates thread running thread use priority priority thread executing code te priority set inside try catch statement error occurs trying set thread p riority program work smoothly priority correctly set thread created started runner new runner try ty catch exception e error t set thread priority e running true set signal starting thread chapter thread multiprocessing backgroundcomputationdemo work ok problem goal computation quickly possible using avail able processing time program accomplishes goal computer proces sor computer processor using oneof processor computation fact case business thread priority relevant animation thread application thread run run simultaneously diﬀerent processor nice allof processor working computation need real parallel processing comp utation thread turn problem thread multiprocessing ournextexample isavariationon backgroundcomputationdemo instead doing computation single thread divide problem thread user select numbe r thread used thread assigned section image compute th read perform task parallel example thread ﬁrst thr ead computes half image second thread computes half picture program nearing end computation using thread gra y area represent part image computed youshouldtryouttheprogram r thecomputationwillcomplete quickly using thread using just note using thread program behavior previous ex ample program theapproachusedinthisexamplefordividinguptheproblem amongthreadsisnotoptimal wewillseeinthenextsectionhowitcanbeimproved make good ﬁrst example multiprocessing user click start button program cr eate start speciﬁed number thread assign segment image t o thread chapter thread multiprocessing worker new runner threadcount hold computatio n thread int rowsperthread row pixel thr ead compute rowsperthread height threadcount height vertical size image running true set signal starting thread threadscompleted record thread terminated int threadcount int startrow row computed thread number int endrow row computed thread number create start thread compute row image fr om startrow endrow note make sure endrow thread row image startrow rowsperthread endrow endrow rowsperthread worker new runner startrow endrow try worker iority catch exception e worker creating thread change ne eded beneﬁts multiprocessing just previous example time thread computed color row pixel copy row image using thing new thread ﬁnished r unning button program change abort start menu disabled thread running led problem tell thread terminated think t use join wait thread end example subsection certainly t javafx application thread n example use instance variable threadsrunning track computation thread runn ing thread ﬁnishes call method subtracts f rom value variable method called finally clause trystatement make absolutely sure called thread end number running thread drop zero method update state program appropriately method called thread just terminating synchronized private void threadfinished threadsrunning threadsrunning thread finished make sure gui state correct thread end start false false running false make sure running false threa d end worker null discard array hold thread chapter thread multiprocessing note method synchronized avoid race condition threadsrunning decremented synchronization possibl e thread method time timing just ri ght thread read value threadsrunning answer decrement net result threadsrunning go instead thread properly counted threadsrunning zero program hang kind deadlock problem occur rarely s ince depends exact timing large program problem sort s erious hard debug proper synchronization make error impossible thread parallel processing example subsection previous section used parallel processing execute piece large task computer process or allows computation completed quickly way progr divided computation subtasks optimal way thread s managed section look version program ﬁrst imp roves way problem decomposed subtasks second improves way threa d used way ll introduce couple class java provides support parallel processing later section cover wait andnotify method used control parallel process directly problem decomposition sample program divide task computing image subtasks assigns subtask thread work ok problem subtasks substantially longer ot program divide imageupintoequalparts butthefactisthatsomepartsofth eimagerequiremorecomputation fact run program thread s ll notice middle piece take little longer compute p iece general dividing problem subproblems hard predict just ho w time solve subproblem let s say particular subproblem h appens lot longer thread computes subproblem ntinue run relatively long time thread completed time oneof computer s processor working rest idle simple example suppose computer proce ssors divide problem subproblems create thread run s ubproblem hope using processor answer half t ime using processor subproblem take time l onger solve time processor working case cut time needed answer manage divide problem subproblems th require equal amount computation t depend subproblem s requiring equal amount time solve example processor compute r busy running program processor simply slowe r likely running computation single computer b ut distributing computationchapter thread multiprocessing networked computer later th chapter diﬀerences processor speed major issue common technique dealing divide th e problem fairly large number subproblems processor mean processor solve subproblems time processor completes subtask assigned subtask work subtasks assigned course variation time var iou subtasks require processor complete subproblems work o ne particularly diﬃcult case slow busy processor complete subpro blems processor ﬁnishes ﬁve processor work pace long subproblems fairly small processor kept busy ne ar end computation known load balancing computational load balanced available processor order busy possible urse processor ﬁnish longer time take t o complete longest subtask subproblems small toosmall computational overhead involved creating subproble m assigning processor subproblems small overhead add sign iﬁcantly total work example program task c ompute color pixel image dividing task subtasks poss ibility subtask compute just pixel subtasks produced way probably small instead subtask program computes color f row pixel row pixel image number subtasks fairly large subtask fairly large result fa irly good load balancing reasonable overhead note way problem working ve ry easy parallel programming divide problem calculating im age subproblems subproblems completely independent possible work number simultaneously order thing lot complicated somesubtasksproduceresultsthatarerequiredbyothersub task inthatcase thesubtasksare independent order subtasks perf ormed important furthermore way result subtask shar ed task subtasks executed diﬀerent thread raise t issue involved controlling access thread shared resource general decomposing problem parallel processing diﬃcult appear relatively simple example s topic course parallel computing introductory programming course thread pool task queue decided decompose task subtasks th ere question assign subtasks thread typically riented approach subtask represented object task represents com putation s natural object represents instance method doe s computation execute task necessary computation method program computation method called run task object implement standard runnable interface discussed subsection interface natural way represent computational task s possible create new thread runnable doesn t really make sense task signiﬁc ant overhead involvedchapter thread multiprocessing creating new thread better alternative creat e just thread let thread execute number task optimal number thread use entirely clear d depend exactly problem trying solve goal computer s processor busy example work create t hread available processor won t true problem particular th read block time waiting event access resource want extra thread processor run thr eads blocked ll encounter exactly situation turn using thread net working section thread available performing task th ose thread called thread pool thread pool used avoid creating new thread perfo rm task instead task need performed assigned idl e thread thread thread pool busy addition al task wait thread idle natural applicatio n queue associated thread pool queue waiting task task av ailable added queue time thread ﬁnishes task go q ueue task work note task queue thread pool thread pool use queue queue shared resource alway s shared resource race condition possible synchronization essential synchronization example possible thread trying item qu eue time end retrieving item spot race condit ion dequeue method subsection javahas class solve problem concurrentlinkedqueue class useful parallel programming deﬁned p parameterized class create queue hold ob jects type runnable say concurrentlinkedqueue runnable queue new concurrentl inkedqueue class represents queue implemented linked list operation queue properly synchronized operation concurrentlinkedqueue exactly queue operation used method adding new ite m x end queueis x method removing item method return nullif queue poll used test queue retrieve item make sense thing way testing queue mpty taking item queue involves race condition synchronizati possible thread remove item queue time yo u check queue time try item qu eue time try item s hand atomic operation subsection useconcurrentlinkedqueue example use queue thread pool begin computation image c reate task make image add queue create s tart worker thread execute task thread run loop get task queue calling queue s poll method carry task task object ofchapter thread multiprocessing typerunnable necessary thread task s run method poll method return null queue thread terminate t task assigned thread sample program implement idea us queue taskqueue type concurrentlinkedqueue runnable hold task addition order allow user abort computation ﬁnishes us volatile boolean variablerunning signal thread user abort computation th e thread terminate variable set false task remaining queue thread deﬁned nested class named workerthread quite short simple write private class workerthread extends thread public void run try running runnable task task queu task null break queue execute task finally threadfinished record fact thread term inated finally make sure get program us nested class named mandelbrottask represent task computing row pixel image class implement runnable interface run method doe actual work compute color pixel apply color image program doe start computation detail omitted taskqueue new concurrentlinkedqueue runnable cr eate queue int row row height height number ro w image mandelbrottask task task create task compute row image task add task int threadcount number thread pool selec ted user worker new workerthread threadcount running true set signal starting thread threadsremaining worker record thread running int threadcount worker new workerthread try worker iority catch exception e worker chapter thread multiprocessing note important task added queue beforethe thread started thread queue signal terminate queue thread started queue termin ate immediately started performing task try computes image row pixel computed order program thread look ca refully row pixel added image strict order t op possible thread ﬁnish row number thread working rowi earlier row eﬀect apparent yo u use thread processor try thread blocking queue creates entirely new thread pool time draw ima ge wasteful shouldn t possible create set thread beginning program use image need computed fter idea thread pool thread sit wait task t o come execute problem far way make thread waitfor task come use called blocking queue blocking queue implementation classic pa tterns parallel processing pattern pattern arises prod ucers produce thing consumer consume th ose thing producer consumer able work simultaneously parallel processing thing ready processed consumer wait u ntil produced application producer wait thi ng consumed rate say minute doesn t make sense produce r produce indeﬁnitely rate minute just lead unlimite d thing waiting processed s useful limit o n number thing waiting processing limit reached produ cer wait producing thing need way thing producer consum er queue obvious answer producer place item queue prod uced consumer remove item end queue producer producer producer consumer consumer consumer queue talking parallel processing need synchronize d queue need queue need way consumer waituntil item appears queue queue need way prod ucerswaituntil space open queue application producer consum er thread thread suspended waiting happen said b locked type queuechapter thread multiprocessing need called blocking queue blocking queue t operation dequeueing item queue block queue thread try dequeue item queue thread suspended n item available time wake retrieve item proceed si milarly queue limited capacity producer try enqueue item block f space queue java class implement blocking queue linkedblockingqueue ingqueue parameterized type allow specify ty pe item queue hold class deﬁned package implement interface called blockingqueue ifbqueueis blocking queue belonging class following operation deﬁned remove item queue return queue method called thread called blo ck item available method throw interruptedexception thread interrupted blocked item add itemto queue queue limited capacity thread called block space open queue method throw interruptedexception thread interrupted blocked item add itemto queue space available queue limited capacity illegalstateexception thrown method doe block remove item queue discard java s blocking queue deﬁne additional method e xample similar block longer millisecon d thefourlistedherearesuﬃcientforourpurposes notethat ihavelistedtwomethodsforadding item queue item block space available queue appropriate use blocking queue lim ited capacity item doe block appropriate use blocking q ueues unlimited capacity anarrayblockingqueue maximum capacity speciﬁed constructe example create blocking queue hold o bjects type itemtype say arrayblockingqueue itemtype bqueue new arrayblocking queue declaration item block bqueuealready contains item item throw exception case recall ensure s item produced indeﬁnitely rate faster sumed linkedblockingqueue meant creating blocking queue unlimited capaci ty example linkedblockingqueue itemtype bqueue new linkedblocki ngqueue creates queue upper limit number item contain case item block item throw illegalstateexception use linkedblockingqueue want avoid blocking producer way ensurin g queue grow arbitrary size type blocking queue block queue thread multiprocessing sample program us alinkedblockingqueue place concurrentlinkedqueue previous version example queue hold task item type runnable queue declared instance variable named taskqueue linkedblockingqueue runnable taskqueue user click start button s time compu te image task makeupthecomputationareputintothisqueue thisisdoneb task task s important bl ocking task created thread don t want block queue program grow indeﬁnitely program work e image time task image just previous version program worker thread s belonging thread pool remove task queue carry case thread created beginning ﬁ rst time start button samethreads arereusedfor number ima ge therearenotasks execute task queue worker thread b lock task available worker thread run inﬁnite loop processing task forever spend lot time blocked waiting task added queue inner class deﬁnes worker thread class defines worker thread make threa d pool workerthread run loop retrieves task fro m taskqueue call run method task note queue thread block task av ailable queue constructor start thread need main program thread run pri ority priority thread call th e constructor workerthread designed run infinite loop wil l end java virtual machine exit assumes task executed don t throw exception s true program constructor set thread run daemon thread java virtual machine exit automat ically thread daemon thread existence thread pool stop jvm exiting private class workerthread extends thread workerthread try setpriority catch exception e try setdaemon true catch exception e start thread start soon thread multiprocessing public void run true try runnable task wait task necess ary catch interruptedexception e look closely thread pool work w orker thread created started task perform thread imme diately call task queue worker thread blo ck soon started start computation image threa d create task add queue soon happens worker thread wak e start processing task continue doing queue emptied n ote computer worker thread start processing whi le event thread adding task queue queue worker threa d sleep processing start image interesting point program want able abort computation ﬁnishes don t want worker thread ter minate happens user click abort button program call prevents task assigned worker thread s ome task likely beingexecutedwhenthetaskqueueiscleared thosetaskswi llcomplete afterthecomputation subtasks supposedly aborted subtasks complete don t want output applied image solution assign job number computation job job number current job stored instance variable named jobnum task object instance variable tell task job job e job ﬁnishes user abort value jobnumis incremented task completes job number stored task object mpared jobnum equal task current job output applied image equal task previous job output discarded s important access jobnumbe properly synchronized thread check job number just thread incrementing t output meant old job sneak job aborted th e program method access change jobnumare synchronized read source code work onemorepointabout ihavenotprovidedanywaytoterminate worker thread program continue run java virtual machine exit allow thread termination use avolatile signaling variable running set value falsewhen want worker thread terminate run method thread replaced public void run chapter thread multiprocessing running try runnable task catch interruptedexception e thread blocked new value running unblocked ensure happens s necessary worker thread worker just setting runnertofalse worker thread executing task running set false thread terminate task completed task rea sonably short problem task longer execute willing wai t thread terminate task check value running periodically exit value false executorservice approach thread pool common parallel programming surprising java higher level tool creating managing thread pool t interface executorservice deﬁnes service execute task submitted t o class executor contains staticmethods used create executorservices various type particular n wherenis anint creates thread pool nthreads thread pool thread available pr ocessor say int processor or executorservice executor l processor method task used submit runnable object task execution method return immediately placing taskinto queue waiting task thread thread pool remove task queue exe cute method tell thread pool shut waiting task executed method return immediately w ithout waiting thread ﬁnish method called legal add new task notan error callshutdown thread thread pool daemon t hreads service shut existence thread w ill stop java virtual machine shutting thread exited e xiting thread pool complete task removed queue method similar discard waiting task queue try sto p task currently executed sample program variation us executorservice instead using thread blocking queue directly sin ce easy way executorservice drop waiting task shutting creates new executorservice time computes new image chapter thread multiprocessing task executorservice represented object type callable t parameterized functional interface deﬁnes met hodcall parameter return type acallablerepresents task output value acallable c submitted executorservice calling c callable willthenbeexecutedatsomefuturetime theproblemis togettheresultofthe computation completes problem solved ano ther interface future t represents value type tthat available future time metho d c return futurethat represents result future computation afuture v deﬁnes method including function called check result ava ilable retrieve value future method block value available generate exception need called try catch statement asanexample usescallables future andanexecutorservice tocountthe number prime certain range integer s ame useless computation insubsection program subtask count prime subrange integer subtasks repres ented object type callable integer deﬁned nested class object belonging class count prime spec ified range integer range min max inclusive m max given parameter constructor counting method return number prime w ere private static class countprimestask implement callable integer int min max public countprimestask int min int max min max public integer int count countprimes min max doe counting return count subtasks submitted thread pool implemented s anexecutorservice futuresthat returned saved array list outline int processor or executorservice executor l processor arraylist future integer result new arraylist int numberoftasks countprimestask onetask future integer oneresult onetask oneresult save future representing t future result chapter thread multiprocessing integer output subtasks need add ed ﬁnal result output subtasks obtained using method future list block result available process completes subtasks ﬁnished int total future integer re result try total wait task complete catch exception e occur wait notify suppose wanted implement blocking queue t o able make thread block just event occurs threa d iswaitingfor event occur notiﬁedwhen happens thread involved event wake thread caused action n thread adding item queue note just issue blocking queue whene ver thread produce sort result needed thread imposes restriction order thread computation second th read get point need result ﬁrst thread stop wait result produced second thread t continue s sleep way notify second thread result s ready wake continue computation java course way kind waiting ifying wait notify method deﬁned instance method class objectand used object method used internally bloc king queue fairly tricky use high control strategy blocking queue possible s nice know ab outwait andnotify case need use directly don t know actually used java s standard blocking queue class java way o f solving problem reason wait andnotify associated object obvious don t worry point doe make t possible direct diﬀerent notiﬁcations diﬀerent recipient depending ob ject snotify method called general idea thread call wait method object thread go sleep notify method sameobject called called obviously thread thread called wait sleeping typical pattern thread call wait need result thread b result available thread b result ready call notify wake thread waiting use result e rror notify waiting just eﬀect implement threa d execute code similar following objis object resultisavailable false wait notification result avai lable usetheresult chapter thread multiprocessing thread b doe like generatetheresult send notification result vailable really nasty race condition code t wo thread execute code following order thread check resultisavailable find sult ready decides execute statement befor e doe thread b finish generating result call ify thread call wait notification th e result ready step thread waiting notiﬁcation neve r come notify thisisakindofdeadlockthatc anleavethreadawaitingforever obviously need kind synchronization soluti enclose thread s code thread b s code synchronized statement natural synchronize object obj used call wait andnotify fact synchronization needed wait andnotify used java make absolute requirement java thread legally thread hold synchronization lock associated wi th object obj doe hold lock exception thrown exception t ypeillegalmonitorstateexception doe require mandatory handling typic ally caught complication wait method throw interruptedexception called trystatement handle exception make thing deﬁnite let s consider sult computed thread thread need result s impliﬁed problem item produced consumed assu shared variable named sharedresult used transfer result producer consumer result ready producer set var iable value consumer check result ready testing whe ther value sharedresult null use variable named lockfor synchronization code producer thread form makeresult generatetheresult synchronized synchronized lock sharedresult makeresult consumer execute code synchronized lock sharedresult null try catch interruptedexception e useresult sharedresult usetheresult useresult synchronized chapter thread multiprocessing thecallsto generatetheresult andusetheresult arenotsynchronized whichallows run parallel thread syn chronize lock sharedresult shared variable reference sharedresult synchronized reference sharedresult inside synchronized statement goal little possible synchronized cod e segment uncommonly alert notice funn y doe ﬁnish executed method called synchronized statement synchronize object shouldn t t impossible method running time fact special case thread call give lock hold synchronization obj ect give thread chance execute synchronized lock block contains statement second thread exit block th e lock returned consumer thread continue pattern multiple result ar e produced producer thread consumed consumer thr eads instead having just onesharedresult object list object produced n ot consumed let s work simple class implement operation linkedblockingqueue runnable used import public class mylinkedblockingqueue private linkedlist runnable tasklist new linkedlist r unnable public void clear synchronized tasklist public void add runnable task synchronized tasklist task public runnable throw interruptedexception synchronized tasklist return object class used direct replacement thetaskqueue class chosen synchronize tasklist object object used fact simply use synchronized method equivalent synchronizing onthis note wait ornotify asynchronized instancechapter thread multiprocessing method reference object used member wait notify context really mean way essential synchronized object doesn t wait ornotify race condition occur list cleared just method check tasklist remove item list th case list time called resulting error possible thread waiting notiﬁcat ion wake thread waiting obj want wake thread waiting obj work ok example consumer thread blocked onl y need wake consumer thread task added queue doesn t matter consumer get task consider blocking queue limited capacity p roducers consumer block item added queue want make sure t hat consumer thread notiﬁed just producer solution notifyall instead notify notify thread including waiting consume mention possible confusion t method method doe notnotifyobjof notiﬁes thread called thread similarly snotobjthat waiting s thread call method ﬁnal note wait version wait take number millisecond parameter thread call millisecond wait speciﬁed number millisecond notiﬁcation notiﬁcation doesn t occur period thread wake continue notiﬁcation practice feature used let waiting thread wake period ically waiting order perform periodic task causing message wai ting computation ﬁnish blink let s look example us wait andnotify allow thread control sample program solves tower hanoi puzzle subsection control button allow user control exe cution algorithm user click step button execute just step solution move single disk pile clicking run let algorithm run automatically text button change run pause clicking pause stop automatic execution star t button abort current solution put puzzle initial nﬁguration picture program middle solution including button chapter thread multiprocessing program thread thread run cursive algorithm solve puzzle thread reacts user ac tions user click button method called thread s actually thread running recursion respond example doing step solution starting thread send rt signal solution thread setting value variable shared b y thread variable namedstatus possible value constant pause step andrestart thread change value var iable solution thread new value respond statusequalspause solution thread paused waiting user click run step th initial state program start user click step event thread set value statusto step solution thread new value spond executing step solution resetting statustopause user click run statusis set togo cause solution thread run automaticall user click pause solution running statusis reset pause solution thread return paused state user click start t thread set status torestart solution thread respond ending curren t recursive solution main point solution thread pause d issleeping won t new value statusunless wake make possible program us wait solution thread thread sleep us notify thread wake solution thread change value o fstatus method respond click button user click b utton corresponding method change value statusand call notify wake solution thread synchronized private void dostopgo status animation running pause status pause false run animation paused start running status true disabled anima tion running pause notify wake thread new status val ue synchronized private void donextstep status step notify synchronized private void dorestart status restart notify method synchronized allow call notify remember notify method object called thread hold th object s synchronization lock case synchronization object synchronization necessary becausechapter thread multiprocessing race condition arise fact value statuscan changed solution thread solution thread call method named checkstatus check value status method call wait status pause put solution thread sleep thread call notify note status restart checkstatus throw illegalstateexception synchronized private void checkstatus status pause try wait catch interruptedexception e point status run step restart status restart throw new illegalstateexception restart point status run step solution shoul d therun method solution thread set initial state th e puzzle call solve method solve puzzle run inﬁnite loop t solve puzzle multiple time implement fy control strategy run call checkstatus beforestartingthe solution solve callscheckstatus ifcheckstatus throw illegalstateexception solve terminated early used method throwing exception terminate cursive algorithm subsection check source code ﬁts complete program want learn use wait andnotify directly understanding example good place start thread networking previous chapter looked example network programming example showed create network connection commu nicate didn t deal fundamental characteristic n etwork programming fact network communication asynchronous point vi ew program end network connection message arrive connection time arrival message eventthat control program receiving message networking api woul d good approach dealing asynchronous nature network communication approach taken java instead network programming java typical ly usesthreads blocking problem covered section network programming us socket socket sense th using term represents end network nection socket associated input stream output stream data written t output stream end ofchapter thread multiprocessing connection transmitted network appears n input stream end program want read data socket s input stream call input stream s input method possible data alre ady arrived input method called case input method retrieves th e data return immediately likely input method wait d ata arrive connection data arrives input method nd thread called blocked itisalsopossibleforanoutputmethodinasocket soutputs treamtoblock thiscanhappen program try output data socket faster t data transmitted network s little complicated socket us buﬀ er hold data supposed transmitted network buﬀer just block m emory used like queue output method drop data buﬀer lower software remove data buﬀer transmits network buﬀer ﬁlls output method block space available buﬀer note w hen output method return doesn t mean data gone just mean data gone buﬀer scheduled later transmission say network communication us blocking input output operation network block indeﬁnite period time program use network prepared deal blocking c as s acceptable program simply shut processing wait input happens command line program read input typed user use r input type blocking thread make possible pa rts program continue doing useful work part blocked network client p rogram sends request server single thread el se waiting server s response network server program h typically connected client time waiting data arrive client server certainly thing communicat e client server us diﬀerent thread handle communication wi th diﬀerent client fact client blocked won t stop server comm unicating client s important understand using thread deal blocking diﬀers fundamental way using thread speed computation using thread insubsection sense use thread available processor processor available using thread y ield fact slow thing extra overhead involve d creating managing thread case blocking hand make sen e thread processor given time thread blocked active unblocked thread competing processing tim ideal case processor busy want activethread processor actually somewhat average allow variation time number active thread network server program example thread generally spendmostof time blocked waiting operation complete thread block ed say time d like time thread processor computer just single processor server program c make good use large number thread multiprocessing asynchronous network chat program asaﬁrstexampleofusingthreadsfornetworkcommunication weconsideraguichatprogram chat program section use protocol communi cation user connection enters message user wait f reply connection asynchronous chat program n icer program user just typing line sending message wa iting response message di splayed soon arrive s easy interface s natural application graphical user interface basic idea gui chat program cre ate thread job read message arrive connection s soon message arrives displayed user threa d block incoming message arrives blocked thread s continue run particular thread responds user action kee p running thread send outgoing message soon user generates theguichat program act client end server end c onnection refer subsection information client server work program listen port button user click t o create server socket listen incoming connection request make t program act server connect button user click send nnection request make program act client usual server listens s peciﬁed port number client need know computer server runni ng port server listening input box guichat window user enter information connection established guichat window user send message window input box er type message pressing return sends message mean sending m essage handled usual inresponsetoaneventgeneratedby auseraction messagesarereceived separate thread just sits waiting incomi ng message thread block waiting message arrive message doe arr ive display message user window contains large transcript area di splay incoming outgoing message information network nnection urge compile source code try program try single computer run copy program th computer make connection program window program window using localhost computer urge rea d source code discus part program us nested class connectionhandler handle task connectionhandler subclass thread theconnectionhandler thread responsible opening network connection reading incomin g message connection opened putting code separate thread make sure gui blocked connection open ed like reading incoming message opening connection blocking operation time complete theconnectionhandler handle opening connection program act server act client thread created use r click listen button connect button listen button make th e thread act server connect make act client distinguish c as connectionhandler classchapter thread multiprocessing constructor shown note postmessage method post message transcript area window visible user listen connection specified port constructo r doe perform network operation just set instance variable start thread note thread listen connection close server socket connectionhandler int port acting state port postmessage port port try setdaemon true catch exception e start open connection specified computer port con tructor doe perform network operation just set instance variable start thread connectionhandler string remotehost int port ac ting client state remotehost port postmessage remotehost port po rt try setdaemon true catch exception e start stateis instance variable type deﬁned enumerated type enum connectionstate listening connecting connected closed value enumrepresent diﬀerent possible state network connecti useful treat network connection state machine seesubsection response various event depend state conn ection event occurs setting statevariable listening orconnecting tell thread act server client setting connection thread started executes following run method run method executed thread open connection client server depending constructor used public void run try state open connection server listener new serversocket port socket chapter thread multiprocessing state open connection client socket new socket remotehost port connectionopened set use connection inclu ding creating bufferedreader reading incoming message state read line text connection report user string input input null connectionclosedfromotherside close socket rep ort user received input report message catch exception e error occurred report user connection closed error expected error generated socket closed state postmessage error e finally clean terminating thread cleanup method call method work general outline work opening connection eith er server client run method enters whileloop receives process message oth er connection connection closed importa nt understand connection closed guichat window disconnect button user click cl ose connection program responds event closin g socket represents connectionandbysettingtheconnectionstateto thread blocked method waiting incoming message socket closed gui thread met hod fail throw exception exception cause thread terminate thread happens call socket closed whileloop terminate connection state change connected toclosed note closing window close connection way possible user connec tion close connection happens stream incoming message end connection return value null indicates act signal connection closed remote user ﬁnal look guichat code consider method send receive message method called diﬀerent thread send method called handling thread response user action purpose transmit mess age remotechapter thread multiprocessing user conceivable likely data ou tput operation block socket s output buﬀer ﬁlls sophisticated program possibility account using thread transmit outgoing messag e send method us printwriter writes socket s output stream synchronizatio n method prevents connection state changing middle send operation send message connection post t message transcript called t connection state c alled time ignored synchronized void send string message state postmessage send message message postmessage occurred trying send data close close thereceived method called thread message read remote user job display messa ge user synchronized avoid race condition occur connection state changed thread method executed called run method message received connection message posted th e transcript connection state connected message received user cli cked disconnect button message seen user synchronized private void received string message state postmessage receive message threaded network server thread used network server program allo w server deal client time client stay connected extended period time client shouldn t wait service inter action client expected brief t assume case allow possibility misbehaving stay connect ed sending data server expects hang thread indeﬁnitely threaded server thread carry thread multiprocessing sample program subsection extremely simple network server program doe use thread serve r ﬁnish client accept connection client let s turn dateserver threaded server server simple doing s o doesn t make great deal sense technique work compl icated server example exercise note client program implement client date server doe need use thread cl ient us connection original client program work new version th e server ﬁrst attempt consider sample program creates new thread time connection request received in tead handling connection calling subroutine main program simply crea te thread hand connection thread take little time particular block run method thread handle connection exactly sa way handled original program diﬃcult program s new version program signiﬁcant change shown italic e constructor connection thread doe little particular block important constructor run main thread import import import program server take connection request port specified constant listening port connection opened program sends current time connected socket program continue receive process connection killed example version program creates new thread connection request public class dateserverwiththreads public static final int listening port public static void main string args serversocket listener listens incoming connection socket connection communication connectin g program accept process connection forever err occurs try listener new serversocket listening port listening port listening port true accept connection request create thread handle connection connectionhandler handler new connectionhandler conne ction chapter thread multiprocessing catch exception e sorry server shut error e return end main defines thread handle connection client private static class connectionhandler extends thread socket client connection client connectionhandler socket socket client socket public void run code copied original dateserver program string clientaddress g try connection clientaddress date new date current date time printwriter outgoing stream sending data outgoing new printwriter make sure data actually sent catch exception e error connection clientaddress e class dateserverwiththreads interesting change end run method ve added clientaddress output error message did identify whic h connection error message refers thread run parallel s possible o utputs diﬀerent thread intermingled various order message thre ad don t necessarily come output separated message thread just complication mind working thread using thread pool s eﬃcient create new thread connect ion especially connection typically fortunately alternative thread pool subsection improved version server us thread pool thread pool run inﬁnite loop tim e loop handle connection need way main program send conn ections thread schapter thread multiprocessing natural use blocking queue subsection namedconnectionqueue purpose thread take connection q ueue blocking queue thread block queue wake nnection available queue synchronization communication tec hnique needed s built blocking queue run method thread public void run true socket client try client block item av catch interruptedexception e continue interrupted just start l oop string clientaddress g try connection clientaddress handled thread date new date current date time printwriter outgoing stream sending data outgoing new printwriter make sure data actually sent catch exception e error connection clientaddress e main program meantime run inﬁnite loop w hich connection accepted added queue true accept connection request queue connection try connection block queue fu catch interruptedexception e queue program type arrayblockingqueue socket limited capacity operation queue block queue wai t want avoid blocking main program main prog ram blocked server longer accepting connection client trying connect kept waiting better use linkedblockingqueue unlimited capacity fact connection blocking queue waiting anywa y serviced queue grows unreasonably long connection que ue wait unreasonable time queue keep growing inde ﬁnitely just mean thatchapter thread multiprocessing server receiving connection request faster c process happen reason server simply powerfu l handle volume traﬃc getting need buy new server hap thread pool doesn t thread fully utilize server increase size thread pool match server s capability maybe server u nder denial service attack bad guy deliberately sending server mor e request handle attempt legitimate client getting se rvice case arrayblockingqueue limited capacity correct choice queue short connection queue n ot wait long service real server size queue number thread thread pool adjusted tune server account par ticular hardware network server running nature client quest typically process optimal tuning general diﬃcult problem way way thing wrong sup pose server need read data client client doesn t send data thread trying read data block indeﬁnitely waiting f input thread pool used happen thread pool t hat case processing place solution problem nnections time inactive excessive period time typically nnection thread track time received data client serve r run thread called reaper thread grim reaper wake u p periodically check connection thread long inactive conn ection thread waiting long input terminated new thread s tarted place question long timeout period diﬃcult tu ning issue distributed computing seen thread used parallel processing number processor work complete task far assumed t hat processor inside computer parallel process ing using processor diﬀerent computer long computer ar e connected network communicate type parallelprocessin anumber computer work task communicate cal leddistributed computing sense internet immense distributed c omputation interested computer network cooperate sol ve computational problem approach used distribute d computing java general technique standard java rmi remote method invocation rmi enables program running computer method object t hat exist computer make possible design program diﬀerent part program executed diﬀerent computer commonly t case networking problem locating service case se rvice mean object available called network computer know computer aserviceislocatedonandwhat portitislisteningon rmiso lvesthisproblemusinga request broker server program running known location ke eps list service available computer computer oﬀer service register service request broker computer need service know l ocation broker contact ﬁnd service available th ey located rmi complex easy use mention t arechapter thread multiprocessing java s standard network api discus instead look relatively simple demonstration distributed computin g us basic networking problem consider used insection section variation computation complex image case program gui program image shown screen computation us th e simplest type parallel programming problem broken ta k performed independently communication task apply distributed computing type problem use master program div ides problem task sends task network worker program actual work worker program send result master program whic h combine result task solution overall problem cont ext worker program called slave program us approach distributed computing demonstration program deﬁned source code ﬁle s deﬁnes master program deﬁnes worker program deﬁnestheclassthatrepresentstheindividualtasksthata reperformed worker master divide overall problem collection task distributes task worker execute task sen d result master master applies result individual ta sks overall problem run demonstration ﬁrst start clmandelbrotworker program computer probablybyrunningitonthecommandline programuses clmandelbrottask class ﬁles present worker computer run clmandelbrotmaster master computer note master program requires cla ssclmandelbrottask specifythe host nameor ipaddress ofeach oftheworker compu tersascommand linearguments forclmandelbrotmaster worker program listen connection request th e master program master program told send tho se request example worker program running computer ip addr esses run clmandelbrotmaster command java clmandelbrotmaster master make network connection worker eac h ip address connection used communication master program d worker possible run copy clmandelbrotworker computer listen network connection diﬀerent port possible run clmandelbrotworker computer clmandelbrotmaster computer p rocessors comment program source code ﬁles information command use run master program copy worker prog ram computer command separate command window java clmandelbrotworker listens default port java clmandelbrotworker listens port java clmandelbrotmaster localhost time clmandelbrotmaster run solves exactly problem demonstration nature problem important b ut problem compute thechapter thread multiprocessing data needed picture small piece famous mande lbrot interested seeing picture produced uncomment thesaveimage method end main routine run clmandelbrotmaster diﬀerent number worker program time required solve problem depends number o f worker note worker program continue run master program exit run master program time having restart w orkers addition run clmandelbrotmaster command line argument solve entire prob lem long take using dist ributed computing trial thatiranonsomeveryold slowcomputers forclmandelbrotmaster tosolve problem using just worker took secon d extra time represents extra work involved using network take time set network connection send message network using worker diﬀe rent computer problem solved second case worker did h alf work computation performed parallel job half time larger number worker time continued decrease b ut point master program certain work matter ho w worker total time solve problem t time take master program case minimum time t o ﬁve second let s look distributed application prog rammed master program divide overall problem set task task r epresented object type clmandelbrottask task communicated worker program worker program send result protocol needed communication decided use character stream master encodes task line text sent worker worker decodes text object typ eclmandelbrottask ﬁnd task supposed perform performs assig ned task encodes result line text sends master prog ram finally master decodes result combine result ta k task completed result combined problem solved aclmandelbrotworker receives just task sequence task time ﬁnishes task sends result assigned ne w task task completed worker receives close command tell close connection method named handleconnection called handle connection opened master program us method readtask decode task receives master method writeresults encode result task transmission master handle error occur private static void handleconnection socket connection try bufferedreader new bufferedreader new inputstreamreader printwriter new printwriter tream true string line message master line null encountered happen throw new exception connection closed unexpectedly chapter thread multiprocessing close connection command represents normal termination connection received close command break task command represents clmandelbrottask worker supposed perform clmandelbrottask task readtask line decode mess age perform task writeresults task send result make sure data sent promptly message protocol throw new exception illegal command received catch exception e client connection closed error e finally try make sure socket catch exception e note method notexecuted separate thread worker thing t o time doe need multithreaded turning master program encounter complex situation master program communicate severa l worker network connection accomplish master program mult thread manage communication worker pseudocode outlin e themain routine quite simple create task performed add queue command line argument master program doe task remove task queue perform task performed worker program command line argument information worker command line argument create start thread send task worker wait thread task complete assuming error occurred thread multiprocessing task variable type concurrentblockingqueue clmandelbrottask namedtasks seesubsection communication thread task queue send worker program method used remove task queue queue return null act signal task assigned communication thread terminate job thread send sequence task worker thr ead receive result worker sends thread respon sible opening connection ﬁrst place pseudocode outline process execu ted thread look like create socket connected worker program create input output stream communicating w orker true let task task null break task assigned encode task message transmit worker read response worker decode process send close command worker close socket work subtle point fi rst thread readytodealwithanetworkerror forexample aworkermigh tshutdownunexpectedly butif happens master program continue provided oth er worker available try run program stop worker pr ograms observe master program completes success fully diﬃculty arises error occurs thread working task prob lem going completed task reassigned worker care putting uncompleted task task list unfor tunately program doe handle possible error worker thread fails left uncompleted task network connection ha ng indeﬁnitely actually generating error program hang waiting response worker arrive robust program way o f detecting problem reassigning task defect procedure outlined lea f worker program idle thread master program processing work er s response nice new task worker processing response previous task worker busy allow operation procee d simultaneously instead sequentially example time take process response short keeping worker waiting probably make signiﬁc ant diﬀerence general principle s desirable parallelism po sible algorithm modify procedure account try create socket connected worker program create input output stream communicating w orker let currenttask currenttask null encode currenttask message send worker currenttask null chapter thread multiprocessing read response worker let nexttask nexttask null send nexttask worker processing response currenttask encode nexttask message send decode process response currenttask currenttask send close command worker close catch exception e uncompleted task task finally close translates java check workerconnection nested class network programming example networked game framework section present program use networking thread commo n problem application support network communica tion program running diﬀerent computer typical example pplication networked game player problem come le s frivolous application ﬁrst section describes framework t hat used variety application rest section discusses t hree speciﬁc application use framework fairly complex example probably t complex book understanding essential basic understanding networking section inspired pair student alexander ki ttelberger kieran koehnlein wanted write networked poker game ﬁna l project class teaching helped network proje ct writing basic framework support communication player app lication illustrates variety important idea decided include somewhat advanc ed general version framework book ﬁnal example section n etworked poker game netgame framework imagine playing diﬀerent game network far network go game thing common way action taken player communicated network oth er player make good programming sense make capability available reu sable common core used diﬀerent game written core d eﬁned class thread multiprocessing package book aside ing class package introduced subsection stuck default package programming example practice package s used simplest programming project divide code group relat ed class make particularly good sense deﬁne reusable framework package included unit variety project integrated development environment eclipse make t easy use package use netgame package project ide simply entire netgame directory project course netgames use ja vafx need use eclipse project conﬁgured support javafx discussed section work command line working dire ctory includes netgame directory subdirectory need add javafx option t o thejavacandjava command let s say ve deﬁned jfxcandjfxcommands equivalent thejavacandjavawith javafx option included discussed subsection compile java ﬁles package example use following command macos linux jfxc window use backslashes instead forward s lash jfxc need similar command compile source code example section deﬁned subpackages netgame run main program deﬁned package ag ain directory contains package subdirectory u se class want run example chatroomwindow class discussed later section deﬁned package run command jfx application discussed section example d istributed computing involveseveralcomputerscommunicatingoveranetwork li ketheexamplein use central server master number client connect communication go server client send message directly client section refer server hub sense communication hub client hub clientclientclientchapter thread multiprocessing main thing need understand hub m ust running client started client connect hub se nd message hub hub process message client sequentially th e order received processing result hub sending message o ne client client identiﬁed unique id number framework used variety application message processing deﬁne d particular application detail messagesweresentbackandforthbetweentheserverandthe clientina deﬁnite predetermined sequence communication t server client actually communication thread running server nother thread running client netgame framework want allow f asynchronous communication possible wait message arrive p redictable sequence make possible netgame client use thread commu nication sending message hub receiving message hub simila rly netgame hub use thread communicating eachclient hub generally connected client receiv e message client time hub process message way organize processing hub us single thread process ncoming message communication thread receives message client si mply drop message queue incoming message queue wh ich used message client message processing thread run loop w hich remove message queue process remove message qu eue process queue implemented object type linkedblockingqueue seesubsection receive sendincoming message queue message processing threadhub receive threadsend thread client thread hub shown illustrat ion ﬁnal thread creates aserversocket us listen connection request client e ach time accepts connection request hand oﬀ client socket anothe r object deﬁned nested classconnectiontoclient handle communication client nected client identiﬁed id number id number assigned client connect client disconnect client nected time consecutive id variable type treemap integer connectiontoclient associate id number connected client object handle connection message sent received object s treams used reading writing object type objectinputstream andobjectoutputstream subsection output stream socket wrapped objectoutputstream make possible transmit object socket th e socket s input stream wrappedchapter thread multiprocessing anobjectinputstream make possible receive object remember obj ect used stream implement interface netgame hubclass deﬁned ﬁle package port server socket listen speciﬁ ed parameter hub constructor hubclass deﬁnes method protected void messagereceived int playerid object mess age message client arrives que ue message processing thread remove queue call thod point message client actually processed ﬁrst parameter playerid id number client message received second parameter message hubclass method simply forward copy message connected c lient deﬁnes default processing incoming message hub forw ard message wrap theplayerid message object type forwardedmessage deﬁned ﬁle package simple application chat room discussed subsection default pro cessing exactly needed application application necessary deﬁne subclass huband redeﬁne messagereceived method complicated message processing method hubclass want redeﬁne subclass including void playerconnected int playerid method called time player connects hub parameter playerid id number newly connected player hubclass method doe hub sent statusmessage client inform new player playerconnected additional action subclass hubmight want note complete list id number currently connected player obtained calling getplayerlist void playerdisconnected int playerid called time player disconnect hub hub sends statusmessage client parameter tell player just disconnected t hehubclass method doe thehubclass deﬁnes number useful public method notably message sends speciﬁed message client currently connected hub message object th implement serializable interface recipientid message sends speciﬁed message just user ﬁrst parameter recipientid id number client receive message method return boolean value false connected client speciﬁed recipientid shuts hub s server socket additional client able connect used examp le game second client connected autoreset set boolean value autoreset property property true objectoutputstreams used transmit message client automatically reset message t ransmitted default valuechapter thread multiprocessing false resetting objectoutputstream object written stream modiﬁed written str eam stream reset writing modiﬁed object old modiﬁed value sent stream instead new value subsection discussion technicality preferred solution use immutable object c ommunication case resetting necessary read source code ﬁle eﬀort study able understand e verything ﬁle need understand public protected interface hub class netgame framework write applicat ion based turning client basic netgame client class deﬁned ﬁle package theclientclass constructor speciﬁes host ip address port number hub client w ill connect constructor block connection established clientis anabstract class netgame application mustdeﬁne subclass client provide deﬁnition abstract method abstract protected void messagereceived object message method called time message received netgame hub subclass client override protected method playerconnected playerdisconnected servershutdown andconnectionclosedbyerror source code information note clientcontains protected instance variable connectedplayerids typeint array containing id number client ar e currently connected hub important publicmethods provided clientclass message transmits message hub message object implement serializable interface get id number assigned client hub close client s connection hub possibl e send message disconnecting send method throw illegalstateexception attempt thehubandclientclasses meant deﬁne general framework use d basis variety networked distributed program low level detail network communication multithreading hidden private section class application build class c work term concept player message design cl ass developed iteration based experience actua l application urge look source code hubandclientuse thread socket stream remainder section discus application s built netgame framework discus application great ﬁnd complete source code netgame package simple chat room ﬁrst example chat room network application wher e user connect server post message seen current use r room similar tochapter thread multiprocessing theguichat program subsection number user participate chat application game doe th e basic functionality netgame framework chat room application consists program ﬁrst completely trivial program simply creates netgame hubto listen connection request netgame client public static void main string args try new hub port catch ioexception e t create listening socket shut ting port number port deﬁned constant program arbitrary lo ng server client use port note ch atroom us hubclass subclass second chat room application program meant run user want participate chat r oom potential user know ip address computer hub r unning testing possible run client program computer t hub using localhost computer hub running chatroomwindow run us dialog box ask user information open s window serve user s interface chat room window large t ranscript area display message user post chat room text box user enter message user enters message message posted transcript user connected hub user y message sent user let s look programming netgame application deﬁne subclass abstrac tclientclass chat room application client deﬁned nested class chatclient insidechatroomwindow program instance variable connection type chatclient represents program s connection hub user enters messa ge message sent hub calling message hub receives message package obje ct type forwardedmessage id number client sent message th e hub sends copy forwardedmessage connected client including client sent message client client message received hub messagereceived method chatclient object client called chatclient override method program add message transcript chatclientwindow summarize message entered user sent hub just send s copy message receives client client exactl y stream message hub client notiﬁed player connects disconne ct hub connection hub lost chatclient override method called event happen post appropriate message t ranscript s complete deﬁnition client class chat room application chapter thread multiprocessing chatclient connects hub used send message hub receive message hub message receive d hub type forwardedmessage contain th e id number sender string sent user private class chatclient extends client open connection chat room server specified com puter chatclient string host throw ioexception super host port responds message received server shou ld forwardedmessage representing participant chat room saying message simply added transcript id number sender protected void messagereceived object message message instanceof forwardedmessage message type expected forwardedmessage bm forwardedmessage message addtotranscript say called connection client shut becaus e error message happen server program te rminated protected void connectionclosedbyerror string message addtotranscript sorry communication shut error message true false true connected false connection null post message transcript join cha t room protected void playerconnected int newplayerid addtotranscript new joined chat room id number newplayerid chapter thread multiprocessing post message transcript leaf ch room protected void playerdisconnected int departingplayeri d addtotranscript person id number departingplayerid left chat room end nested class chatclient constructor method chatclient class called chatroomwindow program called thre ad client object programmed source code chat room application source code ﬁles t package note user chat room application identiﬁed n id number assigned hub client connects essentially u sers anonymous satisfying exercise end chapter way addressing issue networked tictactoe game second example simple game familiar childre n s game tictactoe tictactoe player alternate placing mark board player play x s play o s object x s thre e o s row given time state tictactoe game consists vari ous piece information current content board turn game won lost typical version game t state represented instance variable program consult inst ance variable determine draw board respond user action mou se click networked netgame version threeobjects involved object belonging client class provide interface player g ame hub object manages connection client object t computer certainly t use state variable neverthe game single state time player awa state solution tictactoe store oﬃcial game state hub send copy state player time state change player t change state directly player take action plac ing piece board action sent message hub hub change stat e reﬂect result action sends new state player window used player updated reﬂect new state way sure t hat game look player instead sending complete copy state time state change sent just change req uire way encode change message sent network sinc e state simple easier just send entire state message ca networked tictactoe deﬁned class pack classtictactoegamestate represents state game includes method public void applymessage int senderid object message chapter thread multiprocessing modiﬁes state game reﬂect eﬀect mess age received player game message represent action t aken player clicking board basic hubclass know tictactoe hub ti ctactoe game track state game deﬁn ed subclass hub thetictactoegamehub class quite simple override messagereceived method responds message player applying message game state sending copy new state player ove rrides playerconnected andplayerdisconnected method appropriate action game played exactly connected player complete source code package import import hub network tictactoe game hub game network player connect hub official information state game maintai ned hub state change hub sends new state player ensuring player state public class tictactoegamehub extends hub private tictactoegamestate state record state t game create hub listening specified port note thi s method call setautoreset true cause stream client reset sending message essential state object transmitted o ver change transmission param port port number hub listen throw ioexception listener opened sp ecified port public tictactoegamehub int port throw ioexception super port state new tictactoegamestate setautoreset true responds message received client ca se message applied game state calling pplymessage possibly changed state transmitted conne cted player protected void messagereceived int playerid object mess age playerid message sendtoall state method called player connects playerchapter thread multiprocessing second player server s listening socket shut player allowed game started new state game progress transmitted player protected void playerconnected int playerid getplayerlist shutdownserversocket sendtoall state method called player disconnect end game cause player shut accomplished setting nected true sending new state remaining player notify player game protected void playerdisconnected int playerid true sendtoall state player s interface game represented class tictactoewindow chat room application class deﬁnes nested subclass o fclientto represent client s connection hub state game change ssage sent client client s messagereceived method called process message method turn call newstate method tictactoewindow class update window method called javafx application thread using protected void messagereceived object message message instanceof tictactoegamestate newstate tictactoegamestate message run tictactoe netgame player run program package program present user window user choose start new game join existing game th e user start new game tictactoehub created manage game second window type tictactoewindow opened immediately connects hub game start soon second player connects hub hand user runn ingmainchooses connect existing game hub created tictactoewindow created window connects hub created ﬁrst player se cond player know computer ﬁrst player s program runni ng usual testing run computer use localhost computer ﬁrst program seen us diﬀer ent window note tictactoewindow deﬁned subclass stage javafx class represents window javafx program start primary stage create d passedchapter thread multiprocessing parameter start method application certainly create additional window networked poker game ﬁnally turn brieﬂy application inspi red netgame framework poker inparticular etraditional ﬁvecarddraw version game complex application t intend say general design sour ce code package fully understand need familiar game ﬁve card draw poker general outline poker game similar tictacto e game mainclass run player ﬁrst player start new game second join existing game class pokergamestate represent state game subclass pokerhub ofhubto manage game poker complicated game tictactoe game state correspondingly complicated s clear wa nt broadcast new copy complete game state player time minor c hange state furthermore doesn t really make sense player t o know game include opponent s hand knowledge d eck card dealt course client program wouldn t state player easy player substitute clie nt program enable cheating poker application game state known thepokerhub apokergamestate object represents view game point view o ne player state game change pokerhub creates diﬀerent pokergamestate object representing state game player s point view s end appropriate game state object player source code detail hard part poker implement way comp hand higher game handled class pokerrank ﬁnd class useful poker game exercise exercise chapter discusses need synchronization multithreaded pr ograms solution deﬁnes threadsafecounter class necessary synchronization really important really error using unsynchroni zed counter multiple thread write program ﬁnd use following unsync hronized counter class include nested class program static class counter int count void count int getcount return count write thread class repeatedly method object type counter object shared global variable create sever al thread start wait thread terminate print ﬁnal value counter correct let user enter number thread number time s thread increment counter need fairly large num ber increment error course error use j ust thread program use join wait thread terminate subsection asked ﬁnd integer range largest solution number divisor write program us multiple th read solve problem range using thread program time computation run multiprocessor c omputer end program output elapsed time integer th e largest number divisor number divisor program mode led sample program fromsubsection exercise simply divide problem part create thread previous exercise divided large task sm number large piece solution created thread execute task natu problem meant thread work t easier ﬁnd number divisor small number big n umber discussed subsection better approach break problem fairly lar ge number smaller problem subsection show use thread pool execute task thread pool run loop repeat edly take task queue carry task implement thread pool stra tegy solving problem previous exe rcise make thing interesting try new tec hnique combining result task use queue program use queue task usual hold task executed thread po ol subsection use queue result produced thread ta k completes resultexercises task placed result queue mai n program read result second queue available combine ll result ﬁnal answer result queue blocking queue subsection main program wait result avail able note main program know exact number result expects r ead queue forloop forloop completes main program know task executed previous exercise used thread pool queue ta k ﬁnd integer solution range largest number divisor subsection discusses approach us executorservice write program solve problem time using executorservice andfutures program break computation fairly large number fairly small task print largest number divisor integer th number divisor thereisyetanotherwaytosolvethesameproblem thestrea mapifrom solution exercise discusses e stream solve problem exercise wrote network server program send text ﬁles solution speciﬁed directory client program used single th read handled communication client modify program turn t multithreaded server use thread pool thread d use arrayblockingqueue connected socket main routine thread sample program fromsubsection example multithreaded server work way server program work w ith client program original server wrote client program lution exercise possible estimate mathematical constan tπby using random process solution idea based fact area circle radius equal π area quarterof circle picture quarter circle radius inside square area square area nside circle choose point square random probability tha t inside circle choose npoints square random cof inside circle expect fraction point fall inside circle expect close ifnis large expect good estimate forπ asngets larger larger estimate likely improve pick random point square choosing number xandyin range using equation circle x point lie inside circle x y trial consists picking xandyand testing x y estimate π trial count trial count number trial wh ichx y exercise exercise write gui program doe th computation display result computation sepa rate thread result displayed periodically program use labelsto display result set text label running batch o f say million trial setting text trial doesn t make sense million trial second trying change display million time s second silly program run pause button contro l computation program start clicking run start compu tation change text button pause clicking pause cause com putation pause thread doe computation started beg inning program immediately paused state run b utton pressed use wait method thread make wait run pressed e thenotify method run button pressed wake thread use aboolean signal variable running control computation thread paused wait andnotify method covered subsection picture program run trial want start version program ntrol button version computation thread run continually th e time started working add button control feature started code thread solut ion run batch trial update display label int batch size double x double y x x y y double estimateforpi double incirclecount trialc ount number trial trialcount current estimate estimate forpi variable trialcount andincirclecount type longin order allow number trial billion woul d possible variable type int going ask use multiple computation thread o ne available processor butiranintoanissuewhenusingthe methodinseveralthreads method requires synchronization cause seriou s performance problem whenexercises thread using generate large amount ran dom number solution problem thread use object typ generate random number subsection solution exercise discusses problem chat room example subsection improved way solution nice participant chat room ide ntiﬁed instead number second nice person send p rivate message person seen just person ev eryone make change start copy package need deﬁnes netgame framework make ﬁrst change implement subclass ofhubthat track client name number cl ient hub override extrahandshake method hubsubclass client subclass extrahandshake method called setting connection client hub called client h assigned id number connection considered fully e tablished throw ioexception error occurs setup process note m essages sent hub handshake read c lient vice versa theextrahandshake method client deﬁned protected void extrahandshake objectinputstream obj ectoutputstream throw ioexception hub extra parameter tell id number client connection set protected void extrahandshake playerid objectinputs tream objectoutputstream throw ioexception thechatroomwindow class main routine asks user computer server running add code th ere ask user just imitate code asks host decide user want use forthesecondimprovement personalmessages isuggestwr itinganew privatemessage class privatemessage object include string represents me sage id number player message se nt player sent message hub programmed know ho w deal message privatemessage sent hub client listed recipient message need decide user w ill input private message user select recipient message don t forget privatemessage need declared implement serializable attempt exercise likely ﬁnd quite ch quiz chapter answer complete subclass threadto represent thread writes number write code creates start thr ead belonging class thrdis object type thread explain diﬀerence calling calling race condition doe synchronization prevent race condition doe mean say synchronization provides mutualexclusion program us single thread take secon d run suppose program creates thread divide wor k thread whatcanbesaidabouttheexpectedexecutiontimeoftheprog ramthatusestwothreads arrayblockingqueue doe solve problem thread pool server program multithreaded explain mean true doe multithreaded network server program use ma ny time thread number available processor threadsafecounter example subsection public class threadsafecounter private int count value counter synchronized public void increment count count synchronized public int getvalue return count theincrement methodissynchronizedsothatthecallerofthemethodcanco mplete thethreestepsoftheoperation getvalueofcount ovalue storenewvaluein count interrupted thread getvalue consists single simple step getvalue synchronized deep tricky question chapter gui programming continued s possible program wide variety gui application using technique covered chapter case basic event component layout g raphics routine covered chapter suﬃce javafx graph ical user interface library far richer seen far used bu ild highly sophisticated application chapter continues study javafx b ut doe cover fully advanced topic support video mensional graphic mentioned coverage javafx require complete book chapter deepen understanding javafx gui programming property binding seen gui programming make heavy use event including mouse keyboard event event th ose generated user make menu selection adjusts value slider nsubsection saw event slider actually come observable prope rty slider order respond change value slider sldr need register listener valueproperty slider value slider change valueproperty emits event allows code respond change fact value property slider object type doubleproperty adoubleproperty aspect wrap value type double method set retrieving changing value second ob ervable value mean emits event doublevalue changed bindable property aspect possibly unique javafx bindable prope rty bound property type property bound w ay forced value bindable property used javafx pi section explores used class discussed section deﬁned package subpackages rarely need import classe s package javafx program using object exist gui programming continued observable value instance variable javafx object observable value meaning emit event observables actually observable property sense bindable width height canvas observable s type doubleproperty text text ﬁeld label observable type stringproperty list child paneis observable type observablelist node checkbox observable property typebooleanproperty say box currently checked color t text label observable type objectproperty paint observable value emits kind event emits chan ge event value change handler event implement par ameterized functional interface changelistener t deﬁnes method changed target oldvalue newvalue ﬁrst parameter change observable value changed second parame ter previous value observable paramet er new value suppose example want text label display current val ue slider slider value change need change text label match way register change listener property record th e value slider t oldval newval slider value new val better way accomp lish thing second type event emitted observable value nvalidation event emitted current value invalid reas invalid value seen object attempt read value cau se value recomputed valid invalidation event notice th e value need recomputed value won t actually recomputed needed called lazy evaluation value work recomputing value s new value actually needed lazy evaluation mor e eﬃcient recomputing value time invalidated let s say dozen thing h appen invalidate value value lazy evaluation value w ill recomputed needed dozen time important observable emit invalidation event dozen avoids multip le redundant call invalidation listener case javafx invalidation listener used preference change listener aninvalidationlistener deﬁnes single method invalidated obv parameter observable invalidated consider c ode sayhello acheckbox e hello goodbye example invalidationlistener registered listener accomplish thing using actionlistener called userchanges selected state checkbox invalidation listener called value change including change calling notethat changelisteners arealsoregisteredusingamethodnamed addlistener compiler tell diﬀerence listener given achapter gui programming continued lambda expression lambda expression changelistener parameter lambda expression invalidationlistener parameter asked happen selectedproperty ofsayhello merely invalidated changed return current invalid value new value fact calling force computation new value return new v alue invalid value seen attempt read force new value c omputed general pattern javafx observable property object accessed calling instance method end property example value property slider given text property label given javafx object observable value pro perties observable property bindable section plain observable value bindable doe emit change event invalidat ion event register listener want respond change value bindable property javafx observable property bound pr operty type exception property t bind rea property property canbind property toa property basic example suppose want text label text t ext ﬁeld implemented simply binding textproperty label textproperty text ﬁeld label message new label seen textfield input new textfield type thebind method force value value soon bind executed text text ﬁeld copied label initial text s een seen user program run change text t ext ﬁeld automatically applied label change user typing text ﬁeld called binding implemented internally using ev ents listener point don t set li steners respond event set bind method whenbind used bind property property ill egal change value bound property directly example throw exception course property boun d property time unbind method take parameter used remove bind ing sample program contains example bound erties particular text property large label b ound text property text ﬁeld preceding example typing text ﬁ eld change text label screenshot chapter gui programming continued label lower right window provides e xample binding label display value slider text label wil l change user adjusts slider value noted beginning section w ay implement interaction register listener slider s valueproperty s binding textproprety label stringproperty valueproperty slider doubleproperty s possible directly bind value bindi ng work property type doubleproperty method asstring convert property string property fslideris aslider string property representing doublevalue slider string text property label bound string property fact asstring format string like one used optional parameter used format thedoublevalue program label sliderval text property bound saying slider value actually isoftype stringbinding ratherthan erty distinction important ignore property object method converting properti e type property type operation examp le adoubleproperty method lessthan number return boolean property value truewhen value thedoubleproperty number example button btnhas abooleanproperty tell button disabled want butt disabled value slider binding button s disable property follows essthan similar method greaterthan lessthanorequal isnotequalto method doing math example double property value time value sli der class package used apply like ternary operator subsection boolean property strange syntax boolprop boolean property trueval andfalseval value type thenchapter gui programming continued new boolprop trueval falseval represents property type type trueval andfalseval value property trueval ifboolprop value true value falseval boolprop value false earlier example used listener set text la bel hello goodbye depending checkbox sayhello checked s thing property binding new hello goodbye parameter new boolean property hello goodbye value type string property result complete expression string property match type sort thing control background color big label background controlled checkbox u sing binding object typewhen source code detail straightforward useful application property bin ding sample program program show ﬁfty small red disk bounce window disk drawn canvasthat ﬁlls window disk bounce oﬀ edge canvas previous example used ca nvas window canvass automatically chan ge size possible program change size canvas setting canvas s height width property calling w h height width bindable property type doubleproperty way set canvas size bind property appropriate sou rce program canvas contained panethat serf root scene graph ﬁlls window size window changed t user size pane automatically set match want canvas size tr ack size pane necessary bind width property canvas widt h property pane bind height property canvas height property pane program line code run program increase size window canvas increased size bouncing red disk s pread ﬁll larger space similarly decrease size disk trappe d smaller space program canvas continually redrawn special action need taken redraw canvas size changed pro gram necessary redraw content canvas size change e way make happen add listener width height property va listener redraw canvas response change width height bidirectional binding binding created using bind method binding work direction binding appropriate su ppose example gui programming continued type checkbox like checkboxes s ame state t binding make state changing selected state change state instead cause exception illegal t ry change value property bound using bind fact user just click exception checkbox try change sta te solution need called bidirectional binding property bound bidirectionally value eit property changed property automatically changed val ue bidirectional binding set method bindbidirectional checkboxes say edproperty user click checkbox al change state probably useful checkboxes usefu l synchronize state checkbox window state checkmenuitem menu user choice using interface element similar redundan t interface element common menu toolbars sample program doe similar radiobuttons andradiomenuitems color label program controlled using color menu set radio button state radiobutton bidirectionally bound state corresponding radiomenuitem worth looking s menu colormenu new menu color color color string colornames black red green blue togglegroup colorgroup new togglegroup int make menu item corresponding radio button radiobutton button new radiobutton colornames radiomenuitem menuitem new radiomenuitem colornames menuite colorgroup note userdata used store color object associated menu item later use color button add button conta iner menuitem add menu item menu true e listen change selectedtoggleproperty togglegroup color thechapter gui programming continued label set match selected menu item toggle t t null t selected radiomenuitem color userdata use set color text value selectedtoggleproperty momentarily null toggle unselected selected color c color c notethatthemenuitemsareaddedtoa togglegroup butthebuttonsare supposethattheuserclicksonacurrentlyunselectedr adiobutton thestateofthebutton change bidirectional bindin g state corresponding radio menu item changed th happen togglegroup change state currently selected radio menu em unselected turn cause state associated radio ton change unselected end state radio button radio menu ite m changed relevant property binding check code us theuserdata property radio button scene graph node use r data type object used userdata property node convenient place programmer store data type progr ammer want associate node case user data radio menu item v alue type color color value used menu item selected hope example section convinced th property binding eﬀective way program interaction object javafx program style programming look strange ﬁrst easier nd clearer working directly event listener fancier graphic seen example using graphicscontext draw canvas butgraphicscontext feature cover ed section continues study canvas graphic begin l ooking method useful managing state graphic context agraphicscontext g various property ﬁll color line width th aﬀect drawing s important remember canvas graphi c context change property graphic ntext carry future drawing value property changed ag ain particular change notrestricted subroutine happens programmer wantstochangethevalueofsomepropertiestemporarilyand thenrestorethemtotheirprevious value graphic api includes method make easy executed current state graphic context g stored state includes property aﬀect drawing fact graphic context keep stackof state subsection push current state gui programming continued pop state stack set value pr operties match saved value use stack possible save time calling restore save matched eventually restore unmatched call restore produce error extra call simply ignored easy way make sure change graphic contex t subroutine carry future subroutine call save beginning subroutine restore end saveandrestore particularly useful working transforms whic h covered later section fancier stroke seen stroke line curve outlin e text character set color line width used stroke st rokes property aﬀect appearance possible draw stroke dotted dashed instead solid control happens endpoint stroke join line curve meet point side r ectangle meeting corner rectangle graphic context propert y control feature need working fairly wide line endpoint join property visual eﬀect illustration show available option s dash patternsbutt round square round bevelmiterstrokelinecap valuesstrokelinejoin value endpoint line segment left t hree possible style line stroke shown black geometric line indicated yellow line center stroke buttcap style stroke simply cut oﬀ end geometric line roundcap disk added endpoint diameter equal line width squarecap square added instead disk round square style draw stroke physical pen round square tip graphic context g cap style stroke set calling cap parameterisoftype strokelinecap anenumeratedtypeinpackage possiblevaluesare default style square line join similar appearance vertex l ines curve meet set join parameter type strokelinejoin possible value style shown middle section illustrat ion default join style miter miter style line segment continued mak e sharp point style corner cut oﬀ bevel cut oﬀ line se gment round cut oﬀ arc circle round join look bet ter draw wide curve sequence short line gui programming continued dotted dashed stroke setting dash patter n using method parameter method specify length da he gap parameter type double given single array type double stroke drawn dash pattern eﬀect cur ve consists line curve followed gap length followed line curve length pattern dash gap repeated necessary cover length stroke example draw stroke series segment length followed gap length produce series long segment separated short gap pattern dash dot speciﬁed example default dash pattern course solid line d ots dash sample program let draw line rectangle variety line style source code detail fancier paint draw fancier stroke individual d rawing operation restricted drawing single color t hat restriction using paint object type paintis used assign color pixel hit drawing operation paintis abstract class package thecolorclass just concrete subclass paint object type paintcan used parameter coloris used paint applies color pixel hit type paint color applied pixel depends coordinate pixel javafx class deﬁne paint property imagepattern kind gradient paint image pattern pixe l color come image repeated necessary l ike wallpaper pattern cover entire gradient color applied pixel change gradually color color point point jav gradient paint class lineargradient andradialgradient helpful look example following ill ustration show polygon ﬁlled diﬀerent paint polygon left us lineargradient right us imagepattern note picture paint used ﬁlling t polygon outline polygon drawn plain black c olor paintobjects used stroking shape ﬁlling p ictures sample program program select diﬀerent pain t control certain property gui programming continued create imagepattern ﬁrst need image imageclass introduced subsection saw imageobject easily constructed image resource ﬁle considered program th us given image pict animagepattern created constructor form patternpaint new imagepattern pict x y width height proportional parameter x y width andheightaredoublevalues specify position size image canvas copy image placed s left corner x y scaled given width height image repe ated horizontally vertically ﬁll canvas pattern shape paint applied parameter constructor boolean speciﬁes x y widthand heightare interpreted proportional false width height measured usual coordinate canvas proportional true widthandheightare measured multiple size shape pai nt applied x y upper left corner shape precisely r ectangle just contains shape example patternpaint new imagepattern pict true creates image paint copy image just cover shape paint applied shape diﬀerent size paint scaled diﬀerently shape want shape contain copy shape horizontal ly copy vertically use patternpaint new imagepattern pict true linear gradient deﬁned specifying line segment t color point line segment point associated color calledcolor stop color interpolated color stop color p oint line color extended perpendicularly line segment inﬁnite colored strip specify happens outside strip color j avafx specifying cycle possibility meaning color strip repeated cover entire plane meaning color strip repeated copy reversed color match boundary repeat meaning color boundary extended inﬁn itely picture gradient using original line segment color stop picture left us mirrorcycle method middle useschapter gui programming continued repeat right us norepeat basic line segment gradient shown position color stop line segment marked constructor linear gradient paint take form lineargradient new lineargradient propor tional cyclemethod ﬁrst parameter doublevalues specify endpoint line segment ﬁfth parameter proportional aboolean false endpoint speciﬁed usual coordinate canvas true speciﬁed coordinate upper left corner o f shape paint applied lower right corner sixth par ameter cyclemethod constant repeat remaining parameter color stop gradient color stop given object typestop constructor take doubleand acolor ﬁrst parameter speciﬁes position stop basic line segment fractio n distance ﬁrst endpoint second endpoint general ﬁrst color s position position position value fo r color stop greater position preceding color stop example gradient paint ﬁrst gradient illustration constructed grad new lineargradient false cyclem new stop new stop new stop linear gradient color constant certain li ne radial gradient color constant certain circle basic radial gradie nt color stop speciﬁed radius circle color constant circle h ave center circle color outside circle determined based cycle m ethod thing little complicated radial gradient f ocal point inside circle basic radial gradient focal point center c ircle focal point point inside circle color gradient foca l point given color stop position color circle given color st op position s easiest illustration gradient picture th e focal point row circle focal point marked note case gradient red focal point yellow circle chapter gui programming continued constructor radial gradient lot parameter radialgradient new radialgradient focalangle focaldi stance centerx centery radius proportional cyclemethod ﬁrst parameter specify location focus th e focal distance distance focus center circle given fraction radius strictly focal angle direction focu s moved away center basic radial gradient focal distance f ocal angle irrelevant parameter specify center radius circle remaining parameter similar parameter linear gradient transforms standard drawing coordinate canvas upper le ft corner component coordinate coordinate x y refer point xpixels left edge component ypixels restricted using coordinate fact set graphic context use coordinate system diﬀerent unit length diﬀerent coordin ate ax use capability select coordinate appropriate thing want draw example drawing architectural blueprint y ou use coordinate unit represents actual distance foot change coordinate referred transforms transformation basic type transform translate transform change position origin ascaletransform change scale unit distance nd rotation transform applies rotation point common s asheartransform tilt image illustration show original picture transformed copy picture chapter gui programming continued hello hellohello hellohellooriginal imagehorizontal shear shear uniform scaling scale factor horizontal scaling scale factor degree counterclockwise notice image including text ﬀected transform make complex transforms combining transform s basic type example apply rotation followed scale fo llowed translation followed rotation apply transforms r ow eﬀects cumulative take fair study fully understand complex tr ansforms transforms major topic course computer graphic limit mys elf discussing simple case just idea transforms current overall transform property graphic c ontext state saved save method restored restore method especially important use save andrestore working transforms prevent eﬀect transform carrying subroutine remember like property gra phics context transform aﬀects thing drawn afterthe transform applied graphic context doe transform picture drawn suppose gi type graphicscontext translation transform applied gby x y wherexandyare type double mathematically eﬀect automatically add x y coordinate subsequent drawing operation examp le use coordinate applying translation actually referring point coordinate x y usual coordinate coordinate pair moved example statement x y draw line single statement x y second code segment just doing transl ation instead thinking term coordinate system ﬁnd cle arer think happens object drawn say x y object draw displaced xunits horizontally yunits vertically example prefer center component instead upper left corner just use fo llowing command drawing apply scale transform g sx sy parameter specify scaling factor afte r command arechapter gui programming continued multiplied sx multiplied sy eﬀect scaling make object bigger smaller scale factor greater magnify size shape scale factor shrink shape case scale factor called uniform center scaling point unaﬀected scaling point away object located eﬀect scaling just change size farther away scaling factor greater closer scaling factor possible use negative scaling factor result s reﬂection example calling object reﬂected horizontally line type basic transform rotation command r rotates subsequently drawn object angle rabout point angle measured degree positive angle clockwise rotation negative angle counterclockwise unless applied negative scale factor reve rses direction rotation shearing considered basic transform diﬃculty series rotation scaling eﬀect horizontal shear shift horizontal line left right proportional di stance point x y transformed y y whereais shear javafx doe method applies shear transform d oes way apply arbitrary transform know linear algebra transforms represented matrix possible specify transform directly giving number matrix transform javafx represented object typeaﬃne method t applies aﬃnetransform tto graphic context don t want math horizontal shear shear e qual toa use new affine need apply transforms th e eﬀect want suppose example like string hello wor ld tilted rising angle basepoint x y thiswon tdo hello world x y problem rotation applies point x y text rotation basepoint longer x y need make rotated string basepoint translate x y basepoint x y follows x y hello world theimportantthingtonoteistheorderofthetransforms th etranslationappliestoeverything come translate command come code draw rotated string basepoint rotated string translated x y eﬀect string ﬁrst rotated translated ru le multiple transforms transforms applied object opposite order whi ch transform command occur code sample program apply various transformation picture user control scaling horizontal shear r otation translation running program help understand transforms ca n read source code seechapter gui programming continued code transforms note transforms p rogram applied object order look code transform method called opposite order transla additional translation move origin cente r canvas center scaling rotation shearing center va stacked canvass ﬁnal example section simple paint pro gram paint program chapter draw curve new program user selec t tool drawing addition curve tool tool dr awing ﬁve kind shape straight line rectangle oval ﬁlled rectangle ﬁlled oval user draw ﬁve shape tool user dr ag mouse shape drawn starting point drag gesture th e current position mouse time mouse move previous shape deleted new shape drawn new shape doesn t actually picture u ser release mouse button line tool example eﬀect user see li ne stretch starting point current mouse position line move alon g mouse urge try program eﬀect diﬃculty programmer part drawing continually covered uncovered user move mouse current drawing covered uncovered drawing mean user dragging mouse program t simply draw new s hape canvas contains current picture doing oblitera te picture solution javafx use twocanvases stacked canvas contains actual drawing canvas used implement shape tool ordinarily canvas completely transparen ﬁlled color alpha component zero shape tool used shape drawn user drag mouse drawn canvas botto m canvas aﬀected hidden shape drawn c anvas time mouse move canvas cleared new shape drawn th e canvas user release mouse end drag canvas cle ared shape drawn canvas actual drawin end canvas completely transparent drawing bo ttom canvas fully visible note canvas cleared transparency calling wheregis agraphicscontext canvas canvass fully transparent t hey ﬁrst created stack canvas use stackpane astackpane simply stack child node order added pane canvass program set like canvas new canvas width height main drawing canvas canvasgraphics backgroundcolor width height overlay new canvas width height transparent vaschapter gui programming continued overlaygraphics e mousepressed e e mousedragged e e mousereleased e stackpane canvasholder new stackpane canvas overlay note mouse event handler added canva s canvas cover canvas user click drawing ctually canvas clicked curve tool way doe use canvas curve drawn directly canvas curve deleted drawn need temporary copy canvas pixel manipulation tool erase tool s work directly canvas erase tool doe say user drag mouse small square mouse location ﬁlled ground color erasing drawing location smudge tool interestin dragging smudge tool smear color tool dragging ﬁn ger wet paint picture program smudge tool dragged center red rectangle subroutine javafx smudging pict ure requires direct manipulation color individual pi xels basic idea implement smudge tool program us array color component hold red component color green component blue user press mouse using t smudge tool color component pixel square mouse l ocation copied array mouse move color array s blended color image pixel new mouse location time color image blended array array drop oﬀ color carrying pick color new locatio think similar happens smear pai nt ﬁnger implement idea need able read color pixel image need able write new color pixel fairl y easy write color individual pixel using called pixelwriter ifgis agraphicscontext canvas apixelwriter canvas calling pixelwriter pixwriter set color pixel x y canvas simply x y color wherecoloris type color note xandyare pixel coordinate subject transform set graphic contex chapter gui programming continued javafx similarly easy way read pixel color c anvas set unfortunately simple reason understa nd technical turn drawing operation immediately draw canvas stead eﬃciency bunch drawing operation saved sent graphic hardwa batch ordinarily batch sent canvas need redrawn screen mean simply read pixel color canvas value woul d necessarily reﬂect drawing command applied canvas o rder read pixel color force drawing operat ion complete way know taking snapshot canvas actually snapshot scene graph node sna pshot return writableimage contains picture node pending operat ion applied s easy picture entire node writableimage nodepic null null thewritableimage contain picture node appear scr een used way regular imageobject parameter type snapshotparameters andwriteableimage writable image provided used image long large contain pi cture node eﬃcient creating new writable image snapshotparameters used control picture produced particula r used specify snapshot contain certain rectangle node implement smudge tool need grab pixel small rectangle canvas eﬃciently provide snapshotparameters pick just rectangle read color pixel using apixelreader writableimage lot detail just s don program create single writableimage apixelreader asnapshotparameters used snapshot thing complicated bit fact s ome pixel snapshot lie outside canvas don t want try use c olor data pixel code pixel new writableimage writable image pixelreader pixelreader f writable image snapshotparams new snapshotparameters us press mouse need snapshot th e square canvas surround current mouse coordinate startx starty need copy color data snapshot color component array smudgered smudgegreen smudgeblue new startx starty snapshotparameter s viewport rectangle canvas included snapshot snapshotparams pixel int h int int w int int j j row snapshot int r starty j corresponding row canvas int column snapshot int c startx corresponding column canvas r r h c c w point c r outside gui programming continued smudgered array indicates corresponding pixel outside canvas smudgered j color color j pixelreader get color snapshot smudgered j smudgegreen j smudgeblue j blend color color component array squa pixel point x y need new snapshot time square o f pixel surrounding x y snapshot blending calculati ons write new color canvas using pixelwriter writes canvas new x y snapshotparams pixel int j j row snapshot int c x j corresponding row canvas int column snapshot int r y corresponding column canvas r r h c c w smudgered j pixelreader get current pixel color snapshot color oldcolor j new color pixel blending current color color component array double newred smudgered j double newgreen smudgegreen j double newblue smudgeblue j pixelwriter writes new pixel color canvas c r newred newgree n newblue blend color canvas array smudgered j smudgered j smudgegreen j smudgegre en j smudgeblue j smudgeblue j fairly complex operation hope give dea work pixel remember write pixel color canvas u sing apixelwriter read pixel canvas need snapshot canvas use pixelreader read pixel color writableimage contains gui programming continued image sample paint program file menu command loading image ﬁle canvas saving image t canvas ﬁle load image ﬁle ﬁrst need load obj ect type image seen subsection load imagefrom resource ﬁle draw image canvas loading image ﬁle di ﬀerent image imagefromfile new image fileurl parameter string speciﬁes ﬁle location u path ﬁle preceded ﬁle imagefile object type filerepresenting path ﬁle say image imagefromfile new image file imagefile typically let user select ﬁle using filechooser dialog subsection andimagefile simply selected filereturned dialog course user select ﬁle t read tha t doe contain image imageconstructor doe throw exception case instea d set error condition image object check usin g function error did occur exception caused t error calling image checked loaded wi thout error draw canvas using graphic context canvas mmand scale image exactly ﬁll canvas imagefromfile method doopenimage used toolpaint load image ﬁle private void doopenimage filechooser filedialog new filechooser new file select image file load file selectedfile window selectedfile null return user did select file image image new image file selectedfile alert erroralert new alert sorry error occurred load file return save image canvas ﬁle ﬁrst image canvas making snapshot entire canvas wit hchapter gui programming continued image image null null unfortunately current version tha t javafx doe include supportforsavingimagestoﬁles forthat itdependsonsom ethingfromtheolder awt gui toolkit buﬀeredimage class package abuﬀeredimage represents image stored computer s memory similar imagein javafx javafx imagecan easily converted buﬀeredimage using static method class swingfxutils bufferedimage bufferedimage canvasimage null second parameter nullhere existing buﬀeredimage hold image onceyouhavethe buﬀeredimage youcanuseastaticmethodfromclass imageio inpackage write ﬁle bufferedimage format file second parameter stringthat speciﬁes ﬁle format image image saved format including png jpeg gif save ﬁles png format parameter type file speciﬁes ﬁle saved throw exception unable save ﬁle fail throwing exception doesn t recognize format p utting give dosaveimage method toolpaint private void dosaveimage filechooser filedialog new filechooser new file select file save end wi th file selectedfile window selectedfile null return user did select file try image canvasimage null null bufferedimage image canvasi mage null string filename throw new exception file end boolean hasformat image png selected file hasformat happen throw new exception png format available catch exception e alert erroralert new alert sorry error occurred save image n chapter gui programming continued complex component mvc lot complexity seen far lurking javafx api lot complexity work beneﬁt pro grammer lot hidden typical us javafx component don t t o know complex detail control order use eﬀectively pr ograms javafx deﬁnes component class c omplex lookedat buteventhemostcomplexcomponentsarenotveryd iﬃculttouseformanypurposes section ll look component support displ ay manipulation list table use complex component eﬀectively s lpful know pattern used basis th e design gui component pattern discussed later section number javafx control covered t book useful one want look include tabbedpane splitpane tree progressbar various specialized input control colorpicker datepicker passwordfield andspinner start section short example writing custom consider large variety component tha t deﬁned javafx don t quite want w ant simpler simple custom component javafx s standard component class usually nee d construct user interface point need bit diﬀerent case consider writing component class building mponents javafx doe provide basic controlclass serf base class control example suppose need stopwatch control user click stopwatch want start timing user click want display elapsed time ﬁrst click textual display label want labelthat respond mouse click behavior d eﬁning stopwatchlabel component subclass labelclass astopwatchlabel object listen mouse click ﬁrst time user click change di splay timing remember time click occurred user click check time compute display elapsed time course don t necessarily deﬁne subclass use regular label program set l istener respond mouse event label let program work keeping track time changing text displayed label writing new cla s reusedin project code involved sto pwatch function collected neatly place complicated componen t consideration important thestopwatchlabel class hard write need instance variable record time user start stopwatch mouse event ha ndling method responds mouseclicksonthestopwatch ineedtoknowwhetherthetime risbeingstartedorstopped soi needaboolean instancevariable running tokeeptrackofthisaspectofthecomponent sstate use method current time millisecond value type long timer started store current time instance variable starttime timer stopped use current time start time compute elapsed time timer runni ng complete stopwatch class short chapter gui programming continued import custom component act simple th e user click component start timing user cl icks display time click clicking thir d time start timer timing label jus t display message timing public class stopwatchlabel extends label private long starttime start time timer time measured millisecond private boolean running true timer running constructor set initial text label click start timer set mouse event handler label respond click public stopwatchlabel super click start timer setonmousepressed e setrunning running tell timer currently running public boolean isrunning return running set timer running stopped change text shown label method called ja vafx application thread param running say timer running equal current state public void setrunning boolean running running return running running true record time start timer starttime settext timing stop timer compute elapsed time timer started display long endtime double second endtime starttime settext time second second chapter gui programming continued end stopwatchlabel don t forget stopwatchlabel subclass label stopwatchlabel label add container set font text color max preferred size cs style c set text display interfere stopwatch function application run short program show stopwatchlabel set label s property improve appearance mvc pattern principle design division responsibility ideally object single clearly deﬁned role limited rea lm responsibility application principle design graphical user interface themvc pattern mvc stand refers diﬀerent r ealms responsibility design graphical user interface mvc pattern applied component modelconsists data represents current state component viewis simply visual presentation component screen controller aspect component carry action response event generated user source timer idea assign responsibility model view controller diﬀerent object view easiest mvc pattern understand represented component object responsibility dr aw component screen doing course consult model m odel represents state component state determine appears s creen model stored separate object according mv c component object need reference model object model change view need redrawn reﬂect changed state component need way knowing change model occur typically jav event listener model object set generate event data change view object register listener event mod el change event generated view notiﬁed event view responds upd ating appearance screen mvc used javafx component controller gen erally deﬁned model view responsibility split object controller include mouse keyboard listener respond u ser event view listener event b utton slider aﬀect state component usually controller responds event s making modiﬁcations model view changed indirectly response t o change model mvc pattern used place design javafx term model view used idea observable property subsection way implementing idea model separate fr om view property used model spread diﬀere nt object list table control look model view gui programming continued listview combobox alistview control represents list item select ed user possible let user edit item list sample pro allows user select icon small image listview icon user selects icon list clicking selected icon stampe d canvas clicking canvas add larger version imag e canvas icon program kde desktop project picture o f program icon stamped drawing area sta r icon selected list listview isdeﬁnedinpackage itisaparameterizedtype wherethe type parameter indicates type object displaye d list common type probably listview string sample program s listview imageview listview display stringsandnodesdirectly used object type default display string representation objec t returned tostring method useful item listview t stored observablelist t list item model listview list listview accessed item added list deleted list list view automatically updated reﬂect change thesillystamper program list static change list created user edit list t image icon read resource ﬁles imageis wrapped imageview subsection added list item listview list constructed following method called program s start method private listview imageview createiconlist string iconnames new string name image resource file directory stamper icon ic chapter gui programming continued iconimages new image used draw ing icon listview imageview list new listview int image icon new image stamper iconnames iconimages icon new imageview icon select item list return list method set preferred width height list th e default preferred size list matter contains icon list need smaller width preferred height set small value thi s program grow ﬁll available space right position borderpane ﬁlls window default preferred height forced container bigge r wanted point use selection model list selection model model record item sel ected list default item selected list correct havior program possible allow multiple item selected time calling selection default single selection mode user select s item previously selected item deselected user select item cli cking program set selection calling index parameter index item list numbering starting ze ro usual indexis item list selected selected item list h ighlighted list view list view listens change selection model use r click item mouse listener controller list chan ge selection model happens list view notiﬁed change update s appearance reﬂect fact diﬀerent item selected program ﬁnd whi ch item currently selected calling method used user click canvas ﬁnd icon stamped picture list editable second sample program show list edited user list string list number user initiate editing item d simply clicking selected user ﬁnishes ed pressing return hitting escape key cancel edit selecting item t list cancel gui programming continued thing need want user able edit item alistview thelistmust editable calling true individual cell n list editable term cell refers area list display em list cell object responsible displaying item optionally imp lementing user editing item default list cell editable alistview us acell factory create list cell object cell factory obje ct responsible creating cell diﬀerent kin d cell provide diﬀerent cell factory list follows called factory using factory object create cell cell customize d changing listview source code simply install new cell factory writing cell factory trivial task javafx s everal standard cell factory iflistview type listview string install cell factory make editable cell simply calling ew method return cell factory creates cell display edit string cell simply dis playing string actually us alabelfor display item edited displaye d atextfield s need know make editable list string item type natural display item string d use textfield editing item includes number single character value d ate time item string way convert b etween item string representation javafx make thing reasonably ea sy common case provides standard converter type mentioned fo r example intlist editable listtype integer install appropriate cell factory new integerstringconve rter parameter forlistview object convert integer stri ng representation happens completely satisﬁe d standard converter sincechapter gui programming continued didn t handle illegal input text ﬁeld list integer sample program wrote converter used create cell factory f list stringconverter integer myconverter new stringconver ter integer custom string converter convert bad input stri ng null instead just failing display null va lue bad value string value public integer fromstring string s convert string integer s null return try return s catch numberformatexception e return null public string tostring integer n convert integer string n null return bad value return ew myconverter stringconverter just need deﬁne function fromstring tostring standard string converter package factory class textfieldlistcell package similar class use cell table ne ed addition list sample program f ew interesting thing label button using observable property t helistview s model discussed subsection example label selected index nd selected item list coded binding text property label property list s selection model label selectedindexlabel new label selected index d label selectednumberlabel new label selecteditem s chapter gui programming continued button deleting selected item list sh ould enabled actually selected item coded binding disa ble property button eﬀect label button used alternative view selection model used list major feature mvc patt ern multiple view model object view listen change n model model change view notiﬁed change update thems elf reﬂect new state model add button add item list thi s us listview model item actually added observablelist hold item thelistview listens change list notiﬁed cha nge update new item visible view th e list adding item observable list action needed program item appear screen wecanlookbrieﬂyatanother control combobox thatbearsalotofsimilaritiesto listview fact combobox basically list view selected item mally visible user click combo box list item pop user select item list fact combobox actually us listview item list seen combo box used menu example starting way section likelistview combobox parameterized type althoughotheritemtypesaresupported usingcellfa ctoriesandstringconverters string common type item creating combo box managing selection similar working listview example combobox string flavor new combobox vanilla chocolate st rawberry pistachio possible set combo box editable special cell factory needed long item string editable combo box lik e strange combination text ﬁeld list view instead using label select ed item combo box us text ﬁeld user edit value text ﬁeld modi ﬁed value selected value combo box original value mod iﬁed item removed list new item just added new item doe b ecome permanent list example eﬀect saying true let user type rum raisin selected ﬂ avor doing won t replace vanilla chocolate strawberry pistachio t list unlike listview acombobox emits actionevent user selects new item selecting menu typing new v alue editable combo box pressing return tableview like alistview atableview control display collection item user table complicated list table item arranged grid row column eachchapter gui programming continued grid position cell table column column h eader contains column column contains sequence item nd working column tableview way similar working listview tableview t parameterized type type trepresents row table anobjectofthetypeparameter t containsthedataforonerow itcancontainadditionalda ta table view just available da ta data model table typetableview t anobservablelist t accessed item represents row add delete compl ete row table adding deleting element list deﬁne table s provide class rep resents row table say data go column table table column described object type tablecolumn t s ﬁrst type parameter t type parameter table second type parameter s data type item appear cell column type tablecolumn t s indicates column display item type sderived row type table column object doe contain item appear column contained object type tthat represent row table column object need specify getthe item appears column object represents row sp eciﬁed called cell value possible write cell value fac tory computes function row object common option use propertyvaluefactory simply pick property row object let s turn example sample program show uneditable table contains ﬁfty state united state capital city population data row table object type statedata deﬁned program public static nested class class b e public use propertyvaluefactory doe need static nested data value row property class sense gette r method value property deﬁned getter method suﬃcient uneditable table v alues shall need diﬀerent editable table column s class deﬁnition public static class statedata private string state private string capital private int population public string getstate return state public string getcapital return capital chapter gui programming continued public int getpopulation return population public statedata string s string c int p state s capital c population p table display state data created tableview statedata table new tableview item ﬁfty state added table dat model stored table column object created conﬁgured added table column model stored tablecolumn statedata string statecol new tablecolum n state new propertyvaluefactory statedata string state statecol tablecolumn statedata string capitalcol new tablecol umn capital city new propertyvaluefactory statedata string capital capitalcol tablecolumn statedata integer populationcol new tabl ecolumn population new propertyvaluefactory statedata integer populat ion populationcol parameter tablecolumn constructor text appears header column cell value factory remember cell value factory need pull value cell row object type statedata ﬁrst column type data isstring property value factory take input type statedata output property value type string output value property named state statedata object simply constructor new propertyvaluefactory statedata string state creates cell value factory get value display ed cell calling whereobjis object represents row table conta in cell column speciﬁed similarly s need know create table user edit content cell default user able cha nge column width dragging separator column header user clic k column header sort row table increasing decreasing order accord ing value column capability turned oﬀ setting property t hetablecolumn object example user rearrange colum n dragging table header left right gui programming continued sample program includes example table row table represents point plane nd column contain point add program show point canvas canvas scatter plot sm crosshair location point picture edited need data type represent row table simple class property xandythat hold coordinate point editabl e table column t use simple property deﬁned getters setter problem editable column expects property column observable property seesection exactly class follow javafx pattern observable property value property named xandyshould stored observable property object point object pt instance method method return observable property object used set property value property store doublevalues type doubleproperty data class table deﬁned public static class point private doubleproperty x y public point double xval double yval x new simpledoubleproperty x xval y new simpledoubleproperty y yval public doubleproperty xproperty return x public doubleproperty yproperty return y class doubleproperty abstract class simpledoubleproperty concrete subclass constructor requires object contains pro perty property initial value property support adding change invalidation listener property implemented class pointclass hand create table add random poin t chapter gui programming continued table new tableview point point int add random point table new point point added deleted table canvas h redrawn implement add listener list point serf data model table observable e redrawdisplay type parameter e lambda expression given observable observable list addlistener method require lamda expression explicit type emakes possible compiler tell meant h ere adding invalidationlistener listchangelistener arranged canvas redrawn point added deleted table redrawn user e dit point table change list structure s chang e inside object list respond change add listener bo th observable property eachpointobject fact s table doe resp ond change point outside table tha t little extreme program actually listens diﬀerent kind event h andle cell edits table observable property named editingcell value cell currently edited nullif cell edited value property cha nges tonull mean editing operation completed arrange canvas redrawn editing operation adding change li tener editingcell property o oldval n ewval newval null redrawdisplay complete deﬁnition table deﬁne lumns table need cell value factory column create d using property value factory follows pattern previous example fo r editable column need cell factory just did editable list example ab ove similarly example cell factory created using myconverter wheremyconverter astringconverter double furthermore program make sense stop user resizing column sorting th em complete code setting column tablecolumn point double xcolumn new tablecolumn x coord new propertyvaluefactory point double x olumn myconverter false false default size small xcolumn chapter gui programming continued thing needed make table work set editable true need quite lot make table work especially s editable table t ables complex code javafx make write set table wo uld need implement table directly way pay attention way exp loited mvc pattern program scatter plot alternative view th e data model shown table data model used canvas redrawn happens response event generated change model ac tually take surprisingly little thought work make sure scatter plot correct view data urge study source code addition seeing detail tableview interested looking transforms subsection used drawing scatter plot window dialog sample gui program looked used single window real program use multiple window se ction look manage application discus dialog box popup window mainly used getting input user bonus ge t learn webview javafx control implement functionality web browser window dialog box adialog dialog box window dependent windo window parent owner dialog box parent windo w closed dialog box automatically closed dialog box modalormodeless modal dialog box opened parent windowisblocked thatis theusercannotinteractwiththe parentwindowuntilthedialogbox closed application modal dialog box block entire application just parent window dialog box javafx ap plication modal modal dialog box popped program execution inp ut user just message user modeless dialog box block interaction pa rent window closed automatically parent window close model es dialog box used alternative view data parent window hold control aﬀect window possible make stagework dialog box dialog box javafx program created object belonging clas sdialog package subclass dialog dlg instance od showing dialog dialog shown using modal dialog opened using showandwait just modal application modal showandwait method doe return dialog box closed input dialog box available program immediately showandwait dialog shown using hand dialog modeless method return immediately user useboth regularwindows thedialogbox canswit ch forth gui programming continued using modeless dialog box little like parallel program understand thing going time consider modal dialog box dialog t parameterized type type parameter represents t ype value returned showandwait method return type actually optional t representing value type tthat present optional deﬁned anoptional aboolean methodispresent test value present method return value present exception occurs called value present just mean want use return value showandwait ﬁrst use ispresent test value actually returned dialog box ordinarily contain button c losing dialog typical button name include ok cancel yes mo st common button represented enumerated type buttontype value including common return type dialog representing button user clicked close d ialog case dialog box type dialog buttontype class alertis subclass dialog buttontype make easy create dialog text message user button class used insubsection explanation error message use alert created alert alert new alert alerttype message ﬁrst parameter type nested enumerated type value alert ﬁrst type single ok button message user se alert reason check return value conﬁrmation alert ok button cancel button typically used ask user like continue potentially dangerous operation deleting ﬁle case checking return value important typical use alert confirm new alert really want delete optional buttontype response buttontype addition button dialogcan content area header text appears content area graphic appears header te xt content course title title bar dialo g window usually graphic small icon image alert message go content area property set automatically depending al ert type changed calling method dialogclass showing alert windowtitle node headertext chapter gui programming continued anyofthevaluescanbenull thecontentcanbesettoanarbit raryscenegraphnode replacing text message calling node common plain dialogthan alert couple conﬁrmation alert showing various component th e dialog window dialog box right header text null note way tha t multiline text alert include line feed character text header text title contenttextgraphic example dialog get input user cl asstextinputdialog subclass dialog string meaning return value showandwait optional string atextinputdialog contains textfield user enter line text ok button cancel button con tructor parameter typestringthat represents initial content text input box want ask question message user t dialog header text return value present content input box note return value string user click cancel simply close s dialog box return value present typical usage textinputdialog getnamedialog new textinputbox fred enter optional string response th alert error new alert anonymous user allowed ﬁnd alertandtextinputdialog little cumbersome use especially tend prefer dialog icon wrote utility clas s deﬁnes convenient static method showing com mon kind dialog particular text show text ok button return value text automatically wrapped line f eed character needed long message optional second parameter includ ed specify title dialog gui programming continued text withanokbutton cancel button method return string content input box user click ok null user cancel th e dialog window title given optional second parameter initial content text input box optional parameter text show text yes cancel button return value stringwhich yes cancel window title given optional second par ameter option including basic color choose r dialog learn reading source code program let user try dialog deﬁned simpledialogs webview webengine rest section look web browser program writing web browser sound complicated javafx make pr etty easy doing work couple standard class webview class package represents control load display web page h andles web page pretty including running javascript code javascript th e programming language used program active web page closely related java awebview basically view pattern subsection actual work loading managing web page object type webengine model data structure contain ing content displayed web page model created webengine page loaded webview display content awebview placed window sample class subclass standard window class stage represents complete web browser window abrowserwindow contains webview menu bar control particular box user type url web page load button user click load web page url webview addition browserwindow constructor specify initial url loaded window ﬁrst opened awebview associated webengine obtained calling webengine load web page simply urlstring whereurlstring string containing url url discussed subsection theurlstring start protocol http http m y program add http url string string doe t specify protocol new web page loaded automatically user cl icks link page currently displayed web page loading asynchronous return immediately web page loaded background thread loadin g completed web page shown webview load fails reason automatic noti ﬁcation information going b y adding listener observable stringproperties web engine locationand thetitle thelocation url web page currently displayed loade d titleis titlechapter gui programming continued current web page usually appears title ba r window display web page example browserwindow class monitor titleproperty set window title match o oldval new val newval null settitle untitled settitle newval discus owner monitor location property display value labelat window monitor progress load add listener t o property source code example said webview webengine run javascript code occurs web page quite true javascript subroutine s popping certain simple dialog box alert dialog simply display message t o user prompt dialog ask user question response string conﬁ rm dialog show message ok cancel button conﬁrm dialog turn value boolean tell user dismissed dialog clicking ok default request javascript dialog ignored webengine possible add event handler web engine respond request inbrowserwindow use dialog box simpledialogs class respond event example javascript try pop alert dialog web engine generates ev ent type alertevent data event object message javascript want di splay browserwindow class responds using display message user evt alert web page handling prompt conﬁrm dialog little diﬀerent sin ce return value s sample program promptdata query web page str str confirmation needed al yes haven t discussed menu bar browserwindow menu bar contains single menu named window menu contains command openi ng new browser window closing current window contains list browser window currently open user bring diﬀerent window s creen selecting window list understand work need unde rstand browserwindow used complete program managing multiple window class browserwindow application run program represents just window program executable cl as program deﬁned class webbrowser like javafx program subclass application gui programming continued depends need java ﬁles run program anapplication astart method called application begin method parameter type stagethat represents primary window program requirement program act ually use window start method webbrowser ignores primary window instead creates show window type browserwindow ﬁrst window opened program run set load page web version tex tbook need window menu contains list open window tha t list data individual window kept web browser application application object type webbrowser maintains list open window application object program just list open window possibility make window list astaticmember variable thebrowserwindow class staticvariables class shared instance class webbrowser class newbrowserwindow method opening new window abrowserwindow instance variable owner refers webbrowser application opened window browser window want open new window doe calling url parameter url url web site loaded new window nullto open browser window default javafx size window determined size scenethat contains window centered screen possible set size location window opened p rogram desirable window appear exactly location turn default size browserwindow probably small computer screen webbrowser application window opened oﬀset little fro m location previous window opened size window depends si ze screen class screen package static method return object containing information compute r s main screen object turn method return representing usable area main screen used program s start method compute size location ﬁrst window public void start stage stage stage used openwindows new arraylist browserwindow list o pen window screenrect locationx locationy location upper l eft corner window opened window window moved little corner primary screen s visible bound locationx locationy window size depends height width scree n s visual bound allowing extra space possible stack window displaced th e previous aesthetic reason limit width b e time height windowheight chapter gui programming continued windowwidth windowwidth windowheight windowwidth windowheight open window showing page textb ook newbrowserwindow http end start window opened newbrowserwindow method size location taken variable windowwidth windowheight locationx andlocationy value locationx andlocationy modiﬁed window placed diﬀerent location addition new window added t open window list make sure window removed list whe n closed fortunately window generates event closed add t handler listen event event handler remove window op en window list code fornewbrowserwindow void newbrowserwindow string url browserwindow window new browserwindow url window add new window open window l ist e called window closed remove window list open window window number open window openwind program end automatically window clo sed program end window closed url null untitled getnextuntitledcount locationx set location size win dow locationy windowwidth windowheight locationx set location window locationy locationx windowwidth window extend past right edge screen reset locationx original value locationx locationy windowheight window extend past edge screen reset locationy original value locationy chapter gui programming continued thewebbrowser class method getopenwindowlist return open window list method used browserwindow construct window menu eﬃcient way menu rebuilt time shown menu emits event user click menu just menu shown browserwindow register handler event window menu e vent handler get open window list calling us rebuild menu appears screen code browserwindow class private void populatewindowmenu arraylist browserwindow window list menu contains permanent item remove item correspond open window left previous time menu shown size add close command window menuitem item new menuitem close exit e item new separatormenuitem browserwindow window window string title menu item text wi ndow title let s use absurdly long menu item text title menuitem item new menuitem title final browserwindow win window use lambda expr ession event handler menu item bring corresp onding window calling requestfocus method e item window window item corresponding window disabled true just cover thing s ver y diﬃcult manage window application wonderfully easy write rea sonably functional web browser javafx good example building existin g class ve seen nice new example working event h ave reached end textbook ﬁnal section cover d gui gui programming continued finishing touch final section present program complex little mor e polished looked previously example book toy program illustrated point prog ramming technique s time program us man y technique covered discussing progra m basic design ll use excuse talk brieﬂy feature java t hat didn t ﬁt rest book including apply program jus t gui program program look mandelbrot viewer le t user explore famous mandelbrot set begin explaining m eans note capable mandelbrot program http javascript version run web bro wser http mandelbrot set mandelbrot set set point ﬁned computational procedure use program really need know t hat mandelbrot set used make pretty picture mathemati cal detail consider point coordinate b apply following computation let x let y b repeat let newx x x y y let newy x y b let x newx let y newy loop repeated point x y change question mandelbrot set doe x y grow bound trapped forever ﬁnite region plane x y escape inﬁnity grows bound s tarting point b isnotin mandelbrot set x y trapped ﬁnite region b mandelbrot set known strictly greater x y escape inﬁnity bigger loop end loo p say b deﬁnitely mandelbrot set point b mandelbrot set loop end computer c ourse don t want loop run forever limit number time s loop executed limit maxiterations x y b count x x y y count maxiterations break double newx x x y y double newy x y b chapter gui programming continued x newy y newy loop end countis equal maxiterations say b deﬁnitely mandelbrot set countis greater maxiterations b mandelbrot set larger maxiterations likely b actually set make picture procedure use rectangular grid pixel represent rectangle plane pixel corresponds real n umber coordinate b use coordinate center pixel run loo p pixel countgoes pastmaxiterations color pixel black point possibly mandelbrot set base color pixel value countafter loop end using diﬀerent color diﬀerent count sense high er count closer point mandelbrot set color information point outside set shape set s important unders tand color arbitrary colored point deﬁnitely notin set screenshot mandelbrot viewer program us computation black region mandelbrot set black point known deﬁnitely set use program zoom small region plane just mouse image draw rectum ngular zoom box image shown illustration release t mouse picture inside rectangle zoomed ﬁll entire display simply click point picture zoom point click magn iﬁcation factor click use right mouse button zoom instead zoom ing interesting point boundary mandelbrot set fact bou ndary inﬁnitely complex note zoom far exceed capabili tie doubledata type program prevent image ﬁrst blocky meaningless chapter gui programming continued use maxiterations menu increase maximum number iteration loop remember black pixel n set increase maxiterations ﬁnd black region ﬁlled color palette menu determines set color used di ﬀerent palette diﬀerent visualizationsoftheset butit sjustthearbitrarycolor sthatarediﬀerent palettelength menu determines diﬀerent color used def ault setting diﬀerent color used possible value countin algorithm better picture using diﬀerent number color palette l ength maxiterations palette repeated cover possible value count palette length greater thanmaxiterations palette used picture uniform color try decreasing palette length make color vary quic kly ascountchanges look like randomly colored dot inst ead band color tryincreasing palette length program file menu used save pictu png image ﬁle save param ﬁle simply save setting s produced current picture param ﬁle read program using th e open command mandelbrot set named benoit mandelbrot ﬁrst person note incredible complexity set astonishing suc h complexity beauty arise simple algorithm design program class java deﬁned package use d standard package extensively programming example default package mean declared belong named package doing programmin g good style create package hold class program oracle cor poration recommends package name based internet domain th e organization produce package oﬃce computer domain computer world according oracle thi s allows use package element domain reverse order lso use subpackages package package decided use mandelbrot viewer application e us naming use packa ge package uniquely identiﬁes program brieﬂy discussed using package subsection context programming example section s need know mandelbrot viewer progr program deﬁned seven java source code ﬁles directory insidethe sourcedirectoryofthewebsite thatis theyareinadirectory namedmdbfx inside directory named eck inside hws inside edu directory structure follow package way directory contains ﬁle named ﬁle used program discussed example folder contains resource ﬁles used example menu mandelbrot viewer us javafx y ou need make sure javafx available program compiled run discussed section integrated development environment eclipse just add edu directory project provided project nﬁgured use javafx want work command line instead working directory contains thechapter gui programming continued edudirectory need add javafx option javacandjavacommands let s say ve deﬁned jfxcandjfxcommands equivalent javacandjavawith javafx option included discussed subsection compile source code use command jfxc use window jfxc main application class program deﬁned clas s named main run program use command jfx command given directory contain s theedudirectory work computing displaying image mandelbro t set ﬁle themandelbrotcanvas class subclass canvasthat compute display visualization mandelbrot set discus sed image shown determined range x y value visible th e maximum number iteration mandelbrot algorithm palette used color pixel value input come program mandelbrotcanvas just calculates display image based input given addition coloring pixel image mandelbrotcanvas class us dimensional array store iteration count pixe l image discussed iteration count pixel used palett e determine color use pixel palette changed iteration count used reset color pixel doing mandelbrot computation howe ver range change size window change itera tion count recomputed computation accept able block user interface computation performed solution computation separate worker thread discussed subsection program us worker thread available processor computation begin image transparent gray background window computation br oken task task computes row image ﬁnishing comput ation task apply appropriate color pixel assigned row t canvas modiﬁed javafx application thread task us make change seesubsection user continue use menu mouse whi le image computed ﬁle represents entire content mandelbrot viewer window mandelbrotpane subclass borderpane center position mandelbrotpane hold amandelbrotcanvas fact second transparent overlay canvas stacke d canvas contains image user draw z oom box mouse zoom box actually drawn canvas drawin g doe damage image subsection position mandelbrotpane contains label serf status bar showing information interesting user finally menu bar pane menu bar program deﬁned deﬁnes subclass menubar subsection discussion menu menu item ofchapter gui programming continued menu item menusclass command represent implemented method nested subclass class command ﬁle manipulation command use technique subsection subsection subsection maxiterations palette palettelength men contain group radiomenuitems program deﬁned nested class inside menusto represent group example palettemanager class contains menu item palette menu instance variable register actio n event handler item deﬁnes utility routine operating menu th e class menu similar probably deﬁned subclas s general class example menu contains setting s everal sample view piece mandelbrot set work program mandelbrotpane installs mousepressed mousedragged mousereleased event handler lay canvas implement zooming image installs mousemoved event handler u pdates status bar display image correspond mouse location mouseexited event handler canvas used reset status bar r ead idle mouse move canvas furthermore menu command implemented calling method paneclass example setlimits method called set range shown image method s setting palette palette length value maxiterations property changed mandelbrot image modiﬁed palette pa lette length changed delbrotpane computes new palette color call method mandelbrotcanvas tell use new palette limit maxiterations ar e changed image entirely recomputed mandelbrotpane call astartjob method mandelbrotcanvas tell start new background computation job w ork setting managing job mandelbrotcanvas themandelbrotpane used program parameter menu constructor menusobject save copy instance variable owner menu command operate mandelbrotpane mandelbrotcanvas contains order carry command menususes itsownerinstance varialble method pane object mandelbrotcanvas mandelbrotpane instance methodgetdisplay return reference canvas pane contains menusobject obtain reference canvas calling previous example book written large cl as ﬁle object directly available code program o f multiple interacting ﬁles getting access necessary object probl em mandelbrotpane mandelbrotcanvas andmenusare major class mandelbrot viewer program deﬁnes subclass application executed run program start method just place mandelbrotpane program s primary stage seesubsection task discussed program contains class f deﬁne custom dialog box discus subsection ﬁnal class discus brief discussion design mandelbrot viewer shown us wide variety technique covered earlier book rest section ll look new feature used gui programming continued event listener binding worked extensively event event listener lesser extent binding observable property interesting look ho w used mandelbrot viewer program class involved let s start following fact mandelbrotcanvas class know menusclass menu bar contains menu item know w hat s happening canvas class particular menu item di sabled computation progress canvas doe method use var iables menu class menu know computation progress canvas answer course exactly binding subsection amandelbrotcanvas observable boolean property named working true exactly computation progress menu item disabled value property true besetupinonelinebybindingthe disableproperty ofthemenuitemtothe workingproperty canvas example menusconstructor saveimage menu item command ownerrefers mandelbrotpane themandelbrotcanvas contains similarly restore previous limit menu comman d reset range image value r ecent change menu class us instance variable previouslimits type double remember previous limit doe information user zo oms image change take place entirely mandelbrotpane class way menu notiﬁed change solution n observable property time type objectproperty double themenusconstructor add changelistener limitsproperty mandelbrotpane class o oldval newval save old value limitsproperty use restore previ ous limit previouslimits oldval previouslimits null point event used communication themandelbrotcanvas mandelbrotpane class strongly coupled menusclass fact used modiﬁcation program don t e menusclass alternative using event binding c anvas display class method limitschanged orcomputationstarted themenusclass strong coupling programmer wanted use mandelbrotcanvas usemenusas modify canvas class l onger refers themenus course event strong coupling bad mandelbrotpane class refers directly mandelbrotcanvas class used purpose mandelbrotpane hold mandelbrotcanvas coupling problem mandelbrotcanvas hand used independently ofmandelbrotpane interesting use event mandelbrotpane image canvas overlay canvas contained stackpane nameddisplayholder user change sizechapter gui programming continued window size displayholder changed match happens canvass resized ﬁt new display size d new computation started compute new image mandelbrotpane class installs listener height width property displayholder respond change size discussion canvas resizing subsection user dynamically change size window size displayholder change time second fairly big deal set start new image computation somethin g want time second try resizing program s window ll ice canvas doesn t change size dynamically window size change image s shown long size changing second size stopped changing new resized image computed work listener handle change size displayholder set method namedstartdelayedjob e startd elayedjob true e start delayedjob true ﬁrst parameter startdelayedjob number millisecond wait resizing canvas starting new computation second param eter merely say canvas doe need resized computation star ted implement delay startdelayedjob us object type timer package atimertask submitted timerto executed speciﬁed delay time executed possible cancel task startdelayedjob submits task timer resize canvas millisecond startdelayedjob called delay expired cancel previous task nd submits new timer result task actually get executed mi lliseconds pas startdelayedjob time option program ﬁxed size ima ge case size thedisplayholder change possible image ﬁll window leaving gray background window visible possible image big window case scroll bar appear used scroll image scrollpane container contains component provides scroll bar necessary image size ﬁxed t hedisplayholder removed mandelbrotpane placed scrollpane scrollpane placed center position mandelbrotpane gui detail ﬁnish textbook s look gui programming lik e mention couple detail haven t quite ﬁt previous section seen resource ﬁles ﬁles prog ram contain program code easy use image resource ﬁles t heimageclass subsection kind data stored resource ﬁles exampl e mandelbrot viewer program example menu user chooses comma nd menu parameter particular view mandelbrot set ar e loaded program parameter stored resource ﬁle us simple x ml text format question doe program access ﬁle unfortunately s quite easy creating animagefrom image resource gui programming continued resource stored ﬁles location compiled class ﬁles program class ﬁles located loaded c alled aclass loader represented java object type classloader class loader list location look class ﬁles list called class path includes location java s standard class stored generally incl udes current directory program stored jar ﬁle jar ﬁle included cl as path addition class ﬁles aclassloader capable ﬁnding resource ﬁles located cla s path subdirectory location class path ﬁrst step using general resource obtain classloader class loader used locate resource ﬁle object stance method getclass return object represents class obj ect class object turn method getclassloader return classloader loaded class instance method object say classloader classloader getclass class loader need way refe rence class object use whereclassname class example mandelbrot viewer program used class loader program class loader use look resourc e ﬁle class loader actually return url ﬁle read data n ﬁle url url reading data refer discusse d insection ﬁnd resource ﬁle class loader requires path ﬁle j ust image resource ﬁle path includes ﬁle directory need traverse ﬁle resource ﬁles contain mandelbrot exa mples inside chain directory path ﬁles s command get url ﬁle url resourceurl url open inputstream read data ﬁle inputstream stream s exactly s implement example m enu mandelbrot viewer program using input stream read type dat resource ﬁle want remember ki nd data image java convenient way load data program second short topic accelerator menu item accelerator key combinationofkeysonthekeyboardthatcanbeusedtoinvoke themenuitem asanalternative selecting menu item mouse typical example c saving ﬁle classkeycombination frompackage representscombinations ofkeysthat used accelerator keycombination created string string contains item separated plus sign item represents modiﬁer key ctrl alt meta shift shortcut modﬁers use upper lower case shortcut modiﬁer special mac s equivalent command key meta window linux equivalent trol key ctrl usingchapter gui programming continued shortcut appropriate modiﬁer menu comman d program running item key combination string enumerated type constant keycode type generally upper case letter repr esents letter key upper case b e function key key work example string represents holding control shift key pressing n key string shortcut represents holding appropriate modiﬁer computer using press ing s key string describes key combination passed static metho make key combination object used install accelerator menu item example code mandebrot viewer prog ram add accelerator themenuitem saveimage save image command sh accelerator used kind menu item includi ngradiomenuitem checkmenuitem case user type accelerator key combina tion eﬀect selecting item mouse accelera tor menu item ordinarily shown menu item text menu item mandelbrot viewer program command file control menu s accelerator internationalization remainder section look topic app ly program gui programming particular thing likely use small program written use important large app lications internationalization refers writing program easy adapt running n diﬀerent part world internationalization referred number letter ﬁnal n interna process adapting program particular location called localization location calledlocales locale diﬀer way including type currency u sed format used number date obvious diﬀerence language discus write program easily translated language key idea string presented user coded program source code translator ha ve search entire source code replacing string translation t hen program recompiled properly internationalized program t string stored ﬁles separate java source code wher e easily translated source code doesn t modi ﬁed translation recompilation necessary implement idea string stored property ﬁles property ﬁle just list pair translation purpos e value string presented user string tr anslated key string don t translated b e presented user won t modiﬁed key string used th e program source code key uniquely identiﬁes value string program use key string look corresponding value string property ﬁle program need know key string user value string p roperties ﬁle translated user program diﬀerent value string format property ﬁle simple p air formchapter gui programming continued string space key string equal sign period used divide word key string value string contain space o r character line end backslash value string continued line ca e space beginning line ignored property ﬁle sh ould use charset subsection suppose program want present string user menu command example property ﬁle contain ke pair png image save png image value string app ear menu program use key string look rresponding value string use value string text menu item java lookup process supported resourcebundle class know retrieve use property ﬁles string presented user contains sub string known time program running typical example ﬁle suppose example program want tell user sorry ﬁle loaded ﬁle selected user run time handle case like value string property ﬁles includ e placeholder replaced string determined program run time place holder form ﬁle error example property ﬁle ntain file loaded program fetch value string key substitute theactualﬁlenamefortheplaceholder notethatwhenthestringistranslated theword order completely diﬀerent using placeholder f ﬁle translator make sure ﬁle correct grammatic al position language used placeholder substitution handled theresourcebundle class java class messageformat make substitution easy forthemandelbrotviewerprogram thepropertiesﬁleis anyproperties ﬁle end string run program come ﬁle handling value string lo okup wrote class static method public static tr string key object args handle process keyis key string looked additional parameter substituted pla ceholders value string recall formal parameter declara tion object mean number actual parameter key seesubsection typical us include string saveimagecommandtext string errmess selectedfile function call like mandelb rot viewer source code class written general way used pr ogram long provide property ﬁle resource thing need change resource ﬁle class gui programming continued actually possible provide alternative prop erties ﬁles program example include french japanese version property ﬁle english version english property ﬁle nam name french japanese version string string language code fr ja usedinconstructingpropertiesﬁlenamesforthatlanguage theprogramasksfortheproperties ﬁle using simple string program run java preferred language french program try loa d string fails look mean program use french property ﬁles french locale use jap anese property ﬁle japanese locale locale use default proper tie ﬁle preference program allow user set preference preference really just piece program s state saved run program order make preference persistent run program prefer ences simply saved ﬁle user s home directory b e problem locating ﬁle problem naming ﬁle way avoid s conﬂicts ﬁle name used program problem clut tering user s home directory ﬁles user shouldn t know deal problem java standard mean hand ling preference deﬁned package general thing need package class named preference mandelbrot viewer program ﬁle example using preference program user set preference custom dialo g box mandelbrot program doesn t preference appropriate f type treatment instead example automatically save aspect progr s state preference time program start read preference available time program terminates save preference saving p reference pose interesting problem program end application windo w close need way arrange preference saved happens t solution use event start method mainregisters event handler window listen e vent generated window close handler eve nt save preference dependent location java programmer don t w orry java preference know store data st ill problem identifying preference program possible java p rograms running computer java solves problem way solves package naming problem fact convention preference progr identiﬁed package program slight change notation exa mple mandelbrot viewer program deﬁned package preference identiﬁed string period chang ed extra added beginning preference program stored called user preference node given program identiﬁer accessed follows preference root preference prefnode pathname chapter gui programming continued wherepathname string identiﬁe s node node consists simple list pair whe key value string store string want preference really just way storing persistent data program run gener al key string identiﬁes particular preference item associated value s tring value preference apreferences object prefnode contains method key retrieving value string associated given key key value setting value string given key use preference store shape position prog ram s window make size shape window persistent betwee n run program run program window right left time ran store directory contained ﬁle cently opened saved user program particularly satisfying default behavior ﬁle dialog box start working directory hardly place user want program s ﬁles preference feature sw itch right directory ﬁrst time use program ll automatically directory use program look source code detail s s lot say jav programming general book introduction program ming using java s time journey end hope pleasant journ ey hope helped establish foundation use ba si exercise chapter folder contains picture animal web site downl oad solution ﬁnd folder directory inside sourcedirectory write scratch oﬀ program used small child work follows program window start showing large uniformly colored r ectangle animal picture hidden user drag mouse image colored overlay scratched oﬀ revealing picture unde rneath look like overlay removed implement using canvas containing lored overlay stacked canvas contains animal picture sta cked canvas used sample program fromsubsection implement scratching oﬀ overlay just clear small rect overlay va mouse location program way picture idea diﬀerent size scratcher impati ent child use giant remove large swatch color component subsection display text timing solution stopwatch running nice displaye d elapsed time stopwatch started need create animationtimer tion add animationtimer original source code drive display elapsed time second program fromsection improvement solution like suggestion separate menu color stroke color possible user draw shape ﬁlle d stroked example add new tool stroked filled rect strok edfilledoval line width menu keyboard accelerator command subsection possible use translucent ﬁll color simple appr oach use checkmenuitem select fully opaque opaque ﬁll don t advis e trying implement translucent stroke color s d iﬃcult undo command restore image wa s time modiﬁed implemented making copy o f image modify s possible undo t hat s harder us memory remember toolpaint program requires sample program fromsubsection keep data solution phone directory ﬁle user s home directory exe rcise asked revise program use xml format data pro gram simple user interface exercise provide gui interface phone directory data base program original sample program modiﬁed xml version exercise use tableview hold data user able edit entry table al user able add delete row include button menu comman d used perform action delete command delete selected row new row added end table program load data ﬁle start s ave data ﬁle end just previous program gui pr ogram need save data user close window end p rogram add listener program s stageto handle windowhidden event example using event mandelbrot viewer program f romsection us save preference program end example cre ating editable table suggest keeping thing simple asked writ e real phone book application point make editable table m y program text input box number add button adding new entry containing input box program save data wheth er user changed interface poor user double cell edit press return ﬁnish edit save new value po sible make table better editing interface need write newcellfactory class table quiz quiz chapter answer observable property inputis atextfield labelis alabel suppose want text label text text ﬁe ld write twocode segment accomplish using event listener using property binding picture produced following code wherecanvasis acanvas graphicscontext g lineargradient paint use ﬁll rectangle drawn rectangle look like light gray black api creating gradient paint complicated s o k look gi agraphicscontext explain purpose method doe acronym mvcstand doe apply listclass diﬀerence modal dialog box mode dialog box java api includes class package named funny package closeitem amenuitem following statement accelerator ct meant internationalization program appendix source file appendix contains list example appearing free textbook introduction programming using java version javafx edition web site book http link downloading entire web site ﬁnd source code ﬁl e directory named source link downloading just source code ﬁles readme ﬁle download includes instruction compiling runn ing program note example depend source ﬁles built java class written ne cessary ﬁles included downloads link individual ﬁles provided bel ow solution exercise notlisted appendix chapter exercise web page discusses lution source code sample solution exercise given solution pag e exercise want compile solution able t solution web browser window text editing program t paste html source solution page contains extra html markup com mands java compiler won t understand html markup doe appear pa ge displayed web browser exercise solution available downlo ad page web readme ﬁle download information example sample program text based tyle computer user type line text forth program use standard output object output use standard class textio input program use textio ﬁles available compile progr available run program textiois deﬁned package named textio mean dire ctory named textio directory program gui ver sion oftextio ﬁnd information fromsection trivial program doe print message helloworld ahelloworldprogramistypically theﬁrstprogramforsomeone learning new programming language fromsection computes speciﬁc money period year fromsection demonstrates basic subroutine function code listing fromsubsection demonstrates text block kind multiline string literal demo requires java fromsection averysimple ﬁrst demonstration enum type enum type used program deﬁned ﬁle s program alternative version us enums enums deﬁned separate ﬁles fromsection read integer typed user print square integer program depends true program rest list fromsection calculates investment year based user input us textiofor user input fromsection simple demo output ﬁle using textio isaversionof thatuses scanner instead textioto read input user fromsection ﬁrst example us control statement fromsection output sequence given stating value fromsection computes average value integer entered user fromsection count number divisor integer entered user fromsection list distinct letter string entered user fromsection convert length measurement input user diﬀerent unit measure computestheaveragevalueofsomerealnumbers entered user demonstrates use try catch ﬁndsthesumandtheaverageofnumbers read ﬁle demonstrates use try catch statement textio fromsection demonstrates random access array element using birthday problem people c hoose random birthday day year fromsection illustrates use partially array reading number user printing n reverse order fromsection let user play guessing game computer pick number user try guess sligh t variation program report number game won user fromsection useless program subroutine call fromsection demonstrates use argument using ﬁle name command line fromsection improved program us subroutine print output neat column fromsubsection simulate rolling pair dice total rolled code listing fromsection simple card game us class given example programmin available class subsection fromsection read number user print reverse order doe using class example using dynamic array fromsection functionally identical us arraylist integer instead dynamicarrayofint fromsection implement symmetric array double program test symmetricmatrix class fromsection convert measurement input user inch foot yard mile improvement allows input combining measurement foot inch nd detects illegal input fromsection small demo program try catch statement includes autoclosing resource fromsection revision us exception handle error user s input fromsection print step solution tower hanoi problem example recursion fromsection implement linked list string program test class fromsection evaluates postﬁx expression using stack depends thestackofdouble class deﬁned fromsection demonstrates binary sort tree string fromsection program parse evaluate arithmetic expressi ons input user handle fully parenthesized expressio n evaluates ordinary expression parenthesis omitted construct expression tree represent input expression us th e expression tree evaluate expression fromsection make alphabetical list word ﬁle atreesetis used eliminate duplicate sort word fromsection make alphabetical list word ﬁle small modiﬁcation previous exampl e us priorityqueue instead treeset result alphabetical list wo rds duplicate notremoved fromsection demonstrates use hashmap symbol table program interprets simple command u ser fromsection count number occurrence word ﬁle program us feature java collect ion framework fromsection demo java s stream api run experiment measure compute time problem t solved using loop using sequential stream using parallel stream fromsection show read write ﬁles simple application version us resource pattern try catch code listing fromsection list content directory speciﬁed user demonstrates use fileclass fromsection program make copy ﬁle using ﬁle name given argument version program demonstrates us resource pattern atry catch statement fromsection demonstrates use ﬁle storing data run program fromsection read display content speciﬁed url url refers text ﬁle mentioned section short program print tion network interface computer run including ip address associated interface fromsection simple ﬁrst example network client server program fromsection demonstrate communication network letting user send message forth threading used message strictly alternat section section run thread perform task demonstrate run simultaneously ﬁ nish indeterminate order section section divide task counting prime thread demonstrate parallel processing th e use synchronization section minor modiﬁcation us atomicinteger instead synchronization safely add value seve ral thread fromsection modiﬁcations subsection use thread handle communication client ﬁrst program creates new t hread connection second us thread pool us blocking queue s end connection main program pool threaded server work original client program fromsection demonstration distributed computing piec e large computation sent network computed w orker program graphical example text following sample program use graphical user interfac program use javafx gui toolbox simple demonstration basic gui component t javafx graphical user interface library appears text section won t able understand learn gui programming fromsection draw large number randomly colored randomly positioned disk simple graphic program ﬁrst example guisource code listing program meant introduction graphic s example using control structure fromsection draw set nested rectangle inﬁnitely center program based used starting point writing similar anim ation program animation computer continuously add s random colored disk image program display window colored square wit h moving disturbance section program depends version previous example modiﬁed use named constant section fromsection show animation growing transparent circle requires used simple example programming object fromsection program let user place various shape drawing area example abstract class subclass polymorphism fromsection display message window button changing message quitting program o ne message hello world program used ﬁrst example fo r learning javafx programming used section demonstrate rgb hsb color program us technique covered later t text presented programming example run experiment lors fromsection show copy string hello javafx random color font fromsection show card selected random deck depends ﬁles image resource ﬁle fromsection show information mouse event user move click mouse fromsection let user draw curve drawing area select drawing color palette fromsection show use keyboard event fromsection let user play simple game us animationtimer keyboard event small program demonstrate basic ponents used example section fromsection show lay component pane allows layout fromsection let user add subtract multiply divide number input user demo text ﬁelds button l ayout nested subpanels fromsection implement gui version card game user see playing card guess card willsource code listing higher lower value program depends image resource ﬁle fromsection demonstrates menu program user color square mosaic mouse deﬁne mosaic fromsection show multiple copy message random color size position animation n copy window improved version us array track data fromsection let user draw colored curve store data needed repainting drawing surface list type arraylist curvedata example record class section simple program test record class fromsection implement john conway s game life example using array program depends fromsection let user play game checker illustrates use array variety programming technique longest program book far lin e demo program mentioned section example recursion use technique cov ered chapter note littlepentominos depends fromsection us recursion count group colored square grid fromsection demonstrates stack queue fromsection let user edit short text ﬁles program demonstrates reading writing ﬁles using ﬁle dialog fromsection demonstrates saving data program ﬁle binary character form program sim ple sketching program based fromsection demonstrate saving data program ﬁle xml format program modiﬁcation fromsection simple program demonstrates basic parsing xml document traversal document object model representation document user enters xml parsed text area fromsection us thread drive simple animation fromsection demonstrates using separate thread perform computation simple communica tion fromsection demonstrates using thread running lower priority perform lengthy computation background programcomputesavisualizationofasmallpieceofthemand elbrotset buttheparticular computation important fromsection modiﬁcation previous example us thread perform background computa tion speed computation code listing fromsection modiﬁcation previous example decomposes task large number fairly small s ubtasks order achieve better load balancing program us thread pool qu eue task fromsection version previous example us pool thread run forever ta king task queue executing make possible blocking queue ed deﬁned standard linkedblockingqueue simple example using wait andnotify directly used replacement linkedblockingqueue section functionality butusesan executorservice frompackage execute task fromsection show animation famous tower hanoi problem user control animation run startagain button program example using wait andnotify directly communication thread fromsection simple gui program chatting people network demonstrates using thread rea ding data network connection fromsection package deﬁnes framework networked game framework used example chat roo m deﬁned package game deﬁned package poker game deﬁned package fromsection demonstrates binding bidirectional binding javafx observable property fromsection show use property binding resize canvas pane contains canvas resize fromsection demonstrates use various line property stroking line rectangle fromsection demonstrates using lineargradient paint using animagepattern paint ﬁll polygon us image resource ﬁles fromsection demonstrates applying various transforms scale rotate drawing canvas use s image resource ﬁle section little paint program illustrates pixel manipulation use transparent overlay canvas drawing operation program requires fromsection demonstrates using listview item imageviews user stamp image selected icon drawing area program us icon image directory stamper iconsas resource fromsection small demo uneditable tableview fromsection demonstrates editable tableview table hold x y coordinate point user edi t coords scatter plot point code listing fromsection contains static method showing kind dialog box program test dialog method letting user click button open diﬀerent kind dialog fromsection simple web browser based javafx s webview control program show manage multiple window n javafx application requires subclass stagethat doe work mandelbrot program section computes display visualization mandelbrot set deﬁned class pac source code ﬁles directory auxiliary file section list extra source ﬁles requ ired various example previous section ﬁles listed g eneral potentially useful programming project link ﬁles ar e given program use deﬁnes class containing static method doing inpu method make easier use standard input stream method printing support input source output destination ﬁles textiois package named textio thetextioclass useful environment inconvenient use integrated development environment eclipse whi ch standard input doe work particularly case want use th e following ﬁle instead gui version textio open window textio operation performed package named textiogui distinguish normal textio companion class package fake class make possible use feature window use class build executable ja r ﬁles example run window instead command line s ee comment source code ﬁles information note gui ve rsion oftextiouses swing gui toolkit javafx aresmallprogramsthatyou edit make simple picture animation pr ograms used section exercise chapter contains subroutine foropeningandcontrollingawindow t hatcontains agrid colored rectangle depends used example exercise chapter deﬁnes subclass canvasthat show little rectangle arranged row column option simple class computes statistic set num bers used couple exercise chapter andchapter deﬁnes class exprthat represents mathematical expression involving variablex used couple exercise chapter code listing used textbook useful rea ders textreader read character data input stream input method object type textreader similar static input method textio package deﬁnes framework networked game whi ch discussed section netgame package includes example used assign rank hand card poker game th e card deﬁned class class package discussed subsection class used independently netgame frame work contains static method showing ki nd javafx dialog box getting result user intera ction abstraction abstraction refers general idea providing s impliﬁed higher level interface complex closely related idea black abstraction make possible understand use ignoring detail actually go example c ontrol abstraction statement loop actually implemented ma chine language jump conditional jump instruction easi use statement loop knowing machine la nguage implementation control abstraction make possible implement algorit hm higher level machine language abstraction fundamental concept c omputer science abstract class class used create object exist s purpose creating subclass abstract class java ar e deﬁned using modiﬁer abstract abstract data type adt data type possible value type permissible operation value speciﬁed witho ut specifying value operation implemented access speciﬁer modiﬁer used method deﬁnition variable speciﬁcati determines class use method variable access speciﬁers java arepublic protected andprivate method variable access speciﬁer said package visibility activation record data structure contains information necessa ry implement subroutine including value parameter lo cal variable subroutine return address computer return subroutine end activation record stored stack make poss ible subroutine call active time particularly impo rtant recursion call subroutine active time actual parameter parameter subroutine statement value wil l passed subroutine statement executed actua l parameter called argument address location computer s memory address whic h number identiﬁes location location memory numbe red sequentially modern computer byte memory address ad dress used information stored retrieved memory algorithm unambiguous procedure performing task guaranteed terminate ﬁnite number step alpha color component component color say transparent opaque th color higher alpha component opaque color alu arithmetic logic unit alu cpu form arithmetic operation addition subtraction logical ope ration api application programming interface speciﬁcation interface software package api say class subroutine pr ovided toolbox use applet type java program meant run web page web browser opposed application animation apparently moving picture created rapidly showing s equence image called frame java animati ons driven timer object new frame animation shown time ti mer ﬁres antialiasing adjusting color pixel reduce jagged eﬀect t hat occur shape text represented pixel antialiased d rawing shape cover pixel color shape blended previous color pixel degree blending depends pixel cove red array list item sequentially numbered item li t identiﬁed index sequence number java item array type called base type array array random ac cess data structure directly item array time array type data type possible value array typeis type type array type array base type type assignment statement statement computer program retrieves compute s value store value variable assignment stat ement java form asynchronous event event occur unpredictable time outside th e control computer program user input event pressing b utton mouse asynchronous ascii american standard code information interchange way encoding character using bit character ascii code support cha racters accented letter alphabet special symbol ideogram language chinese java us larger complete unicode code character base case recursive algorithm simple case handled dire ctly applying algorithm recursively binary number number encoded sequence zero one binary num ber represented base way ordinary numb er represented base binary tree linked data structure consists root node contains pointer smaller possibly binary tr ee smaller binary tree called left subtree right subtree bit binary number black box component used und erstanding go inside box black box interface impl ementation black box meant used component called block java programming sequence statement enclosed bet ween pair brace block used group statement single st atement block meaning contains statement ll consists just pair brace blocking operation operation reading data network connectio n said block wait event occur thread th performs blocking operation blocked required event occurs thread execute instruction blocked thread sa program continue run blocking queue queue dequeue operation block queu e item added queue blocking queue limited capacity enqueue operation block queue design approach software design start designi ng basic component combine comple x component buﬀeredimage class representing canvas image s stored computer s memory used drawing image branch control structure allows computer choose amon g diﬀerent course action java branch statement ifstatements switchstatements byte unit memory consists bit byte memo ry hold binary number bytecode java bytecode usual machine language o f java virtual machine java program compiled java bytecode whi ch executed jvm charset particular encoding character data binary form e xamples include checked exception exception java handled try catch statement throwsclause method throw exception failure handle checked exception way syntax e rror class basic unit programming java class collectio n static method variable static member class t class instance member constitute blueprint creating object said belong class class invariant statement state class object create d class true method class correc t preserve truth class invariant class variable class method alternative term static variable static method class ob jects model network communication server wait t known address network connection request sent server basic model communication using pr otocol interface way interacting computer user type s command computer computer responds mmand comment computer program text ignored computer comment human reader help understand compiler computer program translates program written som e computer language generally language program written machine language component general term visual element gui window b utton menu constructor special kind subroutine class purpose nstruct object belonging class constructor called using newoperator considered container component borderpane contain gui component contract method semantic component method s interface cont ract speciﬁes responsibility method calle r method say use method correctly speciﬁes task met hod perform used correctly contract method fully speciﬁed javadoc comment control structure program structure ifstatement whileloop aﬀects ﬂow control program order instruction program executed cpu central processing unit cpu computer actually performs calculation carry program cs cascading style sheet language used contr ol visual appearance component javafx element web page data structure organized collection data treated uni t program deadlock situation thread hang indeﬁnitely example waiting resource locked o ther thread default method method java interface implementation default implementation used class implement inte rface doe override themethod defaultmethodsaremarkedwiththereservedwor ddefault notsupported java earlier default package unnamed package class doe declare named package considered default package deﬁnite assignment occurs particular point program deﬁnitely t rue given variable assigned value p oint program legal use value local variable varia ble deﬁnitely assigned value used true com piler able verify thateverypath program declaration variabl e use pas statement assigns value variabl deprecated considered obsolete available backwar d compatibility deprecated java class method java lang uage advisable use new code deprecated item removed fut ure version java dialog box window dependent window called par ent owner dialog box usually popped information user o r display message user distributed computing kind parallel processing computer c onnected network work solve problem dummy parameter identiﬁer used subroutine deﬁnition stand fo r value actual parameter passed subroutine whe n subroutine dummyparametersarealsocalled formalparameters orso metimesjust parameter term argument used instead actual parameter enum enumerated type type deﬁned listing poss ible value type enum type java class possible value t ype object event gui programming happens outside trol program mouse click program respond o ccurs exception error exceptional condition outside norma l ﬂow control program java exception represented objec t type throwable caught handled try catch statement factory method amethod usuallyastaticfunction thatreturnsanobject factorymethods alternative constructor cycle process cpu executes machine language program fetch read instruction mory carry executes instruction repeat o ver continuous cycle ﬁll drawing operation applies color type ﬁl l pixel inside shape ﬂag boolean value set true indicate cond ition event true single bit binary number used ﬂag formal parameter term dummy frame oneoftheimagesthatmakeupananimation alsousedasanot hernameforactivation record function subroutine return value functional interface javainterface deﬁnes single subroutine term interface mean interface deﬁnes java type garbage collection automatic process reclaiming memory occupie d object longer accessed generic programming writing code work various type data rath er just single type data java collection framewor k class use similar technique example generic programming java getter instance method class used read value property class usually property just value instanc e variable convention getter named getxyz wherexyzis property global variable member variable emphasizing fact tha t member variable class exists outside method class graphic context data method necessary drawing particul ar destination graphic context javafx object belon ging graphicscontext class gui graphical user interface modern way interacting wi th computer computer display interface component button menu screen user interacts example clicking wit h mouse hash table data structure optimized eﬃcient search insertion deletion object ahashtableconsistsofanarrayoflocations andthelocati oninwhichanobjectisstored determined object s hash code integer c eﬃciently computed content heap section computer s memory object st ored high level language programming language java convenient fo r human programmer translated machine langu age executed hsb color color speciﬁed number java real number range giving hue saturation brightn es ide integrated development environment programming envir onment graphical user interface integrates tool creating compili ng executing program identiﬁer sequence character used progra identiﬁers used name variable method class index position number item array implementation inside black box code deﬁnes subro utine immutable object immutable object modiﬁed construct ed instance variable final use term immutable object contain pointer object immutable inﬁnite loop loop end continuation condition evaluates true inheritence thefactthatoneclasscanextendanother ittheninherits thedataandbehavior class extends instance class object belongs class subclass cl as object belongs class sense class used s template object object created constructor deﬁned cla s instance method method class method objec t instance class instance variable variable class variable o bject instance class interface general term use black box subroutine knowing interface tell go inside box interface reserved word java sense interface type speciﬁes abstract method object implement interface provide deﬁnitions method interpreter computer program executes program written mputer language reading instruction program c arrying translating equivalent machine language instructi ons way computer program communicates wit h rest world displaying data user getting information f rom user reading writing ﬁles sending receiving data network stream abstraction representing source input data dest ination output data java basic io stream class representing inp ut output character binary data class form foundation java s api iterator object associated collection list set used traverse collection iterator visit memb er collection turn java collection framework jcf set standard class implement generic data structure including arraylist andtreeset javafx toolkit gui application introduced mo modern alternative swing gui toolkit javafx standard java used textbook jdk java development kit basic software support mpiling running java program jdk includes programming enviro nment jre need jdk want compile java source code s executing compiled program jre java runtime environment basic software support ru nning standard java program compiled jre includes ja va virtual machine standard java class compiler kind combination compiles part program interprets allows subsequent execu tions part program executed quickly ﬁrs t time result greatly increased speed execution modern jvms use ju compiler jvm java virtual machine imaginary computer machin e language java bytecode used refer computer program act interpreter program written bytecode run java program computer y ou need jvm lambda expression notation deﬁnes anonymous method precisely lambda expression kind literal represents value type given functional interface linked data structure collection data consisting number object linked pointer stored instance variable object example include linked list binary tree linked list linked data structure node linked b y pointer linear chain listener gui programming object registered tiﬁed event given type occur object said listen e vent literal sequence character typed program repres ent constant value example literal represents constant charvalue appears java program location memory computer s memory sequence location location sequentially numbered number id entiﬁes particular location called address location local class class deﬁned inside method deﬁnition local clas s anonymous required local variable variable declared method use inside tha t method variable declared inside block valid point wher e declared end block declaration occurs loop control structure allows sequence instruction executed repeatedly java kind loop forloops whileloops doloops loop control variable variable forloop value modiﬁed loop executed checked determine end loop loop invariant statement statement true loop executes remain true execution loop ther efore true loop end loop invariant tool proving corre ctness machine language programming language consisting instruction ca n executed directedbyacomputer instructionsinmachinelanguagear eencodedasbinarynumbers type computer machine language program written language translated computer s machine lang uage executed computer main memory program data stored computer s main memory available cpu form memory disk drive store information main memory directly accessible cpu program data disk drive copied main memory y used cpu map data structure associative array data structure associate o bject collection object set java map r epresented generic interface map t s map stream operator fundamental operation stream deﬁned par t java s stream api map operator applies function eac h element stream producing new stream consisting value output function member variable variable deﬁned class inside method oppos ed local variable deﬁned inside method memory memory computer used hold program data method term subroutine used context programming method subroutine contained class obj ect method reference notation lambda expression represents method exists class object method reference e math module general component larger interacts wi th rest simple straightforward manner java later module collection java package allowing explicit control d ependencies diﬀerent module standard java package divided q set module multitasking performing multiple task switching rap idly forth task literally working multiple t asks time multiprocessing multitasking processor used th multiple task literally worked time mutual exclusion prevents thread accessing resource th e time java applies thread access resourc e insynchronized method synchronized statement mutual exclusion prevent race condition b ut introduces possibility deadlock mvc pattern pattern strategy dividi ng responsibility gui component model data component v iew visual presentation component screen controller responsible reacting event changing model according mvc pattern responsibility handled diﬀerent object isaspecialvalueoftype doublethatrepresentsanundeﬁned illegal value node common term object linked data structure null special pointer value mean pointing anythin numerical analysis ﬁeld study algorithm use approximation real number error result approximat ion error common type error item s processed oftenbecausecountingisnotbeinghandledcorr ectlyorbecausetheprocessing stop soon continues long reason object entity computer program data variable s behavior method object java created using class template class object determines variable method c ontains object type type value object opposed primitive typ e class interface object type observable value value generates event modiﬁed ob server value notiﬁed change react oop programming approach design d implementation computer program class object created t o represent concept entity interaction operating basic software running computer wit hout able function example include linux mac o window vista operator symbol represents operation applied value expression overloading operator fact operator used diﬀerent typ e data example operator applied n umber string overloading method name fact method deﬁned class long diﬀeren t signature overriding redeﬁning subclass subclass provides new deﬁn ition method inherited superclass new deﬁnition sai d override original deﬁnition package java named collection related class subpacka ge parallel processing task performed simultaneously ei ther multiple processor processor switch nd forth task parameter usedtoprovideinformationtoasubroutinewhenthatsubro utineiscalled value actual parameter subroutine statement assigned dummy parameter subroutine deﬁnition code t subroutine executed parameterized type type arraylist string includes type parameter stringin example parsing determining syntactical structure string l anguage parse string determine string legal according g rammar language created using rule grammar partially array array used store varying number item par tially array represented normal array plus counter ke ep track item actually stored pixel picture element screen image picture nsists row column pixel color pixel individuall y polymorphism fact meaning instance method d epend actual type object used make ru n time varis variable object type method called statement depends type object varrefers statement executed run time type variable var pointer value represents address computer s memory thought pointing location addres variable java hold object hold pointer locatio n object stored pointer called pragmatic rule thumb mean write goodprogram example style rule guideline structure program pragmatic programming language precedence precedence operator determines order t hey applied operator occur expression absenc e parenthesis precondition condition true point execution o f program order program proceed correctly point precondition subroutine true subroutin e called order subroutine function properly subroutine precondition s restriction value actual parameter passed su broutine predicate function output boolean value predicate java represented parameterized functional interface predicate t priority queue data structure representing collection item e ach item priority queue operation addandremove item added order removeoperation remove item minimal priority version priority queue use maximum instead minimum pri ority postcondition condition known true point execu tion program result computation come t hat point postcondition subroutine true subro utine ﬁnishes execution postcondition function return valu e function primitive type basic data type java double ﬂoat long int short byte boolean andchar variable primitive type hold actual value opposed pointer value priority thread integer associated thread aﬀect order thread executed thread greater priority exec uted preference thread lower priority classic pattern parallel programming mo producer produce item consumed con umers producer consumer meant run parallel problem g et item safely eﬃciently producer consumer java p pattern implemented blocking queue program set instruction carried computer writte n appropriate programming language used verb mean create set instruction programming language language used write program computer programming language range complexity machine lan guage language protocol aspeciﬁcationofwhatconstituteslegalcommunicationin agivecontext aprotocol speciﬁes format legal message sent kind reply expected pseudocode informal speciﬁcation algorithm expressed langua ge closer english actual programming language usually wi thout ﬁlling procedure queue data structure consisting list item item c added end removed opposite end list race condition source possible error parallel programming o ne thread cause error thread changing aspect th e state program second thread depending value va riable ram random access memory term used synonym fo r main memory computer technically mean memory whic h location equally accessible given time term implies data written memory read record simple data structure containing data item ﬁ eld identiﬁed ﬁelds diﬀerent type java record cl ass represent immutable record recursion deﬁning term particular recu rsive subroutine call directly indirectly throu gh chain subroutine recursive algorithm work reducing complex problem int o smaller problem solved directly applying algorit hm reduce stream operator fundamental operation stream reduce operation combine element stream way summing ﬁnding maximum producing ﬁnal result rgb color color speciﬁed number java integer range giving red green blue component t color reference term return type function type value returned function reserved word sequence character look like identiﬁer ca n t used identiﬁer special meaning language f example class public andifare reserved word java resource image sound text data ﬁle prog ram resource ﬁles java program stored class path c ompiled class ﬁles program stored robust program program robust correct capa ble handling error ﬁle failed network connect ion reasonable way scene graph javafx hierarchical data structure contains ll gui component shown window set collection object contains duplicate ja va set represented generic interface set t scope region program declaration identiﬁe r valid semantics meaning semantics rule language determine aning string symbol sentence statement sentinel value special value mark end sequence data value s indicate end data setter instance method class used set value s ome property class usually property just value instanc e variable convention setter named setxyz wherexyzis property signature method method number formal parameter s deﬁnition type formal parameter method sig nature information needed compiler tell method called g iven subroutine statement socket abstraction representing end connection betwee n computer network socket represents logical connection c omputer program physical connection computer stack data structure consisting list item item ca n added removed end list known stack adding item stack called pushing removing item called po term stack refers stack activation record used impl ement subroutine call standard input thestandardsourcefromwhichaprogramreadsinputdata tisrepresented object usually standard input come text typed user b ut standard input redirected read sour ce ﬁle instead standard output standard destination program writes output t ext represented object usually standard output displayed user standard output redirected write d estination ﬁle instead object meant writing error message state machine model computation abstract machine ﬁnite set diﬀerent state behavior machine dep end state state change response input event basic lo gical structure gui program represented state machine reﬁnement technique developing algorithm starting g eneral outline procedure expressed pseudocode d gradually ﬁlling detail stream java abstraction representing stream value th processed stream created collection array data source java s stream api includes predeﬁned operation ap plied stream term stream refers stream used nput output stroke drawing operation applies color type pa int pixel boundary shape source code text written programming language m ust translated machine language java bytecode executed computer subclass class extends class directly indirectly inherits data behavior ﬁrst class said subclass t second subroutine sequence program instruction grouped t ogether given used subroutine subr outines called method context subroutine statement statement program call subroutine subroutine statement executed computer execut e code inside subroutine super special variable automatically deﬁned instance m ethod refers objectthatcontainsthemethod butconsideredasbelongin gtothesuperclassoftheclass method deﬁnition occurs supergives access member superclass hidden member subclass syntax grammar syntax rule language determine stri ng symbol language protocol used network communication ternet special variable automatically deﬁned instance m ethod refers object contains method thread abstraction representing sequence instruction executed possible computer execute threa d parallel thread pool collection worker thread available perf orm task task available assigned thread pool thread pool used blocking queue hold task design approach software design start pr oblems subdivide smaller problem divide int o smaller problem problem solved directly type speciﬁes speciﬁc kind data value example typeintspeciﬁes integer data value represented binary number java type primitive type class name interface type na me used specify type variable dummy parameter subroutine return value subroutine type cast force conversion value type typ example int int operation convert double value integer discarding fractional real number unicode away encodingcharactersas binary number unicode character set includes character used language just english unicod e character set used internally java url universal resource locator address resource th e internet web page variable named memory location sequence location used store data variable created program assigne d variable variable declaration statement used program refer memory location data stored memory lo cation depending context java variable type speciﬁes kind data hold wrapper class class doubleorintegerthat make possible wrap primitive type value object belonging wrapper class llows primitive type value used context object required java collection framework xml extensible markup language common ted standard syntax creating language