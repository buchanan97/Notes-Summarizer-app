stéphaneducasse dimitrischloupis nicolaihess anddmitrizagidulin stéphane ducasse dimitris chloupis nicolai hess dmitri gidulin content book protected creative common sharealike unported license arefree copy distribute transmit work adapt work following condition attribution attribute work manner specified author licensor way suggests endorse use work sharealike alter transform build work distribute resulting work similar compatible license reuse distribution make clear license term work best way link web page http condition waived permission copyright holder license impairs restricts author s moral right fair dealing right way affected readable summary legal code license http layout typography based sbabook latex class damien illustration vi preface whatispharo whoshouldreadthisbook awordofadvice anopenbook thepharocommunity examplesandexercises acknowledgment hyperspecialacknowledgments quick tour pharo installingpharo pharo filecomponents launchingpharo pharolauncher theworldmenu sendingmessages saving quittingandrestartingapharosession playgroundsandtranscripts keyboardshortcuts thesystembrowser findingclasses findingmethods defininganewmethod chaptersummary application thelightsoutgame creatinganewpackage definingtheclass locell addingmethodstoaclass inspectinganobject definingtheclass logame organizingmethodsintoprotocols icontents finishingthegame let stryourcode savingandsharingpharocode chaptersummary syntax nutshell syntacticelements messagesends methodsyntax blocksyntax conditionalsandloopsinanutshell primitivesandpragmas chaptersummary understanding message syntax identifyingmessages threetypesofmessages messagecomposition hintsforidentifyingkeywordmessages expressionsequences cascadedmessages chaptersummary pharo object model therulesofthemodel everythingisanobject everyobjectisaninstanceofaclass instancestructureandbehavior theinstancesideandtheclassside everyclasshasasuperclass everythinghappensbysendingmessages methodlookupfollowstheinheritancechain sharedvariables internalobjectimplementationnote chaptersummary key tool pharo environment pharoenvironmentoverview themaincodebrowser theinspector thedebugger theprocessbrowser findingmethods chaptersummary iicontents sharing code source control package groupsofclassesandmethods sourcecontrol thefilelistbrowser inpharo youcan tlosecode chaptersummary sunit introduction whytestingisimportant whatmakesagoodtest sunitbyexample thesunitcookbook thesunitframework advancedfeaturesofsunit continuingafterafailure sunitimplementation apieceofadvicesontesting chaptersummary basic class object number character string booleans chaptersummary collection introduction thevarietiesofcollections collectionimplementations examplesofkeyclasses collectioniterators somehintsforusingcollections chaptersummary stream twosequencesofelements streamsvs collection streamingovercollections usingstreamsforfileaccess chaptersummary iiicontents morphic thehistoryofmorphic manipulatingmorphs composingmorphs creatinganddrawingyourownmorphs interactionandanimation interactors acompleteexample moreaboutthecanvas chaptersummary seaside example whydoweneedseaside gettingstarted seasidecomponents renderinghtml cs cascadingstylesheets managingcontrolflow acompletetutorialexample aquicklookatajax chaptersummary reflection introspection browsingcode class methoddictionariesandmethods browsingenvironments interceptingmessagesnotunderstood objectsasmethodwrappers pragmas chaptersummary regular expression pharo regexsyntax regexapi implementationnotesbyvassilibykov chaptersummary class metaclasses rulesforclassesandmetaclasses revisitingthepharoobjectmodel everyclassisaninstanceofametaclass themetaclasshierarchyparallelstheclasshierarchy ivcontents everymetaclassinheritsfrom classandbehavior everymetaclassisaninstanceof metaclass themetaclassof metaclass isaninstanceof metaclass chaptersummary villustrations smallexample launchingpattern launchingpharofromlinux launchingpharofrommacosx launchingpharofromwindows clickinganywhereonthepharowindowbackgroundactivatestheworld menu actionclick rightclick bringsthecontextualmenu openprofstefinthe playground executinganexpressionissimplewiththe itmenuitem pharotutorialisasimpleinteractivetutorialtolearnaboutpharo executinganexpresssion displayingastringinthetranscript inspectingasimplenumberusing inspect inspectingamorphusing inspect thesystembrowsershowingthe factorial methodofclass integer thesystembrowsershowingthe printstring methodofclass object openingspotter lookingforimplementorsmatching printstring thefindershowingallclassesdefiningamethodnamed definingatestmethodintheclass stringtest lookingattheerrorinthedebugger pressingthecreatebuttoninthedebuggerpromptsyoutoselectin whichclasstocreatethenewmethod theautomaticallycreated shoutmethodwaitingforarealdefinition thelightsoutgameboard createapackageandclasstemplate filteringourpackagetoworkmoreefficiently initializinginstanceoflocell initialize theinspectorusedtoexaminea locellobject whenweclickonaninstancevariable weinspectitsvalue anotherobject viillustrations anlocellopeninworld definingthelogameclass initializethegame declaring cellsasanewinstancevariable pharodetectinganunknownselector thesystemcreatedanewmethodwithabodytobedefined defining cellsperside inthedebugger initializethegame aninitializationhelpermethod thecallbackmethod dragamethodtoaprotocol atypicalsettermethod aneventhandler thedebugger withthemethod toggleneighboursofcell selected fixingthebug overridingmousemoveactions importyourcodewiththefilebrowser monticellobrowser arepositorypattern createyourfirstrepositoryonsmalltalkhub doyourfirstcommit twomessagesendscomposedofareceiver amethodselector anda setofarguments color color yellow iscomposedoftwomessagesends color yelow andamorph color color yellow unarymessagesaresentfirstso color yellow issent thisreturnsacolor decomposingtheevaluationofapencolor coloryellow decomposingapengo binarymessagesaresentbeforekeyword decomposingpennewgo decomposingpennew exampleofparentheses exampleofunnecessaryparentheses areofthesamekindsotheirexecutionis fromlefttoright parenthesedexpressionsareexecutedfirst equivalentmessagesusingparentheses equivalentmessagesusingparentheses viiillustrations distancebetweentwopoints browsingaclassanditsmetaclass dogsandhyenas keepingcountofnewdogs asamplesingletonclass webserver theclasssideofthesingletonclass newstateforclasses uniqueinstance defininganewtrait anauthormethod usingatrait behaviordefinedusingtraits alocallyimplementedmethod aninheritedmethod methodlookupfollowstheinheritancehierarchy explicitlyreturning self superinitialize aselfsend selfsend combining superandselfsends message fooisnotunderstood instanceandclassmethodsaccessingdifferentvariables coloranditsclassvariables initializingthe colorclass pooldictionariesinthe textclass testcr windowgroupwithtwotabs onewithplaygroundandonewithsystem browser themaincodebrowser thebrowserwiththeclass boolean selected browsingthe methodinclass boolean sender b n menuitem thesendersbrowsershowingthatthe canvas draw methodsends thedrawon messagetoitsargument findingsendersofakeywordmessageinthecodepane drawon andthehierarchyofclassesoverridingit ahierarchyviewof imagemorph amessage browser foraccessesto boundsvariableof morph viiiillustrations bytecodeoftheimagemorph drawon compiledmethod refactoringoperations inspecting dateandtime abuggymethod apredebugwindow notifiesusofabug thedebuggershowingtheexecutionstackandthestateofvariousobjects thedebuggerafterrestartingthe detect iffound ifnone method thedebuggerafterstepping thedo methodseveraltimes thedebuggershowingwhy isnotequalto dot changingthe suffixmethodinthedebugger askingforconfirmation oftheexitfromaninnerblock asimpletestforthe suffixmethod abettertestforthe suffixmethod changingthe suffixmethodinthedebugger errorafteransunitassertionfailure insertinga haltintothe suffixmethod asecondtestforthe suffixmethod thetargethasnosuffix theprocessbrowsershowingalltheactivethreadbypriority themonticellobrowser arepositorybrowser twoclassesandoneextensioninthe pbepackage anextensionmethodthatisalsobeinthe pbepackage providingalogmessageforanewversionofapackage twoversionsofourpackagearenowinthepackagecache theversionsbrowsershowingtwoversionsofthe objtest testivoffset method thechangesortershowingallthechangesofonechangesetand offeringactionstomovechangestootherchangesets afilelistbrowser afilecontentsbrowseropenedonapackage anexamplesettestclass settingupafixture testingsetmembership testingoccurrences testingremoval runningsunittestsfromthesystembrowser runningsunittestsusingthe testrunner executablecommentsintestmethods introducingabuginatest testingerrorraising thefourclassesrepresentingthecoreofsunit anexampleofatestresourcesubclass runningonetest ixillustrations passingthetestcasetothetestresult catchingtestcaseerrorsandfailures testresourceavailability testresourcecreation printon redefinition point interval objectequality equalityforcomplexnumbers hashmustbereimplementedforcomplexnumbers copyingobjectsasatemplatemethod signalingthatamethodisabstract asanemptyhookmethod thenumberhierarchy abstractcomparisonmethods thestringhierarchy thebooleanhierarchy implementationsof iftrue iffalse implementingnegation someofthekeycollectionclassesinpharo somecollectionclassescategorizedbyimplementationtechnique hash astreampositionedatitsbeginning thesamestreamaftertheexecutionofthemethod thecharacter aisin past b c dandearein future thesamestreamafterhavingwrittenan x anewhistoryisempty nothingisdisplayedinthewebbrowser theuserclicksonthebackbutton theuserclicksagainthebackbutton thehistoryforgetspages xillustrations thegrabhandle detachingamorph herethe playground menuitem tomakeitan independentbutton creationofastringmorph gettingamorphforaninstanceof color orange asmorph openinworld withournewmethod creationoftwocolormorph makebillfollowjoe billfollowsjoe createaballooninsidejoe theballooniscontainedinsidejoe thetranslucentorangemorph defining crossmorph drawinga crossmorph crossmorph withitshalo youcanresizeitasyouwish shapingthesensitivezoneofthe crossmorph refactored crossmorph drawon refactored crossmorph containspoint thecenterofthecrossisfilledtwicewiththecolor showingarowofunfilledpixels usethiscodetoshowabug therevised crossmorph drawon method whichfillsthecenterof thecrossonce horizontalbar withexplicitrounding verticalbar withexplicitrounding declaringthat crossmorph willreacttomouseclicks reactingtomouseclicksbychangingthemorph scolor movehandlebutton grabhandlebutton wewanttohandle mouse event gettingthekeyboardfocuswhenthemouseentersthemorph handingbackthefocuswhenthepointergoesaway receivingandhandlingkeyboardevents definingtheanimationtimeinterval makingastepintheanimation thedebughandlebutton xiillustrations addthebeginningandtheendofthesteps usetheuimanager aninputdialog usetheuimanagertoopenapopup definingamorphonwhichwecandropothermorphs initializing receivermorph acceptdroppedmorphsbasedontheircolor changingthebehaviourofthedroppedmorphwhenitisrejected createaninstanceofreceivermorph receivermorph andanellipsemorph receivermorph initializing droppedmorph reactingwhenthemorphwasdroppedbutrejected openanowdroppedmorph creationof droppedmorph andreceivermorph definingthediemorph thedieinmorphic creatinganewdiewiththenumberoffaceswelike initializinginstancesof diemorph settingthenumberoffacesofthedie ninemethodsforplacingpointsonthefacesofthedie drawingthediemorph drawingasingledotonaface diemorph face openinworld settingthecurrentvalueofthedie resultof diemorph face openinworld dievalue animatingthedie handlingmouseclickstostartandstoptheanimation drawingatranslucentdie startingandstoppingseasideusingthezincserveradaptor theseasidewelcomeapplicationat http thecounter halo debuggingtherunningcounterapplicationinthepharoimage independentsubcomponents addanewapplication configurethenewapplication world inseaside wacounter class whichimplementsthe counterapplication thosewith xiiillustrations wamulticounter renderingdemo commonstylesheet somestandarddialogs asimpletask thesushistore rpncalculatoranditsstackmachine displayingthetopofthestack seasideajaxprocessing simplified reificationandreflection inspectinga workspace displayingallinstancevariablesofa gtplayground browseallimplementationsof iftrue inspectoronclass pointandthebytecodeofits method class methoddictionariesandcompiledmethods findingmethods inspecting thiscontext dynamicallycreatingaccessors awebdirinstance asmallsitemap sendingthemessage classtoasortedcollection themetaclassesof sortedcollection anditssuperclasses elided themetaclasshierarchyparallelstheclasshierarchy elided messagelookupforclassesisthesameasforordinaryobjects classesareobjectstoo metaclassesinheritfrom classandbehavior everymetaclassisa metaclass allmetaclassesareinstancesoftheclass metaclass eventhe metaclassof metaclass theclasshierarchy theparallelmetaclasshierarchy instancesofmetaclass metaclassclassisametaclass preface version book based previous version authored drew black stéphane ducasse oscar nierstrasz damien pollet damien cassou marcus denker pharo pharo modern dynamically typed language supporting live coding inspired smalltalk pharo ecosystem composed fundamental element language syntax simple fit postcard readable unfamiliar live coding environment allows programmer modify code code executes need slow flow powerful ide providing tool help manage complex code promote good code design rich library creates environment powerful viewed virtual o including fast jiting vm access o library feature ffi culture change improvement encouraged highly valued community welcome coder corner world skill programming language pharo strives offer lean open platform professional software opment robust stable platform research ment dynamic language environment pharo serf ence implementation seaside web development framework available athttp pharo core contains code contributed mit cense pharo project started march fork squeak modern implementation beta version released july current version pharo released pharo alpha development planned release april pharo highly portable pharo run o x window linux android io raspberry pi virtual machine written entirely subset pharo making easy simulate debug analyze change pharo pharo vehicle wide range innovative project multimedia application educational platform commercial web development environment important principle pharo pharo doe just copy past reinvents essence smalltalk realize big bang style approach rarely succeed pharo instead favor evolutionary cremental change leaping final perfect solution big step multitude small change keep bleeding edge tively stable experimenting important new feature library facilitates contribution rapid feedback community pharo relies success finally pharo pharo integrates change community daily pharo contributor based world impact pharo read book previous revision book based pharo revision liberally updated align pharo various aspect pharo presented starting basic proceeding intermediate topic advanced topic presented deep pharo book nals pharo freely available http addition reader interested web development new book enterprise pharo web perspective freely available http book teach program reader familiarity programming language background oriented programming helpful book introduce pharo programming environment guage associated tool exposed common idiom practice focus technology design possible lot example awordofadvice numerous book smalltalk freely available web http word advice frustrated part pharo immediately stand know alan knight express follows trynottocare beginning smalltalk programmer trouble think need understand detail thing work fore use mean take quite master transcript hello world great leap oo able answer question doe work don t care understand simple complex hesitate second ask mailing list irc slack love question come people skill open book book open book following sens content book released creative common sharealike license short allowed freely share adapt book long respect condition license available following url http book just describes core pharo encourage contribute chapter part pharo described like participate effort contact like book pharo possible contribute directly book github just follow instruction ask question mailing list github repo http updatedpharobyexample pharo community pharo community friendly active short list resource useful main web site pharo listing smallexample select irc server channel pharo http equivalent pharo project extra package project pharo live active slack platform chat based irc http just ask invitation pharo s sitehttp slack section everybody comed exercise tried provide example possible particular example fragment code evaluated use long arrow indicate result obtain select sion context menu choose print case want play code snippet pharo load plain text file example code resource sidebar book s web site http like thank alan kay dan ingalls team making squeak amazing smalltalk development environment project pharo took root pharo possible incredible work squeak developer like thank hilaire fernandes serge stinckwich allowed translate part column smalltalk damien sou contributing chapter stream especially thank alexandre bergel orla greevy fabrizio perin lukas renggli jorge ressia erwann wernli detailed review thank university bern switzerland graciously supporting project hosting web site book thank pharo community enthusiastic support book project translation edition pharo example hyperspecialacknowledgments special acknowledgment want thank original author book initial sion difficult make pharo example tral book welcome newcomer great value thanks manfred kröhnert markus schlager werner kassens michael okeefe aryeh hoffman paul macintosh gaurav singh jigyasa grover craig allen serge stinckwich yuriy timchuk typo feedback special thanks damien cassou cyril ferlicot great help book update finally want thank inria steady important financial support rmod team member stant energy pushing pharo forward super special thanks damien pollet great book template aquicktourofpharo chapter high level tour pharo help fortable environment plenty opportunity try thing good idea computer handy read chapter particular pharo learn different way acting discover basic tool learn define new method create object send message note introductory material book work pharo version installed continue use book written pharo notice difference appearance behaviour described surprised pharo downloading pharo pharo available free download http click button operating download appropriate example pharo distribution o x available http file unzipped contain need run pharo includes vm image source explained using handy script http offer collection script download specific version pharo really handy automate process download latest use following snippet wget bash installing pharo pharo doe need install s perfectly pable running standalone depending platform download appropriate zip file uncompress directory choice ready launch pharo case ubuntu linux extra option installing pharo pharo ppa pharo installed command line file component pharo consists main component file need deal directly purpose book useful stand role play machine vm component different operating vm execution engine similar jvm take pharo bytcode generated time user compiles piece code convert machine code executes pharo come cog vm fast jiting vm vm executable named window linux osx inside package named component portable operating system copied run appropriate virtual machine file contains source code part pharo change frequently source file important image file format store object including compiled method bytecode source code typically new source file generated major release pharo pharo file named file log source code modification especially change did programming file ated release provides near file named release facilitates method history diffs reverting mean did manage save image file crash just forgot recover change file change file coupled image file work pair launchingpharo provides frozen time snapshot running pharo tem file object stored s cross form format image file contains live state object tem including class compiled method object given point image virtual object container file named release like synched file pair file provided pharo release ing point live environment adapt need work pharo file modified need make sure writable pay attention remove change image file list file checked file intimately linked kept matching base filename edit directly text editor hold live object runtime memory index file source good idea backup copy downloaded file start fresh image reload code efficient way backing code use version control provide easier powerful way track change common setup main component file placed directory s common practice virtual machine source file separate directory access work best style working operating pharo start pharo operating expects drag file icon virtual machine file command line type virtual machine followed path file x double click bundle unzipped load double click invoke command line pharo executable bash script unzipped pharo folder enter unzipped pharo folder double click listing launchingpattern pharo executable path pharo image listing launchingpharofromlinux listing launchingpharofrommacosx general pharo try right thing double click vm look image file default location double click file try nearest vm launch multiple vms installed machine operating longer able guess right case safer specify exactly one meant launch dragging dropping image file vm specifying image command line section launching pharo command line general pattern launching pharo terminal linux command line linux assuming unzipped folder o x command line o x assuming directory unzipped bundle using pharo bundle need select package content access image need just download separated pair drop image window command line window assuming folder listing launchingpharofromwindows pharolauncher figure launcher pharolauncher tool help download manage pharo age useful getting new version pharo update existing version contain important bug fix give cess image preloaded specific library make easy use tool having manually install configure pharolauncher smalltalkhub http installation instruction download link depending platform pharolauncher basically composed column installing pharolauncher opening like pharo image gui similar figure left column list image live locally machine usually shared folder launch local image directly selecting pressing launch button click context menu provides useful function like copying naming image locating file right column list template remote image available download download remote image select click create agebutton located right refresh template list button use local image pharolauncher addition working image downloaded simply ensure associated file placed folder figure clickinganywhereonthepharowindowbackgroundactivatesthe worldmenu image default image location tion pharolauncher setting world menu pharo running single large window possibly taining open playground window figure notice menu bar pharo mainly make use menu clicking background pharo window display world menu contains pharo tool utility setting world menu list core tool pharo including browser playground monticello package ager discus coming chapter interacting pharo pharo offer way interact using mouse pointing device click used mouse button normally equivalent clicking button modifier key example click background pharo window bring worldmenu figure theworldmenu figure actionclick rightclick bringsthecontextualmenu figure used button used bring contextual menu offer different set action depending mouse pointing figure button mouse normally configure control modifier key mouse button finally object displayed image activate morphic halo array handle used perform operation object inspecting ing figure let mouse linger handle help balloon explain function pharo depends operating hold window linux o x clicking listing openprofstefinthe playground profstef figure executinganexpressionissimplewiththe itmenuitem message pharo window click open space open world menu select playground menu option playground tool open recognize workspace tool previous version pharo use playground quickly execute pharo code enter following code right click select expression trigger pharo tutorial shown figure simple interactive tutorial teach basic pharo congratulation just sent message pharo based concept sending message object pharo object like soldier ready obey send message understand object understand message later talk pharoers notice generally use expression like callanoperation orinvokeamethod developer programming language instead say sendamessage flects idea object responsible action method associated message looked dynamically sending message object object sender selects ate method responding message case method message executed user need understand message work thing need know available message object way object hide complexity coding kept simple possible losing flexibility saving quittingandrestartingapharosession figure pharotutorialisasimpleinteractivetutorialtolearnaboutpharo available message object plore later quitting restarting pharo session exit pharo point closing pharo window application window additionally use world menu select save quit orquit case pharo display prompt ask saving image save image reopen thing exactly left happens image file store object edited text window position added method course object pharo loaded memory lost exit start pharo time pharo virtual machine load image file specified file contains snapshot large number object including vast code programming tool object work pharo send sage object create new object object die memory reclaimed quit pharo normally save snapshot contains object save normally overwrite old image file new snapshot alternatively save image new mentioned earlier addition file file file contains log change source code using standard tool time need worry file shall file useful recovering error replaying lost change later like image key mechanism storing managing software project case shall soon better tool managing code sharing software developed team image useful learn cavalier creating throwing away image versioning tool like monticello offer better way manage version share code opers addition need persist object use system fuel fast object binary serializer ston textual object serializer database transcript let start exercise open window pharo transcript transcript opened world tool submenu resize transcript playground window playground just overlap transcript figure resize window dragging corner time window active border highlighted transcript thetranscript object used ging message kind systemconsole playground playground useful typing snippet code like experiment use playground simply typing text like remember list structions use image type following text playground transcript world cr try various point text just typed notice entire word entire string text selected depending click word end string end entire expression particular place cursor acter character select complete paragraph keyboardshortcuts figure executinganexpresssion displayingastringinthetranscript select text typed right click select notice text hello world appears transcript window figure shortcut want evaluate expression right click instead use keyboard shortcut shown menu item pharo like mouse driven enviroment contains cut allow operate variaty tool facility assign keyboard shortcut method contained pharo age look available shortcut world menu keymap browser depending platform press modifier key control alt command use cmdin rest book time like just replace appropriate modifier key depending o corresponding modifier key window ctrl linux altorctrl time like just replace appropriate modifier key depending o addition noticed print spect option context menu let s quick look figure inspectingasimplenumberusing inspect doing printing type expression playground itwith board shortcut surprised saw happen just did send message argument number normally resulting computed returned playground did know answer simply did answer want result print instead print ally compiles expression executes sends message printstring result display resulting string time result expect use notation convention book indicate ticular pharo expression yield given result print inspect select place cursor line time inspect new window titled inspector smallinteger shown figure inspector extremely useful tool low browse interact object title tell instance class smallinteger panel allows keyboardshortcuts figure inspectingamorphusing inspect browse instance variable object value panel used write expression send message object type self squared panel inspector print inspector present specific tab different information view object depending kind object inspecting spectmorph new openinworld situation similar figure operation option used following additionally open navigable inspector playground allows navigate object structure try previous expression morph new openinworld navigate structure inspect open classic inspector offer imal gui live update change object open debugger code profile code pharo profile tool show time spent message sent search offer option provided browser browsing source code expression searching sender implementors figure thesystembrowsershowingthe factorial methodofclass teger browser thesystem browser known class browser key tool used programming shall interesting browser available pharo basic image current implementation browser called nautilus named ter submarine jules verne s novel thousand league sea opening browser given method usual way open browser method use advanced tool sake exercise execute following code snippet nautilus openonmethod integer factorial open browser method factorial browser like figure title bar indicates ing class integer method factorial figure show ferent entity displayed browser package class protocol od method definition thesystembrowser figure thesystembrowsershowingthe printstring methodofclass object pharo default browser nautilus possible browser installed pharo enviroment browser browser gui ferent nautilus gui use term browser browser andnautilus interchangeably navigating using browser pharo spotter navigate just want working flow browser usually spotter directly class method let look printstring method defined class object end navigation situation depicted open browser selecting world browser new tem browser window open pane leftmost pane list known package contain group related class filter package type package left filter filter list package shown list type kern example expand kernel package select object element lect package cause second pane list class selected package hierarchy protoobject select object class selected remaining pane populated pane display protocol currently lected class convenient grouping related method col selected method fourth pane select printing protocol scroll click pane type pr printing protocol select fourth pane method related printing select printstring method pane source code printstring method shared object override better way method look class way class pharo just seen know guess package navigate using browser second way send browse message class asking open browser suppose want browse class point using message browse typepoint browse playground browser open thepointclass browse keyboard shortcut browse use text pane select word press use keyboard shortcut browse class point notice pointclass selected protocol method selected instead source code method class definition ordinary message sent parent findingclasses figure openingspotter class asking create subclass class object ing asked create subclass named pointwith instance variable class variable class pointin package click comment button class pane class comment dedicated pane addition support following mouse shortcut word open definition class word class implementors message click selector body method word open list browser ref class word class sender message click selector body method using spotter fastest probably coolest way class use spotter pressing opensspotter powerful tool finding class method related action figure show look point figure lookingforimplementorsmatching printstring spotter offer possibility shown figure specify spotter kind category interested example using class followed word look indicates interested class default need type class figure show ask spotter implementors given message type category gories menu package method implementor example example pragma pragma sender sender class reference reference playground code snippet using playground just type beginning category identify ref point erence class point spotter used browse o file history category previous search stored quickly going popular search navigatingresults addition use spotter navigate search result similarly use browser spotter categorizes search result findingclasses ample class class category method implementors category help topic help topic category clicking right arrow selection create tab click depending click step selection exposed category example selection pointclass dive inside group category instance method class method super instance od interface fully controllable keyboard user item arrow note window linux cmdkey altkey category time search field focus user switch seamlessly selecting item refining search ingenteron selection open browser specific selected search result using findclass insystembrowser systembrowser search class ple suppose looking unknown class represents date time browser click package pane class pane launch class search window typing selecting class f c context menu type timein log box click ok press enter list class displayed name contain substring time choose say time browser class comment suggests class useful want browse select text pane type note type complete correctly capitalized class dialog browser directly class showing list option usingthefinder open finder available world tool menu type class change selector class right combo box efficient using spotter systembrowser explained finder useful type code search method based example later method guess method method easily class example terested current time expect method called containing substring spotter andfindercan help spotter withspotter method getting class gating using category implementor method display method implemented example method selector method display selector match finder selectworld menu tool finder typenowin left search box clicksearch just press enterkey list result similar figure finder display list method name contain string scroll nowitself cursor list type n trick work scrolling window expanding item show class implement method ing display source code implementation code pane finding method using example time good idea method exists idea called finder help example pose like method turn string upper case example transforming input expected output method finder try thefinderhas really powerful functionality receiver argument expected result finder try corresponding message findingmethods figure thefindershowingallclassesdefiningamethodnamed trying finder finder select example mode using second show selector default search box press enterkey thefinderwill suggest method doe looking display list class implement method case determined asuppercase method performed operation fit example click asuppercase expression list class implement method asterisk beginning line list class indicates method actually used obtain requested result asterisk string let know method casedefined class string executed returned result wanted class asterisk just implementors ofasuppercase share method notused return wanted result method character asuppercase cuted example character instance instead string use finder search method argument result example looking method greatest mon factor integer try example method finder multiple example narrow search space help text pane explains new method advent test driven development tdd changed way write code idea tdd write test defines desired behaviour code write code write code satisfies test suppose assignment write method say loudly emphasis exactly mean good method make sure programmer maintain method future unambiguous tion answer question giving example goal define new method named shoutin class string idea message turn string uppercase version shown example panic shout panic creating shoutmethod create test method section use panic example create test method defining new test method create new method pharo decide class method belong case shoutmethod testing class string corresponding test tion class called stringtest open browser class stringtest select appropriate protocol method case converting lighted text pane template reminds pharo method look like delete template code remember click beginning end text press select start typing method turn panic code example test method testshout self assert panic shout panic defininganewmethod figure definingatestmethodintheclass stringtest typed text browser notice corner ange reminder pane contains unsaved change select accept s right clicking pane just type pile save method situation similar picted figure time accepted code image likely prompted enter people contributed code image important track creates modifies method simply enter name space method called shout automatic code checker quality assitance lower browser pane inform sageshoutis sent implemented quite useful merely typing mistake case really mean shout method create confirm selecting option menu choice running test method run newly created test open test runner world menu press circle icon method faster cooler thetest runner leftmost pane bit like pane browser left pane contains list package s restricted package contain test class figure lookingattheerrorinthedebugger figure pressingthecreatebuttoninthedebuggerpromptsyoutoselectin whichclasstocreatethenewmethod package pane right test class includes class stringtest class name selected click run selected run test upper right pane turn red indicates error running test list test gave rise error shown right pane method stringtest shoutis culprit note stringtest testshout pharo way identifying testshout method stringtest class click method right pane erroneous test run time way error happen messagenotunderstood bytestring shout figure window open error message pharo debugger look debugger use chapter pharo ment defininganewmethod figure theautomaticallycreated tion implementing tested method error course exactly expected running test ate error written method tell string shout s good practice make sure test fails cause confirms set testing machinery correctly new test actually run seen error abandon running test close debugger window codinginthedebugger instead pressing abandon define missing method using create button right debugger prompt select class define new method figure prompt select protocol method finally code editor window debugger edit code new method note implement method creates generic method tagged implemented figure let s define method make test succeed right inside debugger edit shoutmethod definition shout self asuppercase comma string concatenation operation body method appends exclamation mark version string object shout message sent pharo expression follows answer returned method case new concatenated string ve finished implementing method forget compile using press proceed continue test note thatproceed simply continues running test suite doe failed method doe method work let s run test click run selected test runner time green bar text indicating test ran failure error green bar s good idea save work saving image world menu save break right summary chapter introduced pharo environment shown use major tool browser spotter finder debugger test runner seen little pharo s syntax understand running pharo consists virtualmachine file file change record snapshot running open pharo image exactly state exactly running object saved image click pharo background bring world menu launch various tool tool writing evaluating snippet code use store arbitrary text use keyboard shortcut text playground tool evaluate code important print inspect andbrowse b browser main tool browsing pharo code developing new code runner tool running unit test aid test driven development allows examine error exception error failure encountered running test ate new method right debugger afirstapplication chapter develop simple game lightsout http game way tool pharo programmer use construct debug program program shared developer browser object inspector debugger monticello package browser pharo develop traditional way defining class instance variable method pharo development flow productive define instance ables method fly code debugger using exact context currently executed object chapter sketch alternate way really productive figure thelightsoutgameboard figure createapackageandclasstemplate light game use pharo s programming tool build simple game called light game board consists rectangular array light yellow cell click cell surrounding cell turn blue click toggle light yellow object game turn blue cell possible light kind object game board individual cell object pharo code implement game contain class game cell define class using pharo programming tool new package seen browser chapter quick tour pharo learned navigate package class method saw define new method create package class worldmenu open browser existing package package pane select add package menu type new package use dialog box click ok just press return key new package created positioned alphabetically list package figure hint type pbein filter package filtered one figure definingtheclass locell figure filteringourpackagetoworkmoreefficiently listing locellclassdefinition simpleswitchmorph subclass locell instancevariablenames classvariablenames package class locell point course class new package main editing pane display template make easy create new class figure template show pharo expression sends message class calledobject asking create subclass called nameofsubclass new class variable belong category package lightsout creating new class simply edit template create class really want modify class creation template follows object withsimpleswitchmorph nameofsubclass withlocell list instance variable following class definition new definition consists pharo expression sends message existing class simpleswitchmorph asking create subclass called locell actually locell doe exist passed symbol locell argument representing class create figure tell instance new class mouseaction stance variable use define action cell mouse click point created note right panel changed orange mean unsaved change actually send subclass message save accept source code select accept use shortcut save message sent simpleswitchmorph cause new class compiled situation depicted figure class definition accepted class created appears class pane browser figure editing pane show class definition quality assistant s feedback run matically quality rule code report comment pharoers high value readability code good quality comment method comment people tendency believe essary comment written method plain wrong encourages sloppiness course bad code renamed refactored obviously commenting trivial method make sense comment addingmethodstoaclass code written english explanation method doing context rationale implementation reading ment reader comforted hypothesis correct class comment class comment pharo class comment template give good idea strong class comment read based crc class responsibility collaborator nutshell comment state responsibility class couple sentence collaborates class achieve responsibility addition state api main message object understands example usually pharo define example class method detail internal representation implementation rationale select comment button define class comment following plate category package historically pharo package implemented category group class newer version pharo term category cated replaced exclusively package use older version pharo old tutorial class template follow simpleswitchmorph subclass locell instancevariablenames classvariablenames category equivalent mentioned earlier book use termpackage pharo package using version source code using monticello versioning tool method class let s add method class select protocol message protocol pane template method creation ing pane select template text replace following forget compile note character line separate single quote double quote denotes string way create string string new forget accept method definition listing initializinginstanceoflocell initialize super initialize self label self borderwidth bound corner offcolor color paleyellow oncolor color paleblue darker self usesquarecorners self turnoff figure initialize initialize method notice method called initialize significant convention class defines method named tialize called right object created execute locell new message initialize sent automatically newly created object initialize method used set state object typically set instance variable exactly doing invoking superclass initialization thing method doe line execute initialize method superclass morph idea inherited state properly initialized theinitialize method superclass good idea initialize inherited state sending super initialize doing inspectinganobject thing don t know exactly simpleswitchmorph sinitialize method don t care s fair bet set instance variable hold reasonable default value better risk starting unclean state rest method set state object sending self label example set label object string point rectangle creation expression corner probably need explanation pointobject xand ycoordinates set fact message number argument effect number ask point class create new instance coordinate send newly created point message corner cause create arectangle corner newly created rectangle assigned bound variable inherited superclass note origin pharo screen left ycoordinate increase downwards rest rest method art writing good pharo code pick good method name code read like kind pidgin english able imagine object talking saying self use square corner self turn notice little green arrow method figure mean method exists superclass overridden class object immediately test effect code written creating newlocell object inspecting open playground type sionlocell new andinspect using menu item column inspector show list instance variable value instance variable shown right column figure click instance variable inspector open new pane instance variable figure executing expression pane inspector s useful playground selfis bound object selected theinspectorusedtoexaminea locellobject figure whenweclickonaninstancevariable weinspectitsvalue object definingtheclass logame figure anlocellopeninworld playground pane type text self bound corner refresh value click datebutton blue little circle right pane bound variable change inspector type text self worldin cell appear near corner screen shown figure exactly bound say appear click cell bring morphic halo cell brown handle resize yellow dle notice bound reported inspector change click refresh new bound value delete cell clicking thexin pink handle class logame let s create class need game namelogame class creation make class definition template visible browser main window clicking package class pane selecting add class edit code read follows acceptit listing definingthelogameclass borderedmorph subclass logame instancevariablenames classvariablenames package listing initializethegame initialize samplecell width height n super initialize n self cellsperside samplecell locell new width samplecell width height samplecell height self bound extent width n height n self borderwidth cell matrix new n tabulate j self newcellat j figure declaring cellsasanewinstancevariable subclass borderedmorph superclass ical shape pharo unsurprisingly borderedmorph amorphwith border insert name instance variable quote second line let s just leave list initializing game let s define initialize method logame type following browser method logame try acceptit pharo complain doesn t know meaning cell figure offer number way fix choosedeclare new instance variable want cellsto instance variable definingtheclass logame figure pharodetectinganunknownselector taking advantage debugger stage open playground typelogame new anddo pharo complain doesn t know meaning term figure tell doesn t know message open debugger cellsperside mistake just method haven t defined shortly let type logame new anddo close debugger click button create debugger prompted select logame class contain method click ok prompted method protocol enter accessing debugger create method cellsperside fly invoke immediately magic created method simply raise exception debugger stop shown figure giving opportunity define havior method write method method hardly simpler answer constant advantage representing constant od program evolves constant depends feature method changed calculate value cellsperside number cell game figure thesystemcreatedanewmethodwithabodytobedefined define method cellsperside debugger forget pile method definition using accept obtain situation shown figure press button proceed program continue execution stop did define method newcellat use process stop explain bit did far close debugger look class definition clicking logame second pane thesystem browser browser modified clude instance variable cell studying initialize method let study method initialize line expression samplecell width height n declares porary variable called temporary variable scope lifetime limited method temporary variable tory name helpful making code readable line set value variable big game board big hold integral definingtheclass logame figure defining cellsperside inthedebugger listing initializethegame initialize samplecell width height n super initialize n self cellsperside samplecell locell new width samplecell width height samplecell height self bound extent width n height n self borderwidth cell matrix new n tabulate j self newcellat j ber cell big draw border cell right number don t know did probably change mind later delegate responsibility ing number method cellsperside write minute don t actually good practice code referring method haven t fined wasn t started writing initialize method realized needed point ingful interrupting flow fourth line us method n self cellsperside sends message cellsperside toself object response number cell game board assigned line create new locell object assign width height appropriate temporary variable line set bound new object worrying detail just believe expression parenthesis creates square origin corner point corner far away allow space right number cell line set logame object s instance variable cellsto newly atedmatrix right number row column ing message new tabulate thematrix class class object send message know new tabulate take argument colon argument right colon used language ments inside parenthesis weird don t panic s syntax turn good syntax method used explain role argument ple pretty clear matrix row column row column row column matrix new n tabulate j self newcellat j ate new n x n matrix initializes element initial value element depend coordinate j thelement initialized result evaluating self newcellat j method protocol define method let s quick look pane browser way pane browser let categorize class package protocol pane let rize method overwhelmed long list method name method pane group method called protocol browser offer virtual protocol surprised learn contains method class followed example protocol pane contain protocol unclassified protocol pane select categorize uncategorized fix izemethod new protocol called initialization finishingthegame listing aninitializationhelpermethod logame newcellat j create cell position j add representation appropriate screen position answer new cell c origin c locell new origin self innerbounds origin self addmorph c position c width j c height origin c mouseaction self toggleneighboursofcellat j doe browser know right protocol general pharo t know exactly case izemethod superclass assumes initialize method protocol override typographic convention pharoers frequently use notation class method identify class method belongs example cellsperside method class logame referred logame cellsperside just mind pharo syntax exactly merely convenient notation indicate instance method sidewhich belongs class logame incidentally corresponding notation method logame class sidemethod method book write method form course actually type code browser don t type class instead just make sure appropriate class selected class pane game let s define method used logame initialize let s define logame newcellat theinitialization protocol pay attention following code fully correct duce error purpose formatting tabulation line order convention method edit area click format shortcut format method method defined created new locell initialized position j matrix cell line defines new cell s mouseaction listing thecallbackmethod logame toggleneighboursofcellat j iftrue cell j togglestate self cellsperside iftrue cell j togglestate j iftrue cell j togglestate j self cellsperside iftrue cell j togglestate figure dragamethodtoaprotocol listing atypicalsettermethod locell mouseaction ablock mouseaction ablock block self toggleneighboursofcellat j effect defines callback behaviour perform mouse clicked corresponding method need defined method toggleneighboursofcellat toggle state cell north south west east cell j complication board finite make sure neighboring cell exists toggle state place method new protocol called game logic protocol pane add new protocol method simply click drag protocol figure complete light game need define method classlocell time handle mouse event let stryourcode listing aneventhandler locell mouseup anevent mouseaction value method doe set cell s mouseaction able argument answer new value method change value instance variable way called settermethod method answer current value instance variable called gettermethod convention used getters setter programming language expect method called mouseaction andgetmouseaction pharo convention different getter variable get setter named similarly trailing mouseaction andmouseaction collectively setter getters called accessormethods tion placed accessing protocol pharo instance variable private object owns way object read write variable accessor method like fact instance variable accessed subclass class locell define locell mouseaction accessing protocol finally need define method mouseup called cally gui framework mouse button released cursor cell screen add method locell mouseup thencategorize automatically method method doe send message valueto object stored instance variable mouseaction inlogame newcellat j created block self toggleneighboursofcellat j toggling neighbour cell assigned block action cell sending valuemessage cause block evaluated consequently state cell toggle s try code s light game complete followed step able play game consisting just class method playground type logame new openinworld anddo game open able click cell work theory click cell debugger appear upper debugger window execution stack showing active method selecting figure thedebugger withthemethod toggleneighboursofcell selected middle pane smalltalk code executed method triggered error highlighted click line labeled logame toggleneighboursofcellat near debugger execution context method error occurred figure debugger variable zone inspect object receiver message caused selected method cute look value instance variable value method argument using debugger execute code step step inspect object rameters local variable evaluate code just playground surprisingly used debugger change code debugged pharoers program debugger time browser advantage method writing executed real parameter actual execution context case line panel togglestate message sent instance logame clearly instance locell problem likely tion cell matrix browsing code logame initialize show let stryourcode listing fixingthebug logame newcellat j create cell position j add representation appropriate screen position answer new cell c origin c locell new origin self innerbounds origin self addmorph c position c width j c height origin c mouseaction self toggleneighboursofcellat j c listing overridingmousemoveactions locell mousemove anevent thatcellsis filled return value newcellat look method return statement fault method return self case newcellat instance logame syntax return value method pharo close debugger window add expression cto end method logame newcellat return fix code directly debugger window click ceedto continue running application case bug initialization object method failed easiest thing close debugger window destroy running stance game halo click create new execute logame new openinworld use old game instance contain block old logic game work properly nearly happen mouse clicking releasing cell mouse toggled turn behavior inherit pleswitchmorph fix simply overriding mousemove finally debugger default error occurs pharo display debugger fully control behavior ple write error file serialize execution stack file zip reopen image ment mode debugger available let fast possible figure duction developer control debugger hide mistake client sharing pharo code light working probably want save archive share friend course save pharo image program running friend probably code image don t want use image need way getting source code pharo image programmer bring theirs notewe ll discussing various way save share code future chapter chapter sharing code source control overview available method saving plain code simplest way doing filing code menu package pane option file package resulting file human readable really intended computer human email file friend file pharo image using file list browser package file content ure file named folder disk image saved look file text editor open fresh pharo image use file browser tool tool file browser file fileout figure filein verify game work new image savingandsharingpharocode figure importyourcodewiththefilebrowser monticello package fileouts convenient way making snapshot code written definitevely old school just project convenient maintain code repository using svn git pharo programmer convenient manage code using monticello package package represented file name ending actually bundle contain complete code package using monticello package browser save package repository various type server including ftp http server just write package repository local file directory copy package cached local disk folder monticello let save multiple version program merge version old version browse difference sion fact monticello distributed revision control mean allows developer save work different place single repository case cv subversion send email recipient place folder able use monticello browse load monticellobrowser open monticello browser world menu figure figure monticellobrowser pane browser list monticello repository include repository code loaded image using list item local directory called cache copy package loaded published network local cache really handy let local history allows work place internet access access slow want save remote repository frequently saving loading code monticello monticello browser list package version loaded image package modified loaded marked asterisk referred dirty package select package list repository restricted just repository contain copy selected package add package monticello browser using package button type smalltalkhub github pharo think best way save code share create account project smalltalkhub smalltalkhub like github web http monticello server let manage project public server http able use smalltalkhub need account open site browser click joinlink follow instruction ate new account finally loginto account click new project create new project information requested click ter project button sent profile page right savingandsharingpharocode listing arepositorypattern mchttprepository location user password figure createyourfirstrepositoryonsmalltalkhub list project project watch coder click project just created undermonticello registration title label box containing smalltalk message similar copy content pharo project created smalltalkhub tell pharo use lightsout package selected click button monticello browser list different repository type able add smalltalkhub repository select presented dialog provide necessary tion server paste code snippet copied smalltalkhub figure message tell monticello project online provide user word pharo ask time try save online repository smalltalkhub accepted new repository listed hand monticello browser click savebutton save version light game smalltalkhub don t forget ment idea commit contains figure load package image open monticello select repository figure doyourfirstcommit package located click open button open new dow column left package loaded right version package loaded select package version want load click load button open repository just saved package just saved monticello capability discussed depth chapter sharing code source control git familiar git github solution manage project git blog post provides summary http html chapter preparation use git pharo request pharo summary chapter seen create package class method addition learned use browser inspector debugger monticello browser group related class new class created sending message superclass chaptersummary group related method inside class new method created modified editing definition browser accepting change inspector offer simple gui inspecting interacting arbitrary object browser detects usage undeclared variable offer possible correction method automatically executed object created pharo initialization code debugger provides gui inspect modify state running program share source code filing package class method better way share code use monticello manage external repository example defined smalltalkhub project syntaxinanutshell pharo adopts syntax close ancestor smalltalk tax designed program text read aloud kind pidgin english following method class weekshows ample syntax check daynames contains ment argument represents correct day case assign variable startday startday asymbol daynames includes asymbol iftrue startday asymbol iffalse self error asymbol recognised day pharo s syntax minimal essentially syntax sending sage expression expression built small number primitive element message sends assignment closure return keywords syntax control structure ing new class instead nearly achieved sending message object instance instead control structure tionals expressed message iftrue sent boolean object new class created sending message superclass element expression composed following building block reserved keywords self super nil true false andthiscontext expression literalobjects including number character string symbol array declaration closure example various syntactic element table syntax represents startpoint variable transcript global variable self decimal integer binary integer floating point number exponential notation character string hello symbol hello literal array dynamic array comment comment x y declaration variable xandy x assign x x x block evaluates x primitive virtual machine primitive annotation factorial unary message factorial binary message raisedto modulo keyword message raisedto modulo true return value true x x x x expression separator transcript cr message cascade local variable startpoint variable identifier tion identifier composed word camelcase word cept starting upper case letter letter stance variable method block argument temporary variable lower case indicates reader variable private scope shared variable identifier start upper case letter global variable class variable pool dictionary class name transcript global variable instance class threadsafetranscript receiver selfis keyword refers object inside current method executing receiver object syntacticelements received message caused method execute selfis called assign integer addition ordinary decimal integer like pharo vides radix notation radix binary equal decimal floating point number specified exponent x character dollar sign introduces literal character ai literal character instance character obtained sending appropriately named message character class character space andcharacter tab string single quote used define literal string want string single quote inside just double quote g day symbol symbol like string contain sequence acters unlike string literal symbol guaranteed globally unique symbol object hello multiple string object value array defined surrounding literal parenthesis constant example true false abc literal array element integer array containing booleans symbol abc note true false abc array curly brace define dynamic array element expression separated period defines array element result evaluating comment enclosed double quote hello comment string ignored pharo compiler comment span multiple line local variable definition vertical bar declaration local variable method block assignment object variable block square bracket define block known block closure lexical closure object representing function shall block argument local variable primitive primitive denotes invocation virtual chine primitive example primitive vm primitive smallinteger code following primitive executed primitive fails syntax used method annotation ma unary message consist single word like factorial sent receiver like factorial receiver factorial message selector binary message message argument selector look like mathematical expression example sent receiver taking single argument receiver message selector argument keyword message consist multiple keywords like raisedto modulo ending colon taking single argument pression raisedto modulo message selector raisedto ulo take argument following colon send message receiver method return used returna value method sequence statement period statement tor putting period expression turn independent statement cascade semicolon used send cascade message single receiver transcript cr send word message receiver transcript send unary message crto receiver class number character string andboolean described chapter basic class pharo reserved keywords nil true false self super andthiscontext called cause predefined assigned true false andnil constant value self super andthiscontext vary namically code executed unique instance boolean class true andfalse chapter basic class detail refers receiver currently executing method refers receiver current method send message super change start superclass class containing method us detail chapter pharo object model undefined object unique instance class finedobject instance variable class variable local variable initialized nil messagesends represents frame execution stack thiscontext normally grammers essential implementing development tool like debugger used implement exception handling continuation sends kind message pharo distinction reduce number mandatory parenthesis argument factorial sends message factorial object exactly argument message argument object message arbitrary number argument raisedto modulo sends message consisting message selector raisedto modulo argument object unary message unary message selector consist alphanumeric ters start lower case letter binary message binary message selector consist ters following set keyword message selector keyword message selector consist series alphanumeric keywords keyword start letter end colon message precedence unary message highest precedence binary message finally keyword message raisedto factorial send factorial send finally send raisedto recall use notation expression result evaluating expression precedence aside execution strictly left right return parenthesis used alter order evaluation period message sends composed period period separated sequence expression cause expression series evaluated statement transcript cr transcript world transcript cr send crto thetranscript object send world finally send cr series message sent samereceiver expressed succinctly cascade receiver specified just sequence message separated transcript cr world cr precisely effect previous example syntax expression evaluated pharo example playground debugger browser method normally defined browser window debugger method filed external medium usual way program pharo program developed method time context given class class defined sending message existing class asking ate subclass special syntax required defining class method linecount class string usual convention refer method classname methodname method string linecount note classname methodname pharo syntax just convention used book clearly define method string linecount answer number line represented receiver cr add line cr count cr character cr count min self size self c c cr iftrue count count count blocksyntax syntactically method consists method pattern containing linecount argument example occur convention explains method doe local variable crandcount number expression separated dot execution expression preceded caret upper arrow keyboard cause method exit point returning value expression method terminates explicitly returning expression implicitly return self argument local variable start lower case letter name starting letter assumed global variable class name like character example simply global variable ring object representing class syntax block lexical closure provide mechanism defer execution pressions block essentially anonymous function definition context block executed sending message value block swers value expression body unless explicit return case return value returned expression value iftrue value block parameter declared leading colon vertical bar separate parameter declaration s body block evaluate block parameter send message value argument block sent value value argument x x value x y x y value value block parameter use witharguments pas argument array block large number parameter sign design problem block declare local variable surrounded vertical bar just like local variable declaration method local declared argument x y z z x z value value block actually lexical closure refer variable surrounding environment following block refers variable xof enclosing environment x x y x y value block instance class blockclosure mean object assigned variable passed argument just like object loop nutshell pharo offer special syntax control construct instead ically expressed sending message booleans number collection block argument conditionals conditionals expressed sending message iftrue false oriftrue iffalse result boolean expression ter basic class booleans iftrue iffalse loop loop typically expressed sending message block integer lections exit condition loop repeatedly evaluated block boolean value example procedural loop conditionalsandloopsinanutshell n n whiletrue n n n whilefalse revers exit condition n n whilefalse n n n timesrepeat offer simple way implement fixed iteration n timesrepeat n n n send message number act initial value loop counter argument upper bound block take current value loop counter argument result string new n result result n printstring result iterators collection comprise large number different class port protocol important message iterating collection include select reject detect ject message define iterators allow write compact code aninterval collection let iterate sequence number starting point end represents interval collection send message ment block evaluated element collection result string new n result result n printstring result collect build new collection size transforming ment think collect map mapreduce ming model collect select andreject build new collection containing subset element satisfying boolean block condition detect return element satisfying condition don t forget string collection character iterate character select char char isvowel reject char char isvowel thr detect char char isvowel e finally aware collection support fold operator inject method think reduce mapreduce programming model let generate mulative result using expression start seed value injects element collection sum product typical example inject sum sum equivalent collection chapter collection pragmas pharo object happens sending sage certain point hit rock certain object work invoking virtual machine primitive example following implemented primitive memory cation new new bit manipulation bitand bitor pointer integer arithmetic array access primitive invoked syntax primitive anumber method invokes primitive include pharo code cuted primitive fails code smallinteger primitive fails sionsuper anumber executed returned anumber primitive add receiver argument answer result smallinteger fail argument result smallinteger essential lookup object documentation chaptersummary whatisaprimitive primitive super anumber pharo angle bracket syntax used method annotation called pragmas summary reserved identifier called true false nil self super andthiscontext kind literal object number character string symbol hello array hi delimited single quote comment double quote quote inside string double string symbol guaranteed globally unique define literal array use define namic array note size size kind message unary asstring array new binary keyword o cascaded message send sequence message sent target separated orderedcollection new add calvin add hobbes size variable declared vertical bar use assignment x consist message sends cascade assignment uated left right optionally grouped parenthesis ments expression separated period closure expression enclosed square bracket block argument contain temporary variable expression block evaluated send block value message correct number argument x x value dedicated syntax control construct just message conditionally evaluate block understandingmessagesyntax pharo s message syntax simple unconventional time getting used chapter offer guidance help acclimatized special syntax sending message feel comfortable syntax choose skip chapter come later message pharo syntactic element listed chapter syntax nutshell message send operator just message sent object fine message named class precedence pharo take simplest form definition order message sent determined type message just type message unary binary andkeyword sage pharo distinguishes type message minimize number parenthesis unary message sent binary message finally keyword one language parenthesis used change order execution rule make pharo code easy read possible time think rule message structure computation pharo message passing correctly fying message key avoiding future mistake following terminology help figure twomessagesendscomposedofareceiver amethodselector anda setofarguments figure amorph color color yellow iscomposedoftwomessage sends color yelow andamorph color color yellow message composed message selector optional sage argument message sent receiver combination message receiver called messagesend shown figure message sent receiver single literal block variable result evaluating message help identify receiver message underline surround message send ellipse number message sends starting help send order figure figure represents message sends color yellow andamorph color color yellow ellipsis message send color lowis executed ellipse numbered receiver amorph receives message color colorwhich ceives message yellow receiver underlined receiver element message message orcolorin message send color yellow threetypesofmessages receiver result message example sagepen new receiver message object returned message send pen new case message sent object called receiver result message send message send message type action color yellow unary creates color apen keyword forward pen pixel binary receives message browser open unary open new browser pen new keyw creates move pen px apen keyw bin pen move forward px table show characteristic message sends note message sends argument unary message like opendo argument single keyword binary message like argument simple message composed one color yellow simple message sent object message send apen composed message sent sent apenwith argument result message receiver expression assignment message send literal return object pen new message sent object result execution message send pen new type message pharo distinguishes kind message reduce mandatory parenthesis simple rule based different message order message sent different type message message sent object information example factorial factorial unary message message consisting operator arithmetic binary involve object ceiver argument object example binary message sent receiver argument message consisting keywords ending colon taking argument example anarray keyword take argument keyword take argument unary message unary message message require argument low syntactic template receiver messagename selector ply succession character containing factorial open class sin sqrt float pi size true false object class object class class object object class bang important unary message message require ment follow syntactic template receiver selector binary message binary message message require exactly argument andwhose selector consists sequence character set note double minus allowed parsing reason creates point object false threetypesofmessages true equality just binary message fraction exact false equal fraction object important binary message message require exactly mentandwhose selector composed sequence character possible follow syntactic template receiver selector argument keyword message keyword message message require argument selector consists keywords ending keyword message follow syntactic template receiver selectorwordone gumentone wordtwo argumenttwo keyword take argument r g b method guments playfilenamed andat method argument method argument create instance class colorone use method r g b incolor r g b creates color red note colon selector notein java method invocation color r g b written creates interval color r g b color red creates new color true nums array newfrom nums nums important keyword message message require argument selector consists keywords ending colon follow syntactic template receiver wordone argumentone wordtwo argumenttwo figure unarymessagesaresentfirstso color yellow issent thisreturns acolor composition type message different precedence allows composed elegant way parenthesis message sent binary message finally keyword message parenthesis sent prior message kind evaluated left right rule lead natural reading order want sure message sent order want add parenthesis shown figure figure message yellow unary message message color keyword message message send color yellow sent message sends parenthesis sent putting unnecessary parenthesis color yellow just emphasizes sent rest section trates point unary binary keywords unary message sent binary message finally keyword message say unary message higher priority type message important ruleone unary message sent binary sage finally keyword based message unary binary keyword example pharo s syntax rule generally ensure message sends read natural way factorial factorial raisedto factorial messagecomposition listing decomposingtheevaluationofapencolor coloryellow apen color color yellow unary message sent color yellow acolor keyword message sent apen color acolor listing decomposingapengo apen binary message keyword message apen unfortunately rule bit simplistic arithmetic message sends need introduce parenthesis want impose ity binary operator example message apen color color yellow unary message yellow sent class colorand akeyword message color sent toapen unary message sent message send color yellow sent return color object passed argument message apen color acolor shown following script figure show graphically message sent example message apen binarymessage akeyword message binary message sent prior keyword message sent message sent object return number message apen sent argument following example show message send executed example exercise let decompose evaluation sagepen new composed unary keyword binary message figure figure binarymessagesaresentbeforekeyword figure decomposingpennewgo parenthesis parenthesised message sent prior message factorial factorial need parenthesis force sending lowmajorscaleon play fmsound lowmajorscaleon fmsound clarinet play send message clarinet fmsound class create clarinet sound send sound fmsound argument lowmajorscaleon keyword message play resulting sound important ruletwo parenthesised message sent prior message msg unary binary keyword example message extent center return center rectangle left point size following script show message decomposed sent message parenthesis sent contains binary message sent return point keyword message extent sent return rectangle nally unary message center sent rectangle point turned evaluating message parenthesis lead error object understand message center messagecomposition figure decomposingpennew listing exampleofparentheses extent center expression parenthesis binary apoint binary anotherpoint keyword apoint extent anotherpoint arectangle unary arectangle center listing exampleofunnecessaryparentheses tan rounded asstring tan rounded asstring true left right know message different kind priority handled final question addressed message priority sent sent left right note saw behaviour previous script point creation message sent following script show execution left right message type reduces need parenthesis important rulethree message kind der evaluation left right example message sends pen new message unary message leftmost pen new sent return newly created pen second message downis sent shown figure listing priority binary message leftmost message evaluated rule arithmetic sent figure areofthesamekindsotheirexecutionis fromlefttoright arithmetic inconsistency message composition rule simple result inconsistency execution arithmetic message sends expressed term binary message common situation extra parenthesis needed binary message sent left right example message sends binary pharo special priority just binary message doe priority leftmost message sent sent result shown following script figure shown previous example result message send result unexpected follows directly rule messagecomposition listing message surrounded parenthesis evaluated sent prior produce correct behaviour figure parenthesedexpressionsareexecutedfirst figure equivalentmessagesusingparentheses used send message price pay simplicity pharo model correct result use parenthesis message enclosed parenthesis evaluated message return result shown following script figure notearithmetic operator different just binary message doe priority use parenthesis obtain desired result table message sends fully parenthesized equivalent figure equivalentmessagesusingparentheses implicit precedence explicitly parenthesized equivalent apen color color yellow apen color color yellow apen pen apen pensize apen pensize apen pensize apen pensize factorial factorial note rule stating unary message sent prior binary keyword message avoids need explicit parenthesis table show message sends written following rule equivalent message sends rule exist message sends result effect return value identifying keyword message beginner problem understanding need add thesis let s keywords message recognized compiler parenthesis character delimit distinct area area word message longest sequence word terminated cut character character surround word colon word participate keyword message localto area defined example distinct keyword message rotateby nify smoothing andat adict rotatingform rotateby angle magnify smoothing notethe character delimit distinct area area keyword message longest sequence word terminated cut character character surround word colon word participate keyword message local area defined precedencehints problem precedence rule start simply putting parenthesis want distinguish message having precedence expressionsequences following piece code doe require parenthesis sage send x isnil unary sent prior keyword message iftrue x isnil iftrue following code requires parenthesis message includes andiftrue keyword message ord orderedcollection new ord includes iftrue parenthesis unknown message includes iftrue sent collection use problem understanding use square bracket block parenthesis basic principle use know time potentially zero expression executed expression create block closure object expression executed zero time depending context recall chapter syntax sion message send variable literal assignment block following principle conditional branch iftrue oriftrue false require block similarly receiver argument whiletrue message require use square bracket know time receiver loop conditional gument loop body executed parenthesis hand affect order sending message expression theexpression willalwaysbe executed exactly receiver argument block x isready whiletrue y dosomething argument evaluated block timesrepeat beeper beep receiver evaluated block x isready iftrue y dosomething sequence expression message sends assignment separated od evaluated sequence note period able definition box section following expression value sequence value expression value returned expression ignored note period separator expression terminator final period optional box box corner box containspoint true message pharo offer way send multiple message receiver using semicolon called cascade pharo jargon follows tern expression transcript transcript transcript cr isequivalentto transcript cr note object receiving cascaded message result message send fact receiver cascaded message receiver message involved cascade following example cascaded message setx sety followed cascade receiver cascaded message setx sety newly created point resulting evaluation point new andnotpoint subsequent message iszero sent receiver point new setx sety iszero false important expression expression equivalent pression summary message sent object named receiver result message sends type message unary binary andkeyword chaptersummary message message require argument form receiver selector message message involve object receiver object selector composed ters following list form receiver selector argument message message involve object contain colon character form ceiver selectorwordone argumentone wordtwo argumenttwo unary message sent binary message finally keyword message message parenthesis sent message type order evaluation left right pharo traditional arithmetic operator priority just binary message doe priority use parenthesis obtain desired arithmetical order operation thepharoobjectmodel pharo programming model heavily inspired smalltalk simple uniform object object communicate sending message instance variable private object method public dynamically looked chapter present core concept pharo object model visit concept selfandsuperand define precisely semantics discus consequence representing class object extended chapter class metaclasses rule model object model based set simple rule applied uniformly rule follows rule object rule object instance class rule class superclass rule happens sending message rule method lookup dynamically follows inheritance chain let look rule object mantra everythingisanobject highly contagious short working pharo start surprised rule plifes integer example truly object send message just object end chapter added implementation note object implementation curious reader send yielding send factorial yielding big number factorial object different object returned factorial cause polymorphic object code plementation factorial need know coming everythingisanobject rule fundamental consequence rule class object class class object really object send message inspect change mean pharo truly reflective give great deal expressive power developer important class object object instance class object class sending sageclass class smallinteger factorial class largepositiveinteger class bytestring class point object new class object class defines structure instance instance variable behavior instance method method called lector unique class sinceclassesareobjects andeveryobjectisaninstanceofaclass follows class instance class class instance class instancestructureandbehavior called metaclass create class automatically creates metaclass metaclass defines structure ior class instance time need think metaclasses happily ignore closer look metaclasses chapter class metaclasses structure behavior briefly present specify structure behavior instance instance variable instance variable pharo private instance trast java allow instance variable known fieldsor membervariables accessed instance happens class say encapsulationboundary object java class pharo instance pharo instance class access s instance variable unless class defines accessormethods language tax provides direct access instance variable object actually mechanism called reflection doe provide way ask object value instance variable intended writing tool like object inspector sole purpose look object instance variable accessed instance method class defines method defined subclass mean pharo instance variable similar protected variable java prefer say private considered bad style pharo access instance variable directly subclass instanceencapsulationexample method point dist computes distance receiver point instance variable xandyof receiver accessed directly method body instance variable point accessed sending message xandy dist key reason prefer encapsulation sulation enables different implementation abstraction coexist example method dist need know care listing distancebetweentwopoints point dist apoint answer distance apoint receiver dx dy dx apoint x dy apoint y y dx dx dy dy sqrt argument apoint instance class receiver argument object represented polar coordinate record database computer distributed long respond message xandy code method dist shown work method method publicand virtual dynamically looked method grouped protocol indicate intent common protocol name established convention example accessing accessor method initialization establishing consistent initial state object protocol private used group od seen outside prevents sending message implemented private method method access instance variable object developer fer access instance variable accessors practice value clutter interface class worse pose private state world instance class class object instance variable method classinstancevariables andclassmethods really different ordinary instance variable method simply operate different object class case instance variable describes instance state method describes instance behavior similarly class instance variable just instance variable defined metaclass state class instance metaclasses class method just method defined metaclass cuted class class metaclass separate class instance largely irrelevant grammer concerned defining behavior object class create theinstancesideandtheclassside figure browsingaclassanditsmetaclass reason browser help browse class metaclass single thing side instanceside theclass shown figure default select class browser browsing instance method executed message sent instance ofcolor clicking class button switch classside method executed message sent classcoloritself example color blue sends message blueto class color method bluedefined class color instance method blue convenient instance creation method acolor color blue color blue color instance accessor method red return red rgb value color blue red accessor method blue return blue rgb value color blue blue define class filling template proposed instance accept template creates just class defined corresponding metaclass edit clicking class button metaclass creation template make sense edit directly list class s instance variable name class created browsing instance class checked let edit browse method possessed stance class subclass class method class method quite useful browse color class good amples kind method defined class instancecreationmethods likecolor class blue perform utility function like color class wheel typical occasionally class method used way convenient place utility method class executed having create additional object contain comment designed make easy execute browse method color class wheel just beginning comment color wheel inspect press effect executing method familiar java class method similar static method uniformity pharo object model class just regular object mean somewhat different java static method really just procedure pharo class method method mean inheritance overriding work class method pharo don t work static method java class instance variable ordinary instance variable instance class set variable name instance private set ues instance subclass inherit name story actly class instance variable class private class instance variable subclass inherit class instance variable butthesubclasswillhaveitsownprivatecopiesofthosevariables just object don t share instance variable class subclass share class instance variable example use class instance variable called countto track instance create given class class countvariable subclass instance counted separately example classinstancevariablesandsubclasses suppose define class dog subclass hyena suppose add acountclass instance variable class dog define theinstancesideandtheclassside listing dogsandhyenas object subclass dog instancevariablenames classvariablenames package listing keepingcountofnewdogs dog class initialize count dog initialize hyena initialize dog count classdog class naturally inherit class instance variable countfromdog dog class instancevariablenames dog subclass hyena instancevariablenames classvariablenames package suppose define class method dogto initialize increment new instance created dog class new count count super new dog class count count create new dog thecountvalue class dogis mented class hyena hyena counted rately sidenote notice use initialize class following code pharo instantiate object dog new initialize called automatically newmessage send browsing behavior new class simply defining doe automatically initialize explicitly default class initialize method automatically executed class loaded discussion lazy initialization hyena count adog adog dog new dog count incremented hyena count class instance variable private class exactly way stance variable private instance class instance different object following consequence class doe access instance variable instance class colordoes access variable object ated acolorred word just class used ate instance using newor helper instance creation method like color red doesn t theclass special direct access instance s ables class instead accessor method public interface just like object reverse true instance class doe access class instance variable class example adog ual instance doe direct access countvariable dog class accessor method important class doe access instance variable instance instance class doe access class instance variable class reason instance initialization method defined instance class access instance variable initialize class send initialization sage using accessors newly created instance java equivalent class instance variable java static variable like pharo class variable discussed section language subclass instance share static variable example definingasingleton singleton pattern provides typical example use class instance variable class method imagine like implement class webserver use singleton pattern ensure instance define class webserver follow clicking class button add class instance variable uniqueinstance theinstancesideandtheclassside listing asamplesingletonclass webserver object subclass webserver instancevariablenames classvariablenames package listing theclasssideofthesingletonclass webserver class instancevariablenames listing newstateforclasses object class allinstvarnames result class webserver class new instance variable addition variable inherits behavior superclass andmethoddict mean value extra instance variable instance class webserver class class webserver webserver class allinstvarnames uniqueinstance define class method named uniqueinstance shown method check uniqueinstance initialized method creates instance assigns class instance variable uniqueinstance finally value uniqueinstance returned sinceuniqueinstance class instance variable method directly access time webserver uniqueinstance executed instance class webserver created assigned uniqueinstance variable time previously created instance returned stead creating new pattern checking variable nil accessor method initializing value nil called tion note instance creation code code listing uniqueinstance webserver class uniqueinstance uniqueinstance ifnil uniqueinstance self new uniqueinstance written self new webserver new difference uniqueinstance method defined webserver class think difference creates subclass webserver suppose server subclass webserver inherits uniqueinstance method clearly expect reliablewebserver uniqueinstance answer reliablewebserver usingselfensures happen self bound respective receiver class webserver liablewebserver note webserver andreliablewebserver different value uniqueinstance instance variable note lazy initialization setting initial value instance object generally belongs tialize method putting initialization call initialize help readability perspective don t hunt accessor method initial value tempting instead initialize instance variable respective accessor method ingifnil check avoid unless good reason example uniqueinstance method used lazy tion user won t typically expect webserver initialize instead expect class ready return new unique instance lazy initialization make sense similarly variable pensive initialize opening database connection network socket example choose delay initialization actually need class superclass class pharo inherits behaviour description structure single superclass mean smalltalk single inheritance smallinteger superclass integer integer superclass number number superclass magnitude magnitude superclass object object superclass protoobject protoobject superclass nil everyclasshasasuperclass traditionally root inheritance hierarchy class object object pharo root actually class called ject normally pay attention class protoobject encapsulates minimal set message object musthave toobject designed raise possible error support proxy definition class inherit object defines additional message object understand respond good reason creating application class normally subclass object subclass new class normally created sending message subclass stancevariablenames existing class method create class look classand itssubclass creation protocol pharo doe provide multiple inheritance support nism called trait sharing behaviour unrelated class trait collection method reused multiple class lated inheritance using trait allows share code different class duplicating code abstract method abstract class abstract class class exists subclassed stantiated abstract class usually incomplete sense doe define method us placeholder method method assume defined called abstract method pharo dedicated syntax specify method class abstract instead convention body abstract method consists pression self subclassresponsibility indicates subclass responsibility define concrete version method self subclassresponsibility method overridden executed forget override executed exception raised similarly class considered abstract method abstract ing actually prevents creating instance abstract class erything work abstract method invoked example theabstractclass magnitude magnitude abstract class help define object compared subclass magnitude implement method andhash using message magnitude defines od max comparing object method inherited subclass method magnitude abstract defined shown following script listing magnitude amagnitude answer receiver argument subclassresponsibility listing magnitude amagnitude answer receiver greater equal argument self amagnitude listing character acharacter answer true receiver value acharacter value asciivalue acharacter asciivalue contrast method concrete defined term true comparison method defined term abstract method character subclass magnitude override method recall marked abstract magnitude use self responsibility version method definition character explicitly defines method hash inherits nitude method trait atraitis collection method included behaviour class need inheritance make easy class unique superclass share useful method unrelated class define new trait simply class pane select add trait replace subclass creation template trait creation plate listing defininganewtrait trait named tauthor us package everyclasshasasuperclass listing anauthormethod tauthor author return author initial oscar nierstrasz listing usingatrait borderedmorph subclass logame us tauthor instancevariablenames classvariablenames package define trait tauthor package trait doe useany existing trait general specify sitionexpression trait use us keyword argument simply provide array trait contain method instance variable suppose like able add author method various class independent occur hierarchy follows use trait class superclass instance logame class defined chapter application simply modify class creation template logame include us keyword argument specifies tauthor used instantiate logame respond author message pected logame new author trait composition expression combine multiple trait using ator case conflict multiple trait define method conflict resolved explicitly removing od redefining method class trait defining possible aliasmethods providing new trait used kernel good example class ior method addtraitselector withmethod defined trait tpurebehavior aliased basicaddtraitselector method listing behaviordefinedusingtraits object subclass behavior us tpurebehavior basicaddtraitselector withmethod addtraitselector withmethod instancevariablenames methoddict format classvariablenames package happens sending message rule capture essence programming pharo procedural programming static feature oriented language java choice piece code cute procedure called caller caller chooses procedure execute statically pharo invoke method instead sendmessages just terminology point significant implies sibility client select method executed receiver message sending message decide method executed instead tellan object sending message message list argument receiver cides respond selecting methodfor doing asked different object different method responding message method chosen dynamically message received send message argument integer send message argument point consequence send samemessage different object itsownmethod responding message tell thesmallinteger thepoint respond message method responds consequence pharo s model message sending courage style object tend small method egate task object implementing huge procedural method assume responsibility joseph pelrine express principle succinctly follows don language provide static dynamic operation object pharo dynamic message sends example methodlookupfollowstheinheritancechain stead providing static class operation simply send message class simply object ok sonearlyeverything pharo happens sending message point action place variabledeclarations message sends fact variable declaration executable declaring variable just cause space allocated object reference assignment message sends assignment variable cause variable freshly bound scope definition returnsare message sends return simply cause computed result returned sender primitive message sends mented virtual machine exception pretty doe truly happen sending message particular publicfields pharo way update instance variable object send message asking update field course providing ter getter method instance variable object good style joseph pelrine state nicely don lookup follows inheritance chain exactly happens object receives message step process method lookup method execution lookup method having message looked method execution second method applied receiver message argument method argument bound parameter method virtual machine executes lookup process quite simple class receiver look method use handle sage class doe method method defined asks class inheritance chain essentially simple question need care answer listing alocallyimplementedmethod ellipsemorph defaultcolor answer default style receiver color yellow listing aninheritedmethod morph openinworld add morph world self openinworld self currentworld selfandsupersends rule method lookup present conceptual virtual machine implementors use kind trick optimization speed method lookup s job able detect doing different rule let look basic lookup strategy consider question method lookup suppose create instance ellipsemorph anellipse ellipsemorph new send object message defaultcolor result color yellow anellipse defaultcolor color yellow class ellipsemorph implement defaultcolor appropriate method immediately contrast send message openinworld toanellipse method immediately class ellipsemorph doe implement openinworld search continues superclass morph openinworld method class morph figure returning self notice ellipsemorph defaultcolor explicitly return color low morph openinworld doe appear return methodlookupfollowstheinheritancechain figure methodlookupfollowstheinheritancehierarchy listing explicitlyreturning self morph openinworld add morph world self openinworld self currentworld self actually method alwaysanswers message value course object answer defined method execution reach end method executing method answer value answer object received sage usually say method answersself pharo variable selfrepresents receiver message like keyword thisin java language ruby default return value statement method case pharo instead imagine method explicit return end self important selfrepresents receiver message suggests openinworld equivalent openinworldreturnself defined explicitly writing self good thing turn explicitly communicating returning sender explicitly return self saying expect sender use returned value case best explicitly return self return self special case stress receiver returned listing superinitialize borderedmorph initialize initialize state receiver super initialize self borderinitialize common idiom pharo kent beck refers interesting returnvalue important default specified differently method return message receiver overriding extension look ellipsemorph class hierarchy figure class morphandellipsemorph implement defaultcolor fact open new morph morph new openinworld blue morph ellipse yellow default say ellipsemorph override thedefaultcolor method morph inherited method longer exists point view ofanellipse want override inherited method extend new functionality like able invoke overridden method inadditionto new functionality defining subclass pharo language support single inheritance help supersends frequent application mechanism initialize method new instance class initialized critical initialize inherited instance variable knowledge captured initialize method superclass inheritance chain subclass business trying initialize inherited instance variable good practice implementing initialize method send super initialize performing initialization need supersends compose inherited behaviour overridden important good practice initialize method start sending super initialize methodlookupfollowstheinheritancechain listing aselfsend morph fullprinton astream astream nextputall self class new listing aselfsend morph constructorstring string streamcontents s self fullprinton s self sends super sends selfrepresents receiver message lookup method start class receiver super superisnotthe class common natural mistake think mistake think lookup start superclass class receiver important selfrepresents receiver message method lookup start class receiver howdo selfsendsdifferfrom supersends likeself superrepresents receiver message yes read thing change method lookup instead lookup starting class receiver start superclassoftheclassofthe methodwherethe supersendoccurs important superrepresents receiver message method lookup start superclass class method thesupersend occurs shall following example precisely work imagine define following method define method fullprinton class morphthat just add stream class followed string new idea execute resulting string get instance similar receiver second define method constructorstring send message fullprinton finally define method fullprinton class borderedmorph superclass ellipsemorph new method extends superclass ior invokes add extra behavior consider message constructorstring sent instance morph ellipsemorph new constructorstring ellipsemorph new setborderwidth bordercolor color black listing combining superandselfsends borderedmorph fullprinton astream astream nextputall super fullprinton astream astream nextputall setborderwidth print borderwidth nextputall bordercolor self colorstring bordercolor figure selfandsupersends exactly result obtained combination selfandsuper sends anellipse constructorstring cause method structorstring class morph shown figure method morph constructorstring performs selfsend printon message fullprinton looked starting class lipsemorph method borderedmorph fullprinton borderedmorph figure critical notice self send cause method lookup start class receiver class anellipse point borderedmorph fullprinton doe asupersend extend thefullprinton behaviour inherits superclass asupersend lookup start superclass class supersend occurs morph immediately evaluate morph fullprinton steppingback aselfsend dynamic sense looking method ing predict method executed instance subclass receive message containing self expression methodlookupfollowstheinheritancechain redefine method subclass ellipsemorph redefine method fullprinton method executed method constructorstring note looking method torstring predict fullprinton method ofellipsemorph borderedmorph ormorph executed ing method constructorstring depends receiver constructorstring message important aselfsend trigger methodlookupstartingintheclassof thereceiver aselfsend dynamic sense looking method containing predict method executed note superlookup did start superclass receiver caused lookup start borderedmorph resulting infinite loop think carefully supersend figure realize superbindings static matter class text supersend contrast meaning selfis dynamic represents receiver currently executing message mean allmessages sent selfare looked starting receiver s class important asupersend trigger method lookup starting perclassoftheclassofthemethodperformingthe supersend say sends staticbecause just looking method know class lookup start class class containing method message understood happens method looking suppose send message footo ellipse normal method lookup inheritance chain way object protoobject looking method method virtual machine cause object send self derstand foo figure perfectly ordinary dynamic message send lookup start class ellipsemorph time searching method doesnotunderstand turn object implement stand method create new messagenotunderstood object capable starting debugger current execution context convoluted path handle obvious error offer developer easy way intercept error tive action easily override method object stand subclass object provide different way handling error figure message fooisnotunderstood fact easy way implement automatic delegation sage object delegator object simply delegate message doe understand object responsibility handle raise error variable look aspect pharo easily covered rule shared variable pharo provides kind shared variable variable variable shared instance class confused class instance variable discussed earlier variable shared group class name shared variable start capital letter warn shared multiple object global variable pharo global variable stored namespace called smalltalk implemented instance class systemdictionary global variable accessible class named global able addition globals used special commonly useful object variable processor name instance processscheduler main process schedler pharo processor class processorscheduler sharedvariables otherusefulglobalvariables smalltalk instance smalltalkimage contains ality manage particular hold reference main namespace smalltalk globals namespace includes smalltalk global variable key namespace symbol global object pharo code example smalltalk globals boolean boolean sincesmalltalk global variable smalltalk globals smalltalk smalltalk smalltalk globals smalltalk smalltalk true worldis instance pasteupmorph represents screen world bound answer rectangle defines screen space morphs screen submorphs world activehand current instance handmorph graphical tion cursor activehand s submorphs hold dragged mouse undeclared dictionary contains undeclared ables write method reference undeclared variable browser normally prompt declare example global instance variable class later delete declaration code reference undeclared variable inspecting undeclared help explain strange behaviour usingglobalsinyourcode recommended practice strictly limit use global variable usually better use class instance variable class variable vide class method access pharo implemented scratch today global variable class replaced singleton usual way define global just perform iton assignment capitalized undeclared identifier parser offer clare global want define global programmatically just execute smalltalk globals aglobalname nil remove execute smalltalk globals removekey aglobalname figure instanceandclassmethodsaccessingdifferentvariables class variable need share data instance class class possible using classvariables term ableindicates lifetime variable class term doe convey variable shared instance class class shown figure better sharedvariables express clearly role warns danger using particularly modified figure rgbandcacheddepth instance variable color accessible instance color class subclass methoddict classinstancevariables stance variable accessible colorclass new colorregistry andcachedcolormaps areclassvariables defined color capitalization variable give hint shared fact instance coloraccess shared variable colorclass andany ofitssubclasses instance method class method access shared variable class variable declared class definition template example classcolordefines large number class variable speed color ation definition shown class variable colorregistry instance identitydictionary containing color referenced dictionary shared instance color class ble instance class method sharedvariables listing coloranditsclassvariables object subclass color instancevariablenames cacheddepth cachedbitpattern alpha classvariablenames cachedcolormaps colorregistry componentmask graytoindexmap greenshift halfcomponentmask indexedcolors maskingmap randomstream redshift package listing initializingthe colorclass color class initialize self initializecolorregistry classinitialization presence class variable raise question initialize solution lazy initialization discussed earlier chapter introducing accessor method executed initializes variable initialized implies use accessor time use class variable directly thermore imposes cost accessor send initialization test arguably defeat point using class variable fact longer shared solution override class method initialize ve seen dog example adopt solution need remember invoke izemethod define evaluating color initialize class initialize method executed automatically code loaded memory monticello repository example notexecuted automatically typed browser compiled edited pool variable pool variable variable shared class related inheritance pool variable originally stored pool dictionary defined class variable dedicated class subclass sharedpool advice avoid need rare specific circumstance goal fore explain pool variable just understand reading code listing pooldictionariesinthe textclass arrayedcollection subclass text instancevariablenames run classvariablenames pooldictionaries package listing text testcr text testcr cr character cr class access pool variable mention pool class nition example class textindicates using pool narytextconstants contains text constant crand lf dictionary key crthat bound value character cr carriage return character allows method class textto access keysof dictionary method body directly using variable syntax explicit dictionary lookup example write following method recommend avoid use pool variable pool dictionary object implementation note implementation note people really want deep way pharo represents internally object implementation guished different kind object object zero field passed reference exist pharo heap immediate object passed value depending version range integer called smallinteger character object possibly range number called mentation immediate object occupy object pointer bit encode immediate s value bit encode object s class kind object ordinary object come number variety object zero named instance variable aspointwhich x y instance variable instance able hold object pointer reference nary object immediate object like array zero indexed instance variable numbered indexed instance variable hold object pointer reference ordinary object immediate indexable object accessed using message chaptersummary andat example array new answer like closure context named instance ables indexed instance variable object indexed stance variable follow named instance variable like bytestring orbitmap indexed instance ables numbered n contain raw data datum occupy depending class definition data accessed integer character number depending method andat implemented andat method convert pharo object raw data hiding internal representation allowing represent efficiently data string bitmap beauty pharo normally don t need care ences kind object summary object model pharo simple uniform ject pretty happens sending message object primitive entity like integer object class object object instance class class define structure instance privateinstance variable behaviour instance publicmethods class unique instance metaclass class variable private variable shared class instance class class directly access instance variable instance instance access instance ables class accessors defined needed class superclass root single inheritance archy protoobject class define normally inherit object subclass syntax defining abstract class abstract class simply class abstract method implementation consists expression self subclassresponsibility pharo support single heritance easy share implementation method packaging astraits happens sending message callmethods sendmessages receiver chooses method ing message lookup follows inheritance chain selfsends dynamic start method lookup class receiver persends start method lookup superclass class thesupersend written perspective supersends static selfsends kind shared variable global variable sible class variable shared class subclass instance pool variable shared tween selected set class avoid shared variable possible someofthekeytoolsofthe pharoenvironment goal chapter present main tool pharo ming environment seen define method class using browser chapter feature duce browser course occasionally program doe work expect pharo excellent debugger like powerful tool confusing use walk debugging sion demonstrate feature debugger unique feature pharo ancestor programming living world live object world static program text make possible rapid feedback gramming make productive tool let look change live object inspector environment overview thesystem browser central development tool use ate define organize class method using navigate library class unlike environment source code stored separate file pharo class method contained image thefinder tool let method class pragmas look method s class source code pragma s look method providing example themonticello browser starting point loading code saving code monticello package discussed chapter sharing code source control theprocess browser provides view process thread cuting smalltalk thetest runner let run debug sunit test described chapter sunit thetranscript window transcript output stream useful writing log message theplayground window type input used purpose used typing pharo expression executing briefly encountered ground transcript chapter quick tour pharo thedebugger obvious role discover central place compared debugger programming language cause pharo program debugger debugger launched menu normally entered running failing test typing interrupt running process inserting halt expression code window group managing multiple window pharo image tedious cess window group window offer tab support similar used web browser create window group click arrow appears right corner window pharo select create window group turn window window group tab bar containing tab original content window add window group pharo image course dragging dropping title bar tab bar existing tab new window drag tab bar added new tab theme icon set like fan default bright theme dark theme used pharo setting browser world menu world setting ancesection user interface theme pulldown allows switch default theme dark theme experiment available icon set pulldown section note close reopen existing window draw correctly new dark theme themaincodebrowser figure windowgroupwithtwotabs tembrowser use catalog browser install additional theme open world tool catalog browser search themein search box example want colorful download nireas theme blue theme inspired classic home computer like amiga amstrad cpc nireas come gui tool allows customize theme s color liking blue thing course feeling especially adventurous make theme using existing one template main code browser different class browser developed year pharo pharo simplifies story offering single browser integrates iou view figure show browser appears open small pane browser represent hierarchic view method way mac o x finder column mode provide view file disk leftmost pane list package class select say kernel pane immediately right class package similarly select class second pane say boolean figure pane protocol defined class virtual protocol protocol way ing method make easier think behaviour class breaking smaller conceptually coherent piece fourth pane show name method defined selected themaincodebrowser figure thebrowserwiththeclass boolean themaincodebrowser figure browsingthe methodinclass boolean select method source code corresponding method appears large pane browser view edit save edited version select class boolean protocol controlling method browser look like ure unlike directory file browser pane browser quite equal class method smalltalk language package protocol convenience introduced browser limit information need shown pane example protocol browser list method selected class class list large navigate conveniently way create new package new protocol different way create new class new method create new package package pane select add age create new protocol protocol pane select add protocol enter new thing dialog package protocol content contrast create new class new method actually figure write smalltalk code click currently selected package pane browser pane display class creation plate figure create new class editing template replace object existing class wish create class replace nameofsubclass like new subclass instance variable name know package new class default currently selected package change like browser cused class wish subclass template slightly different initialization class pane selecting add class just edit definition existing class changing class new case accept new definition new class follows ated corresponding metaclass creating class creates global variable reference class refer isting class using name new class appear symbol prefixed class creation template class created code refer class using identifier process creating new method similar select class want method live select protocol browser themaincodebrowser figure display template shown figure edit navigating code space browser provides tool exploring analyzing code tool accessed various contextual menu case frequently used tool mean keyboard cut openinganewbrowserwindow want open multiple browser window ing code certainly need method typing browse thing work open browser class named selected text using shortcut try playground window type class instance morph select press trick useful work text window figure thesenders b n menuitem messagesenders writing new code refactoring existing code trying learn use unfamiliar library frequently want know sender implementors various message way discovering codebase message used listing sender select method method pane browser select sender b n text menu alternatively use shortcut thing s b nin menu item stand help remember shortcut think browse sender highlight particular message source code code pane browser playground window text window want sender keyword message light keywords message including argument highlighted selector choose code search sender n alternatively use shortcut bring particular method spotter press themaincodebrowser figure thesendersbrowsershowingthatthe canvas draw methodsends thedrawon messagetoitsargument bring spotter search box type message selector arrow particular implementor message press arrow focus search list sender appears search result handful sender shown default view list clicking arrow sender category arrow sender list expand pressing arrow let s try action open browser morphclass select morph drawon method method pane press method pane select sender figure browser open list method image send selected message ure look sender list canvas draw method sends drawon object passed ment potentially instance class dataflow analysis help figure class receiver message general simple way browser know sends cause method executed reason sender figure findingsendersofakeywordmessageinthecodepane browser show exactly suggests sender sage chosen selector sender browser extremely useful need understand usea method let navigate quickly example us method selector used way us given sage ought similar switch dictionary class browser remember package class pane select class just use shortcut select addall method method pane looking source code suppose wanted sender theat key value message simply highlight message send press select code search sender n bring list sender figure messageimplementors similarly come message want s mented implementors browser work way sender browser instead list class ment method selector select method method pane bring implementors browser method lectingimplementors b m context menu use shortcut help remember shortcut think browse implementors highlight particular message source code text window want implementors keyword sage highlight keywords message themaincodebrowser click highlited selector choose code search tor m menu just use shortcut bring method spotter press bring spotter search box start typing message selector plementors category search result showing handful implementors list click arrow right implementors category arrow implementors press arrow try press type drawon spotter search box list showing implementors method shouldn t surprising class implement method drawon message understood object capable drawing screen notice typed drawon left colon number implementors search result larger spotter ing partial search including method drawon drawon offset drawonathenscanvas useful want method remember methodinheritanceandoverriding inheritance browser display method overridden played method work select imagemorph drawon method browser note arrow icon method figure arrow tell imagemorph drawon override inherited method morph drawon row tell overridden subclass click icon navigate method method pane select inheritance inheritance browser show erarchy overridden method figure hierarchyview default browser present list package leftmost pane possible switch class hierarchy view simply select ular class imagemorph click hierarchy button second pane class hierarchy playing superclass subclass selected class notice package pane disabled package greyed hierarchy view change package able change toggle hierarchy view clicking hierarchy button figure imagemorph drawon andthehierarchyofclassesoverridingit figure hierarchy view reveals direct superclass agemorph ismorph findingvariablereferences class class pane selecting analyze inst var reference oranalyze class var ref instance variable class variable used cess view clicking variable button package list click button select menu item sented dialog invite choose variable ables defined current class variable inherits list inheritance order useful bring list just remind instance variable click outside list away variable browser created click variable bound example messagebrowser created figure use similar method look direct variable assignment themaincodebrowser figure ahierarchyviewof imagemorph place modify variable using accessor method class select analyze inst var assignment bytecodesource possibility browsing bytecode method method select toggle bytecodes use figure reselect method normal view refactorings contextual menu offer large number standard refactorings simply pane currently available refactoring operation figure refactoring available special browser called toring browser accessed browser figure amessage browser foraccessesto boundsvariableof morph browser menu additional function available browser pane label menu item meaning context dependent example package pane class pane protocol pane method pane file menu item different thing package pane s file menu item file package class pane s item file class protocol pane s item file protocol method pane s item file just displayed method obvious source confusion ners possibly useful menu item class f c package class pane know package content faster type followed character class guess package thehistory navigator pulldown protocol method pane help quickly class method browsed recently forgotten bytecodeoftheimagemorph drawon compiledmethod figure useful method class pane method brings menu method class give search box alternatively searching particular method selected class quicker browse protocol place mouse method pane type letter method looking usually scroll pane method visible try way navigating orderedcollection removeat option available menu pay spend minute working browser seeing browsing programmatically class systemnavigation provides number utility method useful navigating function offered browser implemented systemnavigation open playground evaluate following code browse sender drawon systemnavigation default browseallsendersof drawon restrict search sender method specific class systemnavigation default browseallsendersof drawon localto imagemorph development tool object completely accessible program develop tool adapt existing tool need programmatic equivalent implementors menu item systemnavigation default browseallimplementorsof drawon learn available explore class navigation browser inspector thing make pharo different ming environment provides window world live object world static code object examined programmer modified care necessary theinspector figure inspecting dateandtime changing basic object support mean ment save image illustration inspector type dateandtime nowin playground choose inspect open inspector insidethe playground window note s necessary select text using menu text selected menu operation work current line window like shown figure appear inspector thought window internals particular object case particular instance dateandtime created evaluated expression dateandtime title bar window show printable representation object inspected default view rawtab instance variable explored lecting variable list variable column select able printable representation shown value column tantly separate inspector view selected variable open right hand pane variable simple type booleans integer nested spector view different printable representation value column inspector instance variable nested inspector view right ownrawtab list instance variable list left pane expanding triangle variable s drilling hierarchy instance variable nested inspector pane opening right parent prevent multiple pane impractical pane scroll right overall inspector window track page original instance inspecting using pagination dot inspector dow special variant inspector dictionary tions compiledmethods class variant tab addition rawview make easier examine content special object example inspector dictionary instance additional itemstab show dictionary s key value intuitive fashion horizontal pane inspector small playground window useful window selfis bound object selected left pane mean write evaluate arbitrary code expression use selected able sself pane example inspector dateandtime opened lier section select playground pane evaluate expression self dateandtime today result duration object represents time interval midnight today stant evaluated dateandtime created timeinstance inspecting try evaluating time self tell long spent reading section book pane especially useful wanted change instance variable object inspected provided accessor method defined variable send message root self change variable accessor method debugger debugger arguably powerful tool pharo tool suite used just debugging writing new code demonstrate debugger let s start creating bug using browser add following method class string thedebugger listing abuggymethod suffix assumes file answer suffix dot dot dotposition dot dotposition self size detect self dot self copyfrom dotposition self size figure apredebugwindow notifiesusofabug course sure trivial method work instead writing sunit test just type suffix playground andprint p surprise instead getting expected answer apredebugwindow pop shown figure thepredebugwindow title bar tell error occurred show stacktrace message led error starting trace undefinedobject doit represents code compiled run selected suffix ground asked pharo print code course sent message suffix abytestring object caused inherited suffix method class string execute information encoded line stack trace bytestring string suffix ing stack suffix sentdetect eventually tect ifnone senterrornotfound whythe dot need debugger click figure thedebuggershowingtheexecutionstackandthestateofvarious object ondebug open debugger clicking line stack trace debugger open focused corresponding method debugger shown figure look intimidating quite easy use title bar pane similar saw predebugwindow debugger combine stack trace method browser select line stack trace corresponding method shown pane s important alize execution caused error image suspended state line stack trace represents frame ecution stack contains information necessary continue execution includes object involved computation instance variable temporary variable executing method figure selected detect iffound ifnone method pane method body displayed center pane blue highlight message valueshows current method sent message valueand waiting answer thevariables pane debugger actually like thedebugger tor playground pane select variable open inspector pane inspector pane raw uatoracting playground evaluating code context selected variable variable list type variable show parameter passed method temporary used method instance variable accessible context rent receiver pseudo variable self thiscontext stacktop used current context select different stack frame identity selfmay change content variable list click selfin left pane selfis interval expect select selfand select evaluator pane evaluate code content current receiver variable scope method pane feel free type select expression directly method pane evaluate cancel l change using menu selecting thiscontext list implicit variable show rent context object method lower stack trace exceptionblock self errornotfound surprising sponding error message incidentally want open inspector variable shown just variable lect variable choose inspect useful want watch variable change execute code looking method window expected mate line method string execution reached final line pharo doe let run execution backwards doe let start method work code doe mutate object instead creates new one clickrestart focus execution return statement current method blue highlight show message sent figure theintoandoverbuttons different way step execution click pharo executes current case step unless error overwill current method figure thedebuggerafterrestartingthe detect iffound ifnone method actly started help need finding character looking clicking clickrestart situation shown ure clickintotwo time pharo method corresponding highlighted case interval turn help fairly fident interval broken bug likely inwhatwe asked pharo appropriate button use case want ignore detail focus execution argument block select detect iffound ifnone method restart state shown figure click time select thedebugger figure thedebuggerafterstepping thedo methodseveral time eachin context window eachcount thedo method executes expect iftrue block executed isn t going wrong intothe execution value illustrated figure clicking position shown figure look gone backto thesuffix method cause executing block suffix provided argument detect select dotin context inspector value equal seventh character course character whiledotis astring bug fix obvious convert dotto acter starting search figure thedebuggershowingwhy isnotequalto dot change code right debugger assignment read dot accept change executing code inside block inside detect eral stack frame abandoned order make change pharo asks want figure assuming clickyes save compile new method evaluation expression suffix complete print answer answer correct unfortunately t say sure suffix method comment suffix precise way avoid sort problem write sunit test defines answer effort required little run test playground using sunit save test executable documentation thedebugger figure changingthe suffixmethodinthedebugger tionoftheexitfromaninnerblock listing asimpletestforthe suffixmethod testsuffixfound self assert suffix listing abettertestforthe suffixmethod testsuffixfound self assert suffix self assert suffix make easy run add testsuffix class stringtest run test suite sunit quickly debugging error sunit open debugger failing assertion need stack frame restart test gointothesuffix method correct error doing figure second work click run failure button sunit test runner confirm test pass better test test better tell reader method dot target string way debugger addition catching figure changingthe suffixmethodinthedebugger errorafteransunitassertionfailure listing insertinga haltintothe suffixmethod suffix assumes file answer suffix dot dot dotposition dot filedirectory dot dotposition self size detect self dot halt self copyfrom dotposition self size error assertion failure execute code go infinite loop interrupt open debugger computation typing s stop period depending learned glish useful know bring emergency ger time typing just edit suspect code insert halt example edit suffix method read follows run method execution halt bring proceed debugger theprocessbrowser listing asecondtestforthe suffixmethod thetargethasnosuffix testsuffixnotfound self assert suffix look variable step computation edit code s debugger s suffix method initial bug realize dot string suffix method raise error isn t behaviour want let s add second test specify happen case lastly add testnosuffix test suite class stringtest watch test raise error enter debugger selecting erroneous test sunit edit code test pass easiest clearest way replace detect message detect ifnone second argument block simply return string size learn sunit chapter sunit process browser pharo lightweight process known thread running concurrently image future pharo virtual machine advantage multiple processor available present concurrency implemented slicing process browser cousin debugger let look iou process running inside pharo open using world menu selecting tool process browser figure show screenshot pane list process pharo priority order timer interrupt watcher priority idle process priority course uniprocessor process running look ui process waiting kind event default display process static updated selecting turn select process pane stack trace displayed pane just debugger select stack frame responding method displayed pane process browser equipped selfandthiscontext clicking stack frame provide equivalent functionality figure theprocessbrowsershowingalltheactivethreadbypriority method thefinderis code search tool pharo help od functionality ve discussed length chapter quick tour pharo summary order develop effectively pharo important invest fort learning tool available environment standard browseris main interface browsing existing package class method protocol method defining new one browser offer useful shortcut directly jump sender implementors message version method tool highlight class method immediately jump browser using keyboard shortcut browse pharo programmatically sending message systemnavigation default chaptersummary tool useful exploring interacting live object image inspect tool bring morphic halo selecting debug handle tool let inspect stack program error raised enables teract object application including source code case modify source code ger continue executing debugger especially effective tool support development tandem sunit chapter sunit let monitor query interact cesses current running image tool locating method sharingcodeandsourcecontrol consequence programming world live object file text editor explicit export program pharo image old way doing ating afileoutor achangeset essentially encoded text file imported preferred way sharing code pharo save package share using versioned repository server pharo using tool called monticello powerful effective way work especially working team future pharo officially offer support git hosting server github bitbucket gave quick overview monticello pharo s packaging tool ter application monticello feature discussed monticello manages package telling monticello s important explain exactly package group class method pointed earlier chapter application package group class method exactly relationship package simple lightweight way nizing pharo source code exploit simple naming convention let s explain using example suppose developing work facilitate use relational database pharo cided framework pharolink created couple class oracleconnection mysqlconnection postgresconnection alsodbtable dbrow dbquery class placed inside package called pharolink code reside class example series method convert jects format object assql string assql date assql method belong package class clearly class object doe belong package need way putting certain method package rest class package way placing method protocol ject string date named pharolink note initial asterisk pharolink protocol added package named pharolink precise rule go package follows package named foocontains class agefoo inanyclass protocol named fooor foo ing comparison case letter name ignored start class package fooexceptfor method tocols name start class package foocan extended package consequence rule class definition method belongs exactly package accessingpackages class rpackage represents package class rpackageorganizer plements singleton hold pharo package following pressions example query perform rpackageorganizer default packagenamed definedclassnames rpackageorganizer default packagenamed extendedclasses basic monticello open monticello browser list pane row button shown figure pane list age loaded image running lar version package shown parenthesis pane list source code repository monticello know usually loaded code select package groupsofclassesandmethods figure themonticellobrowser package left pane right pane filtered tory contain version selected package repository directory named directory directory image running load code write code remote repository copy saved package cache useful network available need access package given monticello file rectly example email attachment convenient way cess place directory addingrepositories add new repository list click choose kind repository menu let s add http repository open monticello click select http edit dialog read mchttprepository location user password click opento open repository browser repository like figure left list package repository select pane right version selected package repository figure arepositorybrowser browsingversions select version browse loading image loadit look change image loading selected version make copyof version package write repository name version contain package author version version number version file repository change name rect operation monticello depends monticello version file just zip archive curious unpack zip tool best way look content using monticello creatingapackage create package monticello thing write code tell monticello create package called pbe couple class shown figure create method existing class object package class figure committingapackage add package class browser monticello automatically add package list pbeis list package package entry marked asterisk version image written repository said dirty twoclassesandoneextensioninthe pbepackage figure anextensionmethodthatisalsobeinthe figure initially repository associated package age cache shown figure s ok save code cause written package cache just click saveand invited provide log message version package save shown figure accept sage monticello save package indicate asterisk rating monticello s package pane removed sion number added introducing change make change package say adding method class asterisk showing unsaved change open repository browser package cache select saved version use change button course save new version repository refresh repository view look like figure save new package repository package cache need make sure monticello know repository adding necessary use copyin repository browser select repository package copied associate desired repository package clicking repository selecting add package select corresponding package package know repository save new version selecting repository package ticello browser clicking save course permission write repository pharobyexample repository squeaksource world readable world writable try save error message create repository save code providingalogmessageforanewversionofapackage figure figure theversionsbrowsershowingtwoversionsofthe objtest tivoffset method nowadays favorite code repository http http especially useful mechanism share code make sure use automated build system jenkins travis try save repository don t write permission version written cover editing repository information monticello browser choosing different repository using copyfrom browser control version method save new version method old lost pharo keep old version assuming using image saved allows compare different version revert old version thebrowse version v menu item give access successive sourcecontrol ifications selected method figure version method pane display line version method listing programmer wrote date time saved name class method protocol defined current active version list existence version browser mean worry preserving code think longer needed doneed revert old version copy needed code fragment old version paste method habit using version commenting code longer needed bad practice make current code harder read pharoers rate code readability extremely highly hint delete method entirely decide want deletion change set ask version change set browser described section change set changesorter working pharo change make method class recorded changeset includes creating new class class changing category adding method existing class just significance arbitrary doits cluded time change set exist changeset collecting change image change set current examine change set ing change sorter available selecting world tool change sorter figure show dual change sorter browser title bar show change set current change set selected change sorter open change set selected pane menu allows make different change set current create new change set pane list class affected selected change set category selecting class display name method change set notall method class left central pane selecting method display method definition pane change sorter let delete class method change set using menu corresponding item figure thechangesortershowingallthechangesofonechangesetand offeringactionstomovechangestootherchangesets change sorter allows simultaneously view change set left hand right layout support change sorter s main feature ability copy change change set shown menu figure possible copy individual method wondering care composition change set answer change set provide simple mechanism exporting code pharo file imported pharo image change set export known accomplished using menu change set class method browser repeated file out create new version file change set versioning tool like monticello track dependency advent monticello change set main mean changing code pharoers advantage simplicity file just text file don trecommend try edit text editor degree portability main drawback change set compared monticello package support notion dependency spite ings change set us particular change set internet want look use having filed change set using change sorter tell file requires use tool file list browser note thefilelistbrowser figure afilelistbrowser ping changeset pharo work brings pop ask want load browse code contained changeset file list browser file list browser fact tool browsing file ftp server pharo open world tool file browser menu course depends content local file typical view shown figure open file list browser focused current tory started pharo title bar show directory larger pane used gate file conventional way directory selected file contains directory displayed right list file filtered entering pattern small box window initially pattern match file name type different string accept ing pattern note implicitly prepended appended pattern type sort order file changed using dateandsizebuttons rest button depend file selected browser figure file suffix figure afilecontentsbrowseropenedonapackage browser assumes pharo code provides possible action button choice button display depends file s content button want won t screen set option available clickmore menu easily work problem thecodebutton useful working change set open browser content change set file mc age example shown figure file content browser similar browser code loaded memory pharo t lose code quite possible crash pharo experimental pharo let change including thing vital make pharo work good news lose work crash saved version image hour old code executed saved file excludes playground snippet stored inside cacheand searched using spotter result displayed page section instruction code need chaptersummary read need need ll waiting worst case use text editor file megabyte size slow recommended pharo offer better way code restart pharo recent snapshot select world tool recover lost change smalltalk recover changelist browserecentlog changelist browserecent opportunity decide far history wish browse normally s sufficient browse change far snapshot effect editing changelist browserecent number ing trial error recentchanges browser showing say change far snapshot list pharo time delete item list using click menu satisfied left porating change new image s good idea start new change set using ordinary change set browser file recovered code new change set file change set useful thing recentchanges browser remove doits ally won t want file doits exception creating class show doit beforeyoucanfileinthemethodsforaclass theclassmustexist created new class class creation doits remove doitsand file method finished recovery like file new change set quit pharo saving image restart make sure new change set file cleanly summary tool exporting importing versioning sharing package class method monticello package consists class related method package automatically generated log change source code image largely superseded monticello mean store exchange version source code useful especially recovering catastrophic failure rare tool browsing file allows tofile source code file case image crash save backup source code monticello recover recent change using changelistbrowser select change want replay file recent copy image sunit sunit minimal powerful framework support creation deployment test guessed design sunit focussed unittests fact used integration test functional test sunit originally developed kent beck subsequently extended joseph pelrine incorporate tion resource discussed chapter start discussing test make good test present series small example showing use sunit finally look implementation sunit understand pharo us power reflection supporting tool note version documented chapter used pharo modified version testing test driven development limited pharo automated testing hallmark agilesoftwaredevelopment movement software developer concerned improving software quality adopt developer language come appreciate power unit testing version xunitnow exist programming language testing building test suite new everybody know test good way catch error extreme programming making testing core practice emphasizing automated test helped make testing productive fun chore grammers dislike pharo community long tradition testing cause incremental style development supported programming environment traditional pharo development programmer write test playground soon method finished test incorporated comment head method exercised test needed set included ple method class problem practice test playground available programmer modify code comment example method better respect easy way track run automatically test run help bug example method doe inform reader expected result run example surprising result know observed haviour correct sunit valuable allows write test test defines correct result help ganize test group context test run run group test automatically minute write test using sunit instead writing small code snippet gound encourage use sunit advantage stored automatically executable test testing important unfortunately developer believe test waste time theydo write bug otherprogrammers said time iwouldwritetestsifihadmoretime write bug code changed future test waste time likely mean application trivial used think test investment future having suite test quite useful extremely useful application ronment run change future test play role provide documentation ality cover documentation active watching test pas tell documentation date second test help opers confirm change just package broken part break confidence turn misplaced finally writing test ing programming force think functionality want design andhowitshouldappeartotheclientcode implement writing test code compelled state context functionality run way interact client code expected result code improve try whatmakesagoodtest test aspect realistic application covering complete application simply impossible goal testing good test suite bug creep application lay dormant waiting opportunity damage happened advantage soon uncover bug write test expose run test watch fail start fix bug test tell make good test writing good test skill learned practicing let look property test maximum benefit testsshouldberepeatable able run test want answer testsshouldrunwithouthumanintervention able run unattended testsshouldtellastory test cover aspect piece code test act scenario read understand piece functionality testsshouldhaveachangefrequencylowerthanthatofthefunctionalitytheycover want change test time modify application way achieve write test based public terfaces class testing ok write test private helpermethod feel method complicated need test aware test changed thrown away entirely think better implementation consequence property number test somewhat proportional number function tested changing aspect break test limited number important having test fail send stronger message having test fail possible achieve ideal particular change break initialization object test likely cause test fail software development methodology extremeprogramming development tdd advocate writing test writing code deep instinct software developer say ahead try writing test code help know want code help know help conceptualize functionality class design interface development give courage fast afraid forget important listing anexamplesettestclass testcase subclass myexamplesettest instancevariablenames classvariablenames package writing test difficult choosing whatto test difficult pragmatic programmer offer principle stand result right boundary condition correct check inverse relationship result using mean force error condition happen performance characteristic bound let s write test benefit using sunit example going detail sunit step step example use example test class set try entering code step create test class create new subclass testcase calledmyexamplesettest add instance variable new class look like use class myexamplesettest group test related classset defines context test run context described instance variable fullandemptythat use represent set class critical convention end test define class called pattern corresponding test class patterntest class alphabetized browser assuming package iscritical class subclass testcase step initialize test context message testcase setup defines context test run bit like initialize method setupis invoked execution sunitbyexample listing settingupafixture myexamplesettest setup set new set listing testingsetmembership myexamplesettest testincludes self assert includes self assert includes listing testingoccurrences myexamplesettest testoccurrences self assert occurrencesof self assert occurrencesof add self assert occurrencesof test method defined test class define setupmethod follows initialize emptyvariable refer set fullvariable refer set containing ments testing jargon context called fixturefor test step write test method let s create test defining method class settest method represents test name method start string sunit collect test suite test method argument define following test method test named testincludes test theincludes method set test say sending message cludes set containing return true clearly test relies fact setupmethod run second test named testoccurrences verifies number currences fullset equal add element set finally test set longer contains element removed note use method testcase deny assert true atest deny anexpression equivalent atest sert anexpression readable listing testingremoval myexamplesettest testremove remove self assert includes self deny includes figure runningsunittestsfromthesystembrowser step run test easiest way run test directly browser simply click icon class individual test method select runtests t press icon test method flagged green red depending pas shown select set test suite run obtain detailed log result using sunit test runner open selecting world test runner thetestrunner shown figure designed make easy execute group test pane list package contain test class class testcase package selected test class contain appear pane right abstract class italicized test class hierarchy shown indentation class classtestcase indented subclass testcase classtestcase class offering utility method compute test age open test runner select package mysettest click run lected button sunitbyexample figure runningsunittestsusingthe testrunner listing executablecommentsintestmethods myexamplesettest testremove self run testremove remove self assert includes self deny includes listing introducingabuginatest myexamplesettest testremove remove self assert includes self deny includes run single test print usual result summary executing printiton following code myexamplesettest run testremove people include executable comment test method low running test method doitfrom browser shown introduce bug myexamplesettest testremove run test example change test did pas listed pane testrunner want debug failed just click alternatively execute following expression myexamplesettest selector testremove debug myexamplesettest debug testremove step interpret result method assert defined class testasserter class testcase testcase subclass sible kind test result assertion assert method expects boolean argument usually value tested expression gument true test pass argument false test fails actually possible outcome test passing failing inganerror outcome hope assertion test true case test pass test runner test pas bar turn green way running test wrong obvious way assertion false causing test fail possibility kind error occurs execution test messagenotunderstood error indexoutofbounds error error occurs assertion test method executed t say test failed clearly wrong thetestrunner failing test cause bar turn yellow listed middle pane right test error cause bar turn red listed pane right modify test provoke error failure sunit cookbook section detail use sunit used testing framework junit familiar framework root sunit normally use sunit s gui run test situation want use assertion addition assert anddeny method used make assertion testasserter assert description andtestasserter deny description second argument message string describes reason failure obvious test method described section thesunitframework listing testingerrorraising myexamplesettest testillegal self raise error self zork raise error sunit provides additional method testasserter raise andtestasserter shouldnt raise testing exception tion example use self ablock raise anexception test particular exception raised execution ablock method illustrates use raise try running test note argument andshouldnt method block contains expression executed running single test normally run test using test runner using code browser don t want launch test runner world menu execute testrunner open run single test follows myexamplesettest run testremove run passed failed error running test test class subclass testcase responds message suite build test suite contains method class name start string test run test suite send message run example myexamplesettest suite run run passed failed error subclass testcase junit build testsuite arbitrary class containing test method sunit create suite hand class implement essential casemethods like assert recommend try framework use sunit framework sunit consists main class testcase testsuite testresult testresource shown figure notion testresource figure thefourclassesrepresentingthecoreofsunit sent resource expensive used series test testresource specifies setupmethod executed just suite test distinction testcase setupmethod executed test testcase testcase abstract class designed subclassed subclass represents group test share common context test suite test run creating new instance subclass testcase running setup running test method sending theteardown context specified instance variable subclass cialization method setup initializes instance variable subclass testcase override method teardown voked execution test used release object allocated setup testsuite instance class testsuite contain collection test case stance testsuite contains test test suite test suite contains testcase andtestsuite individual test case test suite understand protocol treated way example run fact application composite pattern testsuite composite test case leaf thesunitframework testresult class testresult represents result testsuite execution record number test passed number test failed ber error signalled testresource important feature suite test pendent failure test cause avalanche failure test depend order test run matter performing setupbefore test teardown help reinforce independence occasion setting necessary context just execution test known test case disrupt resource used test wasteful set afresh test sufficient set suite test suppose example suite test need query database analysis compiled code case make sense set database open connection compile source code test start run cache resource shared suite test instance variable particular testcase subclass won t testcase instance persists duration single test mentioned instance created anew foreachtestmethod global variable work using global variable pollutes space binding global test depend explicit better solution necessary resource gleton object class class testresource exists subclassed resource class subclass testresource understands message current answer singleton instance subclass method setupandteardown overridden subclass ensure resource initialized finalized thing remains sunit told resource ciated test suite resource associated particular class testcase overriding classmethod resource default resource testsuite union resource thetestcase s contains example define subclass testresource source associate mytestcase overriding class method mytestcase class resource return array test resource class mytestcase use listing anexampleofatestresourcesubclass testresource subclass mytestresource instancevariablenames mytestcase class resource associate resource class test case mytestresource exercise following trace written transcript illustrates global set run test sequence let s obtain trace mytestresource setup run mytestcase setup run mytestcase testone run mytestcase teardown run mytestcase setup run mytestcase testtwo run mytestcase teardown run mytestresource teardown run create new class mytestresource andmytestcase subclass oftestresource andtestcase respectively add appropriate method following message written transcript run test solution need write following method mytestcase setup transcript setup run cr mytestcase teardown transcript teardown run cr mytestcase testone transcript testone run cr mytestcase testtwo transcript testtwo run cr mytestcase class resource array mytestresource mytestresource setup transcript setup run cr advancedfeaturesofsunit mytestresource teardown transcript teardown run cr feature sunit addition testresource sunit contains assertion description string logging support ability skip test resumable test failure assertion description string thetestasserter assertion protocol includes number method allow programmer supply description assertion tion string test case fails string displayed test runner course string constructed dynamically e self assert e description got e printstring relevant method testasserter assert description deny description description shouldnt description usingassert equal addition assert assert equal offer better port case error incidentally assert equal usesassert tion example following test equivalent second report value test expecting make easier derstand failure example suppose adateandtime instance variable test class testasdate self assert adateandtime asdate asdate translateto hour testasdate self assert adateandtime asdate equal asdate translateto hour logging support description string mentioned logged stream transcript file stream choose log overriding islogging test class choose log overriding failurelog answer appropriate stream default transcript used log skipping test middle development want skip test stead removing renaming prevent running ply invoke testasserter message skipon test case instance example following test us define conditional test occompiledmethodintegritytest testpragmas newcompiledmethod originalcompiledmethod smalltalk globals hasclassnamed compiler iffalse self skip failure sunit allows specify test continue failure really powerful feature us pharo s exception anisms used let s look example consider following test expression acollection self assert case soon test find element collection isn teven test stop usually like continue element element aren t maybe log information follows acollection self assert description printstring resumable true print message logging stream element fails doesn t accumulate failure assertion fails time test method ll failure assertion method seen resumable default assert p description si equivalent assert p description s resumable false sunitimplementation figure runningonetest listing passingthetestcasetothetestresult testcase run aresult aresult runcase self implementation implementation sunit make interesting case study pharo framework let s look key aspect implementation ing execution test running test execute test execute expression atestclass selector asymbol run method testcase run creates instance testresult accumulate result test sends message testcase run figure testcase run result result self classfortestresult new self run result ensure self classfortestresource resetresources self resource result method testcase run sends message runcase test result listing catchingtestcaseerrorsandfailures testresult runcase atestcase atestcase announce testcasestarted withresult self atestcase runcase atestcase announce testcaseended withresult self self addpass atestcase self class failure self class skip self class warning self class error ex ex sunitannounce atestcase toresult self listing testcase class testselectors self selector select beginswith numargs iszero method testresult runcase sends message testcase runcase individual test execute test testresult runcase deal exception raised execution test run atestcase sending runcase count error failure pass method testcase runcase sends message testcase setup andtestcase teardown shown testcase runcase self resource availablefor self self setup self performtest ensure self teardown self cleanupinstancevariables running testsuite run test send message runto atestsuite contains relevant test testcase class provides functionality build test suite method expression mytestcase suitefromselectors return suite containing test defined mytestcase class core process method testsuite run creates instance testresult verifies resource available sends message suite run run test suite resource released testsuite run aresult self setup self test apieceofadvicesontesting listing testresourceavailability testresource class isavailable lazy method current value attempt make available trust result try make available current ifnil self makeavailable self isalreadyavailable run aresult self announcetest self changed ensure self teardown testsuite setup self resource isavailable iffalse signalinitializationerror testsuite teardown self resourceclass resetresources self resource class testresource subclass track currently ated singleton instance accessed created using class method testresource class current instance cleared test finished running resource reset resource availability check make possible resource created needed shown class method testresource class isavailable testresource instance creation initialized message setupis sent test resource piece advice testing mechanic testing easy writing good test advice design test test want change test time change code try write test ficult pay long term writing test stable interface support effort listing testresourcecreation testresource class current lazy accessor assert self isavailable doe work unless current isnil method normally sent resource available test test case class resource class resource able fail assert intent access resource lazily preface current availablefor self self assert self isavailable description current unavailable resource self add test case resource recommended send availablefor current try build test overlap annoying test covering functionality bug code break test time covered black s rule low feather rule unit test michael feather agile process consultant author writes atestisnotaunittestif ittalkstothedatabase work ittouchesthefilesystem itcan trunatthesametimeasanyofyourother unittests oryouhavetodospecialthingstoyourenvironment figfiles torunit teststhatdothesethingsaren tbad oftentheyareworthwriting andtheycanbewritteninaunittestharness itisimportanttobeableto separatethemfromtrueunittestssothatwecankeepasetofteststhatwecanrun fastwheneverwemakeourchanges nevergetyourselfintoasituationwhereyou don twanttorunyourunittestsuitebecauseittakestoolong unit test acceptance test unit test capture piece functionality make easier identify bug functionality far possible try unit test method possibly fail group class certain deeply recursive complex setup situation easier write chaptersummary test represent scenario larger application called ceptance test integration test functional test test break feather rule make good acceptance test group ceptance test according functionality test example writing compiler write acceptance test make assertion code generated possible source language ment test exercise class long time run touch file write using sunit won t want run time make small change separated true unit test black s rule testing test able identify property test increase confidence s obvious important property testing rule state obvious fact test doe add value tem increasing confidence useful property hold example test property good fact harm way make harder infer behaviour class reading test second bug code break test make harder estimate bug remain code property mind write test summary chapter explained test important investment future code explained fashion define test class set gave overview core sunit framework presenting class testcase testresult testsuite testresources finally looked deep inside sunit following tion test test suite maximize potential unit test fast repeatable dependent direct human interaction cover single unit functionality class called myclass belong class named myclasstest introduced subclass testcase test data setupmethod test method start word test testcase method assert deny make tions test basicclasses pharo really simple language powerful language power language class library program effectively need learn class library support language ronment class library entirely written pharo easily extended recall package add new functionality class doe define class goal present tedious pharo class library point key class method need use program effectively chapter cover basic class need nearly tion object number subclass character string symbol boolean intent purpose object root inheritance hierarchy actually pharo true root hierarchy protoobject used define minimal entity masquerade object nore point time object defines method word class fine automatically provide method note count number method class like object selector size count instance method object object class selector size count class method classobject provides default behaviour common normal object access copying comparison error handling message sending flection utility message object respond defined instance variable added class object inherit object special mentation smallinteger andundefinedobject example vm know depends structure layout certain standard class begin browse method protocol instance object start key behaviour provides printing object return printed form select sion textpane select print menu item executes pression asks returned object print fact sends message printstring returned object method printstring template method core sends message printon receiver message printon hook specialized method object printon likely method frequently override method take argument stream string representation object written default plementation simply writes class preceded printstring return string written example class opalcompiler doe redefine method printon sending message printstring instance executes method defined object opalcompiler new printstring opalcompiler class colorshows example printon specialization print class followed class method used generate color note message printon storeon message storeon writes argument stream expression used recreate receiver expression executed stream read using message readfrom hand message printon just return textual version receiver course happen textual representation represent receiver expression word representation representation tional programming expression return value executed pharo message expression return object value object nice property value example value object trueis object true object object listing printon redefinition color printon astream self unnamed iffalse astream nextputall nextputall self storeon astream color red printstring red printedversion object value print object playground example expression true true color red color red note object array ing object contain example array booleans evaluating array person following example show dynamic array element nautilus new array nautilus remember literal array contain literal following array doe contain point literal element lot ofprinton method specialization implement ior implementation point printon andinterval printon listing point point printon astream receiver print astream term infix notation astream nextput x printon astream astream nextput y notnil y negative iftrue avoid ambiguous construct astream space y printon astream astream nextput listing interval interval printon astream astream nextput print start nextputall print stop step iftrue astream nextputall print step astream nextput listing objectequality object anobject answer receiver argument represent object redefined subclass consider redefining message hash self anobject interval identity equality pharo message object equality object resent value object identity sion represent object default implementation object equality test object identity method frequently want override consider case ofcomplex number defined package math set package offer support numerical method object listing equalityforcomplexnumbers complex anobject anobject iscomplex iftrue real anobject real imaginary anobject imaginary iffalse anobject adapttocomplex self andsend listing hashmustbereimplementedforcomplexnumbers complex hash hash reimplemented implemented real hash bitxor imaginary hash true value false different object work complex override follows default implementation object test inequality simply negates object normally need changed true override consider overriding hash instance class used key dictionary make sure instance considered equal hash value override semantics object identity class message primitive method protoobject note pharo strange equality behaviour compared smalltalks example symbol string equal consider bug feature true true class membership method allow query class object ask object class using message class class smallinteger ismemberof ask object instance cific class ismemberof smallinteger true precisely class ismemberof integer false ismemberof number false ismemberof object false pharo written really navigate structure using right combination superclass class message chapter class metaclasses iskindof iskindof answer receiver s class subclass argument class iskindof smallinteger true iskindof integer true iskindof number true iskindof object true iskindof string false iskindof number true iskindof integer false fraction kind number class number perclass class fraction integer respondsto respondsto answer receiver derstands message selector given argument object respondsto false note usage respondsto normally bad idea query object class ask message understands instead making decision based class object simply send sage object let decide basis class behave concept referred ducktyping copying copying object introduces subtle issue instance variable accessed reference shallowcopy object share reference instance variable original object shallowcopy subarray shared object shallowcopy primitive method creates shallow copy object shallow copy array share ence nested arraythat contain object deepcopy make arbitrarily deep copy object deepcopy problem deepcopy terminate applied mutually recursive structure deepcopy doe terminate listing copyingobjectsasatemplatemethod object copy answer instance just like receiver subclass typically override postcopy typically override shallowcopy self shallowcopy postcopy alternate solution use message copy implemented object follows object postcopy self default postcopy return self mean default copyis doing shallowcopy subclass decide customise copymethod act hook override postcopy copy instance variable shared addition good chance postcopy super postcopy ensure state superclass copied debugging important method halt set breakpoint method simply insert expression send self halt point body method note haltis defined object halt message sent execution interrupted debugger open point program chapter pharo environment detail debugger use halt orhalt acondition look classhaltwhich special exception assert important message assert expects block argument block evaluates true execution continues assertionfailure exception raised exception caught debugger open point execution assert especially useful support designbycontract typical usage check public method object stack pop easily implemented follows note definition anhypothetical example pharo confuse object assert withtestcase assert occurs sunit testing framework chapter sunit pects block argument actually argument standsvalue including boolean expects boolean useful debugging serve different purpose object listing stack pop return element remove stack self assert self isnotempty self linkedlist removefirst element listing signalingthatamethodisabstract object subclassresponsibility message set framework behavior class subclass announce subclass implemented message self error subclass overridden thiscontext sender selector printstring error handling protocol contains method useful signaling error deprecated self deprecated signal current method longer used deprecation turned turn debugging section using setting browser ment alternative look sender message recated idea doesnotunderstand commonly abbreviated discussion dnu mnu sent message lookup fails fault implementation object doesnotunderstand trigger debugger point useful override doesnotunderstand provide behaviour error andobject error generic method used raise exception generally better raise custom exception distinguish error arising code coming kernel class subclassresponsibility method implemented vention body self subclassresponsibility abstract class instantiated accident call abstract method result object subclassresponsibility executed magnitude number andboolean classical example abstract class shall shortly chapter number new error subclass overridden listing initialize asanemptyhookmethod protoobject initialize subclass redefine method perform initialization instance creation listing behavior new answer new initialized instance receiver class indexable variable fail class indexable self basicnew initialize shouldnotimplement shouldnotimplement sent convention signal inherited method appropriate subclass generally sign quite right design class hierarchy limitation single inheritance hard avoid workarounds typical example collection remove inherited narybut flagged implemented dictionary provides removekey instead testing thetesting method sunit testing testing method let ask question state receiver return aboolean numerous testing method provided object isarray boolean isblock iscollection generally method avoided querying object class form violation capsulation instead testing object class simply send request let object decide handle testing method undeniably useful useful probably protoobject isnil andobject notnil null object design pattern obviate need method initialize final key method occurs object inprotoobject tialize reason important pharo default newmethod fined class send initialize newly created instance mean simply overriding initialize hook method new instance class automatically initialized initialize number figure thenumberhierarchy method normally perform super initialize establish class invariant inherited instance variable number pharo primitive data value true object course number implemented efficiently virtual machine number hierarchy perfectly accessible extensible portion class hierarchy abstract root hierarchy magnitude represents kind class supporting comparison operator number add various arithmetic operator abstract method floatandfraction resent respectively floating point number fractional value float subclass represent float certain chitectures example available bit system integer abstract distinguishing subclass ger largepositiveinteger andlargenegativeinteger user need aware difference tegerclasses value automatically converted needed magnitude magnitude parent number class class supporting comparison operation character duration andtimespan listing abstractcomparisonmethods magnitude amagnitude answer receiver argument self subclassresponsibility magnitude amagnitude answer receiver greater argument amagnitude self method abstract remaining operator generically fined example number similarly number defines abstract arithmetic operator generically defined allnumber object support various converting operator asfloat andasinteger numerous shortcutconstructormethods generate duration s hour dayandweek number directly support common mathfunctions sin log raiseto squared sqrtand method number printon implemented term abstract method number printon base default base testing method include odd positive andnegative unsurprisingly number override isnumber interestingly isinfinite defined returnfalse truncation method include floor ceiling integerpart fractionpart addition number multiplication number division number subtraction number false equality number true test number different number true greater true greater equal false smaller point creation following example work surprisingly pharo factorial factorial note factorial really calculated guages quite difficult compute excellent example tomatic coercion exact handling number try display result factorial take time display calculate float floatimplements abstract number method floating point number interestingly float class float provides od return following constant e infinity nanandpi float pi float infinity infinity float infinity isinfinite true fraction fraction s represented instance variable numerator nominator integer s normally created integer division using constructor method fraction merator denominator class fraction multiplying fraction aninteger fraction yield integer integer integer abstract parent concrete integer implementation addition providing concrete implementation abstract number method add method specific integer factorial atrandom isprime gcd smallinteger special instance represented compactly instead stored reference smallinteger represented rectly using bit used hold reference bit object reference indicates object geror virtual machine abstract directly inspecting object class method minval andmaxval tell range smallinteger smallinteger maxval raisedto true smallinteger minval raisedto negated true smallinteger go range automatically converted alargepositiveinteger alargenegativeinteger needed smallinteger maxval class largepositiveinteger smallinteger minval class largenegativeinteger large integer similarly converted small integer ate programming language integer useful specifying erative behaviour dedicated method timesrepeat ing block repeatedly seen similar example chapter syntax nutshell n n timesrepeat n n n n character character defined subclass magnitude printable character resented pharo char example b true character generated various class method ter class value take unicode ascii integer value argument return corresponding character protocol accessing peable character contains number convenience constructor method backspace cr escape euro space tab character space character value character space asciivalue true theprinton method clever know way generate character offer appropriate representation character value character home character value character value character value character space character value various convenient testingmethods built isalphanumeric acter isdigit islowercase isvowel convert character string containing just character send asstring case asstring andprintstring yield different result asstring printstring likesmallinteger acharacter immediate value object reference time won t difference use object class character like mean equal value character alwaysidentical character value true figure thestringhierarchy astring indexed collection hold character fact string abstract pharo string actually instance concrete class bytestring world class bytestring important subclass string issymbol key difference single instance symbol given value called theuniqueinstanceproperty contrast separately constructed string happen contain sequence character different object false assymbol hello true important difference string mutable symbol immutable u hello u error booleans figure thebooleanhierarchy easy forget string collection understand message collection hello indexof o string doe inherit magnitude doe support usual comparing method addition string match useful basic match true regular expression discussed chapter regular pressions pharo string support large number conversion method shortcut constructor method class asdate gerand number useful method converting string string capitalized andtranslatetolowercase string collection chapter collection class boolean offer fascinating insight pharo language pushed class library boolean abstract perclass singleton class trueandfalse behaviour boolean s understood considering method iftrue iffalse take block argument factorial iftrue iffalse listing implementationsof iftrue iffalse true iftrue truealternativeblock iffalse falsealternativeblock truealternativeblock value false iftrue truealternativeblock iffalse falsealternativeblock falsealternativeblock value listing implementingnegation true negation answer false receiver true false false negation answer true receiver false true method iftrue iffalse abstract class boolean tations concrete subclass trivial execute correct block depending receiver message fact essence oop message sent object object determines method used respond case instance truesimply executes truealternative instance falseexecutes falsealternative abstract boolean method implemented way trueandfalse example implementation negation message defined way boolean s offer useful convenience method iftrue false andiffalse iftrue choice eager lazy conjunction disjunction false eager evaluate side false lazy evaluate receiver false argument block executed exception example boolean subexpressions executed take aboolean argument second example executed expects blockas argument blockis executed argument true try imagine andor implemented check implementation boolean trueandfalse chaptersummary summary override override hashas postcopy correctly implement copying object halt set breakpoint subclassresponsibility make method abstract object string representation override printon hook method initialize properly initialize instance method automatically convert float fraction s andinteger s truly represent rational number float s like unique instance mutable symbol care mutate string literal unique string andsymbols arecollection s support usualcollection method collection class form group class collection andstream like bitmap filestream andcompiledmethod class crafted use part application categorized tionsby organization purpose chapter use termcollectionhierarchy mean collection subclass package labelled use term streamhierarchy mean stream subclass alsoin package chapter focus mainly subset collection class shown figure stream discussed separately chapter stream variety collection make good use collection class reader need ficial knowledge wide variety collection implement commonality difference figure someofthekeycollectionclassesinpharo programming collection using function vidual element important way raise level abstraction gram lisp function map applies argument function element list return new list containing result early ample style following smalltalk root pharo adopts based programming central tenet modern functional gramming language ml haskell followed smalltalk s lead good idea suppose data structure containing lection student record wish perform action dent meet criterion programmer raised use imperative language immediately reach loop pharo programmer write student select gpa threshold expression return new collection containing precisely element ofstudents block bracketed function return true block thought defining anonymous tionx x gpa threshold code simplicity elegance query language message select understood allcollections pharo need student data structure array linked list select message understood note quite different using loop know student array linked list loop set thevarietiesofcollections pharo speaks collection specific kind collection mean object support tocols testing membership enumerating element allcollections understand testing message includes isempty sof understand enumeration message reject opposite select collect like lisp s map detect ifnone inject performs left fold ubiquity protocol variety make powerful table summarizes standard protocol supported class collection hierarchy method defined redefined optimized occasionally forbidden subclass collection protocol method accessing size capacity testing isempty includes contains occurrencesof adding add addall removing remove remove ifabsent removeall enumerating collect select reject detect detect ifnone inject converting asbag asset asorderedcollection assortedcollection asarray assortedcollection creation withall basic uniformity different kind collection supporting different protocol providing different behaviour request let briefly survey key difference sequenceable instance subclass sequenceablecollection start firstelement proceed order alastelement instance set baganddictionary hand sequenceable sortable asortedcollection maintains element sort order indexable sequenceable collection indexable ments retrieved message anindex iar indexable data structure fixed size anarray n retrieves nthelement anarray andanarray n v change nthelement s andskiplist s sequenceable indexable understand firstandlast message keyed instance dictionary subclass accessed key stead index figure somecollectionclassescategorizedbyimplementationtechnique mutable collection mutable interval s andsymbols interval immutable collection representing range integer example interval contains element indexable message anindex changed message anindex avalue growable instance interval andarrayare fixed size kind collection sorted collection ordered collection linked list grow creation class orderedcollection general array size orderedcollection grows demand defines message addfirst anelement andaddlast anelement message anindex andat anindex avalue accepts duplicate asetfilters duplicate bagdoes classesdictionary setandbaguse provided element identity variant class use test argument object gablevariants use arbitrary equivalence relation supplied creator collection heterogeneous collection hold kind element string characterarray orsymbol hold character raywill hold mix object bytearray hold byte linkedlist constrained hold element conform link accessing protocol implementation categorization functionality concern consider collection class implemented shown figure main implementation technique employed examplesofkeyclasses store element indexable instance variable collection object consequence array fixed size created single memory allocation andsortedcollections store element array referenced instance variable lection consequently internal array replaced larger collection grows storage capacity various kind set dictionary reference subsidiary ray storage use array hash table bag use subsidiary dictionary element bag key number occurrence value use standard representation represented integer record point step size addition class weakvariants array setand various kind dictionary collection hold element weakly way doe prevent element garbage collected pharo virtual machine aware class handle specially key class present common important collection class using ple code example main protocol collection access element add add remove element size isempty include information collection select iterate collection collection implement protocol interpret fit semantics suggest browse class identify specific advanced protocol focus common collection class orderedcollection set sortedcollection dictionary interval andarray common creation protocol way create instance collection generic one use message new asize andwith anelement aninteger creates collection size aninteger ments nil anobject creates collection add anobject created collection different collection realize behaviour differently create collection initial element using method element array array array array array array use message addall acollection add element kind collection kind asorderedcollection addall orderedcollection care addall return argument receiver create collection withall acollection array withall orderedcollection withall orderedcollection sortedcollection withall sortedcollection set withall set bag withall bag examplesofkeyclasses array anarrayis collection element accessed integer index contrary c convention pharo element array sition main protocol access array element method andat aninteger return element index aninteger aninteger anobject putsanobject index aninteger array collection add remove element end array following code creates array size put value location return element anarray anarray array new anarray anarray anarray anarray way create instance class array use new construct literal array dynamic compact syntax creation new message new aninteger creates array size aninteger new creates array size note value element initialized nil creation using thewith message allow specify value element following code creates array element sisting number fraction string array literal creation expression creates literal array constant literalelements known expression compiled executed following code creates array size element literal number second literal string size execute expression array single element instead array symbol number occurs construct doe execute expression contains element object created parsing expression called literal object expression scanned ing element fed new array literal array contain number nil true false symbol string literal array execution expression message sent dynamic creation finally create dynamic array ing construct expression b totally equivalent array b mean particular expression closed executed contrary case asfloat atrandom element access element sequenceable collection accessed message anindex andat anindex anobject anarray anarray copy anarray anarray anarray careful general principle modify literal array literal array kept compiled method literal frame space literal appearing method stored unless copy array second time execute code literalarray value expect example copying array second time literal actually dynamic array problem stored literal frame orderedcollection orderedcollection collection grow element added sequentially offer variety message add addlast andaddall ordcol ordcol orderedcollection new ordcol add add addfirst ordcol examplesofkeyclasses orderedcollection removing element message remove anobject remove currence object collection collection doe include object raise error ordcol add ordcol remove ordcol orderedcollection variant remove namedremove ifabsent allows specify second argument block executed case element removed collection result ordcol remove ifabsent result conversion possible orderedcollection array collection sending message asorderedcollection asorderedcollection orderedcollection asorderedcollection orderedcollection h e l l o interval class interval represents range number example interval number defined follows interval result printstring reveals class number provides convenience method called generate interval interval true use interval class ornumber specify step number follow interval size dictionary dictionary important collection element accessed using key commonly used message dictionary akey akey avalue akey ifabsent ablock key andvalues color color dictionary new color yellow color yellow color blue color blue color red color red color yellow color yellow color key red blue yellow color value color blue color yellow color red dictionary compare key equality key considered return true compared using common difficult spot bug use key object redefined itshashmethod method used implementation nary comparing object implementation dictionary seen consisting set key value association created using message create naryfrom collection association convert dictionary array association color color dictionary newfrom color blue color red color yellow color removekey blue color association color yellow color red identitydictionary dictionary us result message determine key class tionary us identity message key instead value considers key equal onlyif object oftensymbols used key case natural use tydictionary symbol guaranteed globally unique examplesofkeyclasses hand key string better use plain dictionary trouble b copy trouble identitydictionary new trouble b b trouble trouble b b trouble sinceaandbare different object treated different object terestingly literal allocated just really object don t want code depend behaviour like plaindictionary value key equal use globally unique object like symbol orsmallinteger s key anidentitydictionary andstrings object key plain dictionary note expression smalltalk globals return instance temdictionary subclass identitydictionary key symbol actually bytesymbol s contain character smalltalk globals key collect class set set bytesymbol using collect specify result collection class set way collect kind class used key set class setis collection behaves mathematical set collection duplicate element order set ments added using message add accessed using message object set implement method hash s set new s add add s size create set using set class newfrom conversion sagecollection asset set newfrom asset true assetoffers convenient way eliminate duplicate collection color black color white color red color blue color green asset size note abagis like setexcept doe allow duplicate color black color white color red color blue color green asbag size set operation union intersection andmembershiptest implemented thecollection message union andincludes receiver converted set operation work kind collection union set intersection smalltalk includes k true explain element set accessed using iterators tion sortedcollection contrast orderedcollection asortedcollection maintains element sort order default sorted collection us message establish sort order sort instance subclass abstract classmagnitude defines protocol comparable object chapter basic class create sortedcollection creating new instance adding element sortedcollection new add add add add sortedcollection usually send conversion message lection existing collection assortedcollection sortedcollection examplesofkeyclasses assortedcollection sortedcollection e h l l o string result asstring unfortunately turn printstring representation want assortedcollection asstring sortedcollection e h l l o correct answer use string class newfrom string class orobject assortedcollection string string newfrom assortedcollection string withall assortedcollection possible different kind element sortedcollection long comparable example mix different kind number integer float fraction assortedcollection sortedcollection imagine want sort object define method like different sorting criterion supplying argument block called sortblock sorted collection example class coloris magnitude doe implement method specify block stating color sorted according luminance measure brightness col sortedcollection sortblock luminance luminance col addall color red color yellow color white color black col sortedcollection color black color red color yellow color white string pharo string collection character sequenceable able mutable homogeneous containing character instance like array string dedicated syntax normally created rectly specifying string literal single quote usual tion creation method work string string h string newfrom h e l l o actual fact string abstract instantiate string actually bytestring widestring thing ple usually ignore difference just talk instance string string delimited single quote string contain single quote define string single quote type twice note string contain element shown l idiot l idiot instance string concatenated comma s s worry string mutable collection change using message s h u s hurry note comma method defined collection work kind collection modify existing string using replaceall shown note number character interval size s replaceall n n s hurry s replacefrom s worry examplesofkeyclasses contrast method described method copyreplaceall creates new string curiously argument substring individual character size match s copyreplaceall wombat quick look implementation method reveals defined string kind sequenceablecollection following work copyreplaceall string matching possible ask pattern match string sending match message pattern use match arbitrary series character match single character note match sent pattern string matched match mag true linux ag match tag true advanced pattern matching facility available regex package substring substring manipulation use message like copyfrom defined ablecollection b allbutfirst copyfrom copyfrom p p aware result type different depending method used method return string instance message return element string collection return character instance example return character b complete list message browse ablecollection class especially accessing protocol test string following example illustrate use isempty includes andanysatisfy message defined string generally collection isempty false includes false anysatisfy c c islowercase false anysatisfy c c islowercase true string templating message useful manage string templating format expandmacros andexpandmacroswith format cool message expandmacros family offer variable substitution using n carriage return t tabulation argument surround string single quote conditional t expandmacros expandmacroswith cool expandmacroswith pharo expandmacroswith pharo quentin thibaut play expandmacroswith true play quentin thibaut play expandmacroswith false play utility method class string offer numerous tie including message aslowercase asuppercase andcapitalized collectioniterators aslowercase asuppercase capitalized uncapitalized asnumber sentence doubt far long contractto sent long note generally difference asking object string representation sending message printstring converting string sending message asstring example ence asymbol printstring asymbol asymbol asstring symbol similar string guaranteed globally unique reason symbol preferred string key dictionary ticular instance identitydictionary chapter basic class string andsymbol iterators pharo loop conditionals simply message sent collection object integer block chapter syntax shell addition message evaluates block argument ranging initial final number tion hierarchy offer various iterators using iterators make code robust compact iterating method basic collection iterator applies argument block taking single argument element receiver ing example print string contained receiver transcript transcript cr variant lot variant dex andreversedo indexed collection array orderedcollection tion message dowithindex give access current index message related defined class number dowithindex iftrue ordered collection message reversedo walk collection reverse order following code show interesting message separatedby executes second block element re re e re re e separatedby re re re note code especially efficient creates intermediate string better use write stream buffer result chapter stream string streamcontents stream asstringon stream delimiter dictionary message sent dictionary element taken count value association proper message use keysdo valuesdo andassociationsdo iterate respectively key value association color dictionary newfrom yellow color yellow blue color blue red color red color keysdo key transcript key cr color valuesdo value transcript value cr color associationsdo value transcript value cr collecting result collect want apply function element collection new collection result using probably better collectioniterators usingcollect iterator method enumerating protocol collection subclass imagine want collection containing double element collection using method write following double double orderedcollection new e double add e double orderedcollection message collect executes argument block element return new collection containing result using collect instead code simpler collect e e advantage collect overdo important lowing example collection integer generate result collection absolute value integer acol result acol specie new acol size acol size result acol ab result contrast simpler following expression collect ab advantage second solution work set bag generally avoid using unless want send message element collection note sending message collect return kind collection receiver reason following code fails string hold integer value collect ea ea asciivalue error instead convert string arrayor tion asarray collect ea ea asciivalue actually collect guaranteed return collection exactly class receiver specie case val specie array collect ea ea selecting rejecting element message select return element receiver satisfy ticular condition select isprime message reject doe opposite reject isprime identifying element detect message detect return element receiver match block argument detect isvowel o message detect ifnone variant method detect ond block evaluated element matching block smalltalk globals allclasses detect cobol match asstring ifnone nil nil accumulating result inject functional programming language provide function calledfoldorreduceto accumulate result applying binary operator iteratively element collection pharo tion inject argument initial value second argument argument block applied result far element turn trivial application inject produce sum collection number pharo write expression sum gers somehintsforusingcollections inject sum sum example following block computes rial factorial n n inject product product factorial value message iterator message just check collection class count message count return number element satisfying condition condition represented boolean block smalltalk globals allclasses count match asstring includes message includes check argument tained collection color color color white color yellow color blue color orange color includes color blue true anysatisfy message anysatisfy answer true ment collection satisfies condition represented argument color anysatisfy c c red true hint using collection common mistake add following error quent smalltalk mistake collection collection orderedcollection new add add collection variable collection doe hold newly created collection number added method add return element added receiver following code yield expected result collection collection orderedcollection new collection add add collection orderedcollection use message return receiver cascade message collection collection orderedcollection new add add orderedcollection removing element collection iterating mistake make remove element collection currently iterating range range asorderedcollection range anumber anumber isprime iffalse range remove anumber range orderedcollection result clearly incorrect filtered solution copy collection going range range asorderedcollection range copy anumber anumber isprime iffalse range remove anumber range orderedcollection redefining hasha difficult error spot redefine hash symptom lose element set strange behaviour solution proposed kent beck usebitxor redefine hash suppose want book ered equal title author redefine hashas follows nasty problem arises use mutable object object change hash value time element setor key dictionary don t unless love debugging chaptersummary listing hash book abook self class abook class iffalse false title abook title author abook author book hash title hash bitxor author hash summary collection hierarchy provides common vocabulary uniformly nipulating variety different kind collection key distinction sequenceablecollection s tain element given order dictionary subclass maintain association set andbags unordered convert collection kind collection ing message asarray asorderedcollection sort collection send message assortedcollection creates array containing literal object object created sending message creates dynamic array using compact form compare key equality useful key instance string anidentitydictionary instead us object identity compare key suitable symbol used key mapping object reference value understand usual collection message addition astring support simple form vanced application look instead regex package basic iteration message useful imperative code modifying element collection sending ment message using common use collect select reject includes inject message process collection uniform way remove element collection iterating modify iterate copy instead override remember override hashas stream stream used iterate sequence element sequenced collection file network stream stream readable writeable reading writing relative current tion stream stream easily converted collection vice versa sequence element good metaphor understand stream following stream represented sequence element past element sequence ture element sequence stream positioned sequence understanding model important stream operation pharo rely reason stream class subclass sitionablestream figure present stream contains acters stream original position element past position using message resetdefined positionablestream reading element conceptually mean removing element future element sequence putting element past figure astreampositionedatitsbeginning figure thesamestreamaftertheexecutionofthemethod acteraisin past b c dandearein future figure thesamestreamafterhavingwrittenan ment sequence having read element using message state stream shown figure writing element mean replacing element future sequence new moving past figure show state stream having written xusing message nextput mentdefined stream collection collection protocol support storage removal enumeration element collection doe allow operation mingled example element orderedcollection cessed method possible add remove element inside block doe collection protocol offer way iterate collection time choosing collection go ward doe procedure like require traversal dex position reference maintained outside collection exactly role readstream writestream andreadwritestream class defined streamover collection example following snippet creates stream interval read ments r r readstream r r streamingovercollections r atend false writestream s write data collection w w writestream string new w nextput w nextput b w content possible create readwritestream s support reading writing protocol stream meant collection used file ets following example creates file named writes string separated carriage return close file standardfilestream filenamed str str nextputall cr nextputall following section present protocol depth collection stream really useful dealing collection element used reading writing element explore stream feature collection reading collection using stream read collection essentially provides pointer collection pointer forward reading place want class readstream used read element collection message nextandnext defined readstream used retrieve element collection stream stream readstream b c false stream stream b c stream false stream stream readstream stream stream stream stream message peekdefined positionablestream used want know element stream going forward stream readstream look element consuming negative stream peek negative true ignores minus character negative iftrue stream number stream uptoend number code set boolean variable negative according sign number stream number absolute value message toenddefined readstream return current position end stream set stream end code plified using message peekfor defined positionablestream move forward following element equal parameter doesn t stream stream readstream stream peekfor true stream uptoend peekfor return boolean indicating parameter equal ment noticed new way constructing stream ample simply send message readstream sequenceable streamingovercollections figure lection string reading stream particular tion positioning message position stream pointer index directly using position defined positionablestream request current position using position remember stream positioned element element index corresponding beginning stream obtain state stream depicted following code stream stream readstream stream position stream peek c position stream beginning end use message resetorsettoend message skip andskipto used ward location relative current position skip accepts number argument skip number element skipto skip element stream find element equal parameter note position stream matched element stream stream readstream stream stream positioned just stream skip stream d stream position stream skip stream b stream position stream reset stream position result readstream readstream variable result contain sorted collection result orderedcollection new atend atend whiletrue peek peek remove smallest element stream add result iftrue result add iffalse result add stream end copy remains result addall uptoend addall uptoend result orderedcollection stream skipto e stream just e stream f stream content letter ehas skipped message content return copy entire stream testing message allow test state current stream turnstrueif element read isempty return trueif element collection possible implementation algorithm using atendthat take sorted collection parameter merges collection sorted collection writing collection seen read collection iterating element using areadstream ll learn create collection using writestream streamingovercollections stream stream string new writestream stream nextputall smalltalk image contains print smalltalk allclasses size nextputall class cr nextputall really stream content smalltalk image contains class really lot string string string streamcontents stream stream print space nextputall space nextput space print string size writestream s useful appending lot data collection various location used construct string based static dynamic part example technique used different implementation method printon example simpler efficient way creating string interested content stream message streamcontents defined sequenceablecollection creates collection stream collection executes block gave passing stream parameter block end content return content collection following writestream method especially useful context nextput add parameter stream nextputall add element collection passed parameter stream print add textual representation parameter stream convenient message printing useful character stream space tabandcr carriage return useful method temp temp string new temp temp asstring timetorun millisecond string streamcontents tempstream tempstream nextputall asstring space sureaspace ensures character stream space character isn t space add aboutstringconcatenation usingnextput andnextputall awritestream best way concatenate character using comma concatenation operator far efficient temp temp writestream string new temp nextputall asstring space temp content timetorun millisecond reason using stream efficient using comma creates new string containing concatenation receiver argument copy repeatedly nate receiver get longer longer time number character copied go exponentially creates lot garbage collected using stream instead string concatenation optimization fact use message streamcontents defined ablecollection class mentioned earlier help reading writing time s possible use stream access collection reading writing time imagine want create history class age backward forward button web browser history react figure behaviour implemented using readwritestream really difficult define new class contains stream stream created initialize method need method backward forward anewhistoryisempty nothingisdisplayedinthewebbrowser figure figure figure figure theuserclicksonthebackbutton figure theuserclicksagainthebackbutton figure thehistoryforgets object subclass history instancevariablenames classvariablenames package history initialize super initialize stream readwritestream array new history gobackward self cangobackward iffalse self error element stream skip stream history goforward self cangoforward iffalse self error element stream point code pretty straightforward deal goto method activated user click link possible implementation version incomplete user click link future page forward ton deactivated simplest solution write niljust indicate history end method cangobackward andcangoforward remain mented stream positioned element backward page current position page current page page want let add method peek content stream history goto apage stream nextput apage usingstreamsforfileaccess history goto anobject stream nextput anobject stream nextput nil stream history cangobackward stream position history cangoforward stream atend stream peek notnil history content stream content history work advertised stream file access seen stream collection element s possible stream file hard disk created stream file really like stream collection able use protocol read write position stream main difference appears creation stream different way create file stream shall creating file stream create file stream use following instance ation message offered class filestream filenamed open file given reading writing file exists prior content modified replaced file truncated close directory file created default directory history new goto goto goto gobackward gobackward goto content nil nil newfilenamed create new file given answer stream opened writing file file exists ask user forcenewfilenamed create new file given answer stream opened writing file file exists delete asking creating new file oldfilenamed open existing file given reading writing file exists prior content modified replaced file truncated close directory file created default directory readonlyfilenamed open existing file given reading remember time open stream file close message defined filestream stream stream filestream forcenewfilenamed stream nextputall text written file named print stream localname stream close stream filestream readonlyfilenamed stream content text written file named stream close message localname defined class filestream answer ponent file access path using message fullname soon notice manually closing file stream painful s filestream offer message called named automatically close new stream evaluating block set content string filestream forcenewfilenamed stream stream nextputall text written file named print stream localname string filestream readonlyfilenamed stream stream content string text written file named usingstreamsforfileaccess stream creation method block argument create stream file execute block stream argument finally close stream method return returned block say value expression block used previous example content file variable string binary stream default created stream mean read write character stream binary send sagebinary stream stream binary mode write number byte want use nextputall write number time pas bytearray argument filestream forcenewfilenamed stream stream binary nextputall asbytearray filestream readonlyfilenamed stream stream binary stream size stream stream uptoend example creates picture file named portable graymap file format open file favorite drawing program filestream forcenewfilenamed stream stream nextputall cr nextputall cr nextputall cr binary nextputall asbytearray nextputall asbytearray figure nextputall asbytearray nextputall asbytearray creates checkerboard shown summary stream offer better way compared collection incrementally read write sequence element easy way convert forth stream collection readable writeable readable able convert collection stream define stream ona collection readstream send message readstream collection convert stream collection send message content concatenate large collection instead using comma operator efficient create stream append collection stream nextputall extract result sending content stream default send binary explicitly make binary morphic morphic given pharo s graphical interface morphic written pharo fully portable operating system consequence pharo look exactly unix macos window guishes morphic user interface toolkits doe separate mode composing andrunning interface ical element assembled disassembled user time thank hilaire fernandes permission base chapter nal article french history morphic morphic developed john maloney randy smith self gramming language starting maloney later wrote new sion morphic squeak basic idea self version alive pharo morphic directness andliveness directness mean shape screen object examined changed directly clicking using mouse liveness mean user interface able respond user action information screen continuously updated world describes change simple example detach menu item button bring world menu bring morphic halo menu item want detach bring item s halo recall set halosenabled ences browser drag item screen grabbing black handle figure shown figure figure thegrabhandle figure detachingamorph herethe playground menuitem tomakeitan independentbutton listing creationofastringmorph asmorph openinworld object screen run pharo morphs instance subclass class large class method make possible subclass implement interesting behaviour little code create morph represent object good representation depends ject create morph represent string object execute following code playground creates morph represent string open display world pharo give screen obtain graphical element morph nipulate course possible define morphs interesting cal representation just seen method morphhas default implementation class object class just creates stringmorph example color tan asmorph return stringmorph labeled result color tan printstring let s change coloured rectangle instead open browser colorclass add following method listing gettingamorphforaninstanceof color color asmorph morph new color self manipulatingmorphs figure color orange asmorph openinworld withournewmethod listing creationoftwocolormorph joe morph new color color blue joe openinworld morph new color color red openinworld execute color orange asmorph openinworld playground stead morph orange rectangle figure morphs morphs object manipulate like object pharo sending message change property create new subclass morph morph currently open screen position size convenience morphs considered occupy gular region screen irregularly shaped position size smallest rectangular boxthat surround known morph s bounding box just bound theposition method return pointthat describes location morph s upper left corner upper left corner bounding box origin dinate screen s upper left corner ycoordinates ingdownthe screen xcoordinates increasing right extent method return point point specifies width height morph location type following code playground figure listing makebillfollowjoe position joe position type joe position print joe execute joe sition joe position repeatedly figure possible similar thing size joe extent answer joe s size joe grow execute joe extent joe extent change color morph send color message desired color object argument instance joe color color orange add parency try joe color color orange alpha make follow joe repeatedly execute code joe using mouse execute code pixel right joe result figure morphs way creating new graphical representation placing morph inside called composition morphs composed depth composingmorphs figure billfollowsjoe listing createaballooninsidejoe balloon balloonmorph new color color yellow joe addmorph balloon balloon position joe position place morph inside sending message addmorph container morph try adding morph line position balloon coordinate joe notice coordinate contained morph relative screen containing morph method available position morph browse geometry protocol class morphto example center balloon inside joe execute balloon center joe center try grab balloon mouse tually grab joe morphs balloon embedded inside joe possible embed morphs inside joe addition ing programmatically embed morphs direct tion figure theballooniscontainedinsidejoe thetranslucentorangemorph listing defining crossmorph morph subclass crossmorph instancevariablenames classvariablenames package listing drawinga crossmorph crossmorph drawon acanvas crossheight crosswidth horizontalbar verticalbar crossheight self height crosswidth self width horizontalbar self bound insetby crossheight verticalbar self bound insetby crosswidth acanvas fillrectangle horizontalbar color self color acanvas fillrectangle verticalbar color self color drawing morphs possible make interesting useful graphical tations composing morphs need create completely different define subclass morphand override drawon method change appearance morphic framework sends message drawon morph need redisplay morph screen parameter drawon kind canvas expected behaviour morph draw canvas inside bound let s use knowledge create shaped morph using browser define new class crossmorph inheriting morph define drawon method like sending bound message morph answer bounding box instance rectangle rectangle understand message create rectangle related geometry use insetby message point argument create rectangle reduced height rectangle reduced width test new morph execute crossmorph new openinworld creatinganddrawingyourownmorphs figure acrossmorph withitshalo youcanresizeitasyouwish listing shapingthesensitivezoneofthe crossmorph crossmorph containspoint apoint crossheight crosswidth horizontalbar verticalbar crossheight self height crosswidth self width horizontalbar self bound insetby crossheight verticalbar self bound insetby crosswidth horizontalbar containspoint apoint verticalbar containspoint apoint result look like figure notice sensitive zone click grab morph bounding box let s fix morphic framework need morphs lie cursor sends message containspoint morphs bounding box lie mouse pointer limit sensitive zone morph cross shape need override containspoint method define following method class crossmorph method us logic drawon confident point containspoint answer trueare one colored drawon notice leverage containspoint method class rectangle hard work problem code method obvious duplicated code cardinal error need change way horizontalbar calbar calculated quite likely forget change occurrence solution factor calculation new method private protocol define drawon andcontainspoint using od listing horizontalbar crossmorph horizontalbar crossheight crossheight self height self bound insetby crossheight listing verticalbar crossmorph verticalbar crosswidth crosswidth self width self bound insetby crosswidth listing refactored crossmorph drawon crossmorph drawon acanvas acanvas fillrectangle self horizontalbar color self color acanvas fillrectangle self verticalbar color self color code simpler understand largely given meaningful name private method fact simple noticed second problem area center cross horizontal vertical bar drawn twice doesn t matter cross opaque colour bug come apparent immediately draw cross shown figure execute following code playground line line fix divide vertical bar piece method class rectangle doe hard work areasoutside answer array rectangle comprising part revised code code work try cross resize notice size wide line separate tom cross remainder shown figure rounding size rectangle filled integer fillrectangle color round inconsistently leaving row pixel unfilled work rounding explicitly calculate size bar listing refactored crossmorph containspoint crossmorph containspoint apoint self horizontalbar containspoint apoint self verticalbar containspoint apoint interactionandanimation figure thecenterofthecrossisfilledtwicewiththecolor figure showingarowofunfilledpixels listing usethiscodetoshowabug crossmorph new openinworld bound corner color color blue alpha animation build live user interface using morphs need able interact using mouse keyboard morphs need able respond user input changing appearance position animating listing therevised crossmorph drawon method whichfillsthe centerofthecrossonce crossmorph drawon acanvas topandbottom acanvas fillrectangle self horizontalbar color self color topandbottom self verticalbar areasoutside self horizontalbar topandbottom acanvas fillrectangle color self color listing crossmorph horizontalbar withexplicitrounding crossmorph horizontalbar crossheight crossheight self height rounded self bound insetby crossheight listing crossmorph verticalbar withexplicitrounding crossmorph verticalbar crosswidth crosswidth self width rounded self bound insetby crosswidth mouse event mouse button pressed morphic sends morph mouse pointer message handlesmousedown morph answer true morphic immediately sends mousedown message sends mouseup message user release mouse button morphs answer false morphic initiate operation discus mousedown andmouseup message sent gument mouseevent object encodes detail mouse tion let s extend crossmorph handle mouse event start ensuring crossmorphs answer trueto thehandlesmousedown message add method crossmorph suppose click cross want change color cross red want change color yellow accomplished mousedown method follows notice addition changing color morph method sendsself changed make sure morphic sends drawon timely fashion listing declaringthat crossmorph willreacttomouseclicks crossmorph handlesmousedown anevent true interactionandanimation listing reactingtomouseclicksbychangingthemorph scolor crossmorph mousedown anevent anevent redbuttonpressed iftrue self color color red click anevent yellowbuttonpressed iftrue self color color yellow self changed figure movehandlebutton figure grabhandlebutton note morph handle mouse event longer grab mouse instead use halo morph make halo appear grab brown dle figure black pickup handle figure morph theanevent argument mousedown instance mouseevent subclass morphicevent defines redbuttonpressed andyellowbuttonpressed method browse class method provides interrogate mouse event keyboard event catch keyboard event need step thekeyboardfocus specific morph instance focus morph mouse keyboard event handlekeystroke method message sent morph keyboard focus user press key keyboard focus mouse longer morph let s extend crossmorph reacts keystroke need arrange notified mouse morph happen morph answer trueto thehandlesmouseover message declare crossmorph react mouse pointer message equivalent handlesmousedown mouse tion mouse pointer enters leaf morph mouseenter andmouseleave message sent listing wewanttohandle mouse event crossmorph handlesmouseover anevent listing gettingthekeyboardfocuswhenthemouseentersthemorph crossmorph mouseenter anevent anevent hand newkeyboardfocus self listing handingbackthefocuswhenthepointergoesaway crossmorph mouseleave anevent anevent hand newkeyboardfocus nil define method crossmorph catch release keyboard focus method actually handle keystroke written method morph using arrow key note mouse longer morph handlekeystroke message sent morph stop responding keyboard command discover key value open script window add transcript anevent keyvalue dlekeystroke method theanevent argument handlekeystroke instance event subclass morphicevent browse class learn keyboard event morphic animation morphic provides simple animation main method step sent morph regular interval time steptime specifies time millisecond actually minimum time step ask steptime m don t surprised pharo busy step morph addition startstepping turn listing receivingandhandlingkeyboardevents crossmorph handlekeystroke anevent keyvalue keyvalue anevent keyvalue keyvalue arrow iftrue self position self position keyvalue arrow iftrue self position self position keyvalue right arrow iftrue self position self position keyvalue left arrow iftrue self position self position interactors listing definingtheanimationtimeinterval crossmorph steptime listing makingastepintheanimation crossmorph step self color diff color black iftrue self color color red iffalse self color self color darker figure thedebughandlebutton stepping mechanism stopstepping turn pingcan used morph currently stepped makecrossmorph blink defining method follows start thing open inspector crossmorph using debug handle figure morphic halo type self pingin small playground pane alternatively modify handlekeystroke method use start stop stepping add following code thehandlekeystroke method prompt user input uimanager class provides large number ready use dialog box instance request initialanswer method return string entered user figure display popup menu use various choosefrom method ure browse uimanager class try interaction method offered listing addthebeginningandtheendofthesteps keyvalue asciivalue iftrue self startstepping keyvalue asciivalue iftrue self stopstepping listing usetheuimanager uimanager default request s initialanswer figure aninputdialog figure morphic support let s examine simple example morphs receiver morph dropped morph receiver cept morph dropped morph match given condition example morph blue rejected dropped morph cides let s define receiver morph define initialization method usual way decide receiver morph accept reject dropped listing usetheuimanagertoopenapopup uimanager default choosefrom line message shape listing definingamorphonwhichwecandropothermorphs morph subclass receivermorph instancevariablenames classvariablenames package listing initializing receivermorph receivermorph initialize super initialize color color red bound extent listing acceptdroppedmorphsbasedontheircolor receivermorph wantsdroppedmorph amorph event anevent amorph color color blue morph general morphs agree interaction receiver doe responding wantsdroppedmorph event argument dropped morph second mouse event receiver example modifier key held time drop dropped morph given opportunity check like morph dropped sponding message wantstobedroppedinto default tion method class morph answer true happens dropped morph receiving morph doesn t want default behaviour sit receiving morph interacting intuitive ior dropped morph original position achieved receiver answering trueto message repelsmorph event doesn t want dropped morph s need far receiver concerned create instance receivermorph andellipsemorph playground try drag drop yellow ellipsemorph receiver rejected sent initial position change behaviour change color ellipse morph color blue sending message color color blue right new blue morphs accepted receivermorph let s create specific subclass morph named droppedmorph listing changingthebehaviourofthedroppedmorphwhenitisrejected receivermorph repelsmorph amorph event anevent self wantsdroppedmorph amorph event anevent listing createaninstanceofreceivermorph receivermorph new openinworld bound corner ellipsemorph new openinworld figure areceivermorph andanellipsemorph listing receivermorph morph subclass droppedmorph instancevariablenames classvariablenames package experiment bit specify dropped morph rejected receiver stay attached mouse pointer sending handmessage event answer hand instance morphthat represents mouse pointer hold tell theworldthat hand grab self rejected morph create instance droppedmorph drag drop receiver green morph rejected stay attached mouse pointer listing initializing droppedmorph droppedmorph initialize super initialize color color blue self position acompleteexample listing reactingwhenthemorphwasdroppedbutrejected droppedmorph rejectdropmorphevent anevent h h anevent hand worldstate adddeferreduimessage h grabmorph self anevent washandled true listing openanowdroppedmorph receivermorph new openinworld morph droppedmorph new color color blue openinworld morph position morph position droppedmorph new color color green openinworld figure creationof droppedmorph andreceivermorph complete example let s design morph roll die clicking display value side die quick loop click stop animation define die subclass borderedmorph instead morph make use border listing definingthediemorph borderedmorph subclass diemorph instancevariablenames dievalue isstopped classvariablenames package figure thedieinmorphic listing creatinganewdiewiththenumberoffaceswelike diemorph class face anumber self new face anumber listing initializinginstancesof diemorph diemorph initialize super initialize self extent self usegradientfill borderwidth useroundedcorners self setborderstyle complexraised self fillstyle direction self extent self color color green dievalue face isstopped false instance variable facesrecords number face die low dice face dievalue record value face currently displayed isstopped true die animation stopped running create die instance define face n method classside ofdiemorph create new die nfaces theinitialize method defined instance usual way remember newautomatically sends initialize instance use method borderedmorph nice appearance die border raised effect rounded corner color gradient visible face define instance method face check valid parameter follows good review order message sent die created instance start evaluating diemorph face acompleteexample listing settingthenumberoffacesofthedie diemorph face anumber set number face anumber isinteger anumber anumber iftrue face anumber listing ninemethodsforplacingpointsonthefacesofthedie diemorph class method diemorph class face sendsnewtodiemorph class method new inherited diemorph class frombehavior creates new instance sends initialize message method diemorph setsfacesto initial value class new return class method diemorph class face sends message face new stance instance method diemorph face executes setting facesinstance variable defining drawon need method place dot displayed face diemorph diemorph diemorph diemorph diemorph diemorph diemorph listing drawingthediemorph diemorph drawon acanvas super drawon acanvas self perform dievalue asstring assymbol apoint self drawdoton acanvas apoint listing drawingasingledotonaface diemorph drawdoton acanvas apoint acanvas filloval rectangle center self position self extent apoint extent self extent color color black listing diemorph face openinworld diemorph method define collection coordinate dot face coordinate square size simply need scale place actual dot thedrawon method doe thing draw die background draw dot second method us reflective capacity pharo ing dot face simple matter iterating collection given thefacexmethod face sending drawdoton message coordinate correct facexmethod use perform method sends message built string dievalue asstring assymbol encounter use perform quite ularly coordinate normalized interval scale dimension die self extent apoint create die instance playground result figure change displayed face create accessor use mydie dievalue use animation quickly face diemorph step isstopped iffalse self dievalue face atrandom die rolling acompleteexample figure diemorph face openinworld listing settingthecurrentvalueofthedie diemorph dievalue anumber anumber isinteger anumber anumber face iftrue dievalue anumber self changed figure resultof diemorph face openinworld dievalue start stop animation clicking use learned ously mouse event activate reception mouse event diemorph mousedown anevent anevent redbuttonpressed iftrue isstopped isstopped die roll stop rolling click listing animatingthedie diemorph steptime listing handlingmouseclickstostartandstoptheanimation diemorph handlesmousedown anevent true listing drawingatranslucentdie diemorph drawon acanvas thecanvas thecanvas acanvas asalphablendingcanvas super drawon thecanvas self perform dievalue asstring assymbol apoint self drawdoton thecanvas apoint figure canvas thedrawon method instance canvas sole argument canvas area morph draw using graphic method canvas free appearance want morph browse inheritance hierarchy canvas class variant default variant canvas va key graphic method canvas andformcanvas method draw point line polygon rectangle ellipsis text image rotation scaling possible use kind canvas example obtain parent morphs graphic method antialiasing use feature need alphablendingcanvas aballooncanvas obtain canvas drawon method drawon ceives instance formcanvas argument fortunately transform kind canvas use canvas diemorph redefine won like s need chaptersummary summary morphic graphical framework graphical interface element dynamically composed convert object morph display morph screen sending message asmorph openinworld manipulate morph using dle appear handle help balloon explain compose morphs embedding drag drop sending message addmorph subclass existing morph class redefine key method likeinitialize anddrawon control morph reacts mouse keyboard event redefining method handlesmousedown handlesmouseover animate morph defining method step andsteptime number millisecond step seasidebyexample seaside framework building web application smalltalk originally developed avi bryant julian fitzell mastered seaside make web application easy write desktop application really interesting developing fast complex application plehttp seaside commercial application quuve finworks cableexpertise application http developed seaside seaside unusual thoroughly html template complicated control flow web page encoding state url instead just send message object nice idea need seaside modern web application try interact user way desktop application ask user question user responds ally filling form clicking button web work way user s browser make request server server sponds new web page web application development framework cope host problem chief ment inverted control flow web application try forbid use browser s backbutton difficulty ing track state session expressing control flow multiple web page cumbersome multiple control flow difficult impossible express seaside framework make web development ier way control flow expressed naturally using sage sends seaside keep track web page corresponds point execution web application mean browser s backbutton work correctly second state managed developer choice enabling backtracking state navigation backin time undo effect alternatively use transaction support built seaside prevent user undoing permanent use button encode state information url managed automatically web page built nested component support independent control flow html template instead valid html generated programmatically using simple based protocol seaside support cascading style sheet cs content layout cleanly separated finally seaside provides convenient development interface making easy develop application iteratively debug application actively recompile extend application server running started seaside community website http contains resource including downloads documentation tutorial mind seaside evolved considerably year available material refers latest version active mailing list http addition wiki seaside github repository http provides crucial documentation including release note version seaside installing seaside using experience image easiest way started download seaside perience pharo downloads section seaside web site http prepackaged version latest stable version seaside mac osx linux window built pharo current latest seaside version pharo distribution include pharo vm development image package preloaded helpful seaside control panel start open image download launch seaside image feel free refer getting started section chapter quick tour pharo gettingstarted figure listing startingandstoppingseasideusingthezincserveradaptor znzincserveradaptor starton start port znzincserveradaptor stop discussion launching pharo image started thing similar figure familiar pharo development environment window welcome message control panel starting seaside server easiest way start stop seaside web server control panel using seaside experience age open running server adapter open image time manually open time evaluating wapharoserveradapterspecbrowser open pane seaside control panel let add new server adapter example add znzincserveradaptor specify port number start using startbutton control panel launch new seaside server listens port start stop seaside web server playground sendning starton andstopmessages server adapter choice seaside welcome page seaside server running navigate http web browser web page look like figure welcome page contains link sample seaside application link various document resource sidebar link configuration browse application allow interact seaside application registered image let s look example application demonstrates counter component click counter link page small seaside application display counter component incremented decremented clicking link figure play counter clicking link use browser s button previous state click notice counter correctly incremented respect currently displayed state state counter started using thebackbutton notice toolbar web page figure seaside port notion sessionsto track state application different user new session start new session counter allows configure setting application web interface close configure view click x right corner halosprovides way explore state tion running seaside server profile andmemory provide detailed formation performance application xhtmlcan used validate generated web page work web page publicly accessible internet us validation service single component seaside application built pluggable component fact ponents ordinary smalltalk object thing special instance class inherit seaside work class wacomponent explore component class pharo image directly web interface using halo click haloslink page toggle halo ality ll number nested component halo icon including counter component scroll bit reach like seen figure left component text wacounter tell class seaside component implement behavior theseasidewelcomeapplicationat http figure figure halo figure debuggingtherunningcounterapplicationinthepharoimage clickable icon class browser notepad pencil icon open seaside class browser nent s class second object inspector notepad ing glass icon open object inspector actual counter instance cs style manager coloured circle icon open seaside view display cs style sheet component right component render link let gle rendered formatted source view component s html source code experiment link note link active source view seaside class browser object inspector convenient server running computer especially server doe display remote place developing seaside application server running locally easy use ordinary pharo development tool server image using object inspector link web browser open inspector underlying pharo counter object type self halt click doitbutton form submits browser hang spinning switch pharo seaside image window figure showing wacounter object executing halt examine execution gettingstarted figure independentsubcomponents debugger proceed web browser notice counter application running multiple component seaside component instantiated multiple time different text point web browser http simple application composed number independent stance wacounter component nested inside wamulticounter increment decrement counter verify behave correctly use backbutton toggle halo plication built nested component use seaside class browser view implementation wamulticounter method class description andinitialize instance child initialize andrendercontenton note tion simply component willing root component containment hierarchy willingness indicated defining method canberoot answer true use seaside web interface configure copy remove ual application component try making ing configuration change point web browser http figure addanewapplication asked login supply default login password admin andseaside list registered application dispatcher change example dispatcher list clicking link left button topbar add new request handler open current copy remove set default page want add new example application select add enter choose typeapplication clickok figure screen set root component towacounter apply change figure new counter installed http use configuration interface remove entry point seaside operates mode development mode seen far deployment mode toolbar available seaside application deployment mode removing inherited root decoration class figure alternatively disable development toolbar new tions evaluating code aadmin applicationdefaults removeparent wadevelopmentconfiguration instance want enable password protection need add thconfiguration theinherited configuration choose figuration list possible parent adding configuration define loginandpassword setting component mentioned previous section seaside application built component let s closer look seaside work implementing thehelloworld component seaside component inherit directly indirectly ponent shown figure incidentally wa prefix used seaside code stand web application define subclass wacomponent calledwahelloworld component know render usually implementing method rendercontenton get argument instance wahtmlcanvas know render html implement following method protocol called rendering wahelloworld rendercontenton html html text world inform seaside component willing dalone application implement following method class wahelloworld wahelloworld class canberoot true point web browser http add new entry point calledhello set root component wahelloworld navigate http s web page similar figure state backtracking counter application thecounterapplication slightly complex helloworld application class wacounter standalone application wacounter class answer trueto thecanberoot message register plication initialize method shown ure wacounter defines method increase anddecrease triggered link web page defines stance variable countto record state counter want seaside synchronize counter browser page user click browser s backbutton want seaside backtrack hello world inseaside figure thewacounter class whichimplementsthe counterapplication state wacounter object seaside includes general mechanism backtracking application tell seaside part state track component enables backtracking implementing state method instance state answer array containing object tracked case wacounter object add seaside s table backtrackable object returning array self backtracking caveat subtle important point watch declaring object backtracking seaside track state making acopyof object declared state array doe using wasnapshot object wasnapshot subclass identitydictionary record object tracked key shallow copy state value state application backtracked particular snapshot state object entered snapshot dictionary overwritten copy saved snapshot point watch case wacounter think state tracked number value countinstance variable having state method answer array count won t work object named countis integer tegers immutable increase anddecrease method don t change state object object instead make counthold different integer time count incremented mented object named countisreplaced counter state return array self state counter object replaced previous state valueof stance variable object replaced previous value correctly replaces current value countby prior value html purpose web application create render web page mentioned section seaside component responsible dering let s start exploration rendering seeing counter component render rendering counter rendering counter relatively straightforward code shown figure current value counter displayed html heading increment decrement operation implemented html anchor link callback block send crease anddecrease counter object renderinghtml figure wamulticounter closer look rendering protocol moment let s quick look counter multicounter wamulticounter shown figure standalone application override canberoot answer true addition composite nent seaside requires declare child implementing method child answer array component contains render rendering subcomponents separated horizontal rule aside instance initialization method rendering html example seaside doe use template erate web page instead generates html programmatically basic idea seaside component override method contenton message sent framework component need rendered rendercontenton message argument htmlcanvas component render convention html canvas parameter called html html canvas analogous graphic canvas used morphic drawing framework abstract away detail drawing basic rendering method html text world render plain text string html html ndash render html incantation html render render object message render anyobject sent html canvas render anyobject normally used render subcomponents anyobject seasidedemo rendercontenton html html heading demo html heading level basic html html div class htmldemo render remaining component sent message rendercontenton happens figure using brush canvas provides number brushesthat used render paint content canvas brush kind html element paragraph table list protocol brush convenience method browse class wacanvas class argument rendercontenton actually instance subclass warender seen following brush used counter counter example html horizontalrule figure output basic brush offered seaside source code method seasidedemo rendercontenton defined package project http root component seasidedemo ply render subcomponents instance seasidehtmldemo seasideformdemo seasideeditcalldemo andseasidedialogdemo shown recall root component declare child seaside refuse render seasidedemo child htmldemo formdemo editdemo dialogdemo notice different way instantiating heading brush way set text directly sending message heading second way instantiate brush sending heading send cascade message brush set property render available brush used way important send cascade message brush including message thenwith finalmessage set content render result method rendercontenton heading level default explicitly set level second heading subcomponent rendered html divwith cs class subcomponent cs section note argument word message need literal string component example block containing rendering tions theseasidehtmldemo component demonstrates basic brush code seasidehtmldemo rendercontenton html self renderparagraphson html self renderlistsandtableson html self renderdivsandspanson html self renderlinkwithcallbackon html common practice break long rendering method helper method word advice don t rendering code single method instead split helper method named using pattern render rendering method rendering protocol don t send tenton code use render instead look following code helper method seasidehtmldemo derparagraphson show generate html paragraph plain emphasized text image note seaside simple element rendered specifying text contain directly complex ements specified using block simple convention help structure rendering code seasidehtmldemo renderparagraphson html html paragraph plain text html paragraph html text paragraph plain text followed line break break emphasis text text horizontal rule horizontalrule text image uri html image url self squeakimageurl width renderinghtml helper method seasidehtmldemo renderlistsandtableson show generate list table table us level block display row cell row seasidehtmldemo renderlistsandtableson html html orderedlist html listitem ordered list item html unorderedlist html listitem unordered list item html table html tablerow html tabledata table data cell example show specify classoridattributes div andspanelements use cs course message class id sent brush just divandspan method seasidedemowidget style defines html element displayed section seasidehtmldemo renderdivsandspanson html html div id html text text div id author html span class span class highlight finally simple example link created binding simple anchor link clicking link cause subsequent text toggle trueandfalseby toggling instance variable togglevalue seasidehtmldemo renderlinkwithcallbackon html html paragraph html text anchor local action html span html anchor callback togglevalue togglevalue boolean html space html span class togglevalue note action appear callback code executed rendering change state cation form form rendered just like example seen code seasideformdemo component figure seasideformdemo rendercontenton html radiogroup html heading heading html form html span html textinput heading self html select list self color color self radiogroup html radiogroup html text radiogroup radiobutton selected radioon callback radioon true html text radiogroup radiobutton selected radioon callback radioon false html checkbox checked self html submitbutton text form complex entity rendered using block note state change happen callback rendering seaside feature used worth special mention message example message used bind text field variable heading anchor button support message argument instance variable accessors defined second argument object instance variable belongs observer heading mutator heading accessor message understood object usual naming convention case text input field save trouble ing define callback update field having bind default content html input field current value instance variable using heading self theheading variable updated automatically user update text input field message used twice example cause tion colour html form update colorvariable bind result checkbox checked variable example functional test seaside look package just point browser http select wainputpostfunctionaltest click restart button feature form cs cascadingstylesheets don t forget toggle halo browse source code amples directly using seaside class browser cascading style sheet cascading style sheet http cs short standard way web application separate style content seaside relies cs avoid cluttering rendering code layout tions set cs style sheet web component defining method style return string containing cs rule component style component displayed web page joined component style better proach define abstract class web application fine common style subclass actually deployed application common define style sheet external file way look feel component completely separate functionality look wafilelibrary vides way serve static file need standalone server familiar cs s need know wise read brief introduction cs instead directly encoding display attribute paragraph text ements web page cs let define different classesof element place display consideration separate style sheet way cs style sheet consists set rule specify format given html element rule consists part aselectorthat specifies html element rule applies adeclaration set number attribute element previous method illustrates simple style sheet rendering demo shown earlier figure rule specifies preference font use bodyof web page rule specify tie heading table table table data td remaining rule selector match html element given classoridattributes cs selector class attribute start id attribute main difference class id attribute element class ement given id identifier class attribute highlight occur multiple time page id tify auniqueelement page particular menu modified date author note particular html element multiple class case applicable display attribute applied sequence listing seasidedemowidget commonstylesheet seasidedemowidget style body font arial helvetica time new roman normal italic table collapse td border solid cccccc padding author border solid black padding margin border solid lightblue padding margin yellow lightgrey lightgrey selector condition combined selector match html element divandit class attribute equal subcomponent possible specify nested element seldom necessary example selector p span match span paragraph div numerous book web site help learn cs matic demonstration power cs recommend look cs zen garden http show content rendered radically different way simply changing cs style sheet managingcontrolflow control flow seaside make particularly easy design web application control flow basically mechanism use component callanother component sending caller callee caller temporarily replaced callee callee return trol sending answer caller usually self currently visible component workflow defined task special kind component subclass watask instead wacomponent instead defining dercontenton defines content defines method sends series message activate various ponents turn answer answer used realize simple dialogue trivial example andanswer rendering demo figure component seasideeditcalldemo display text field aneditlink callback edit link call new instance itanswerdemo initialized value text field callback date text field result sent answer underline andanswer sends draw attention seasideeditcalldemo rendercontenton html html span class self text html space html anchor callback self text self seasideeditanswerdemo new text self text particularly elegant code make absolutely reference new web page created new page created seasideeditcalldemo component replaced tanswerdemo component parent component peer nents untouched important mind andanswer used rendering safely sent callback gomethod task theseasideeditanswerdemo component remarkably simple just render form text field submit button bound callback answer final value text field figure somestandarddialogs seasideeditanswerdemo rendercontenton html html form html textinput text self html submitbutton callback self answer self text text s seaside take care control flow correct rendering component interestingly backbutton browser work just fine effect rolled unless additional step convenience method certain dialogue common seaside provides convenience method save trouble writing component like seasideeditanswerdemo generated dialogue shown figure convenience method used alogdemo rendercontenton message request performs component let edit text field component answer edited string optional label default value specified seasidedialogdemo rendercontenton html html anchor callback self request label default text request managingcontrolflow message inform call component simply display argument message wait user click called component just return self html space html anchor callback self inform inform message confirm asks question wait user select yesorno component answer boolean used perform action html space html anchor callback self confirm happy iftrue self inform iffalse self inform confirm convenience method choosefrom caption fined convenience protocol wacomponent task task component subclass watask doe render simply call component control flow defined menting method waconveniencetest simple example task defined package effect just point browser http testand click restart waflowconveniencefunctionaltest self choosecheese self confirmcheese whilefalse self informcheese task call turn component generated nience method choosefrom caption awachoicedialog asks user choose cheese waflowconveniencefunctionaltest choosecheese cheese self choosefrom caption s favorite cheese figure asimpletask cheese isnil iftrue self choosecheese second wayesornodialog confirm choice generated convenience method confirm waflowconveniencefunctionaltest confirmcheese confirm cheese favorite cheese finally waformdialog called convenience method inform waflowconveniencefunctionaltest informcheese self inform favorite cheese cheese generated dialogue shown figure transaction saw section seaside track correspondence state component individual web page having ponents register state backtracking component need implement method state answer array object state tracked want backtrack state instead want topreventthe user accidentally undoing effect nent referred shopping cart problem checked shopping cart paid item chased possible backwith browser add item shopping cart seaside allows enforce restriction defining task certain action grouped transaction backtrack transaction transaction complete longer corresponding page invalidated attempt managingcontrolflow figure thesushistore cause seaside generate warning redirect user recent valid page seaside sushistore sample application illustrates tures seaside including transaction application bundled installation seaside try pointing browser athttp image version sushi store available squeaksource http sushi store support following workflow store search sushi sushi shopping cart order shipping address shipping address payment information fish way toggle halo component sushi store instance wastore doe render title bar render task instance wastoretask wastore rendercontenton html render title bar html div id task wastoretask capture workflow sequence couple point critical user able change submitted mation purchase sushi use backbutton try sushi cart message thatpagehasexpired seaside let programmer say certain workflow act like transaction transaction complete user undo sending isolate task transactional block argument sushi store workflow follows wastoretask shipping billing creditcard cart wastorecart new self isolate self fillcart self confirmcontentsofcart whilefalse self isolate shipping self getshippingaddress billing self useasbillingaddress shipping iffalse self getbillingaddress iftrue shipping creditcard self getpaymentinfo self shipto shipping billto billing paywith creditcard self displayconfirmation quite clearly transaction fill cart close shopping phase helper method fillcart care instantiating calling right subcomponents confirmed content cart starting new session second transaction completes shipping payment data navigate forth second transaction confirm payment transaction complete attempt navigate fail transaction nested simple demonstration class wanestedtransaction isolate take argument block contains nested isolate wanestedtransaction self inform parent txn self isolate self inform parent txn self isolate self inform child txn self inform child txn acompletetutorialexample figure rpncalculatoranditsstackmachine self inform parent txn tohttp selectwatransactiontest click restart try navigate forth parent child transaction clicking backbutton clicking note soon transaction complete longer inside action generating error clicking complete tutorial example let s build complete seaside application scratch exercise couple hour prefer just look completed source code grab squeaksource project http package load seasiderpn tutorial follows us slightly different class name compare implementation build rpn reverse polish notation calculator seaside application us ple stack machine underlying model furthermore seaside face let toggle display just show current value stack show complete state stack calculator display option shown figure begin implementing stack machine test define new class called mystackmachine instance variable content initialized new orderedcollection mystackmachine initialize super initialize content orderedcollection new stack machine provide operation push andpopvalues view thetopof stack perform various arithmetic operation add tract multiply divide value stack write test stack operation implement tions sample test mystackmachinetest testdiv stack push push div self assert stack size self assert stack consider using helper method arithmetic tions check number stack doing thing raising error precondition fulfilled s good idea use object assert specify precondition operation method raise assertionfailure user try use stack machine invalid state method just line long consider implementing mystackmachine printon make easier debug stack machine implementation help object inspector hint just delegate printing content variable complete mystackmachine writing operation dup push duplicate value stack exch exchange value rotup rotate entire stack content value simple stack machine implementation start ment seaside rpn calculator make use class abstract class defines common cs style sheet application common behavior ponents rpn calculator subclass wacomponent direct superclass following class root component register cation class instantiate render subcomponents register state backtracking display key use interact tor component display stack provides button component display detailed view acompletetutorialexample component show detailed view stack provides button answer subclass mydisplay create package mycalculator define myrpnwidget define common stylefor application minimal cs application make fancy like myrpnwidget style float left border solid grey background lightgrey padding center float left border solid white grey grey grey padding right definemycalculator root component register cation implement canberoot andinitialize class implement mycalculator rendercontenton render trivial verify application run browser mycalculator responsible instantiating mystackmachine mykeypad andmydisplay definemykeypad andmydisplay subclass myrpnwidget component need access common instance stack machine define instance variable stackmachine initialization method setmystackmachine common parent myrpnwidget add instance variable keypad anddisplay tomycalculator initialize inmycalculator initialize don t forget send super initialize pas shared instance stack machine keypad display initialize method implement mycalculator rendercontenton simply render turn keypad display correctly display subcomponents implement mycalculator child return array keypad display implement placeholder rendering method keypad figure displayingthetopofthestack display verify calculator display nents change implementation display value stack use table class keypad containing row single table data cell class stackcell change rendering method keypad ensure number pushed stack case define use mykeypad surestackmachinenotempty make display table classkeypad calculator display single cell containing value toggle halo like figure let s implement interface interact stack define following helper method make easier script interface mykeypad renderstackbutton text callback ablock colspan aninteger html html tabledata class colspan aninteger html anchor callback ablock html html text mykeypad renderstackbutton text callback ablock html self renderstackbutton text callback ablock colspan html acompletetutorialexample use method define button keypad propriate callback certain button span multiple column fault occupy just column use helper method script keypad follows hint start getting digit enterkeys working arithmetic operator mykeypad rendercontenton html self ensurestackmachinenotempty html table class html tablerow self renderstackbutton callback self stackop add html self renderstackbutton ndash callback self stackop min html self renderstackbutton time callback self stackop mul html self renderstackbutton divide callback self stackop div html self renderstackbutton plusmn callback self stackop neg html html tablerow self renderstackbutton callback self type html self renderstackbutton callback self type html self renderstackbutton callback self type html self renderstackbutton callback self stackpopifnotempty colspan html html tablerow self renderstackbutton callback self type colspan html self renderstackbutton c callback self stackcleartop html self renderstackbutton callback self stackop dup self setclearmode colspan html check keypad display properly try click key calculator doe work implement mykeypad type update stack appending typed digit need convert value string update convert integer like mykeypad type astring stackmachine push self stackpoptoporzero asstring astring asnumber method stackpoptoporzero andstackpopifnotempty used guard operating stack mykeypad stackpoptoporzero stackmachine isempty iftrue iffalse stackmachine pop mykeypad stackpopifnotempty stackmachine isempty iffalse stackmachine pop click digit key display updated sure thatmystackmachine pop return value popped work implement mykeypad stackop like trick mykeypad stackop op stackmachine perform op assertionfailure point sure operation succeed ple addition fail number stack moment just ignore error feeling ambitious later provide user feedback error handler block version calculator working try enter number pressing digit key hitting enterto push copy rent value entering sum value notice typing digit doe behave way pect actually calculator aware typing newnumber appending existing number adaptmykeypad type behave differently depending current typing mode introduce instance variable modewhich take value symbol typing typing push performed calculator operation typing force value pushed clear performed enterand value cleared typing new type method look like mykeypad type astring self inpushmode iftrue stackmachine push stackmachine self stackcleartop acompletetutorialexample self inclearmode iftrue self stackcleartop stackmachine push self stackpoptoporzero asstring astring asnumber typing work better frustrating able stack definemydisplaystack subclass mydisplay add button rendering method mydisplay new stance mydisplaystack need html anchor look thing like html anchor callback self mydisplaystack new setmystackmachine stackmachine callback cause current instance mydisplay temporarily replaced new instance mydisplaystack job display complete stack component signal sending self answer control return original instance play define rendering method mydisplaystack display value stack need define accessor stack machine s content define mystackmachine iterate stack value stack display button labelled closewhose callback simply perform self answer html anchor callback self answer able openandclosethe stack using calculator thing forgotten try perform erations stack use backbutton browser try perform stack operation example openthe stack type entertwice stack display hit backbutton stack show time type stack show backtracking working implement mycalculator state return array content stack machine check backtracking work correctly quick look ajax ajax asynchronous javascript xml technique make web cation interactive exploiting javascript functionality client javascript library prototype http org http prototype provides work ease writing javascript provides additional feature support animation prototype framework supported seaside package scriptaculous ready image scriptaculous package extension loaded latest version available http seaside online demo available http alternatively enabled image running simply http scriptaculous extension follow approach seaside simply configure pharo object model application needed javascript code generated let look simple example javascript support make rpn calculator behave naturally currently keystroke enter digit generates request refresh page like stead handle editing display updating play existing page address display javascript code unique id update calculator s rendering method follows mented tutorial example simply load complete ample fromhttp apply suggested change class rpn instead mycalculator rendercontenton html html div id keypad html div id display able display keyboard button pressed keyboard need know display component add adisplay instance variable mykeypad initialize method pad setdisplay mycalculator initialize able assign javascript code button updating pad renderstackbutton callback colspan follows mykeypad renderstackbutton text callback ablock colspan aninteger html html tabledata class colspan aninteger aquicklookatajax html anchor callback ablock onclick handle javascript event html scriptaculous updater id callback r ablock value r render display return false html html text onclick specifies javascript event handler html updater return instance ptupdater smalltalk object representing javascript ajax updater object http object form ajax request update container s content based sponse text id tell updater html dom element update case content divelement id display callback specifies block triggered user press button block argument new renderer r use render play component note html accessible valid anymore time callback block evaluated rendering display component evaluate ablock perform desired action return false tell javascript engine trigger original link callback cause refresh instead remove original anchor callback like calculator work javascript disabled try calculator notice page refresh triggered ery time press digit key url web page updated keystroke implemented behavior activated enable javascript event handling click configure link toolbar calculator configure thelibraries attribute general section need enable modification attribute selecting modify list available library select ptdevelopmentlibrary apply change instead manually adding library programmatically register application mycalculator class initialize waadmin register self asapplicationat self applicationname addlibrary ptdevelopmentlibrary figure seasideajaxprocessing simplified example ptdevelopmentlibrary sufficient set scriptaculous extension need add sudevelopmentlibrary try revised application note feedback natural particular new url generated keystroke ask yes buthowdoesthiswork figure show rpn application ajax basically ajax rendering onlyupdate display component javascript sible triggering request updating corresponding dom element look generated especially javascript code new true chaptersummary return false advanced example look http hint case server problem use debugger case client lem use firefox http javascript debugger bug http plugin enabled summary easiest way started download riencefromhttp server evaluating znzincserveradaptor ton andznzincserveradaptor stop halo directly view application source code jects cs html root decoration class watooldecoration tion configuration disable toolbar applicationdefaults removeparent mentconfiguration instance disable toolbar new nents web application composed component instance subclass wacomponent root component registered application implement canberoot class alternatively register application initialize method sending waadmin register self asapplicationat applicationpath override description possible return descriptive application displayed configuration editor backtrack state component implement state method answer array object state restored user click browser s backbutton component render implementing rendercontenton argument method html rendering canvas usually called html component render subcomponent sending self render subcomponent generated programmatically sending message brush brush obtained sending message paragraph ordiv html canvas send cascade message brush includes message thenwith message sent sage set content andrenders result appear callback change state application rendering bind various form widget anchor instance variable accessors sending message instancevariable object brush define cs component hierarchy defining method style return string containing style sheet deployed application usual refer style sheet cated static url flow programmed sending x y case component xwill replaced yuntilyanswers sending answer result callback receiver usually self general visible component control flow specified instance subclass ofwatask implement method series component workflow s convenience method request inform firm andchoosefrom caption basic interaction prevent user using browser s backbutton access previous execution state web application declare tions workflow transaction enclosing late block reflection pharo reflective programming language nutshell mean program able reflecton execution structure nically mean metaobjects runtime reified ordinary object queried inspected metaobjects pharo class metaclasses method dictionary compiled method stack process form reflection called introspection supported modern programming guages conversely possible pharo modify reified metaobjects reflect change runtime figure called intercession supported mainly dynamic programming language figure reificationandreflection limited degree static language pay attention people say java reflective language introspective reflective program manipulates program metaprogram programming language reflective support spection intercession introspection ability examine data structure define language object class method execution stack intercession ability modifythese structure word change language semantics behavior gram program structuralreflection examining modifying structure tionis modifying interpretation structure chapter focus mainly structural reflection explore practical example illustrating pharo support introspection metaprogramming using inspector look object change value stance variable send message evaluate following code playground w gtplayground openlabel playground w inspect open second playground inspector inspector show internal state new playground listing instance variable left bordercolor borderwidth bound value selected instance variable right bound instance variable represents precise area occupied playground choose inspector click playground area inspector comment type self bound rectangle gin corner select asshown figure thendoitlike code playground immediately playground created change resize accessing instance variable doe inspector work pharo instance variable protected theory impossible access object class doesn t define accessor practice inspector access instance variable needing accessors us reflective ability pharo class define instance variable numeric index inspector us method defined object class access introspection figure inspectinga workspace instvarat index andinstvarnamed astring used value instance variable position indexor identified astring respectively similarly assign new value instance variable usesinstvarat andinstvarnamed instance change value wbinding workspace evaluating w instvarnamed rectangle origin corner important caveat menttools usingthemtodevelopconventionalapplicationsisabadidea reflectivemethodsbreaktheencapsulationboundaryofyourobjectsandcan thereforemakeyourcodemuchhardertounderstandandmaintain bothinstvarat andinstvarat primitive method meaning implemented primitive operation pharo virtual chine consult code method special pragma syntax primitive n wherenis integer object instvarat index primitive answer fixed variable object primitive error ec self primitivefailed figure displayingallinstancevariablesofa gtplayground pharo code primitive declaration executed itive fails allows debugger started primitive method specific case way implement method method just fails method implemented vm faster execution ple arithmetic operation smallinteger anumber primitive multiply receiver argument answer result smallinteger fail argument result smallinteger essential lookup object documentation whatisaprimitive primitive super anumber primitive fails example vm doe handle type argument pharo code executed possible modify code primitive method beware risky business stability pharo figure show display value instance variable arbitrary instance w class gtplayground method allinstvarnames introspection return name instance variable given class gtplayground allinstvarnames registry suspendall suspendedannouncemets logger pane title titleicon transformation action condition implicitnotnil dynamicactionsblock color customvalidation shouldvalidate acceptsselection parentprototype registeredannouncers updateactions selectionactions selectiondynamicactionsblock implicitallnil rawselectiontransmissions statuspane sourcelink initializationblock cacheddisplayedvalue labelactionblock portchangeactions wantssteps steptime stepcondition presentation arrangement w gtplayground someinstance w class allinstvarnames collect w instvarnamed spirit possible gather instance specific tie iterating instance class using iterator select instance object directly included world morph main root graphical displayed element try expression morph allsubinstances select instvarnamed isnotnil isworldmorph querying class interface development tool pharo browser debugger inspector use reflective feature seen far message useful build development tool iskindof aclass return true receiver instance aclass superclass instance class iskindof float true iskindof number true iskindof integer false respondsto asymbol return true receiver method lector asymbol instance respondsto floor true number implement floor floor exception respondsto true exception class grouped important caveat feature especially useful menting development tool normally appropriate typical application asking object class querying discover message understands typical sign design problem olate principle encapsulation development tool normal application domain software tool right dig deep internal detail code code metric let s use pharo s introspection feature quickly extract code metric code metric measure aspect depth inheritance hierarchy number direct indirect subclass ber method instance variable class number locally defined method instance variable metric class morph superclass graphical object pharo revealing huge class root huge hierarchy maybe need refactoring inheritance depth morph allsuperclasses size number method morph allselectors size number instance variable morph allinstvarnames size number new method morph selector size number new variable morph instvarnames size browsingcode direct subclass morph subclass size total subclass morph allsubclasses size total line code morph linesofcode interesting metric domain guages number method extend method inherited superclass informs relation class perclasses section exploit knowledge runtime structure answer question code pharo object particular class object vide useful feature navigating instance sage look implemented behavior stood class example obtain random instance given class sending message someinstance point someinstance gather instance allinstances number active instance memory instancecount bytestring allinstances bytestring instancecount string allsubinstances size feature useful debugging application ask class enumerate method exhibiting specific property interesting useful method code covery reflection whichselectorsaccess return list selector method read write instance variable named argument whichselectorsstoreinto return selector method modify value instance variable whichselectorsreferto return selector method send given message point whichselectorsaccess x degree grid roundto nearestpointalonglinefrom point whichselectorsstoreinto x bitshiftpoint setr degree setx sety fromston point whichselectorsreferto orderedcollection degree reflectedabout grid following message inheritance account whichclassincludesselector return superclass implement given message unreferencedinstancevariables return list instance variable used receiver class subclass rectangle whichclassincludesselector inspect object rectangle unreferencedinstancevariables systemnavigation facade support various useful method querying browsing source code systemnavigation default return instance use navigate ple systemnavigation default allclassesimplementing object following message systemnavigation default allsentmessages size systemnavigation default allunsentmessagesin object selector size systemnavigation default allunimplementedcalls size note message implemented sent necessarily useless sent implicitly usingperform message sent implemented problematic method sending message fail runtime sign unfinished implementation obsolete apis missing library class methoddictionariesandmethods figure browseallimplementationsof iftrue point allcallson return message sent explicitly pointas ceiver feature integrated programming environment pharo particular code browser mentioned nient keyboard shortcut browsing mplementors browsing se nders given message known query implemented method systemnavigation class browsing protocol example programmatically browse implementors message iftrue evaluating systemnavigation default browseallimplementorsof iftrue particularly useful method browseallselect odswithsourcestring matchcase different way browse method perform super sends way brute force second way better eliminates false positive systemnavigation default browsemethodswithsourcestring matchcase true systemnavigation default browseallselect method method sendstosuper method dictionary method class object inspect explore just like object evaluate point inspect figure inspectoronclass pointandthebytecodeofits method figure class methoddictionariesandcompiledmethods figure inspector show structure class point class store method dictionary indexing lector selector point decompiled bytecode point let consider relationship class method figure class metaclasses common superclass behavior newis defined key method class class method dictionary map method selector compiled method compiled method know class installed figure stored association browsingenvironments exploit relationship class method pose query example discover method newly duced given class override superclass method gate class method dictionary follows aclass methoddict key select amethod aclass superclass canunderstand amethod value smallinteger identityset threedigitname printstringbase ndigits compiled method doe simply store bytecode method object provides numerous useful method querying method isabstract tell method sends responsibility use identify abstract method abstract class aclass methoddict key select amethod aclass amethod isabstract value number identityset storeon base printon base note code sends message class obtain compiled method given selector browse given hierarchy example collection hierarchy pose sophisticated query class collection systemnavigation default browsemessagelist class withallsubclasses gather methoddict association select assoc assoc value sendstosuper thencollect assoc rgmethoddefinition realclass selector assoc key class subclass note navigate class method dictionary compiled od identify method interested rgmethoddefinition lightweight proxy compiled method used tool convenience method compiledmethod methodreference return method reference compiled method object methodreference selector environment systemnavigation offer useful way programmatically query browse code way browser integrated pharo allows restrict environment search perform suppose interested discover class refer class point package open browser class point level package kernel package pane select browse scoped new browser open showing package kernel class package class extension method package browser select class point class select analyse class ref method reference class pointbut package kernel compare result search browser restricted scope scope browsingenvironment ment search like sendersofamethod orimplementorsofamethod browser restricted environment browser environment created programmatically ample create new rbbrowserenvironment forcollection class select method browse resulting ment rbbrowserenvironment new forclasses collection withallsubclasses selectmethods method method sendstosuper browse note considerably compact earlier equivalent ample using systemnavigation finally just method send different super message programmatically follows rbbrowserenvironment new forclasses collection withallsubclasses selectmethods method method sendstosuper method parsetree supermessages includes method selector browse ask compiled method refactoring browser parse tree order super message differ method s selector look querying protocol class rbprogramnode thing ask parse tree instead browsing environment browser spawn messagebrower list method environment figure findingmethods messagebrowser browse rbbrowserenvironment new forclasses collection withallsubclasses selectmethods method method sendstosuper method parsetree supermessages includes method selector method title method sending different super figure method collection hierarchy including collection printnameon sends super printon context seen pharo s reflective capability let query explore object class method environment method context fact context executing method virtual chine image hand debugger ously access information happily explore time context just like object possible actually magical debugger secret thiscontext encountered passing figure inspecting thiscontext thiscontext referred running method tire context method reified available age series chained context object easily experiment mechanism change definition integer factorial inserting expression thiscontext inspect self halt shown integer factorial answer factorial receiver self iftrue thiscontext inspect self halt self iftrue self self factorial self error valid negative integer evaluate factorial workspace obtain ger window inspector shown figure inspecting thiscontext give access current execution text stack local tempories argument sender chain receiver welcome poor man s debugger browse class explored object evaluating self browse pane inspector discover instance class context eachsender chain thiscontext intended used programming essential implementing tool like debugger accessing mation stack evaluate following expression discover method make use thiscontext systemnavigation default browsemethodswithsourcestring matchcase true turn common application discover sender message typical application subclassresponsibility message set framework behavior class subclass announce subclass implemented message subclassresponsibility signalfor thiscontext sender selector convention method send self subclassresponsibility sidered abstract doe object subclassresponsibility provide useful error message indicating abstract method invoked simply asking thiscontext sender intelligent breakpoints pharo way set breakpoint evaluate self halt interesting point method cause thiscontext reified debugger window open breakpoint unfortunately pose problem method intensively used suppose instance want explore execution morph inworld setting breakpoint method problematic pay attention following experiment break fresh image set following breakpoint morph openinworld add morph world self halt self openinworld self currentworld notice image immediately freeze soon try open new morph debugger window problem clear understand morph openinworld used part breakpoint triggered soon interact user interface thedebuggeritself sendsopeninworld soon open window preventing debugger opening need way conditionallyhalt context exactly object haltif offer suppose want halt openinworld sent say context morphtest testopeninworld fresh image set following breakpoint morph openinworld add morph world self haltif testopeninworld self openinworld self currentworld time image doe freeze try running morphtest morphtest run testopeninworld doe work let s look object haltif call condition exception classhalt method check condition symbol true case finally call object haltifcallchaincontains aselector cntxt cntxt thiscontext cntxt sender isnil whilefalse cntxt cntxt sender cntxt selector aselector iftrue self signal starting thiscontext haltifcallchaincontains go execution stack checking calling method passed parameter case signal exception default summons debugger possible supply boolean boolean block argument haltif case straightforward make use context message understood far used pharo s reflective feature mainly query explore object class method stack look use knowledge structure intercept message modify behaviour run time object receives message look method dictionary class corresponding method respond message method exists continue looking class hierarchy reach object method message object senditself interceptingmessagesnotunderstood message doesnotunderstand message selector ment process start object stand debugger launched doesnotunderstand overridden subclass object lookup path turn convenient way izing certain kind dynamic behaviour object doe derstand message overriding doesnotunderstand fall alternative strategy responding message common application technique implement lightweight proxy object dynamically compile load missing code lightweight proxy case introduce minimalobject act proxy ing object proxy implement virtually method message sent trapped doesnotunderstand menting message proxy special action ing message real subject proxy let look implemented define loggingproxy follows protoobject subclass loggingproxy instancevariablenames invocationcount classvariablenames package note subclass protoobject object want proxy inherit method object object methoddict size proxy instance variable subject proxy countof number message intercepted initialize stance variable provide accessor message count initially thesubject variable point proxy object loggingproxy initialize invocationcount subject self loggingproxy invocationcount invocationcount simply intercept message understood print script update message count forward message real ject loggingproxy doesnotunderstand amessage transcript amessage printstring cr invocationcount invocationcount amessage sendto subject come bit magic create new pointobject new gingproxy object tell proxy point object point loggingproxy new point effect swapping reference image point refer proxy vice versa importantly proxy s jectinstance variable refer point point invocationcount point point invocationcount work nicely case shortcoming point class loggingproxy actually method classis implemented protoobject implemented object loggingproxy doe inherit isn t actually send loggingproxy subject message directly answered virtual machine truly sent message directly interpreted vm depending receiver include bitshift bitand bitor size nextput atend blockcopy value value new new x y selector sent inlined compiler transformed comparison jump bytecodes iftrue iffalse iftrue iffalse iffalse iftrue false whiletrue whilefalse whiletrue caseof caseof ifnil ifnotnil ifnil ifnotnil ifnotnil ifnil attempt send message normally result ception vm use inlined dispatching receiver intercept define proper behavior ingmustbeboolean receiver catching nonbooleanreceiver exception interceptingmessagesnotunderstood ignore special message sends mental problem overcome approach intercepted point loggingproxy new point point invocationcount point rectangle corner point invocationcount proxy cheated rect method point rect apoint rectangle origin self min apoint corner self max apoint message intercepted proxy using technique aware inherent limitation using proxy section general approach intercepting message generating missing method common application intercepting understood sage dynamically load generate missing method consider large library class method instead loading tire library load stub class library stub know source code method stub simply trap message understood dynamically load missing method mand point behaviour deactivated loaded code saved minimal necessary subset client application let look simple variant technique class automatically add accessors instance variable demand dynamicacccessors doesnotunderstand amessage messagename messagename amessage selector asstring self class instvarnames includes messagename iftrue self class compile messagename string cr messagename amessage sendto self super doesnotunderstand amessage message understood trapped instance variable message sent exists ask class compile accessor instance variable message figure dynamicallycreatingaccessors suppose class dynamicaccessors uninitialized instance variable xbut accessor following generate accessor dynamically retrieve value myda dynamicaccessors new myda x nil let step happens time message xi sent object figure send xtomyda message looked class class hierarchy cause self doesnotunderstand x sent object triggering new lookup time tunderstand immediately dynamicaccessors asks class compile string x x thecompile method looked finally behavior add new compiled method method dictionary dynamicaccessors finally message resent time technique used generate setter instance variable kind boilerplate code visiting method visitor note use object perform step used send message composed perform factorial perform assymbol objectsasmethodwrappers perform max witharguments array method wrapper seen compiled method ordinary object pharo support number method allow programmer query runtime bit surprising jectcan play role compiled method respond method run important message define class demo evaluate demo new notice usual messagenotunderstood error raised install plain object method dictionary democlass evaluate demo methoddict ample new try print result demo new time answer look class objectsasmethodsexample lowing method run oldselector argument areceiver perform oldselector witharguments argument demoinstance receives message method lookup proceeds usual virtual machine detect place compiled method ordinary pharo object trying play role vm send object new message run original method selector argument receiver argument methodsexample implement method intercept message delegate remove fake method follows demo methoddict removekey ifabsent closer look objectsasmethodsexample perclass implement method like flushcache methodclass andselector message sent compiled method need implemented object ing compiled method flushcache important method implemented required tool depending method installed using behavior addselector method directly using methoddictionary using method wrapper perform test coverage method wrapper technique intercepting message original implementation http method wrapper instance subclass method installed method wrapper perform special action fore invoking original method uninstalled original method returned rightful position method dictionary pharo method wrapper implemented easily ingrun instead subclassing compiledmethod fact exists lightweight implementation object method wrapper http standard pharo time writing pharo test runner us precisely technique ate test coverage let s quick look work entry point test coverage method testrunner runcoverage testrunner runcoverage package method identify method check coverage self collectcoveragefor method method testrunner collectcoveragefor clearly illustrates coverage checking algorithm testrunner collectcoveragefor method wrapper suite wrapper method collect testcoverage suite self resetresult suiteforallselected wrapper install self runsuite suite ensure wrapper uninstall valueunpreemptively wrapper wrapper reject hasrun wrapper wrapper collect reference wrapper isempty iftrue uimanager default inform test cover code analysis iffalse wrapper created method checked wrapper installed test run wrapper uninstalled finally user obtains feedback concerning method covered doe wrapper work testcoverage wrapper instance variable hasrun reference andmethod initialized pragmas follows testcoverage class amethodreference self new initializeon amethodreference testcoverage initializeon amethodreference hasrun false reference amethodreference method reference compiledmethod install uninstall method simply update method dictionary obvious way testcoverage install reference actualclass methoddict reference selector self testcoverage uninstall reference actualclass methoddict reference selector method therun method simply update hasrun variable uninstalls wrapper coverage verified resends message original method run aselector anarray areceiver self mark uninstall areceiver withargs anarray executemethod method mark hasrun true look protoobject withargs executemethod method displaced method dictionary invoked s method wrapper used perform kind suitable behaviour fore normal operation method typical application strumentation collecting statistic calling pattern method checking optional memoization optionally cacheing computed value method apragmais annotation specifies data program volved execution program pragmas direct effect operation method annotate pragmas number us informationforthecompiler pragmas used compiler make method primitive function function defined virtual machine external runtimeprocessing pragmas available examined runtime pragmas applied program s method declaration method declare pragmas pragmas declared prior smalltalk statement pragma effect static message send literal argument briefly saw pragmas introduced primitive earlier ter primitive pragma declaration consider itive error ec contained instvarat pragma s selector isprimitive error argument immediate literal value variable ecis error code filled vm case execution implementation vm failed compiler probably bigger user pragmas sunit tool make use annotation sunit able estimate coverage application test unit want exclude method coverage case documentation method splitjointtest class splitjointtest class documentation ignoreforcoverage self showdocumentation package provides function simply annotating method pragma ignoreforcoverage control scope coverage instance class pragma pragmas class object compiled method answer message pragmas method return array pragmas splitjointest class showdocumentation pragmas array ignoreforcoverage float pragmas array primitive method defining particular query retrieved class class ofsplitjointest contains method annotated coverage pragma allnamed ignoreforcoverage splitjointest class array ignoreforcoverage ignoreforcoverage ignoreforcoverage variant allnamed class pragma chaptersummary pragma know method defined using method method selector class contains method methodclass number argument numargs literal pragma argument hasliteral andhasliteralsuchthat summary reflection refers ability query examine modify jects runtime ordinary object inspector us instvarat related method view private instance variable object allinstances query instance class message class iskindof respondsto useful gathering metric building development tool avoided regular application violate encapsulation jects make code harder understand maintain utility class holding useful query navigation browsing class hierarchy example use temnavigation default browsemethodswithsourcestring matchcase true browse method given source string slow thorough pharo class point instance methoddictionary map selector instance compiledmethod compiled method know class closing loop leightweight proxy compiled method providing additional convenience method used pharo tool refactoring browser ture offer refined interface systemnavigation ing result query used scope new query gui programmatic interface available reifies runtime stack virtual machine mainly used debugger dynamically struct interactive view stack especially useful dynamically determining sender message breakpoints set using haltif taking method lector argument haltif halt named method occurs sender stack common way intercept message sent given target use aminimalobject proxy target proxy implement method possible trap message sends implementing doesnotunderstand perform additional action forward message original target swap reference object proxy target message like classandyourself really sent interpreted vm like directly interpreted inlined vm depending receiver typical use overriding doesnotunderstand lazily load compile missing method trap rigorous way intercept message use object method wrapper object installed method dictionary place compiled method implement run sent vm detects ordinary object instead piled method method dictionary technique used sunit test runner collect coverage data regularexpressionsinpharo regular expression widely used scripting language perl python ruby useful identify string match tain pattern check input conforms expected format rewrite string new format pharo support regular expression regexpackage contributed vassili bykov regex installed default pharo using older image doe include regex regex package install squeaksource http regular pattern match set string ple regular expression h o match string match pharo low matchesregex h o true matchesregex h o true matchesregex h o true matchesregex h o false matchesregex h o false chapter start small tutorial example develop couple class generate simple site map web site use regular expression identify html file strip path file just file extract title web page site map generate relative path root directory web site html file contains complete tutorial example provide complete description regex package based largely vassili bykov s tation provided package original documentation class rxparser example generating site map job write simple application generate site map web site stored locally hard drive site map tain link html file web site using title ument text link furthermore link indented reflect directory structure web site accessing web directory web site machine copy html file local directory serve test bed develop class webdir andwebpage represent directory web page idea create instance webdir point root directory containing web site send message maketoc walk file directory inside build site map create new file called containing link page web site thing watch webdir andwebpage member path root web site properly generate link relative root define class webdir instance variable webdir homepath define appropriate initialization method define method prompt user location web site computer follows figure awebdirinstance webdir setdir dir home path webdir dir homepath path webdir class ondir dir self new setdir dir home dir pathstring webdir class selecthome self ondir uimanager default choosedirectory method open browser select directory open inspect result webdir selecthome prompted rectory containing web page able verify webdir andhomepath properly initialized directory holding web site path directory nice able programmatically instantiate webdir let s add creation method add following method try inspecting result ofwebdir onpath web site webdir class onpath homepath self onpath homepath home homepath webdir class onpath path home homepath self new setdir path asfilereference home homepath pattern matching html file far good like use regexes html file web site contains browse filedirectory class method filename list file directory want select just file extension regex need dot match character newline x matchesregex true matchesregex true character cr asstring matchesregex true known kleenestar stephen kleene invented regex operator match preceding regex number time cluding zero matchesregex x true x matchesregex x true matchesregex x true y matchesregex x false dot special character regexes want literally match dot escape matchesregex true x matchesregex true matchesregex true x matchesregex false let s check regex html file work expected matchesregex true matchesregex true matchesregex false matchesregex false look good let s try application add following method webdir try test web site webdir htmlfiles webdir filename select matchesregex send htmlfiles awebdir instance print like webdir onpath htmlfiles caching regex browse matchesregex discover extension method string creates fresh instance rxparser time sent fine ad hoc query applying regex file web site smarter create just instance rxparser reuse let s add new instance variable htmlregex towebdir initialize sending asregex regex string modify webdir htmlfiles use regex time follows webdir initialize htmlregex asregex webdir htmlfiles webdir filename select htmlregex match listing html file work just did reuse regex object time accessing web page accessing detail individual web page responsibility separate class let s define let webdir class create instance define class webpage instance variable path identify html file homepath identify root directory web site need correctly generate link root web site file contains define initialization method instance creation method class webpage initializepath filepath homepath dirpath path filepath homepath dirpath webpage class filepath forhome homepath self new initializepath filepath homepath homepath awebdir instance able return list web page tains add following method webdir inspect return value verify work correctly webdir webpage self htmlfiles collect webpage webdir pathstring forhome homepath like webdir onpath webpage array webpage webpage string substitution s informative let s use regex actual file web page want strip away character path directory unix file directory end slash need delete slash file path thestring extension method copywithregex matchesreplacedwith doe want copywithregex elo matchesreplacedwith example regex elo match character e loro operator like kleene star match exactly oneor instance regex preceding match entire substring replay fresh string letter add following method verify work expected webpage filename path copywithregex matchesreplacedwith like test web site webdir onpath webpage collect filename extracting regex match task extract title html page need way content page straightforward add following method try webpage content filestream oldfileornonenamed path content actually problem web page contain acters case better following code webpage content filestream oldfileornonenamed path converter new content able like webdir onpath webpage content head title home page let s extract title case looking text occurs html tag title need way extract partof match regular expression subexpressions regexes delimited parenthesis consider regex caretaeiou aeiou consists subexpressions match sequence second match vowel operator caretat start bracketed set character negates set nb pharo caret return keyword write avoid confusion write caretwhen using caret regular expression negate set character forget actually thing try match prefixof string extract match caretaeiou aeiou asregex matchesprefix true subexpression subexpression subexpression successfully matching regex string send message subexpression extract entire match sendsubexpression n number subexpressions regex regex subexpressions numbered use trick extract title html file define following method webpage title title asregexignoringcase matchesprefix self content iftrue subexpression iffalse self filename untitled couple subtle point notice html doe care tag upper lower case make regex case sitive instantiating asregexignoringcase second dot match character exceptanewline regex tle work expected multiple line appear title regex alphanumeric match match character includingnewlines expect title possible contain newlines play trick subexpression test title extractor like webdir onpath webpage title page string substitution order generate site map need generate link individual web page use document title link just need generate right path web page root web site luckily trivial simple path web page minus path root directory web site watch thing homepath variable doe end append relative path doe include notice difference following result copywithregex matchesreplacedwith copywithregex matchesreplacedwith result absolute path probably want define following method webpage relativepath path copywithregex homepath matchesreplacedwith webpage link self relativepath self title able like webdir onpath webpage link home page generating site map actually regular expression need generate site map just need method complete application want site map generation just add following method web site subdirectory need way access webdir webdirs webdir directorynames collect webdir onpath webdir pathstring home homepath need generate html bullet list containing link web page web directory subdirectory indented bullet list webdir printtocon astream self htmlfiles ifnotempty astream nextputall ul cr self webpage astream nextputall li nextputall link figure asmallsitemap nextputall cr self webdirs printtocon astream astream nextputall cr create file called root web directory dump site map webdir tocfilename webdir maketoc tocstream tocstream webdir self tocfilename writestream self printtocon tocstream tocstream close generate table content arbitrary web directory webdir selecthome maketoc syntax closer look syntax regular expression ported regex package simplest regular expression single character match exactly character sequence character match string exactly sequence character matchesregex true matchesregex true regexsyntax matchesregex false operator applied regular expression produce complex ular expression sequencing placing expression operator certain sense invisible arguably common seen kleene star regular pression followed asterisk match number including match original expression example matchesregex b true matchesregex b true b matchesregex b true matchesregex b false b doe match kleene star higher precedence sequencing star applies shortest possible subexpression precedes example ab meansa followed zero occurrence b notzeroormoreoccurrencesof ab matchesregex true matchesregex false obtain regex match zeroormoreoccurrencesof ab enclose abin parenthesis matchesregex ab true matchesregex ab false c spoil fun useful operator similar instance regex modifies match zero instance matchesregex c true matchesregex false need b matchesregex true matchesregex c false b seen character special meaning regular expression need match literally escaped preceding backslash backslash special character need escaped literal match hold special character matchesregex false star right string special matchesregex true matchesregex true operator express choice subexpressions match string subexpressions match string lowest precedence lower sequencing example ab meansafollowedbyanynumberofb s orbfollowedbyanynumberof s matchesregex true matchesregex true matchesregex false bit complex example expression c match car cdr caar cadr function matchesregex c true matchesregex c true matchesregex c true possible write expression match string ple expression string error apply expression invalid far used character smallest component regular expression interesting component character set string character enclosed square bracket match single character appears bracket example match regexsyntax matchesregex true matchesregex false matchesregex false set match character using plus operator build following binary number recognizer matchesregex true matchesregex false character opening bracket caret set inverted match single character notappearing bracket matchesregex false matchesregex true convenience set include range pair character separated hyphen equivalent listing character special character set caret close set example literally match set matchesregex true caret start matchesregex true hyphen end matchesregex true closing bracket start universal set specified character class regular expression include following backquote escape fer popular class character match alphanumeric character match digit match whitespace variant match complementary character summary syntax seen far syntax represents literal match character match char newline group subexpression escape following special character x w s d w s d kleene star match previous regex zero time match previous regex time match previous regex zero time match choice left right regex abcd match choice character abcd match negated choice character match range character match alphanumeric match match digit match match space match mentioned introduction regular expression especially ful validating user input character class turn especially useful defining regexes example number matched regex matchesregex true matchesregex false better want specify number start digit matchesregex true matchesregex true matchesregex true matchesregex false leading check negative positive number matchesregex true regexsyntax matchesregex true matchesregex true matchesregex true matchesregex false negative zero matchesregex false leading zero floating point number require digit dot matchesregex true matchesregex true matchesregex true matchesregex true matchesregex false need digit dessert recognizer general number format like matchesregex true character class include following grep ments syntax represents alnum alphanumeric alpha alphabetic character cntrl control character ascii code digit decimal digit graph graphical character ascii code lower lowercase character print printable character graph punct punctuation character space whitespace character upper uppercase character xdigit hexadecimal character note element component character class enclosed extra set square bracket form valid regular expression example string digit represented digit primitive expression operator mon implementation regular expression matchesregex digit true special character class primitive expression unique smalltalk implementation sequence character colon treated unary selector supposed understood character character match expression answer true message selector allows readable efficient way specifying character class example equivalent isdigit efficient gously character set character class negated caretisdigit match character answer falsetoisdigit lent far seen following equivalent way write regular pression match string digit digit matchesregex true matchesregex true matchesregex true matchesregex digit true matchesregex isdigit true matching boundary group special primitive expression shown used match boundary string regexapi syntax represents caret match string beginning line match string end line match string word boundary match string word boundary match string beginning word match string end word world matchesregex true word boundary w world matchesregex false boundary o api focussed mainly syntax regexes closer look different message understood string regexes matching prefix ignoring case far example used string extension method esregex string understand following message prefixmatchesregex matchesregexignoringcase andprefixmatchesregexignoringcase message prefixmatchesregex just like matchesregex receiver expected match regular expression passed argument matching just prefix matchesregex false prefixmatchesregex true matchesregexignoringcase true matchesregexignoringcase false prefixmatchesregexignoringcase true enumeration interface application need access allmatches certain regular expression string match accessible using protocol modeled familiar collection enumeration protocol regex matchesdo evaluates ablock match regular expression receiver string list list orderedcollection new meet jill regex matchesdo word list add word list orderedcollection regex matchescollect evaluates ablock match regular expression receiver string collect sults answer sequenceablecollection meet jill regex matchescollect word word size orderedcollection allregexmatches return collection match substring ceiver string regular expression jill went hill allregexmatches orderedcollection replacement translation possible replace match regular expression certain string using message copywithregex matchesreplacedwith hate ignatz copywithregex lower matchesreplacedwith love ignatz general substitution match translation message evaluates block passing match regular expression receiver string answer copy receiver block result spliced place respective match love ignatz copywithregex matchestranslatedusing asuppercase love ignatz message enumeration replacement protocol perform sensitive match version provided string protocol instead accessible using matching face presented following section regexapi interface send message matchesregex string following pen fresh instance rxparser created regular expression string passed yielding expression s syntax tree syntax tree passed initialization parameter instance ofrxmatcher instance set data structure work recognizer regular expression described tree original string passed matcher matcher check match matcher repeatedly match number string regular pression using message defined string regular sion string parsed new matcher created match avoid overhead building matcher regular expression reusing matcher example create matcher class instance initialization stage store variable future use create matcher using following method send asregex orasregexignoringcase string directly invoke rxmatcher constructor method forstring orforstring ignorecase convenience method send matchesin collect match string octal octal asregex octal matchesin orderedcollection hex hex asregexignoringcase hex matchesin orderedcollection hex hex rxmatcher forstring ignorecase true hex matchesin orderedcollection matching matcher understands message return trueto indicate successful match search falseotherwise match astring true argument string astring match asregex match true matchesprefix astring true prefix argument string necessarily string match asregex matchesprefix hate krazy true search astring search string occurrence matching substring note method try matching beginning string using example matcher method answer success given string previous fail asregex search hate krazy true find matcher store outcome match attempt port lastresult answer boolean outcome recent match attempt match attempted answer unspecified number number asregex number search throw brick number lastresult true matchesstream matchesstreamprefix andsearchstream gous message take stream argument ignatz name ignatz readstream throw brick krazy name asregex name matchesstreamprefix ignatz true subexpression match successful match attempt query original string matched regex subexpression sized regular expression expression regular expression compiled subexpressions assigned index starting example regex subexpressions including regexapi complete expression parenthesized subexpression leaf subexpression second leaf subexpression highest valid index equal plus number matching s valid index parenthesized pressions successful match matcher report original string matched subexpression understands message subexpressioncount answer total number subexpressions est value used subexpression index matcher value available immediately initialization change subexpression take valid index argument sent successful match attempt method answer substring original string corresponding subexpression matched subbeginning andsubend answer position argument string stream given subexpression match started ended respectively item item asregex item search throw brick krazy item subexpressioncount item subexpression brick complete expression item subexpression brick subexpression item subexpression leaf subexpression item subexpression second leaf subexpression item subbeginning item subend item subbeginning item subend elaborate example following piece code us mmm dd yyyydate format recognizer convert date array year month day string date result date asregex result date match iftrue date subexpression date subexpression date subexpression iffalse match result enumeration replacement thestring enumeration replacement protocol saw earlier section actually implemented matcher rxmatcher plements following method iterating match string matchesin matchesin matchesin collect copy matcheswith andcopy translatingmatchesusing seuss awords seuss cat hat awords asregex match word awords matchesin seuss orderedcollection awords matchesin seuss collect asuppercase orderedcollection awords copy seuss replacingmatcheswith grinch grinch grinch awords copy seuss translatingmatchesusing asuppercase cat hat following method iterating match stream matchesonstream matchesonstream matchesonstream collect copystream replacingmatcheswith andcopystream ingmatchesusing error handling exception raised rxparser building regexes exception common parent regexerror use usual implementationnotesbyvassilibykov smalltalk exception handling mechanism catch handle raised syntax error detected parsing raised error detected matcher regexmatchingerror raised error occurs example bad selector specified using tor matcher s internal error asregex regexerror ex ex printstring nullable closure note vassili bykov look case method string regex need access package rxparser accepts string stream character regular sion produce syntax tree corresponding expression tree instance rxs class rxmatcher accepts syntax tree regular expression built parser compiles matcher structure instance rxm class therxmatcher instance test string positionable stream character match original regular expression search string stream substring matching expression match matcher report specific string matched expression parenthesized subexpression class support functionality used rxparser rxmatcher caveat matcher similar spirit notin design henry spencer s original regular expression implementation focus simplicity efficiency didn t optimize profile matcher pass spencer s test suite testsuite protocol quite extra test added chance good bug watch way acknowledgment release matcher thanks fellow smalltalkers convinced native smalltalk regular expression matcher worth effort alive vice encouragement release possible want thank lix hack eliot miranda robb shecter david smith francis wolinski haven t met heard agrees complete waste time summary regular expression essential tool manipulating string ial way chapter presented regex package pharo essential point chapter simple matching just send matchesregex string performance matter send asregex string representing regex reuse resulting matcher multiple match matching regex easily retrieved trary depth matching regex replace translate subexpressions new copy string matched enumeration interface provided access match certain regular expression work stream string classesandmetaclasses saw preceding chapter pharo object object instance class class exception class object class object instance class object model capture essence programming lean simple elegant uniform implication uniformity confuse er note need fully understand implication formity program fluently pharo goal chapter twofold deep possible plex magicor special just simple rule applied uniformly following rule understand situation way class metaclasses pharo object model based limited number concept applied uniformly refresh memory rule object model explored chapter pharo object model object object instance class class superclass happens sending message lookup follows inheritance chain mentioned introduction chapter consequence rule thatclassesareobjectstoo rule tell class figure sendingthemessage classtoasortedcollection stance class class class called metaclass metaclass ated automatically create class time need care think metaclasses time use browser browse classside class helpful recall actually browsing different class class metaclass separate class instance properly explain class metaclasses need extend rule chapter pharo object model following additional rule class instance metaclass metaclass hierarchy parallel class hierarchy metaclass inherits classandbehavior metaclass instance metaclass metaclass metaclass instance metaclass rule complete pharo s object model briefly revisit rule chapter pharo object model small example closer look new rule using example pharo object model rule object ordered collection pharo object everyclassisaninstanceofametaclass orderedcollection withall orderedcollection rule object instance class class ordered tion class orderedcollection orderedcollection withall class orderedcollection rule class superclass superclass orderedcollection issequenceablecollection superclass tioniscollection orderedcollection superclass sequenceablecollection sequenceablecollection superclass collection collection superclass object let example send message assortedcollection convert ordered collection sorted collection verify simply follows orderedcollection withall assortedcollection class sortedcollection rule happens sending messagess deduce withall message orderedcollection andassortedcollection message sent ordered collection instance superclass message orderedcollection andsequenceablecollection lection receiver case object object object class rule method lookup follows inheritance chain send message classto result orderedcollection withall assortedcollection message handled ing method class object shown figure class instance metaclass mentioned earlier section class instance self class called metaclasses metaclassesareimplicit metaclasses automatically created define class say areimplicitsince programmer worry figure themetaclassesof sortedcollection anditssuperclasses elided implicit metaclass created class create metaclass single instance ordinary class named metaclasses anonymous refer class instance class sortedcollection instance sortedcollection class class object isobject class sortedcollection class sortedcollection class object class object class fact metaclasses truly anonymous deduced single instance sortedcollection class class figure show class instance metaclass note skip sequenceablecollection andcollection figure explanation space constraint absence doe change overall meaning queryingmetaclasses fact class object make easy query sending message let s look orderedcollection subclass sortedcollection objectfinalizercollection weakorderedcollection ocliterallist glmmultivalue sortedcollection subclass themetaclasshierarchyparallelstheclasshierarchy figure themetaclasshierarchyparallelstheclasshierarchy elided sortedcollection allsuperclasses orderedcollection orderedcollection sequenceablecollection collection object protoobject sortedcollection instvarnames sortedcollection allinstvarnames sortedcollection selector indexforinserting sort addall resort sortblock copyempty addfirst insert defaultsort median add collect flatcollect sort join sortblock metaclass hierarchy parallel class hierarchy rule say superclass metaclass arbitrary class constrained metaclass superclass metaclass s unique instance sortedcollection class superclass orderedcollection class sortedcollection superclass class orderedcollection class mean metaclass hierarchy parallel class hierarchy figure show work sortedcollection archy sortedcollection class sortedcollection class sortedcollection class superclass orderedcollection class figure messagelookupforclassesisthesameasforordinaryobjects sortedcollection class superclass superclass sequenceablecollection class sortedcollection class superclass superclass superclass superclass object class uniformitybetweenclassesandobjects interesting step moment realize ence sending message object class case search corresponding method start classofthereceiver proceedsuptheinheritancechain message sent class follow metaclass inheritance chain consider example method withall implemented class collection send message withall class orderedcollection looked way sage lookup start orderedcollection class start class receiver receiver orderedcollection proceeds metaclass hierarchy collection class figure return new instance orderedcollection orderedcollection withall orderedcollection onlyonemethodlookup uniform kind method lookup pharo class just object behave like object class power create new instance class happen respond message new method newknows create new instance everymetaclassinheritsfrom classandbehavior figure classesareobjectstoo normally object understand message good reason stopping adding new method inspectingobjectsandclasses class object inspect inspect orderedcollection withall lection notice case inspecting instance tionand case orderedcollection class bit confusing title bar inspector name classof object inspected inspector orderedcollection allows superclass stance variable method dictionary orderedcollection class shown figure metaclass inherits classandbehavior metaclass kind class class single instance inherits turn inherits superclass description andbehavior pharo object class inherit eventually object complete picture figure whereis newdefined understand importance fact metaclasses inherit class andbehavior help ask newis defined figure metaclassesinheritfrom classandbehavior message newis sent class looked metaclass chain ultimately superclass class classdescription andbehavior shown figure question whereis newdefined crucial newis defined class behavior redefined subclass including metaclass class define necessary sagenewis sent class looked usual metaclass class continuing superclass chain right class behavior redefined way note result sending sortedcollection new instance sortedcollection andnotofbehavior method looked class behavior newalways return instance self class receives message implemented class sortedcollection new class sortedcollection behavior common mistake common mistake look newin superclass receiving class hold new standard message create object given size example array new creates array element method defined arrayor class instead look array class superclass lookup start figure everymetaclassinheritsfrom classandbehavior figure newisanordinarymessagelookedupinthemetaclasschain responsibilitiesof behavior classdescription andclass behavior provides minimum state necessary object stance includes superclass link method dictionary class format class format integer encodes distinction class distinction basic size stance behavior inherits object subclass behave like object behavior basic interface compiler provides method creating method dictionary compiling method creating instance new basicnew new andbasicnew manipulating class chy superclass addsubclass accessing method selector allselectors compiledmethodat accessing instance variable allinstances instvarnames accessing class hierarchy class subclass querying hasmethods includesselector canunderstand inheritsfrom isvariable classdescription abstract class provides facility needed direct subclass classandmetaclass add number facility base provided behavior named instance variable categorization method protocol maintenance change set logging change mechanism needed filing change classrepresents common behaviour class provides class compilation method method storage instance variable figure everymetaclassisa metaclass vides concrete representation class variable name shared pool variable addclassvarname addsharedpool initialize class class sole instance class metaclasses ultimately inherit class shown figure metaclass instance metaclass question left metaclasses object stance class metaclasses object instance class metaclass shown figure instance classmetaclass anonymous metaclasses exactly instance class metaclass represents common metaclass behaviour provides method instance creation subclassof creating initialized instance metaclass s sole instance initialization class variable metaclass instance method compilation class information inheritance link instance ables metaclass metaclass instance class final question answered class metaclass class answer simple metaclass instance class just like metaclasses figure themetaclassof metaclass isaninstanceof metaclass figure allmetaclassesareinstancesoftheclass metaclass eventhe metaclassof metaclass listing theclasshierarchy collection superclass object listing theparallelmetaclasshierarchy collection class superclass object class object class superclass superclass class nb skip protoobject class figure show metaclasses instance metaclass including metaclass metaclass compare figure metaclass hierarchy perfectly mirror class hierarchy way object class following example query class hierarchy demonstrate figure correct actually told white lie object class superclass protoobject class class pharo superclass higher reach class class superclass classdescription listing instancesofmetaclass collection class class metaclass listing metaclassclassisametaclass metaclass class class metaclass classdescription superclass behavior behavior superclass object object class class metaclass behavior class class metaclass metaclass superclass classdescription summary chapter gave look uniform object model thorough explanation class organized lost confused remember message passing key look method class receiver work anyreceiver method class receiver looked superclass class instance metaclass metaclasses implicit metaclass created automatically create class sole instance metaclass simply class unique instance class metaclass hierarchy parallel class hierarchy method lookup class parallel method lookup ordinary object follows metaclass s superclass chain metaclass inherits classandbehavior class isa class metaclasses class inherit provides behaviour common entity instance metaclass instance metaclass vides common classandmetaclass chaptersummary metaclass metaclass instance metaclass ofrelation form closed loop metaclass class class class